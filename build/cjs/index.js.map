{"version":3,"file":"index.js","mappings":"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","sources":["webpack://Gleap/webpack/universalModuleDefinition","webpack://Gleap/webpack/bootstrap","webpack://Gleap/webpack/runtime/define property getters","webpack://Gleap/webpack/runtime/hasOwnProperty shorthand","webpack://Gleap/./src/GleapFeedbackButtonManager.js","webpack://Gleap/./src/UI.js","webpack://Gleap/./src/GleapNetworkIntercepter.js","webpack://Gleap/./src/GleapHelper.js","webpack://Gleap/./src/ChecklistNetworkManager.js","webpack://Gleap/./node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","webpack://Gleap/./node_modules/@floating-ui/core/dist/floating-ui.core.mjs","webpack://Gleap/./node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","webpack://Gleap/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","webpack://Gleap/./src/GleapPageFilter.js","webpack://Gleap/./src/GleapTooltipManager.js","webpack://Gleap/./src/GleapSession.js","webpack://Gleap/./src/GleapStreamedEvent.js","webpack://Gleap/./src/GleapConfigManager.js","webpack://Gleap/./src/ScreenCapture.js","webpack://Gleap/./src/ResourceExclusionList.js","webpack://Gleap/./src/GleapScreenRecorder.js","webpack://Gleap/./src/GleapFeedback.js","webpack://Gleap/./src/GleapFrameManager.js","webpack://Gleap/./src/GleapMetaDataManager.js","webpack://Gleap/./src/GleapConsoleLogManager.js","webpack://Gleap/./src/GleapClickListener.js","webpack://Gleap/./src/GleapCustomDataManager.js","webpack://Gleap/./src/GleapEventManager.js","webpack://Gleap/./src/GleapCustomActionManager.js","webpack://Gleap/./node_modules/@rrweb/record/dist/record.js","webpack://Gleap/./src/GleapReplayRecorder.js","webpack://Gleap/./src/ScreenDrawer.js","webpack://Gleap/./src/GleapScrollStopper.js","webpack://Gleap/./src/GleapMarkerManager.js","webpack://Gleap/./src/GleapTranslationManager.js","webpack://Gleap/./src/GleapShortcutListener.js","webpack://Gleap/./src/GleapPreFillManager.js","webpack://Gleap/./src/GleapNotificationManager.js","webpack://Gleap/./src/GleapAiChatbarManager.js","webpack://Gleap/./src/GleapBannerManager.js","webpack://Gleap/./src/GleapModalManager.js","webpack://Gleap/./src/GleapAudioManager.js","webpack://Gleap/./src/GleapTagManager.js","webpack://Gleap/./src/unique-selector/src/getID.js","webpack://Gleap/./src/unique-selector/src/getClasses.js","webpack://Gleap/./src/unique-selector/src/getCombinations.js","webpack://Gleap/./src/unique-selector/src/isElement.js","webpack://Gleap/./src/unique-selector/src/getNthChild.js","webpack://Gleap/./src/unique-selector/src/getTag.js","webpack://Gleap/./src/unique-selector/src/isUnique.js","webpack://Gleap/./src/unique-selector/src/unique-selector.js","webpack://Gleap/./src/unique-selector/src/getAttributes.js","webpack://Gleap/./src/unique-selector/src/getParents.js","webpack://Gleap/./src/ElementPicker.js","webpack://Gleap/./src/GleapAdminHelper.js","webpack://Gleap/./src/GleapAdminManager.js","webpack://Gleap/./src/GleapTours.js","webpack://Gleap/./src/GleapCopilotTours.js","webpack://Gleap/./src/GleapProductTours.js","webpack://Gleap/./src/Gleap.js","webpack://Gleap/./src/GleapChecklist.js","webpack://Gleap/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Gleap\"] = factory();\n\telse\n\t\troot[\"Gleap\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import {\n  GleapFrameManager,\n  GleapConfigManager,\n  GleapNotificationManager,\n  GleapTranslationManager,\n  GleapAiChatbarManager,\n  GleapSession,\n} from './Gleap';\nimport { loadIcon } from './UI';\n\nexport default class GleapFeedbackButtonManager {\n  feedbackButton = null;\n  injectedFeedbackButton = false;\n  buttonHidden = null;\n  lastButtonIcon = null;\n  showingRedDot = false;\n\n  // Feedback button types\n  static FEEDBACK_BUTTON_BOTTOM_RIGHT = 'BOTTOM_RIGHT';\n  static FEEDBACK_BUTTON_BOTTOM_LEFT = 'BOTTOM_LEFT';\n  static FEEDBACK_BUTTON_CLASSIC = 'BUTTON_CLASSIC';\n  static FEEDBACK_BUTTON_CLASSIC_LEFT = 'BUTTON_CLASSIC_LEFT';\n  static FEEDBACK_BUTTON_CLASSIC_BOTTOM = 'BUTTON_CLASSIC_BOTTOM';\n  static FEEDBACK_BUTTON_NONE = 'BUTTON_NONE';\n\n  // GleapFeedbackButtonManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapFeedbackButtonManager();\n    }\n    return this.instance;\n  }\n\n  destroy() {\n    if (this.feedbackButton) {\n      this.feedbackButton.remove();\n      this.feedbackButton = null;\n    }\n\n    this.buttonHidden = null;\n    this.lastButtonIcon = null;\n    this.injectedFeedbackButton = false;\n    this.instance = null;\n  }\n\n  /**\n   * Toggles the feedback button visibility.\n   * @param {*} show\n   * @returns\n   */\n  toggleFeedbackButton(show) {\n    this.buttonHidden = !show;\n\n    GleapFeedbackButtonManager.getInstance().updateFeedbackButtonState();\n    GleapNotificationManager.getInstance().updateContainerStyle();\n  }\n\n  updateRedDot(show) {\n    var frameManager = GleapFrameManager.getInstance();\n    if (!this.feedbackButton || this.buttonHidden || frameManager.isOpened()) {\n      return;\n    }\n\n    const redDotClass = 'bb-feedback-button--red-dot';\n    const existingDot = this.feedbackButton.querySelector(`.${redDotClass}`);\n\n    if (show) {\n      if (!existingDot) {\n        const dot = document.createElement('div');\n        dot.className = redDotClass;\n        this.feedbackButton.appendChild(dot);\n      }\n    } else {\n      if (existingDot) {\n        existingDot.remove();\n      }\n    }\n  }\n\n  feedbackButtonPressed() {\n    var frameManager = GleapFrameManager.getInstance();\n    if (frameManager.isOpened()) {\n      frameManager.hideWidget();\n      this.updateRedDot(this.showingRedDot);\n    } else {\n      frameManager.setAppMode('widget');\n      frameManager.showWidget();\n      this.updateRedDot(false);\n    }\n  }\n\n  /**\n   * Injects the feedback button into the current DOM.\n   */\n  injectFeedbackButton() {\n    if (this.injectedFeedbackButton) {\n      return;\n    }\n    this.injectedFeedbackButton = true;\n\n    var elem = document.createElement('div');\n    elem.addEventListener('click', () => {\n      this.feedbackButtonPressed();\n    });\n    document.body.appendChild(elem);\n    this.feedbackButton = elem;\n\n    this.updateFeedbackButtonState();\n  }\n\n  updateNotificationBadge(count) {\n    const notificationBadge = document.querySelector('.bb-notification-bubble');\n    if (!notificationBadge) {\n      return;\n    }\n\n    const notificationHiddenClass = 'bb-notification-bubble--hidden';\n    if (count > 0 && !GleapFrameManager.getInstance().isOpened()) {\n      notificationBadge.classList.remove(notificationHiddenClass);\n      notificationBadge.innerText = count;\n    } else {\n      notificationBadge.classList.add(notificationHiddenClass);\n    }\n  }\n\n  refresh() {\n    const feedbackButton = document.querySelector('.bb-feedback-button');\n    if (feedbackButton) {\n      this.updateFeedbackButtonText();\n      this.updateFeedbackButtonState();\n    } else {\n      this.injectedFeedbackButton = false;\n      this.feedbackButton = null;\n      this.buttonHidden = null;\n      this.lastButtonIcon = null;\n      this.injectFeedbackButton();\n    }\n  }\n\n  updateFeedbackButtonText() {\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n\n    if (\n      !(\n        flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC ||\n        flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_BOTTOM ||\n        flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_LEFT\n      )\n    ) {\n      return;\n    }\n\n    const feedbackButton = document.querySelector('.bb-feedback-button-classic');\n    if (!feedbackButton) {\n      return;\n    }\n\n    feedbackButton.innerText = flowConfig.widgetButtonText;\n  }\n\n  /**\n   * Updates the feedback button state\n   * @returns\n   */\n  updateFeedbackButtonState() {\n    GleapAiChatbarManager.getInstance().updateUIVisibility();\n\n    if (this.feedbackButton === null) {\n      return;\n    }\n\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n\n    var buttonIcon = '';\n    if (flowConfig.buttonLogo) {\n      buttonIcon = `<img class=\"bb-logo-logo\" src=\"${flowConfig.buttonLogo}\" alt=\"Feedback Button\" />`;\n    } else {\n      buttonIcon = loadIcon('button', '#fff');\n    }\n\n    this.feedbackButton.className = 'bb-feedback-button gleap-font gl-block';\n    this.feedbackButton.setAttribute('dir', GleapTranslationManager.getInstance().isRTLLayout ? 'rtl' : 'ltr');\n\n    if (\n      flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC ||\n      flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_BOTTOM ||\n      flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_LEFT\n    ) {\n      this.feedbackButton.classList.add('bb-feedback-button--classic-button-style');\n\n      this.feedbackButton.innerHTML = `<div class=\"bb-feedback-button-classic ${\n        flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_LEFT\n          ? 'bb-feedback-button-classic--left'\n          : ''\n      }${\n        flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_BOTTOM\n          ? 'bb-feedback-button-classic--bottom'\n          : ''\n      }\">${flowConfig.widgetButtonText}</div>`;\n    } else {\n      if (buttonIcon !== this.lastButtonIcon) {\n        this.feedbackButton.innerHTML = `<div class=\"bb-feedback-button-icon\">${buttonIcon}${loadIcon(\n          'arrowdown',\n          '#fff'\n        )}</div><div class=\"bb-notification-bubble bb-notification-bubble--hidden\"></div>`;\n      }\n    }\n\n    // Prevent dom update if not needed.\n    this.lastButtonIcon = buttonIcon;\n\n    var hideButton = false;\n    if (GleapFeedbackButtonManager.getInstance().buttonHidden === null) {\n      if (flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_NONE) {\n        hideButton = true;\n      }\n    } else {\n      if (GleapFeedbackButtonManager.getInstance().buttonHidden) {\n        hideButton = true;\n      }\n    }\n    if (hideButton) {\n      this.feedbackButton.classList.add('bb-feedback-button--disabled');\n    }\n\n    if (flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_BOTTOM_LEFT) {\n      this.feedbackButton.classList.add('bb-feedback-button--bottomleft');\n    }\n\n    if (GleapFrameManager.getInstance().isOpened()) {\n      this.feedbackButton.classList.add('bb-feedback-button--open');\n    }\n\n    const appMode = GleapFrameManager.getInstance().appMode;\n    if (appMode === 'survey' || appMode === 'survey_full' || appMode === 'survey_web') {\n      this.feedbackButton.classList.add('bb-feedback-button--survey');\n    }\n\n    if (flowConfig.hideForGuests === true && !GleapSession.getInstance().isUser()) {\n      this.feedbackButton.classList.add('bb-feedback-button--hidden');\n    }\n  }\n}\n","import GleapFeedbackButtonManager from './GleapFeedbackButtonManager';\n\nconst calculateShadeColor = function (col, amt) {\n  col = col.replace(/^#/, '');\n  if (col.length === 3) col = col[0] + col[0] + col[1] + col[1] + col[2] + col[2];\n\n  let [r, g, b] = col.match(/.{2}/g);\n  [r, g, b] = [parseInt(r, 16) + amt, parseInt(g, 16) + amt, parseInt(b, 16) + amt];\n\n  r = Math.max(Math.min(255, r), 0).toString(16);\n  g = Math.max(Math.min(255, g), 0).toString(16);\n  b = Math.max(Math.min(255, b), 0).toString(16);\n\n  const rr = (r.length < 2 ? '0' : '') + r;\n  const gg = (g.length < 2 ? '0' : '') + g;\n  const bb = (b.length < 2 ? '0' : '') + b;\n\n  return `#${rr}${gg}${bb}`;\n};\n\nexport const calculateContrast = (hex) => {\n  var r = parseInt(hex.substr(1, 2), 16),\n    g = parseInt(hex.substr(3, 2), 16),\n    b = parseInt(hex.substr(5, 2), 16),\n    yiq = (r * 299 + g * 587 + b * 114) / 1000;\n  return yiq >= 160 ? '#000000' : '#ffffff';\n};\n\nexport const widgetMaxHeight = 700;\n\nexport const injectStyledCSS = (\n  primaryColor,\n  headerColor,\n  buttonColor,\n  borderRadius,\n  backgroundColor,\n  buttonX,\n  buttonY,\n  buttonStyle\n) => {\n  const contrastColor = calculateContrast(primaryColor);\n  const contrastButtonColor = calculateContrast(buttonColor);\n  const contrastBackgroundColor = calculateContrast(backgroundColor);\n  const contrastHeaderColor = calculateContrast(headerColor);\n  const isDarkMode = contrastBackgroundColor === '#ffffff';\n  const headerDarkColor = calculateShadeColor(headerColor, contrastHeaderColor === '#ffffff' ? -35 : -15);\n  const subTextColor = isDarkMode ? calculateShadeColor(backgroundColor, 100) : calculateShadeColor(backgroundColor, -120);\n  const backgroundColorHover = isDarkMode\n    ? calculateShadeColor(backgroundColor, 30)\n    : calculateShadeColor(backgroundColor, -12);\n  const hoverHoverColor = isDarkMode ? calculateShadeColor(backgroundColor, 80) : calculateShadeColor(backgroundColor, -30);\n\n  var borderRadius = parseInt(borderRadius, 10);\n  const buttonBorderRadius = Math.round(borderRadius * 1.05);\n  const containerRadius = Math.round(borderRadius * 0.8);\n  const chatRadius = Math.round(borderRadius * 0.6);\n  const formItemBorderRadius = Math.round(borderRadius * 0.4);\n  const formItemSmallBorderRadius = Math.round(borderRadius * 0.25);\n  const zIndexBase = 2147483600;\n\n  var bottomInfoOffset = 57 + buttonY;\n  if (buttonStyle === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_BOTTOM) {\n    bottomInfoOffset = buttonY + 15;\n  } else if (buttonStyle && buttonStyle.includes('CLASSIC')) {\n    bottomInfoOffset = buttonY;\n  } else if (buttonStyle === GleapFeedbackButtonManager.FEEDBACK_BUTTON_NONE) {\n    bottomInfoOffset = buttonY;\n  }\n\n  const colorStyleSheet = `\n    .gleap-font, .gleap-font * {\n      font-style: normal;\n      font-variant-caps: normal;\n      font-variant-ligatures: normal;\n      font-variant-numeric: normal;\n      font-variant-east-asian: normal;\n      font-weight: normal;\n      font-stretch: normal;\n      font-size: 100%;\n      line-height: 1;\n      font-family: system-ui, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n    }\n    .gleap-ai-ui-widget {\n      display: none;\n    }\n    .gleap-input-highlight {\n      box-shadow: 0 0 0 3px ${primaryColor} !important;\n    }\n    .gleap-frame-container {\n      right: ${buttonX}px;\n      bottom: ${61 + buttonY}px;\n      width: calc(100% - 40px);\n      max-width: 410px;\n      position: fixed;\n      z-index: ${zIndexBase + 31};\n      visibility: visible;\n      box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.16);\n      border-radius: ${containerRadius}px;\n      overflow: hidden;\n      animation-duration: .3s;\n      animation-fill-mode: both;\n      animation-name: gleapFadeInUp;\n      user-select: none;\n      pointer-events: none;\n      transition: max-width 0.3s ease-out;\n    }\n\n    .gleap-admin-highlight {\n      box-shadow: 0px 0px 0px 4px red;\n    }\n\n    :root {\n      --gleap-margin-top: 50px;\n    }\n\n    .gleap-tooltip-anchor {\n      position: relative;\n      display: inline-block;\n      float: left;\n      max-width: 0px;\n      width: 17px;\n    }\n\n    .gleap-tooltip-hotspot {\n      position: absolute;\n      display: block;\n      width: 17px;\n      height: 17px;\n      cursor: pointer;\n      top: 0px;\n      left: 0px;\n    }\n\n    @keyframes gleap-pulse {\n      0% {\n        transform: scale(0);\n        opacity: 0.25;\n      }\n      45% {\n        transform: scale(2.5);\n        opacity: 0;\n      }\n      100% {\n        transform: scale(0);\n        opacity: 0;\n      }\n    }\n\n    .gleap-tooltip-hotspot-animation {\n      position: absolute;\n      border-radius: 17px;\n      opacity: 0.25;\n      display: block;\n      width: 17px;\n      height: 17px;\n      cursor: pointer;\n      top: 0px;\n      left: 0px;\n      animation: gleap-pulse 5s infinite;\n    }\n\n    .gleap-tooltip-hotspot svg {\n      width: 17px;\n      height: 17px;\n      object-fit: contain;\n      display: block;\n    }\n\n    .gleap-tooltip-inner {\n      position: relative;\n      overflow: visible;\n      font-size: 14px;\n      font-weight: normal;\n      color: #000;\n      line-height: 1.3;\n    }\n\n    .gleap-tooltip {\n      position: absolute;\n      background-color: #fff;\n      color: #000;\n      font-size: 15px;\n      line-height: 18px;\n      padding: 16px;\n      padding-top: 8px;\n      padding-bottom: 8px;\n      border-radius: 4px;\n      max-width: min(350px, 80vw);\n      box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.2);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.2s, visibility 0.2s;\n      z-index: ${zIndexBase + 100};\n    }\n\n    .gleap-tooltip a {\n      color: ${primaryColor};\n      text-decoration: underline;\n      display: inline !important;\n      margin: 0px !important;\n      padding: 0px !important;\n      word-break: break-word;\n    }\n\n    .gleap-tooltip ul {\n      padding-left: 16px;\n    }\n\n    .gleap-tooltip b {\n      font-weight: 600;\n    }\n\n    .gleap-tooltip h2 {\n      font-size: 18px;\n      line-height: 20px;\n      font-weight: 600;\n      margin-top: 8px;\n      margin-bottom: 8px;\n    }\n\n    .gleap-tooltip h3 {\n      font-size: 16px;\n      line-height: 18px;\n      font-weight: 600;\n      margin-top: 8px;\n      margin-bottom: 8px;\n    }\n\n    .gleap-tooltip p {\n      padding: 0px;\n      margin-top: 8px;\n      margin-bottom: 8px;\n    }\n\n    .gleap-tooltip img {\n      max-width: 100%;\n      max-height: 300px;\n      width: 100%;\n      height: auto;\n      object-fit: cover;\n      margin-top: 8px;\n      margin-bottom: 8px;\n      border-radius: 4px;\n    }\n\n    .gleap-tooltip iframe,\n    .gleap-tooltip video {\n      max-width: 100%;\n      width: 100%;\n      height: auto;\n      min-height: 200px;\n      display: block;\n      border: none;\n      outline: none;\n      padding: 0px;\n      margin-top: 8px;\n      margin-bottom: 8px;\n      border-radius: 4px;\n    }\n\n    .gleap-tooltip-arrow {\n      position: absolute;\n      width: 20px;\n      height: 20px;\n    }\n\n    .gleap-tooltip-arrow svg {\n      width: 20px;\n      height: 20px;\n      object-fit: contain;\n    }\n\n    .gleap-b-frame {\n      width: 100%;\n      height: 100%;\n      border: none;\n      pointer-events: auto;\n      padding: 0px;\n      margin: 0px;\n    }\n\n    .gleap-b-shown {\n      transition: margin 0.3s ease-out;\n      margin-top: var(--gleap-margin-top);\n      position: relative;\n      z-index: 10000;\n    }\n\n    .gleap-b-f {\n      margin-top: 0px;\n    }\n\n    .gleap-b {\n      display: none;\n      position: absolute;\n      top: calc(-1 * var(--gleap-margin-top));\n      left: 0px;\n      width: 100vw;\n      height: var(--gleap-margin-top);\n      z-index: ${zIndexBase + 99};\n    }\n\n    @keyframes gleapSlideIn {\n      from {\n          top: calc(-1 * var(--gleap-margin-top));\n      }\n      to {\n          top: 10px;\n      }\n    }\n\n    .gleap-b-f .gleap-b {\n      position: fixed;\n      top: 10px;\n      animation: gleapSlideIn .25s ease-out forwards;\n      max-width: 800px;\n      width: calc(100% - 20px);\n      left: 50%;\n      z-index: ${zIndexBase + 99};\n      transform: translateX(-50%);\n      border-radius: ${formItemBorderRadius}px;\n      overflow: hidden;\n      box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.15), 0px 5px 5px rgba(0, 0, 0, 0.05);\n    }\n\n    .gleap-b-shown .gleap-b {\n      display: block;\n    }\n\n    .gleap-image-view {\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      width: 100vw;\n      height: 100vh;\n      z-index: ${zIndexBase + 99};\n      background-color: ${contrastBackgroundColor}cc;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .gleap-image-view-image {\n      width: 90%;\n      height: auto;\n      max-width: 90%;\n      max-height: 90%;\n      object-fit: contain;\n    }\n\n    .gleap-image-view-close {\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      width: 32px;\n      height: 32px;\n      opacity: 0.8;\n      z-index: ${zIndexBase + 140};\n      box-shadow: 0px 5px 18px rgba(0, 0, 0, 0.16);\n      cursor: pointer;\n    }\n\n    .gleap-image-view-close:hover {\n      opacity: 1;\n    }\n\n    .gleap-image-view-close svg path {\n      fill: ${backgroundColor};\n    }\n\n    [dir=rtl].gleap-frame-container {\n      right: auto;\n      left: ${buttonX}px;\n      bottom: ${61 + buttonY}px;\n    }\n\n    .gleap-frame-container--loading iframe {\n      opacity: 0;\n    }\n\n    .gleap-frame-container--loading::before {\n      content: \" \";\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      right: 0px;\n      height: 100%;\n      max-height: 380px;\n      background: linear-gradient(\n        130deg,\n        ${headerDarkColor} 0%,\n        ${headerColor} 100%\n      );\n    }\n    \n    .gleap-frame-container--loading::after {\n      content: \" \";\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      right: 0px;\n      height: 100%;\n      height: 100%;\n      max-height: 380px;\n      background: linear-gradient(\n        180deg,\n        transparent 60%,\n        ${backgroundColor}1A 70%,\n        ${backgroundColor} 100%\n      );\n    }\n\n    .gleap-frame-container--loading-nogradient::before {\n      max-height: 340px;\n      background: ${headerColor} !important;\n    }\n\n    .gleap-frame-container--loading-nofade::after {\n      display: none !important;\n    }\n\n    .gleap-frame-container--survey {\n      bottom: ${buttonY}px !important;\n    }\n\n    .gleap-frame-container--extended {\n      max-width: 690px !important;\n    }\n\n    .gleap-frame-container--survey-full {\n      position: fixed;\n      top: 0 !important;\n      left: 0 !important;\n      bottom: 0 !important;\n      right: 0 !important;\n      width: 100vw !important;\n      max-width: 100vw !important;\n      height: 100vh;\n      height: 100dvh !important;\n      background-color: rgba(0, 0, 0, 0.5);\n      backdrop-filter: blur(6px);\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      max-height: 100vh;\n      max-height: 100dvh !important;\n      border-radius: 0 !important;\n      animation-name: none !important;\n    }\n\n    .gleap-frame-container--survey-full .gleap-frame-container-inner {\n      max-width: 640px !important;\n      width: calc(100% - 24px);\n      border-radius: ${containerRadius}px;\n      overflow: hidden;\n    }\n\n    .gleap-frame-container--classic {\n      right: ${buttonX}px;\n      bottom: ${buttonY}px;\n    }\n\n    [dir=rtl].gleap-frame-container--classic {\n      right: auto;\n      left: ${buttonX}px;\n      bottom: ${buttonY}px;\n    }\n\n    .gleap-frame-container--no-button {\n      bottom: ${buttonY}px;\n    }\n\n    [dir=rtl].gleap-frame-container--classic-left {\n      bottom: ${buttonY}px;\n    }\n\n    .gleap-frame-container--classic-left {\n      right: auto;\n      left: ${buttonX}px;\n      bottom: ${buttonY}px;\n    }\n\n    [dir=rtl].gleap-frame-container--classic-left {\n      left: auto;\n      right: ${buttonX}px;\n      bottom: ${buttonY}px;\n    }\n\n    .gleap-frame-container--modern-left {\n      right: auto;\n      left: ${buttonX}px;\n      bottom: ${61 + buttonY}px;\n    }\n\n    [dir=rtl].gleap-frame-container--modern-left {\n      left: auto;\n      right: ${buttonX}px;\n      bottom: ${61 + buttonY}px;\n    }\n\n    .gleap-frame-container--animate {\n      pointer-events: auto !important;\n    }\n\n    @keyframes gleapFadeInUp {\n      from {\n          opacity: 0;\n          transform: translate3d(0, 100%, 0);\n      }\n      to {\n          opacity: 1;\n          transform: translate3d(0, 0, 0);\n      }\n    }\n\n    @keyframes gleapFadeInUpMobile {\n      from {\n          opacity: 0;\n          transform: translate3d(0, 10%, 0);\n      }\n      to {\n          opacity: 1;\n          transform: translate3d(0, 0, 0);\n      }\n    }\n\n    .gleap-notification-container {\n      position: fixed;\n      bottom: ${bottomInfoOffset}px;\n      right: ${buttonX}px;\n      z-index: ${zIndexBase + 30};\n      display: flex;\n      flex-direction: column;\n      align-items: flex-end;\n      width: 100%;\n      max-width: min(340px, 80vw);\n    }\n\n    .gleap-notification-container--left {\n      left: ${4 + buttonX}px;\n      right: initial !important;\n    }\n\n    [dir=rtl].gleap-notification-container {\n      left: ${4 + buttonX}px;\n      right: initial !important;\n    }\n\n    [dir=rtl].gleap-notification-container--left {\n      left: initial !important;\n      right: ${buttonX}px !important;\n      align-items: flex-start !important;\n    }\n\n    .gleap-notification-container--no-button {\n      bottom: ${buttonY}px;\n    }\n\n    .gleap-notification-item {\n      animation-duration: 0.7s;\n      animation-fill-mode: both;\n      animation-name: bbFadeInOpacity;\n    }\n\n    .gleap-notification-close {\n      border-radius: 100%;\n      width: 28px;\n      height: 28px;\n      background-color: ${subTextColor};\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin-bottom: 8px;\n      cursor: pointer;\n      visibility: hidden;\n      pointer-events: none;\n    }\n\n    .gleap-notification-container:hover .gleap-notification-close {\n      visibility: visible;\n      pointer-events: auto;\n      animation-duration: 0.7s;\n      animation-fill-mode: both;\n      animation-name: bbFadeInOpacity;\n    }\n\n    @media only screen and (max-width: 450px) {\n      .gleap-notification-close {\n        visibility: visible;\n        pointer-events: auto;\n        animation-duration: 0.7s;\n        animation-fill-mode: both;\n        animation-name: bbFadeInOpacity;\n      }\n    }\n\n    .gleap-notification-close svg {\n      width: 45%;\n      height: 45%;\n      object-fit: contain;\n      fill: ${backgroundColor};\n    }\n\n    .gleap-notification-item-checklist-container {\n      display: flex;\n      animation: fadeIn;\n      animation-duration: .45s;\n      background-color: ${backgroundColor};\n      border-radius: ${subTextColor};\n      box-sizing: border-box;\n      cursor: pointer;\n      flex-direction: column;\n      overflow: hidden;\n      box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.2);\n      border-radius: ${chatRadius}px;\n      margin-bottom: 12px;\n    }\n\n    .gleap-notification-item-checklist-content {\n      align-items: flex-start;\n      display: flex;\n      flex-direction: column;\n      padding: 15px;\n      width: 100%;\n      width: min(310px, 70vw);\n      max-width: min(310px, 70vw);\n    }\n\n    .gleap-notification-item-checklist-content-title {\n      color: ${contrastBackgroundColor};\n      font-size: 15px;\n      font-weight: 500;\n      line-height: 21px;\n      margin-bottom: 10px;\n      max-width: 100%;\n      -webkit-line-clamp: 3;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n    }\n\n    .gleap-notification-item-checklist-content-progress {\n      width: 100%;\n      height: 8px;\n      border-radius: 8px;\n      background-color: ${backgroundColorHover};\n    }\n\n    .gleap-notification-item-checklist-content-progress-inner {\n      height: 100%;\n      border-radius: 8px;\n      background-color: ${primaryColor};\n    }\n\n    .gleap-notification-item-checklist-content-next {\n      color: ${subTextColor};\n      font-size: 15px;\n      font-weight: normal;\n      line-height: 21px;\n      margin-top: 10px;\n      max-width: 100%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      display: flex;\n      align-items: center;\n    }\n\n    .gleap-notification-item-checklist-content-next svg {\n      height: 18px;\n      margin-right: 5px;\n      width: auto;\n    }\n\n    .gleap-notification-item-checklist-content-next b {\n      font-size: 15px;\n      font-weight: normal;\n      color: ${contrastBackgroundColor};\n    }\n\n    .gleap-notification-item-news {\n      width: 100%;\n    }\n\n    .gleap-news-pagination {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-top: 10px;\n      width: 100%;\n    }\n\n    .gleap-news-page-indicator {\n      font-size: 12px;\n      color: ${subTextColor};\n    }\n\n    .gleap-news-next-button {\n      background-color: ${primaryColor};\n      color: ${contrastColor};\n      border-radius: ${formItemSmallBorderRadius}px;\n      box-sizing: border-box;\n      padding: 5px 10px;\n      font-size: 14px;\n      font-weight: bold;\n      line-height: 21px;\n      border: none;\n      text-align: center;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      box-shadow: none !important;\n      outline: none !important;^\n    }\n\n    .gleap-notification-item-news-content {\n      align-items: flex-start;\n      display: flex;\n      flex-direction: column;\n      padding: 15px;\n    }\n\n    .gleap-notification-item-news-preview {\n      color: ${subTextColor};\n      font-size: 14px;\n      line-height: 21px;\n      font-weight: 400;\n      overflow-wrap: break-word;\n      word-break: break-word;\n      display: block;\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n    }\n\n    .gleap-notification-item-news-sender {\n      display: flex;\n      align-items: center;\n      color: ${subTextColor};\n      font-size: 15px;\n      line-height: 21px;\n      font-weight: 400;\n    }\n    \n    .gleap-notification-item-news-content-title {\n      color: ${contrastBackgroundColor};\n      font-size: 15px;\n      font-weight: 500;\n      line-height: 21px;\n      margin-bottom: 6px;\n      max-width: 100%;\n      -webkit-line-clamp: 3;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      cursor: pointer;\n    }\n\n    .gleap-notification-item-news-sender img {\n      border-radius: 100%;\n      height: 20px;\n      margin-right: 8px;\n      object-fit: cover;\n      width: 20px;\n    }\n\n    [dir=rtl] .gleap-notification-item-news-sender img {\n      margin-left: 8px;\n      margin-right: 0px !important;\n    }\n\n    .gleap-notification-item-news-container {\n      display: flex;\n      animation: fadeIn;\n      animation-duration: .45s;\n      background-color: ${backgroundColor};\n      border-radius: ${subTextColor};\n      box-sizing: border-box;\n      flex-direction: column;\n      overflow: hidden;\n      box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.2);\n      border-radius: ${chatRadius}px;\n      margin-bottom: 12px;\n    }\n\n    .gleap-notification-item-news-image {\n      background-color: ${subTextColor};\n      height: 170px;\n      max-height: 170px;\n      object-fit: cover;\n      width: 100%;\n      cursor: pointer;\n    }\n      \n    .gleap-notification-item-news-content-title:hover {\n      color: ${primaryColor};\n    }\n\n    .gleap-notification-item {\n      display: flex;\n      align-items: flex-end;\n      cursor: pointer;\n    }\n\n    .gleap-notification-item img {\n      width: 32px;\n      height: 32px;\n      min-width: 32px;\n      border-radius: 100%;\n      object-fit: cover;\n      margin-right: 8px;\n      margin-bottom: 12px;\n      cursor: pointer;\n    }\n\n    [dir=rtl] .gleap-notification-item img {\n      margin-left: 8px;\n      margin-right: 0px !important;\n    }\n\n    .gleap-notification-item-container {\n      box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.2);\n      border-radius: ${chatRadius}px;\n      border-bottom-left-radius: 0px;\n      padding: 20px;\n      background-color: ${backgroundColor};\n      margin-bottom: 12px;\n      cursor: pointer;\n      font-size: 15px;\n      line-height: 21px;\n      color: ${contrastBackgroundColor};\n      position: relative;\n    }\n\n    .gleap-notification-item-container::after {\n      content: \" \";\n      position: absolute;\n      bottom: 0px;\n      width: 0px;\n      height: 0px;\n      left: -6px;\n      border-style: solid;\n      border-width: 0px 0px 10px 6px;\n      border-color: transparent transparent ${backgroundColor};\n    }\n\n    .gleap-notification-item-sender {\n      color: ${subTextColor};\n      line-height: 20px;\n    }\n\n    .gleap-notification-item-content {\n      line-height: 20px;\n      color: ${contrastBackgroundColor};\n      margin-top: 4px;\n      min-width: min(200px, 50vw);\n      word-wrap: break-word;\n      word-break: break-word;\n    }\n\n    .gleap-frame-container-inner {\n      position: relative;\n      width: 100%;\n      height: calc(100vh - ${84 + buttonY}px);\n      max-height: ${widgetMaxHeight}px;\n    }\n\n    .gleap-frame-container--survey .gleap-frame-container-inner {\n      height: calc(100vh - 40px);\n    }\n    \n    .gleap-frame-container-inner:before {\n      content: \" \";\n      position: absolute;\n      width: 100%;\n      height: calc(100% - ${containerRadius}px);\n      top: ${containerRadius}px;\n      background-color: ${backgroundColor};\n      z-index: -1;\n    }\n    \n    .gleap-frame-container iframe {\n      height: 100% !important;\n      width: 100% !important;\n      max-width: 100% !important;\n      display: block !important;\n      pointer-events: auto !important;\n    }\n    \n    .gleap-frame-container--hidden {\n      display: none !important;\n      pointer-events: none;\n      animation: none !important;\n    }\n    \n    .bb-feedback-button {\n      margin: 0px;\n      position: fixed;\n      bottom: ${buttonY}px;\n      right: ${buttonX}px;\n      border-radius: 30px;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      background-color: transparent;\n      color: #000000;\n      z-index: ${zIndexBase + 30};\n      box-sizing: border-box;\n      display: flex;\n      align-items: center;\n      padding: 0px;\n    }\n\n    @keyframes bbRedDotPulse {\n      0% {\n        opacity: 1;\n      }\n      50% {\n        opacity: 0.8;\n      }\n      100% {\n        opacity: 1;\n      }\n    }\n\n    .bb-feedback-button--red-dot {\n      position: absolute;\n      top: 0px;\n      right: 0px;\n      width: 14px;\n      height: 14px;\n      border-radius: 50%;\n      background-color: #ff3b30;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n      z-index: ${zIndexBase + 31};\n      animation: bbRedDotPulse 2s ease-in-out infinite;\n    }\n\n    [dir=rtl].bb-feedback-button {\n      bottom: ${buttonY}px;\n      right: auto;\n      left: ${buttonX}px;\n    }\n    \n    .bb-feedback-button--bottomleft {\n      bottom: ${buttonY}px;\n      right: auto;\n      left: ${buttonX}px;\n    }\n\n    [dir=rtl].bb-feedback-button--bottomleft {\n      bottom: ${buttonY}px;\n      right: ${buttonX}px;\n      left: auto;\n    }\n    \n    .bb-feedback-button--disabled {\n      display: none !important;\n    }\n\n    .bb-feedback-button--hidden {\n      display: none !important;\n    }\n    \n    .bb-feedback-button-text {\n      padding: 8px 12px;\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      justify-content: center;\n      background-color: #fff;\n      border-radius: 8px;\n      box-shadow: 0px 0px 14px 0px rgba(0, 0, 0, 0.15);\n      position: relative;\n      z-index: 99;\n    }\n    \n    .bb-feedback-button-text:before {\n      content: \"\";\n      position: absolute;\n      box-shadow: rgba(0, 0, 0, 0.04) 6px 6px 5px;\n      transform: rotate(315deg);\n      bottom: 16px;\n      right: -4px;\n      border-width: 10px;\n      border-style: solid;\n      border-color: transparent #fff #fff transparent;\n    }\n    \n    .bb-feedback-button--bottomleft .bb-feedback-button-text:before {\n      display: none;\n    }\n    \n    .bb-feedback-button-text:after {\n      content: \"\";\n      position: absolute;\n      bottom: 12px;\n      right: 0px;\n      background-color: #fff;\n      width: 5px;\n      height: 30px;\n    }\n    \n    .bb-feedback-button-text-title {\n      font-family: sans-serif;\n      font-size: 14px;\n      color: #666;\n      line-height: 18px;\n      max-width: 220px;\n    }\n    \n    .bb-feedback-button-text-title b {\n      color: #000000;\n      font-weight: 600;\n    }\n\n    .bb-notification-bubble {\n      position: absolute;\n      top: -5px;\n      right: -5px;\n      min-width: 12px;\n      padding: 0px 4px;\n      height: 20px;\n      min-width: 20px;\n      border-radius: 20px;\n      background-color: red;\n      color: #fff;\n      font-size: 11px;\n      font-family: sans-serif;\n      text-align: center;\n      line-height: 20px;\n    }\n\n    .bb-notification-bubble--hidden {\n      display: none;\n    }\n    \n    .bb-feedback-button-icon {\n      width: 48px;\n      height: 48px;\n      border-radius: 48px;\n      background-color: #485bff;\n      transition: box-shadow, transform 0.2s ease-in-out;\n      box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.15), 0px 0px 20px rgba(0, 0, 0, 0.1);\n      position: relative;\n    }\n    \n    .bb-feedback-button-classic {\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      top: 50%;\n      right: 0px;\n      position: fixed;\n      transform: rotate(-90deg) translate(50%, -50%);\n      transform-origin: 100% 50%;\n      padding: 9px 20px;\n      text-align: center;\n      background-color: #485bff;\n      border-top-left-radius: 8px;\n      border-top-right-radius: 8px;\n      font-family: sans-serif;\n      font-size: 16px;\n      color: #fff;\n      box-shadow: 0px 0px 14px 0px rgba(0, 0, 0, 0.25);\n    }\n\n    [dir=rtl].bb-feedback-button .bb-feedback-button-classic {\n      top: 50%;\n      left: 0px;\n      right: auto;\n      transform: rotate(90deg) translate(-50%, -100%);\n      transform-origin: 0% 0%;\n    }\n    \n    .bb-feedback-button-classic--left {\n      top: 50%;\n      left: 0px;\n      right: auto;\n      transform: rotate(90deg) translate(-50%, -100%);\n      transform-origin: 0% 0%;\n    }\n\n    [dir=rtl].bb-feedback-button .bb-feedback-button-classic--left {\n      top: 50%;\n      right: 0px;\n      left: auto;\n      transform: rotate(-90deg) translate(50%, -50%);\n      transform-origin: 100% 50%;\n    }\n    \n    .bb-feedback-button-classic--bottom {\n      top: auto;\n      bottom: 0px;\n      transform: none;\n      right: ${buttonX}px;\n      left: auto;\n    }\n    \n    [dir=rtl].bb-feedback-button .bb-feedback-button-classic--bottom {\n      top: auto;\n      bottom: 0px;\n      transform: none;\n      left: ${buttonX}px;\n      right: auto;\n    }\n\n    .bb-feedback-button--classic-button-style {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-name: bbFadeInOpacity;\n    }\n    \n    .bb-feedback-button--open.bb-feedback-button--classic-button-style {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-name: bbFadeOutRight;\n    }\n    \n    .bb-feedback-button .bb-logo-logo {\n      position: absolute;\n      width: 30px;\n      height: 30px;\n      top: 9px;\n      left: 9px;\n      object-fit: contain;\n      animation-duration: 0.3s;\n      animation-fill-mode: both;\n      animation-name: bbZoomIn;\n    }\n    \n    .bb-feedback-button .bb-logo-arrowdown {\n      position: absolute;\n      width: 14px;\n      height: 14px;\n      top: 17px;\n      left: 17px;\n      object-fit: contain;\n      animation-duration: 0.3s;\n      animation-fill-mode: both;\n    }\n    \n    .bb-feedback-button .bb-logo-arrowdown {\n      animation-name: bbZoomOut;\n    }\n    \n    .bb-feedback-button--open .bb-logo-arrowdown {\n      animation-name: bbZoomIn;\n    }\n    \n    .bb-feedback-button--open .bb-logo-logo {\n      animation-name: bbZoomOut;\n    }\n    \n    .bb-feedback-button-icon:hover {\n      box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.25), 0px 0px 20px rgba(0, 0, 0, 0.2);\n      transform: scale(1.1);\n    }\n    \n    .bb-feedback-button--open .bb-feedback-button-text {\n      animation-name: bbFadeOutDown;\n    }\n    \n    .bb-feedback-button--open .bb-feedback-button-icon {\n      display: flex;\n    }\n    \n    .bb-capture-svg {\n      position: fixed;\n      z-index: ${zIndexBase + 14};\n      top: 0px;\n      left: 0px;\n      right: 0px;\n      width: 100%;\n      height: 100%;\n      padding: 0px;\n      margin: 0px;\n      cursor: crosshair;\n    }\n\n    .bb-capture-svg--preview {\n      cursor: auto !important;\n    }\n    \n    .bb-rec-on-circle {\n      animation-name: bbRecIconFade;\n      animation-duration: 2s;\n      animation-iteration-count: infinite;\n      animation-direction: alternate;\n    }\n    \n    .bb-rec-on-cont {\n      animation-name: bbRecIconContFade;\n      animation-duration: 2s;\n      animation-iteration-count: infinite;\n      animation-direction: alternate;\n    }\n    \n    .bb-capture-editor-drag-info {\n      position: fixed;\n      top: -200px;\n      left: 0px;\n      z-index: ${zIndexBase + 16};\n      transition: opacity 0.3s ease-in-out;\n    }\n    \n    .bb-capture-editor-drag-info svg {\n      width: 24px;\n      height: 24px;\n    }\n    \n    .bb-capture-editor-borderlayer {\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      width: 100vw;\n      height: 100vh;\n      border: 4px solid ${primaryColor};\n      cursor: crosshair;\n      z-index: ${zIndexBase + 10};\n      box-sizing: border-box;\n      pointer-events: none;\n    }\n    \n    .bb-capture-editor-notrecording .bb-capture-editor-borderlayer {\n      background-color: rgba(0, 0, 0, 0.8);\n    }\n\n    .bb-capture-editor-recording .bb-capture-editor-borderlayer {\n      border: 4px solid #eb144c !important;\n    }\n    \n    .bb-capture-editor-recording .bb-capture-dismiss {\n      display: none;\n    }\n    \n    .bb-capture-editor-item-inactive {\n      opacity: 0.3;\n      cursor: not-allowed !important;\n    }\n    \n    .bb-capture-editor-notrecording .bb-capture-toolbar-drawingitem {\n      opacity: 0.3;\n      cursor: not-allowed !important;\n    }\n    \n    .bb-capture-editor-notrecording .bb-capture-editor-drag-info {\n      display: none;\n    }\n    \n    .bb-capture-editor-notrecording .bb-capture-svg {\n      pointer-events: none !important;\n    }\n    \n    .bb-capture-toolbar {\n      position: fixed;\n      top: 20px;\n      left: 50%;\n      transform: translateX(-50%);\n      z-index: ${zIndexBase + 18};\n      background-color: #fff;\n      padding: 5px;\n      display: flex;\n      align-items: center;\n      border-radius: 8px;\n      box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.15), 0px 0px 20px rgba(0, 0, 0, 0.1);\n      transition: opacity 0.3s ease-in-out;\n    }\n    \n    .bb-capture-dismiss {\n      position: fixed;\n      top: 0px;\n      right: 0px;\n      z-index: ${zIndexBase + 18};\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      width: 36px;\n      height: 36px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background-color: ${primaryColor};\n      border-bottom-left-radius: ${formItemSmallBorderRadius}px;\n    }\n\n    [dir=rtl] .bb-capture-dismiss {\n      top: 0px;\n      left: 0px;\n      right: auto;\n      border-bottom-left-radius: 0px !important;\n      border-bottom-right-radius: ${formItemSmallBorderRadius}px;\n    }\n    \n    .bb-capture-dismiss svg path {\n      fill: ${contrastColor};\n    }\n    \n    .bb-capture-dismiss svg {\n      width: 20px;\n      height: 20px;\n      object-fit: contain;\n    }\n    \n    .bb-capture-button-next {\n      font-family: sans-serif;\n      box-sizing: border-box;\n      font-weight: 600;\n      text-align: center;\n      width: auto;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      margin: 0px;\n      line-height: 36px;\n      padding: 0px 12px;\n      font-size: 15px;\n      margin-left: 12px;\n    }\n\n    [dir=rtl].bb-capture-editor .bb-capture-button-next {\n      margin-left: auto;\n      margin-right: 12px;\n    }\n    \n    .bb-capture-toolbar-item-spacer {\n      width: 1px;\n      height: 38px;\n      min-width: 1px;\n      margin: 0px 5px;\n    }\n    \n    .bb-capture-toolbar-item {\n      width: 42px;\n      height: 38px;\n      min-width: 42px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      position: relative;\n      margin-right: 5px;\n    }\n\n    .drag-handle-item {\n      cursor: grab !important;\n      width: 34px;\n      min-width: 34px;\n    }\n\n    .drag-handle-item svg {\n      width: 18px !important;\n      height: 18px !important;\n    }\n    \n    .bb-capture-toolbar-item svg {\n      width: 23px;\n      height: 23px;\n      object-fit: contain;\n    }\n    \n    .bb-capture-toolbar-item-selectedcolor {\n      border-radius: 100%;\n      width: 20px;\n      height: 20px;\n      background-color: #db4035;\n    }\n    \n    .bb-capture-toolbar-item[data-type=\"undo\"] svg {\n      width: 18px;\n      height: 18px;\n    }\n    \n    .bb-capture-toolbar-item[data-active=\"true\"] {\n      position: relative;\n    }\n    \n    .bb-capture-preview {\n      display: none;\n      background-color: rgba(0, 0, 0, 0.6);\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      width: 100vw;\n      height: 100vh;\n      justify-content: center;\n      align-items: center;\n      z-index: ${zIndexBase + 20};\n    }\n    \n    .bb-capture-preview-inner {\n      background-color: #fff;\n      padding: 0px;\n      box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.15), 0px 0px 20px rgba(0, 0, 0, 0.1);\n      border-radius: 8px;\n      flex-direction: column;\n      max-width: 640px;\n      width: 100%;\n      margin: 20px;\n    }\n    \n    .bb-capture-preview-inner video {\n      border-radius: 8px 8px 0px 0px;\n      display: block;\n      border: 0px;\n      outline: none;\n      width: 100%;\n      max-height: 60vh;\n    }\n    \n    .bb-capture-preview-buttons {\n      display: flex;\n      justify-content: space-between;\n      padding: 14px;\n    }\n    \n    .bb-capture-preview-retrybutton {\n      font-family: sans-serif;\n      border-radius: 21px;\n      box-sizing: border-box;\n      padding: 12px 26px;\n      font-size: 16px;\n      line-height: 19px;\n      font-weight: 600;\n      text-align: center;\n      margin-top: 0px;\n      margin-bottom: 0px;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n    }\n    \n    .bb-capture-preview-sendbutton {\n      font-family: sans-serif;\n      border-radius: 21px;\n      box-sizing: border-box;\n      padding: 12px 26px;\n      font-size: 16px;\n      line-height: 19px;\n      font-weight: 600;\n      text-align: center;\n      margin-top: 0px;\n      margin-bottom: 0px;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n    }\n    \n    .bb-capture-preview-retrybutton:hover,\n    .bb-capture-preview-sendbutton:hover {\n      opacity: 0.9;\n    }\n    \n    .bb-capture-toolbar-item-recording {\n      margin-right: 0px;\n    }\n    \n    .bb-capture-toolbar-item-recording svg {\n      width: 33px;\n      height: 33px;\n    }\n    \n    .bb-capture-toolbar-item-colorpicker {\n      position: fixed;\n      top: 70px;\n      left: 50%;\n      transform: translateX(-50%);\n      z-index: ${zIndexBase + 18};\n      background-color: #fff;\n      display: none;\n      padding: 10px;\n      box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.15), 0px 0px 20px rgba(0, 0, 0, 0.1);\n      border-radius: 8px;\n    }\n    \n    .bb-capture-toolbar-item-color {\n      width: 20px;\n      height: 20px;\n      border-radius: 100%;\n      margin-right: 12px;\n      box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.15);\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n    }\n    \n    .bb-capture-toolbar-item-color:hover {\n      box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.25);\n    }\n    \n    .bb-capture-toolbar-item-color:last-of-type {\n      margin-right: 0px;\n    }\n    \n    [dir=rtl].bb-capture-editor .bb-capture-toolbar-item-color {\n      margin-right: auto;\n      margin-left: 12px;\n    }\n    \n    [dir=rtl].bb-capture-editor .bb-capture-toolbar-item-color:last-of-type {\n      margin-right: auto;\n      margin-left: 0px;\n    }\n    \n    .bb-capture-toolbar-item-recording[data-active=\"true\"] svg:first-of-type {\n      display: none;\n    }\n    \n    .bb-capture-toolbar-item-recording[data-active=\"true\"] svg:nth-of-type(2) {\n      display: block;\n    }\n    \n    .bb-capture-toolbar-item-recording[data-active=\"false\"] svg:first-of-type {\n      display: block;\n    }\n    \n    .bb-capture-toolbar-item-recording[data-active=\"false\"] svg:nth-of-type(2) {\n      display: none;\n    }\n    \n    .bb-capture-toolbar-item--active {\n      background-color: #eee;\n    }\n    \n    .bb-capture-toolbar-item:hover svg {\n      opacity: 1;\n    }\n    \n    .bb-capture-toolbar-item--active {\n      background-color: #f8f8f8;\n    }\n    \n    .bb-capture-toolbar-item--active svg {\n      opacity: 1;\n    }\n    \n    .bb-capture-toolbar-item--inactivecross::before {\n      content: \"\";\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      height: 3px;\n      width: 26px;\n      margin: auto;\n      border-radius: 4px;\n      background-color: #e80000;\n      transform: rotate(45deg);\n    }\n    \n    .bb-capture-toolbar-item--inactivecross svg {\n      fill: #eee;\n    }\n    \n    .bb-capture-toolbar-item-timer {\n      text-align: left;\n      line-height: 32px;\n      font-size: 14px;\n      font-family: sans-serif;\n      margin: 5px;\n      min-width: 40px;\n      display: none;\n    }\n    \n    .bb-capture-toolbar-item .bb-tooltip {\n      background-color: #555;\n      color: #fff;\n      visibility: hidden;\n      font-size: 14px;\n      font-family: sans-serif;\n      text-align: center;\n      padding: 5px 10px;\n      position: absolute;\n      z-index: 1;\n      top: 45px;\n      left: 0px;\n      transform: translateX(calc(-50% + 21px));\n      opacity: 0;\n      transition: opacity 0.3s;\n      white-space: nowrap;\n    }\n    \n    .bb-capture-toolbar-item .bb-tooltip::after {\n      content: \"\";\n      position: absolute;\n      bottom: 100%;\n      left: 50%;\n      margin-left: -5px;\n      border-width: 5px;\n      border-style: solid;\n      transform: rotate(180deg);\n      border-color: #555 transparent transparent transparent;\n    }\n    \n    .bb-capture-toolbar-item:hover .bb-tooltip {\n      visibility: visible;\n      opacity: 1;\n    }\n    \n    .bb-capture-options {\n      display: none;\n    }\n    \n    .bb-capture-options--active {\n      display: flex;\n    }\n\n    @keyframes bbFadeOutRight {\n      from {\n        opacity: 1;\n      }\n    \n      to {\n        opacity: 0;\n      }\n    }\n    \n    @keyframes bbFadeOutDown {\n      from {\n        opacity: 1;\n      }\n    \n      to {\n        opacity: 0;\n        transform: translate3d(0, 100%, 0);\n      }\n    }\n    \n    @keyframes bbFadeInOpacity {\n      from {\n        opacity: 0;\n      }\n    \n      to {\n        opacity: 1;\n      }\n    }\n    \n    @keyframes bbZoomOut {\n      from {\n        opacity: 1;\n      }\n    \n      50% {\n        opacity: 0;\n        transform: scale3d(0.3, 0.3, 0.3);\n      }\n    \n      to {\n        opacity: 0;\n      }\n    }\n    \n    @keyframes bbZoomIn {\n      from {\n        opacity: 0;\n        transform: scale3d(0.3, 0.3, 0.3);\n      }\n    \n      50% {\n        opacity: 1;\n      }\n    }\n    \n    @keyframes bbRecIconContFade {\n      0% {\n        fill: #b10802;\n      }\n      50% {\n        fill: #ff0000;\n      }\n      100% {\n        fill: #b10802;\n      }\n    }  \n    .bb-capture-preview-retrybutton {\n      color: ${contrastBackgroundColor};\n      border-radius: ${buttonBorderRadius}px;\n      background-color: ${backgroundColorHover};\n    }\n    .bb-capture-preview-retrybutton:hover {\n      background-color: ${hoverHoverColor};\n    }\n    @keyframes bb-suc-fill {\n      100% {\n        box-shadow: inset 0px 0px 0px 30px ${primaryColor};\n      }\n    }\n    .bb-capture-toolbar-item-spacer {\n      background-color: ${backgroundColorHover};\n    }\n    .bb-tooltip {\n      border-radius: ${formItemBorderRadius}px;\n    }\n    @keyframes bbRecIconFade {\n      0% {\n        fill: transparent;\n      }\n      50% {\n        fill: ${hoverHoverColor};\n      }\n      100% {\n        fill: transparent;\n      }\n    }\n    .bb-capture-preview-sendbutton {\n      color: ${contrastColor};\n      background-color: ${primaryColor};\n      border-radius: ${buttonBorderRadius}px;\n    }\n    .bb-capture-button-next {\n      color: ${contrastColor};\n      background-color: ${primaryColor};\n      border-radius: ${formItemSmallBorderRadius}px;\n    }\n    .bb-capture-preview-inner {\n      background-color: ${backgroundColor};\n      border-radius: ${formItemBorderRadius}px;\n    }\n    .bb-capture-toolbar-item-timer {\n      color: ${subTextColor};\n    }\n    .bb-svg-path {\n      fill: ${contrastBackgroundColor};\n    }\n    .bb-capture-toolbar-item {\n      border-radius: ${formItemBorderRadius}px;\n    }\n    .bb-capture-toolbar {\n      background-color: ${backgroundColor};\n      border-radius: ${formItemBorderRadius}px;\n    }\n    .bb-capture-toolbar-item-colorpicker {\n      background-color: ${backgroundColor};\n    }\n    .bb-capture-toolbar-item--active {\n      background-color: ${backgroundColorHover};\n    }\n    .bb-feedback-button-classic {\n      border-top-left-radius: ${formItemBorderRadius}px;\n      border-top-right-radius: ${formItemBorderRadius}px;\n    }\n    .bb-logo-logo--default path {\n      fill: ${contrastButtonColor};\n    }\n    .bb-logo-arrowdown {\n      fill: ${contrastButtonColor};\n    }\n    .bb-feedback-button-icon {\n        background-color: ${buttonColor};\n    }\n    .bb-feedback-button-classic {\n      background-color: ${buttonColor};\n      color: ${contrastButtonColor};\n    }\n\n    @media only screen and (max-width: 450px) {\n      [dir=rtl].gleap-frame-container,\n      .gleap-frame-container {\n        left: 0px;\n        right: 0px;\n        width: 100vw;\n        max-width: 100vw;\n        min-height: 100vh;\n        max-height: 100vh;\n        min-height: 100dvh !important;\n        max-height: 100dvh !important;\n        top: 0px;\n        bottom: 0px;\n        border-radius: 0px;\n        animation-name: gleapFadeInUpMobile;\n      }\n\n      .gleap-frame-container-inner {\n        width: 100vw;\n        height: 100%;\n      }\n\n      .gleap-frame-container:not(.gleap-frame-container--survey):not(.gleap-frame-container--survey-full) .gleap-frame-container-inner {\n        max-height: calc(var(--glvh, 1vh) * 100) !important;\n      }\n\n      .gleap-frame-container--survey {\n        height: auto !important;\n        top: initial !important;\n        bottom: 0px !important;\n        min-height: initial !important;\n      }\n\n      .gleap-frame-container--survey .gleap-frame-container-inner {\n        height: 100vh !important;\n      }\n\n      .bb-tooltip {\n        display: none !important;\n      }\n    \n      .bb-capture-toolbar-item-colorpicker {\n        top: 75px;\n      }\n    \n      .bb-capture-button-next {\n        margin-left: auto;\n      }\n    \n      .bb-capture-dismiss {\n        display: none;\n      }\n    \n      .bb-capture-toolbar {\n        top: 15px;\n        right: 15px;\n        left: 15px;\n        width: auto;\n        transform: none;\n      }\n\n      .bb-capture-editor-drag-info {\n        display: none;\n      }\n    \n      .bb-capture-editor-borderlayer {\n        border-width: 4px;\n      }\n    }\n    \n    @media print {\n      .bb-feedback-button {\n        display: none !important;\n      }\n      \n      .gleap-frame-container {\n        display: none !important;\n      }\n    }\n\n    .gleap-tour-sender {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      margin-bottom: 10px;\n    }\n\n    .gleap-tour-sender-image {\n      width: 32px;\n      height: 32px;\n      border-radius: 32px;\n      margin-right: 10px;\n      background-size: cover;\n      background-repeat: no-repeat;\n    }\n\n    .gleap-tour-popover.gleap-tour-popover-post {\n      min-width: 550px;\n      max-width: 550px;\n    }\n\n    @media only screen and (max-width: 450px) {\n      .gleap-tour-popover.gleap-tour-popover-post {\n        min-width: calc(100vw - 40px);\n        max-width: calc(100vw - 40px);\n      }\n    }\n\n    .gleap-tour-message,\n    .gleap-tour-message p,\n    .gleap-tour-message ul {\n      color: ${contrastBackgroundColor};\n    }\n\n    .gleap-tour-message h2 {\n      font-weight: 600;\n      font-size: 22px;\n    }\n\n    .gleap-tour-message h3 {\n      font-weight: 600;\n      font-size: 18px;\n    }\n\n    .gleap-tour-message p {\n      line-height: 1.3;\n      margin-bottom: 10px !important;\n      margin-top: 10px !important;\n    }\n\n    .gleap-tour-message ul {\n      line-height: 1.3;\n      padding-left: 20px;\n      margin-top: 10px !important;\n      margin-bottom: 10px !important;\n    }\n\n    .gleap-tour-message {\n      max-height: calc(80vh - 100px) !important;\n      overflow-y: auto;\n      min-width: 270px;\n    }\n\n    .gleap-tour-message::-webkit-scrollbar {\n      width: 5px;\n    }\n\n    .gleap-tour-message::-webkit-scrollbar-track {\n      border-radius: 0px;\n    }\n    \n    .gleap-tour-message::-webkit-scrollbar-thumb {\n      background: ${hoverHoverColor}; \n      border-radius: 5px;\n    }\n\n    .gleap-tour-message::-webkit-scrollbar-thumb:hover {\n      background: ${subTextColor};\n    }\n\n    @media only screen and (max-width: 450px) {\n      .gleap-tour-message {\n        min-width: auto !important;\n      }\n    }\n\n    .gleap-tour-message iframe {\n      width: 100%;\n      height: 300px;\n      margin-top: 10px;\n      margin-bottom: 10px;\n      border: none;\n      outline: none;\n      display: block;\n    }\n\n    .gleap-tour-sender-name {\n      font-size: 15px;\n    }\n\n    .gleap-tour-video {\n      width: 100%;\n      max-width: 100%;\n    }\n\n    .gleap-tour-video-svg--fullscreen {\n      width: 100% !important;\n      height: 100% !important;\n      top: 0px !important;\n      left: 0px !important;\n      right: 0px !important;\n      bottom: 0px !important;\n    }\n\n    .gleap-tour-video--playing .gleap-tour-video-playpause {\n      opacity: 0;\n    }\n    \n    .gleap-tour-video--playing:hover .gleap-tour-video-playpause {\n      opacity: 1;\n    }\n\n    .gleap-tour-popover-video-pointer {\n      padding: 0px !important;\n      border-radius: 8px;\n      position: relative;\n      background-color: transparent !important;\n    }\n\n    .gleap-tour-popover-video-pointer .gleap-tour-popover-footer {\n      position: absolute;\n      top: 0px;\n      left: 20px;\n      right: 20px;\n      opacity: 0;\n      transition: opacity 200ms ease-in-out;\n    }\n\n    .gleap-tour-popover-video-pointer .gleap-tour-popover-footer button {\n      padding: 5px 12px;\n    }\n\n    .gleap-tour-popover-video-pointer.gleap-tour-popover-can-close .gleap-tour-popover-footer {\n      right: 40px !important;\n    }\n\n    .gleap-tour-popover-video-pointer:hover .gleap-tour-popover-footer {\n      opacity: 1;\n    }\n\n    .gleap-tour-popover-pointer.gleap-tour-popover-no-sender .gleap-tour-message {\n      padding-right: 20px;\n    }\n\n    .gleap-tour-video video {\n      width: 100%;\n      max-width: 100%;\n      height: auto;\n      border: none;\n      outline: none;\n      display: block;\n      border-radius: 8px;\n    }\n\n    .gleap-admin-collapse-ui {\n      z-index: ${zIndexBase + 35};\n      cursor: pointer;\n      position: fixed;\n      bottom: 75px;\n      right: 20px;\n      width: 32px;\n      height: 32px;\n      border-radius: 100%;\n      background-color: #fff;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      box-shadow: rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px;\n    }\n\n    .gleap-admin-collapse-ui svg {\n      width: 20px;\n      height: 14px;\n      fill: #000 !important;\n    }\n\n    .gleap-admin-collapse-ui-active {\n      bottom: 20px !important;\n    }\n\n    .gleap-admin-collapse-ui-active svg {\n      transform: rotate(180deg);\n    }\n\n    .gleap-admin-frame-container-active {\n      display: none !important;\n    }\n\n    .gleap-admin-frame-container {\n      position: fixed;\n      bottom: 0px;\n      left: 0px;\n      right: 0px;\n      width: 100vw;\n      z-index: ${zIndexBase + 40};\n    }\n\n    .gleap-admin-frame {\n      width: 100%;\n      height: 100% !important;\n      border: none;\n      outline: none;\n      display: block;\n    }\n    \n    .gleap-tour-message .linktype-link {\n      display: inline-block !important;\n      background-color: transparent !important;\n      color: ${buttonColor} !important;\n    }\n\n    .gleap-tooltip .linktype-button,\n    .gleap-tour-message .linktype-button {\n      display: inline-block !important;\n      border-radius: 5px;\n      box-sizing: border-box;\n      padding: 10px 20px !important;\n      text-decoration: none !important;\n      background-color: ${buttonColor} !important;\n      color: ${contrastButtonColor} !important;\n    }\n\n    .gleap-tour-message img {\n      width: 100%;\n      max-width: 100%;\n      min-height: 260px;\n      height: auto;\n      margin-top: 10px;\n      margin-bottom: 10px;\n      object-fit: cover;\n    }\n\n    .gleap-tour-active .gleap-tour-overlay {\n      pointer-events: none;\n    }\n    \n    .gleap-tour-active * {\n      pointer-events: none;\n    }\n    \n    .gleap-tour-active .gleap-tour-active-element,\n    .gleap-tour-active .gleap-tour-active-element *,\n    .gleap-tour-popover,\n    .gleap-tour-popover * {\n      pointer-events: auto;\n    }\n    \n    @keyframes animate-fade-in {\n      0% {\n        opacity: 0;\n      }\n    \n      to {\n        opacity: 1;\n      }\n    }\n    \n    .gleap-tour-fade .gleap-tour-overlay {\n      animation: animate-fade-in 200ms ease-in-out;\n    }\n    \n    .gleap-tour-fade .gleap-tour-popover {\n      animation: animate-fade-in 200ms;\n    }\n\n    .gleap-tour-video-playpause {\n      position: absolute;\n      bottom: 8px;\n      left: 8px;\n      width: 32px;\n      height: 32px;\n      padding: 4px;\n      background-color: rgba(0,0,0,0.5);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      border-radius: 8px;\n      transition: opacity 200ms ease-in-out;\n    }\n\n    .gleap-tour-popover-video-pointer .gleap-tour-popover-arrow {\n      display: none !important;\n    }\n\n    .gleap-tour-video-playpause svg {\n      width: 34px;\n      height: auto;\n      fill: #fff;\n    }\n    \n    /* Popover styles */\n    .gleap-tour-popover {\n      all: unset;\n      box-sizing: border-box;\n      color: #2d2d2d;\n      margin: 0;\n      padding: 15px;\n      border-radius: ${formItemBorderRadius}px;\n      min-width: 250px;\n      max-width: 300px;\n      box-shadow: 0 1px 10px #0006;\n      z-index: 1000000000;\n      position: fixed;\n      top: 0;\n      right: 0;\n      background-color: #fff;\n    }\n    \n    .gleap-tour-popover * {\n      font-family: \"Helvetica Neue\", Inter, ui-sans-serif, \"Apple Color Emoji\", Helvetica, Arial, sans-serif;\n    }\n    \n    .gleap-tour-popover-title {\n      font: 19px / normal sans-serif;\n      font-weight: 700;\n      display: block;\n      position: relative;\n      line-height: 1.5;\n      zoom: 1;\n      margin: 0;\n    }\n    \n    .gleap-tour-popover-close-btn {\n      all: unset;\n      position: absolute;\n      top: 5px;\n      right: 5px;\n      width: 32px;\n      height: 32px;\n      cursor: pointer;\n      font-size: 30px;\n      font-weight: 500;\n      line-height: 32px;\n      color: #d2d2d2;\n      z-index: 1;\n      text-align: center;\n      transition: color;\n      transition-duration: 200ms;\n    }\n    \n    .gleap-tour-popover-close-btn:hover,\n    .gleap-tour-popover-close-btn:focus {\n      color: #2d2d2d;\n    }\n    \n    .gleap-tour-popover-title[style*=\"block\"] + .gleap-tour-popover-description {\n      margin-top: 5px;\n    }\n    \n    .gleap-tour-popover-description {\n      margin-bottom: 0;\n      font: 15px / normal sans-serif;\n      line-height: 1.5;\n      font-weight: 400;\n      zoom: 1;\n    }\n    \n    .gleap-tour-popover-footer {\n      margin-top: 15px;\n      text-align: right;\n      zoom: 1;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n    \n    .gleap-tour-popover-progress-text {\n      font-size: 13px;\n      font-weight: 400;\n      color: #727272;\n      zoom: 1;\n    }\n    \n    .gleap-tour-popover-footer button {\n      background-color: ${primaryColor};\n      color: ${contrastColor};\n      border-radius: ${formItemSmallBorderRadius}px;\n      box-sizing: border-box;\n      padding: 10px 20px;\n      font-size: 14px;\n      font-weight: bold;\n      line-height: 21px;\n      border: none;\n      text-align: center;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      box-shadow: none !important;\n      outline: none !important;\n    }\n\n    .gleap-tour-popover-prev-btn {\n      color: ${contrastBackgroundColor} !important;\n      background-color: ${backgroundColorHover} !important;\n      margin-right: 3px;\n    }\n\n    .gleap-tour-popover-prev-btn:hover {\n      background-color: ${primaryColor}22 !important;\n      color: ${primaryColor} !important;\n    }\n    \n    .gleap-tour-popover-footer .gleap-tour-popover-btn-disabled {\n      opacity: 0.5;\n      pointer-events: none;\n    }\n    \n    .gleap-tour-no-interaction, .gleap-tour-no-interaction * {\n      pointer-events: none !important;\n    }\n    \n    .gleap-tour-popover-navigation-btns {\n      display: flex;\n      flex-grow: 1;\n      justify-content: flex-end;\n    }\n    \n    .gleap-tour-popover-navigation-btns button + button {\n      margin-left: 4px;\n    }\n    \n    .gleap-tour-popover-arrow {\n      content: \"\";\n      position: absolute;\n      border: 5px solid #fff;\n    }\n    \n    .gleap-tour-popover-arrow-side-over {\n      display: none;\n    }\n    \n    /** Popover Arrow Sides **/\n    .gleap-tour-popover-arrow-side-left {\n      left: 100%;\n      border-right-color: transparent;\n      border-bottom-color: transparent;\n      border-top-color: transparent;\n    }\n    \n    .gleap-tour-popover-arrow-side-right {\n      right: 100%;\n      border-left-color: transparent;\n      border-bottom-color: transparent;\n      border-top-color: transparent;\n    }\n    \n    .gleap-tour-popover-arrow-side-top {\n      top: 100%;\n      border-right-color: transparent;\n      border-bottom-color: transparent;\n      border-left-color: transparent;\n    }\n    \n    .gleap-tour-popover-arrow-side-bottom {\n      bottom: 100%;\n      border-left-color: transparent;\n      border-top-color: transparent;\n      border-right-color: transparent;\n    }\n    \n    .gleap-tour-popover-arrow-side-center {\n      display: none;\n    }\n    \n    /* Left/Start + Right/Start */\n    .gleap-tour-popover-arrow-side-left.gleap-tour-popover-arrow-align-start,\n    .gleap-tour-popover-arrow-side-right.gleap-tour-popover-arrow-align-start {\n      top: 15px;\n    }\n    \n    /* Top/Start + Bottom/Start */\n    .gleap-tour-popover-arrow-side-top.gleap-tour-popover-arrow-align-start,\n    .gleap-tour-popover-arrow-side-bottom.gleap-tour-popover-arrow-align-start {\n      left: 15px;\n    }\n    \n    /* End/Left + End/Right */\n    .gleap-tour-popover-arrow-align-end.gleap-tour-popover-arrow-side-left,\n    .gleap-tour-popover-arrow-align-end.gleap-tour-popover-arrow-side-right {\n      bottom: 15px;\n    }\n    \n    /* Top/End + Bottom/End */\n    .gleap-tour-popover-arrow-side-top.gleap-tour-popover-arrow-align-end,\n    .gleap-tour-popover-arrow-side-bottom.gleap-tour-popover-arrow-align-end {\n      right: 15px;\n    }\n    \n    /* Left/Center + Right/Center */\n    .gleap-tour-popover-arrow-side-left.gleap-tour-popover-arrow-align-center,\n    .gleap-tour-popover-arrow-side-right.gleap-tour-popover-arrow-align-center {\n      top: 50%;\n      margin-top: -5px;\n    }\n    \n    /* Top/Center + Bottom/Center */\n    .gleap-tour-popover-arrow-side-top.gleap-tour-popover-arrow-align-center,\n    .gleap-tour-popover-arrow-side-bottom.gleap-tour-popover-arrow-align-center {\n      left: 50%;\n      margin-left: -5px;\n    }\n    \n    /* No arrow */\n    .gleap-tour-popover-arrow-none {\n      display: none;\n    }    \n\n    /* Modal styles */\n    .gleap-modal-wrapper {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: ${zIndexBase + 40};\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .gleap-modal-backdrop {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.5);\n      z-index: ${zIndexBase + 41};\n    }\n\n    .gleap-modal {\n      position: relative;\n      width: 90%;\n      max-width: 600px;\n      max-height: 90vh;\n      z-index: ${zIndexBase + 100};\n      background-color: ${backgroundColor};\n      border-radius: ${containerRadius}px;\n      overflow: hidden;\n      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n      animation-duration: 0.3s;\n      animation-fill-mode: both;\n      animation-name: gleapFadeInUp;\n    }\n\n    .gleap-modal-frame {\n      width: 100%;\n      border: none;\n      display: block;\n      outline: none;\n    }\n\n    body.gleap-modal-open {\n      overflow: hidden;\n    }\n\n    @keyframes gleapFadeInUp {\n      from {\n        opacity: 0;\n        transform: translate3d(0, 20px, 0);\n      }\n      to {\n        opacity: 1;\n        transform: translate3d(0, 0, 0);\n      }\n    }\n    `;\n\n  const oldNode = document.querySelector('.gleap-styles');\n  if (oldNode) {\n    oldNode.remove();\n  }\n  const node = document.createElement('style');\n  node.innerHTML = colorStyleSheet;\n  node.className = 'gleap-styles';\n  document.body.appendChild(node);\n};\n\nexport const loadIcon = function (name, color) {\n  if (name === 'button') {\n    return `<svg class=\"bb-logo-logo bb-logo-logo--default\" width=\"145\" height=\"144\" viewBox=\"0 0 145 144\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M38.9534 15H105.047C113.857 15 121 22.1426 121 30.9534L121 89.5238L121 96.015L121 125.541C121 128.759 117.393 130.66 114.739 128.84L90.1188 111.968H38.9534C30.1426 111.968 23 104.826 23 96.015V30.9534C23 22.1426 30.1426 15 38.9534 15Z\" fill=\"white\"/>\n    </svg>`;\n  }\n\n  if (name === 'drag') {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><!--!Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2025 Fonticons, Inc.--><path d=\"M64 128a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm0 160a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM96 416a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96-288a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm32 128a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM192 448a32 32 0 1 0 0-64 32 32 0 1 0 0 64z\"/></svg>`;\n  }\n\n  if (name === 'unmute') {\n    return `<svg id=\"tooltip-svg-unmute\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><path id=\"tooltip-svg-unmute-path\" d=\"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.1 386.2C556.7 352 576 306.3 576 256c0-60.1-27.7-113.8-70.9-149c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C507.3 170.7 528 210.9 528 256c0 39.1-15.6 74.5-40.9 100.5L449 326.6c19-17.5 31-42.7 31-70.6c0-30.1-13.9-56.9-35.4-74.5c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C425.1 227.6 432 241 432 256s-6.9 28.4-17.7 37.3c-1.3 1-2.4 2.2-3.4 3.4L352 250.6V64c0-12.6-7.4-24-18.9-29.2s-25-3.1-34.4 5.3L197.8 129.8 38.8 5.1zM352 373.3L82.9 161.3C53.8 167.4 32 193.1 32 224v64c0 35.3 28.7 64 64 64h67.8L298.7 471.9c9.4 8.4 22.9 10.4 34.4 5.3S352 460.6 352 448V373.3z\"/></svg>`;\n  }\n\n  if (name === 'mute') {\n    return `<svg id=\"tooltip-svg-mute\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><path id=\"tooltip-svg-mute-path\" d=\"M533.6 32.5C598.5 85.3 640 165.8 640 256s-41.5 170.8-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z\"/></svg>`;\n  }\n\n  if (name === 'replay') {\n    return `<svg id=\"tooltip-svg-replay\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path id=\"tooltip-svg-replay-path\" d=\"M48.5 224H40C26.7 224 16 213.3 16 200V72C16 62.3 21.8 53.5 30.8 49.8C39.8 46.1 50.1 48.1 57 55L98.6 96.6C186.2 10.1 327.3 10.4 414.4 97.6C501.9 185.1 501.9 326.9 414.4 414.4C326.9 501.9 185.1 501.9 97.6 414.4C85.1 401.9 85.1 381.6 97.6 369.1C110.1 356.6 130.4 356.6 142.9 369.1C205.4 431.6 306.7 431.6 369.2 369.1C431.7 306.6 431.7 205.3 369.2 142.8C307 80.6 206.5 80.3 143.9 141.8L185 183C191.9 189.9 193.9 200.2 190.2 209.2C186.5 218.2 177.7 224 168 224H48.5Z\" />\n    </svg>`;\n  }\n\n  if (name === 'dismiss') {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><path d=\"M294.6 166.6L317.3 144 272 98.7l-22.6 22.6L160 210.7 70.6 121.4 48 98.7 2.7 144l22.6 22.6L114.7 256 25.4 345.4 2.7 368 48 413.3l22.6-22.6L160 301.3l89.4 89.4L272 413.3 317.3 368l-22.6-22.6L205.3 256l89.4-89.4z\"/></svg>`;\n  }\n\n  if (name === 'blur') {\n    return `<svg width=\"1200pt\" height=\"1200pt\" version=\"1.1\" viewBox=\"0 0 1200 1200\" xmlns=\"http://www.w3.org/2000/svg\">\n <path class=\"bb-svg-path\" d=\"m602.25 1200c238.2 0 435.95-193.26 435.95-435.95 0-269.66-220.23-615.73-435.95-764.05-220.23 161.8-440.45 485.39-440.45 764.05 0 242.7 197.75 435.95 440.45 435.95zm-260.68-382.02c0 112.36 89.887 206.74 206.74 206.74v62.922c-148.32 0-274.16-121.35-274.16-269.66z\" fill=\"#333\"/>\n</svg>`;\n  }\n\n  if (name === 'pen') {\n    return `<svg width=\"1072px\" height=\"1034px\" viewBox=\"0 0 1072 1034\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g transform=\"translate(-907.000000, -217.000000)\" fill-rule=\"nonzero\">\n            <g transform=\"translate(907.268457, 217.009827)\">\n                <g transform=\"translate(132.335119, 0.000000)\" fill=\"#000\" class=\"bb-svg-path\">\n                    <path d=\"M20.3764235,730.530173 L10.1884235,720.342173 C-0.791576454,709.362173 -3.16357645,692.432173 4.37592355,678.858173 L83.1809235,537.018173 C71.7589235,502.979173 82.3098335,463.998173 112.254924,440.706173 L655.334924,18.3161733 C689.951924,-8.6058267 739.197924,-5.5388267 770.214924,25.4684733 L913.774924,169.028473 C944.782924,200.040473 947.848924,249.286473 920.927224,283.908473 L498.537224,826.988473 C496.322424,829.836173 493.935624,832.543173 491.384924,835.090073 C467.271924,859.207073 432.513924,866.195073 402.232924,856.063073 L260.382924,934.868073 C246.804924,942.407173 229.874924,940.036073 218.894924,929.055573 L208.706924,918.867573 L20.3764235,730.530173 Z M866.006424,241.190173 C871.393124,234.264373 870.779824,224.417173 864.576724,218.213173 L721.016724,74.6531733 C714.813624,68.4500733 704.965724,67.8367733 698.043724,73.2234733 L154.963724,495.613473 C147.381724,501.507973 146.018424,512.433473 151.912924,520.015473 C152.358234,520.585783 152.834804,521.128773 153.346524,521.636573 L417.586524,785.886573 C424.379524,792.675673 435.391524,792.675673 442.180524,785.886573 C442.692244,785.374853 443.168804,784.831873 443.610224,784.265473 L866.006424,241.190173 Z M342.796424,809.480173 L129.746424,596.430173 L77.9264235,689.707173 L249.516424,861.297173 L342.796424,809.480173 Z\"></path>\n                </g>\n                <g transform=\"translate(-0.000000, 755.530173)\" fill=\"#EB144C\">\n                    <path d=\"M124.711543,0 L313.042043,188.3374 L233.288043,268.0914 C222.003043,279.3764 204.483043,281.5324 190.800043,273.3219 L16.8900429,168.9719 C-2.51595711,157.3309 -5.80895711,130.5499 10.1908429,114.5499 L124.711543,0 Z\" class=\"bb-pen-tip\"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>`;\n  }\n\n  if (name === 'rect') {\n    return `<svg width=\"339px\" height=\"241px\" viewBox=\"0 0 339 241\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g transform=\"translate(-0.000865, 0.000000)\" fill-rule=\"nonzero\">\n            <g transform=\"translate(0.000865, 0.000000)\" fill=\"#000000\" class=\"bb-svg-path\">\n                <path d=\"M339,0 L339,241 L0,241 L0,0 L339,0 Z M312.826351,26.168387 L26.1855674,26.168387 L26.1855674,214.41156 L312.826351,214.41156 L312.826351,26.168387 Z\"></path>\n            </g>\n            <g transform=\"translate(0.000000, 83.206095)\" fill=\"#EB144C\" class=\"bb-pen-tip\">\n                <path d=\"M0,0 L26.186,26.186 L26.1864325,131.205465 L131.204,131.205 L157.792,157.793 L0.000865118243,157.793905 L0,0 Z\"></path>\n            </g>\n        </g>\n    </g>\n</svg>`;\n  }\n\n  if (name === 'pointer') {\n    return `<svg width=\"1200pt\" height=\"1200pt\" version=\"1.1\" viewBox=\"0 0 1200 1200\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"m1050.7 508.95-225.94 157.5 160.31 160.31c4.4531 4.4531 6.9141 10.43 6.9141 16.758s-2.4609 12.305-6.9141 16.758l-126.09 126.09c-4.4531 4.4531-10.43 6.9141-16.758 6.9141-6.3281 0-12.188-2.4609-16.758-6.9141l-160.2-160.43-157.62 225.94c-3.3984 4.9219-9.0234 7.8516-14.883 7.8516-0.70313 0-1.5234 0-2.2266-0.11719-6.7969-0.82031-12.422-5.2734-14.766-11.719l-333.16-880.55c-2.5781-6.6797-0.9375-14.297 4.2188-19.336 5.0391-5.0391 12.656-6.6797 19.336-4.2188l880.66 333.05c6.3281 2.3438 10.781 8.0859 11.602 14.766 0.82031 6.7969-2.1094 13.359-7.7344 17.344z\" fill=\"#333\"/>\n   </svg>`;\n  }\n\n  if (name === 'clip') {\n    return `<svg width=\"600px\" height=\"1126px\" viewBox=\"0 0 600 1126\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g transform=\"translate(-0.002000, 0.501000)\" fill=\"#333333\" fill-rule=\"nonzero\">\n            <path d=\"M225.002,1124.999 C165.33,1124.999 108.102,1101.292 65.902,1059.097 C23.707,1016.902 5.68434189e-14,959.671 5.68434189e-14,899.997 L5.68434189e-14,299.997 C5.68434189e-14,220.431 31.605,144.127 87.867,87.867 C144.129,31.605 220.437,-4.26325641e-14 299.997,-4.26325641e-14 C379.557,-4.26325641e-14 455.867,31.605 512.127,87.867 C568.389,144.129 599.994,220.437 599.994,299.997 L599.994,1012.497 C599.994,1025.895 592.8456,1038.274 581.244,1044.974 C569.642,1051.6732 555.346,1051.6732 543.744,1044.974 C532.142,1038.2748 524.994,1025.896 524.994,1012.497 L524.994,299.997 C524.994,240.325 501.287,183.097 459.092,140.897 C416.897,98.702 359.666,74.995 299.992,74.995 C240.318,74.995 183.092,98.702 140.892,140.897 C98.697,183.092 74.99,240.323 74.99,299.997 L74.99,899.997 C74.99,953.587 103.58,1003.107 149.99,1029.897 C196.4,1056.694 253.58,1056.694 299.99,1029.897 C346.4,1003.104 374.99,953.585 374.99,899.997 L374.99,337.497 C374.99,310.704 360.697,285.942 337.49,272.544 C314.283,259.149 285.697,259.149 262.49,272.544 C239.283,285.942 224.99,310.704 224.99,337.497 L224.99,824.997 C224.99,838.395 217.8416,850.774 206.24,857.474 C194.638,864.1732 180.342,864.1732 168.74,857.474 C157.138,850.7748 149.99,838.396 149.99,824.997 L149.99,337.497 C149.99,283.907 178.58,234.387 224.99,207.597 C271.4,180.8 328.58,180.8 374.99,207.597 C421.4,234.39 449.99,283.909 449.99,337.497 L449.99,899.997 C449.99,959.669 426.283,1016.897 384.088,1059.097 C341.893,1101.292 284.662,1124.999 224.988,1124.999 L225.002,1124.999 Z\" id=\"Path\"></path>\n        </g>\n    </g>\n</svg>`;\n  }\n\n  if (name === 'mic') {\n    return `<svg\n    width=\"1200pt\"\n    height=\"1200pt\"\n    version=\"1.1\"\n    viewBox=\"0 0 1200 1200\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g class=\"bb-svg-path\">\n      <path\n        d=\"m600 862.5c144.75 0 262.5-117.75 262.5-262.5v-300c0-144.75-117.75-262.5-262.5-262.5s-262.5 117.75-262.5 262.5v300c0 144.75 117.75 262.5 262.5 262.5z\"\n      />\n      <path\n        d=\"m1012.5 600c0-20.707-16.793-37.5-37.5-37.5s-37.5 16.793-37.5 37.5c0 186.11-151.41 337.5-337.5 337.5s-337.5-151.39-337.5-337.5c0-20.707-16.793-37.5-37.5-37.5s-37.5 16.793-37.5 37.5c0 214.8 165.08 391.57 375 410.6v114.4c0 20.727 16.793 37.5 37.5 37.5s37.5-16.773 37.5-37.5v-114.4c209.92-19.031 375-195.8 375-410.6z\"\n      />\n    </g>\n  </svg>`;\n  }\n\n  if (name === 'camera') {\n    return `<svg width=\"1155px\" height=\"1004px\" viewBox=\"0 0 1155 1004\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g fill=\"#333333\" fill-rule=\"nonzero\">\n            <g transform=\"translate(128.324095, 0.000000)\">\n                <path d=\"M42.7803063,0.00413459787 C31.4357421,0.00413459787 20.5549853,4.41399115 12.5336107,12.2572687 C4.51223664,20.1005462 0.00420584816,30.741831 0.00420584816,41.8370305 L0.00420584816,251.00151 C-0.156199045,262.200455 4.27736739,272.989996 12.315738,280.963903 C20.3585574,288.938257 31.3288589,293.431222 42.7803063,293.431222 C54.2317532,293.431222 65.2018267,288.938592 73.2448746,280.963903 C81.2832452,272.989549 85.7172445,262.200455 85.5564062,251.00151 L85.5564062,83.6699265 L256.660808,83.6699265 C268.112255,83.8267939 279.145066,79.4909873 287.298762,71.6298611 C295.452913,63.7643845 300.04718,53.0359758 300.04718,41.8370305 C300.04718,30.6380854 295.453255,19.9098998 287.298762,12.0441998 C279.144611,4.18307356 268.112255,-0.153157091 256.660808,0.00413459787 L42.7803063,0.00413459787 Z\"></path>\n                <path d=\"M983.227131,710.59444 C971.895913,710.764382 961.099907,715.326799 953.20401,723.279287 C945.312674,731.227538 940.964345,741.91668 941.119476,752.99849 L941.119476,920.330075 L770.015075,920.330075 C758.563631,920.173205 747.530815,924.509015 739.377123,932.370139 C731.222968,940.235615 726.628705,950.964028 726.628705,962.16297 C726.628705,973.361918 731.222627,984.090105 739.377123,991.955802 C747.531272,999.816926 758.563631,1004.15316 770.015075,1003.99587 L983.895579,1003.99587 C995.24014,1003.99587 1006.1209,999.586011 1014.14227,991.742733 C1022.16365,983.899455 1026.67168,973.258169 1026.67168,962.16297 L1026.67168,752.99849 C1026.83208,741.690223 1022.30053,730.801401 1014.11489,722.812989 C1005.93394,714.825472 994.790363,710.415949 983.227131,710.59444 L983.227131,710.59444 Z\"></path>\n                <path d=\"M983.227131,375.93127 C971.895913,376.101212 961.099907,380.66363 953.20401,388.61612 C945.312674,396.56437 940.964345,407.253512 941.119476,418.335325 L941.119476,585.66691 C940.959072,596.865853 945.39264,607.655394 953.431008,615.629303 C961.47383,623.603658 972.444131,628.096618 983.895579,628.096618 C995.347023,628.096618 1006.3171,623.603989 1014.36015,615.629303 C1022.39852,607.654947 1026.83251,596.865853 1026.67168,585.66691 L1026.67168,418.335325 C1026.83208,407.027056 1022.30053,396.138232 1014.11489,388.149822 C1005.93394,380.162305 994.790363,375.752783 983.227131,375.93127 L983.227131,375.93127 Z\"></path>\n                <path d=\"M769.974012,0.00413459787 C758.522563,-0.152733184 747.489752,4.18307356 739.336055,12.0441998 C731.181906,19.9096767 726.587637,30.6380854 726.587637,41.8370305 C726.587637,53.0359758 731.181564,63.7641611 739.336055,71.6298611 C747.490209,79.4909873 758.522563,83.8272181 769.974012,83.6699265 L941.078414,83.6699265 L941.078414,251.00151 C940.918009,262.200455 945.351572,272.989996 953.389945,280.963903 C961.432763,288.938257 972.403063,293.431222 983.854512,293.431222 C995.30596,293.431222 1006.27603,288.938592 1014.31908,280.963903 C1022.35745,272.989549 1026.79145,262.200455 1026.63061,251.00151 L1026.63061,41.8370305 C1026.63061,30.7426118 1022.12133,20.1017733 1014.10121,12.2572687 C1006.08109,4.41276405 995.199876,0.00413459787 983.854512,0.00413459787 L769.974012,0.00413459787 Z\"></path>\n                <path d=\"M427.765208,0.00413459787 C416.31376,-0.152733184 405.280949,4.18307356 397.127256,12.0441998 C388.973102,19.9096767 384.378838,30.6380854 384.378838,41.8370305 C384.378838,53.0359758 388.972761,63.7641611 397.127256,71.6298611 C405.281406,79.4909873 416.31376,83.8272181 427.765208,83.6699265 L598.86961,83.6699265 C610.321058,83.8267939 621.35387,79.4909873 629.507562,71.6298611 C637.661716,63.7643845 642.255985,53.0359758 642.255985,41.8370305 C642.255985,30.6380854 637.662058,19.9098998 629.507562,12.0441998 C621.353413,4.18307356 610.321058,-0.153157091 598.86961,0.00413459787 L427.765208,0.00413459787 Z\"></path>\n            </g>\n            <g transform=\"translate(0.000000, 427.000000)\">\n                <path d=\"M768.516184,22.1826583 C752.659627,13.73125 732.573775,13.73125 717.773442,24.29375 L562.379192,124.6375 L562.379192,31.6875 C562.379192,13.7330104 548.635081,0 530.666079,0 L31.7131123,0 C13.7441105,0 0,13.7330104 0,31.6875 L0,475.3125 C0,493.26699 13.7441105,507 31.7131123,507 L530.666079,507 C548.635081,507 562.379192,493.26699 562.379192,475.3125 L562.379192,382.3625 L717.773442,482.70625 C726.231681,487.9875 735.742444,491.157658 745.257258,491.157658 C753.715498,491.157658 761.113815,489.046567 769.572406,484.820862 C786.485185,475.313732 796,458.414612 796,439.400352 L796,68.6566021 C794.943601,48.5869719 785.428963,31.6878521 768.516184,22.1807219 L768.516184,22.1826583 Z\"></path>\n            </g>\n        </g>\n    </g>\n</svg>`;\n  }\n\n  if (name === 'recorderon') {\n    return `<svg width=\"1251px\" height=\"1251px\" viewBox=\"0 0 1251 1251\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g>\n            <circle fill=\"#E31810\" cx=\"625.5\" cy=\"625.5\" r=\"625.5\"></circle>\n            <circle fill=\"#F71008\" cx=\"625\" cy=\"625\" r=\"507\"></circle>\n            <g transform=\"translate(175.000000, 449.000000)\" fill=\"#FFFFFF\" fill-rule=\"nonzero\">\n                <path d=\"M0,347.097493 L0,4.90250696 L135.528311,4.90250696 C161.471024,4.90250696 183.639743,9.49741034 202.034469,18.6872171 C220.429194,27.8770239 234.46286,40.8541449 244.135466,57.6185803 C253.808072,74.3830156 258.644376,94.0714804 258.644376,116.683975 C258.644376,139.40786 253.724206,158.929238 243.883867,175.248107 C234.043527,191.566976 219.814173,204.070682 201.195803,212.759227 C182.577434,221.447772 160.073248,225.792044 133.683247,225.792044 L42.9396629,225.792044 L42.9396629,167.64563 L121.941933,167.64563 C135.807866,167.64563 147.325536,165.751973 156.494943,161.964659 C165.66435,158.177344 172.51345,152.496373 177.042243,144.921744 C181.571035,137.347116 183.835432,127.934526 183.835432,116.683975 C183.835432,105.322032 181.571035,95.7423543 177.042243,87.9449425 C172.51345,80.1475308 165.636395,74.2159282 156.411077,70.1501349 C147.185759,66.0843416 135.584222,64.051445 121.606467,64.051445 L72.6284142,64.051445 L72.6284142,347.097493 L0,347.097493 Z M185.512762,191.37204 L270.888889,347.097493 L190.712487,347.097493 L107.181424,191.37204 L185.512762,191.37204 Z\"></path>\n                <polygon points=\"309.166667 347.097493 309.166667 4.90250696 540.126846 4.90250696 540.126846 64.5527072 381.634607 64.5527072 381.634607 146.091356 528.244113 146.091356 528.244113 205.741556 381.634607 205.741556 381.634607 287.447293 540.796296 287.447293 540.796296 347.097493\"></polygon>\n                <path d=\"M901,124.638783 L827.757943,124.638783 C826.420189,115.158428 823.68894,106.709759 819.564197,99.2927757 C815.439454,91.8757921 810.144176,85.5462611 803.678363,80.3041825 C797.212549,75.0621039 789.77129,71.0468948 781.354585,68.2585551 C772.93788,65.4702155 763.824427,64.0760456 754.014228,64.0760456 C736.288981,64.0760456 720.849065,68.4537389 707.69448,77.2091255 C694.539894,85.964512 684.339516,98.6793409 677.093346,115.353612 C669.847176,132.027883 666.224091,152.243346 666.224091,176 C666.224091,200.425856 669.875046,220.948035 677.176956,237.56654 C684.478866,254.185044 694.707113,266.732573 707.861699,275.209125 C721.016285,283.685678 736.233242,287.923954 753.51257,287.923954 C763.21129,287.923954 772.213263,286.641318 780.518488,284.076046 C788.823714,281.510773 796.209233,277.746515 802.675047,272.78327 C809.14086,267.820025 814.519748,261.769328 818.81171,254.631179 C823.103672,247.493029 826.08575,239.351077 827.757943,230.205323 L901,230.539924 C899.104848,246.26616 894.394837,261.406844 886.869968,275.961977 C879.3451,290.51711 869.256201,303.510773 856.603274,314.942966 C843.950346,326.375158 828.900608,335.409379 811.45406,342.045627 C794.007513,348.681876 774.303504,352 752.342035,352 C721.796641,352 694.512024,345.084918 670.488184,331.254753 C646.464343,317.424588 627.512821,297.404309 613.633619,271.193916 C599.754416,244.983523 592.814815,213.252218 592.814815,176 C592.814815,138.636248 599.838026,106.849176 613.884448,80.6387833 C627.93087,54.4283904 646.993871,34.4359949 671.073451,20.661597 C695.153031,6.88719899 722.242559,0 752.342035,0 C772.185393,0 790.607387,2.78833967 807.608016,8.36501901 C824.608646,13.9416984 839.686254,22.0557668 852.840839,32.7072243 C865.995425,43.3586819 876.72533,56.3802281 885.030556,71.7718631 C893.335782,87.1634981 898.65893,104.785805 901,124.638783 Z\"></path>\n            </g>\n        </g>\n    </g>\n</svg>`;\n  }\n\n  if (name === 'recorderoff') {\n    return `<svg width=\"1251px\" height=\"1251px\" viewBox=\"0 0 1251 1251\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <g class=\"bb-rec-on-circle\" fill=\"#EEEEEE\" fill-rule=\"nonzero\">\n              <path d=\"M625.5,0 C970.954111,0 1251,280.045889 1251,625.5 C1251,970.954111 970.954111,1251 625.5,1251 C280.045889,1251 0,970.954111 0,625.5 C0,280.045889 280.045889,0 625.5,0 Z M626,124 C348.753056,124 124,348.753056 124,626 C124,903.246944 348.753056,1128 626,1128 C903.246944,1128 1128,903.246944 1128,626 C1128,348.753056 903.246944,124 626,124 Z\"></path>\n          </g>\n          <g class=\"bb-rec-on-cont\" fill=\"#E31810\" transform=\"translate(86.000000, 86.000000)\" fill-rule=\"nonzero\">\n              <path d=\"M540,0 C241.2,0 0,241.2 0,540 C0,838.8 241.2,1080 540,1080 C838.8,1080 1080,838.8 1080,540 C1080,241.2 838.8,0 540,0 Z M777.6,741.6 C777.6,761.998 761.998,777.6 741.6,777.6 L338.4,777.6 C318.002,777.6 302.4,761.998 302.4,741.6 L302.4,338.4 C302.4,318.002 318.002,302.4 338.4,302.4 L741.6,302.4 C761.998,302.4 777.6,318.002 777.6,338.4 L777.6,741.6 Z\"></path>\n          </g>\n      </g>\n  </svg>`;\n  }\n\n  if (name === 'arrowdown') {\n    return `<svg class=\"bb-logo-arrowdown\" fill=\"${color}\" width=\"100pt\" height=\"100pt\" version=\"1.1\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"m50 77.637c-1.3477 0-2.6953-0.51562-3.7266-1.543l-44.73-44.73c-2.0586-2.0586-2.0586-5.3945 0-7.4531 2.0586-2.0586 5.3945-2.0586 7.4531 0l41.004 41 41.004-41c2.0586-2.0586 5.3945-2.0586 7.4531 0 2.0586 2.0586 2.0586 5.3945 0 7.4531l-44.73 44.727c-1.0312 1.0312-2.3789 1.5469-3.7266 1.5469z\"/>\n   </svg>`;\n  }\n\n  if (name === 'arrowleft') {\n    return `<svg fill=\"${color}\" width=\"100pt\" height=\"100pt\" version=\"1.1\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"m70.988 1.6211c2.1875-2.168 5.7344-2.168 7.9297 0 2.1836 2.168 2.1836 5.7227 0 7.8906l-46.016 40.445 46.016 40.5c2.1836 2.168 2.1836 5.668 0 7.8906-2.1953 2.168-5.7383 2.168-7.9297 0l-50.039-44.109c-1.168-1.168-1.668-2.7227-1.5898-4.2773-0.078125-1.5 0.42188-3.0547 1.5898-4.2227l50.039-44.109z\" fill-rule=\"evenodd\"/>\n   </svg>`;\n  }\n\n  if (name === 'close') {\n    return `<svg fill=\"${color}\" width=\"100pt\" height=\"100pt\" version=\"1.1\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"m72.812 33.02l-5.832-5.832-16.98 16.875-16.98-16.875-5.832 5.832 16.875 16.98-16.875 16.98 5.832 5.832 16.98-16.875 16.98 16.875 5.832-5.832-16.875-16.98z\"/>\n   </svg>`;\n  }\n\n  if (name === 'undo') {\n    return `<svg width=\"62px\" height=\"60px\" viewBox=\"0 0 62 60\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n      <g class=\"bb-svg-path\" transform=\"translate(-0.000500, 0.001926)\" fill-rule=\"nonzero\">\n        <path d=\"M28.0005,51.6270739 C24.9653,51.0684839 22.0825,49.8731739 19.5396,48.1192739 L13.8208,53.8380739 C17.9536,57.0060739 22.8403,59.0333739 28.0008,59.7286739 L28.0005,51.6270739 Z\" id=\"Path\"></path>\n        <path d=\"M2.2705,33.9980739 C2.96581,39.1582739 4.9932,44.0450739 8.1611,48.1780739 L13.8799,42.4592739 C12.126,39.9162739 10.9307,37.0334739 10.3721,33.9983739 L2.2705,33.9980739 Z\" id=\"Path\"></path>\n        <path d=\"M61.7305,33.9980739 L53.6289,33.9980739 C53.07031,37.0332739 51.875,39.9160739 50.1211,42.4589739 L55.8399,48.1777739 C59.0079,44.0449739 61.0352,39.1582739 61.7305,33.9977739 L61.7305,33.9980739 Z\" id=\"Path\"></path>\n        <path d=\"M4.0005,24.9980739 L24.0005,24.9980739 L24.0005,16.9980739 L14.27,16.9980739 C17.6762,12.3613739 22.7622,9.24417393 28.442,8.31057393 C34.1178,7.38088393 39.934,8.70901393 44.645,12.0175739 C49.352,15.3222739 52.5786,20.3417739 53.6294,25.9975739 L61.731,25.9975739 C60.6646,18.0834739 56.4888,10.9235739 50.129,6.09957393 C43.7657,1.27147393 35.746,-0.818426068 27.836,0.290973932 C19.9298,1.39647393 12.793,5.61127393 8,11.9979739 L8,0.997973932 L-3.55271368e-15,0.997973932 L-3.55271368e-15,20.9979739 C-3.55271368e-15,22.0604739 0.42188,23.0760739 1.1719,23.8260739 C1.92192,24.5760739 2.9375,24.9979739 4,24.9979739 L4.0005,24.9980739 Z\" id=\"Path\"></path>\n        <path d=\"M36.0005,51.6270739 L36.0005,59.7286739 C41.1607,59.0333639 46.0475,57.0059739 50.1805,53.8380739 L44.4617,48.1192739 C41.9187,49.8731739 39.0359,51.0684739 36.0008,51.6270739 L36.0005,51.6270739 Z\" id=\"Path\"></path>\n      </g>\n    </g>\n  </svg>`;\n  }\n\n  if (name === 'circle-dot') {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256-96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z\"/></svg>`;\n  }\n\n  if (name === 'circle-question') {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"/></svg>`;\n  }\n\n  if (name === 'circle-info') {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216 192V224h24 48 24v24 88h8 24v48H296 216 192V336h24zm72-144H224V128h64v64z\"/></svg>`;\n  }\n\n  if (name === 'circle-exclamation') {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm24-384v24V264v24H232V264 152 128h48zM232 368V320h48v48H232z\"/></svg>`;\n  }\n\n  if (name === 'circle-up') {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM384 256H304V384H208V256H128V224L256 96 384 224v32z\"/></svg>`;\n  }\n\n  if (name === 'circle-right') {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM256 384l0-80-128 0 0-96 128 0 0-80 32 0L416 256 288 384l-32 0z\"/></svg>`;\n  }\n\n  return '';\n};\n","class GleapNetworkIntercepter {\n  startTimestamp = Date.now();\n  requestId = 0;\n  requests = {};\n  externalRequests = [];\n  maxRequests = 30;\n  filters = [];\n  defaultBlacklist = ['gleap.io'];\n  blacklist = [];\n  initialized = false;\n  stopped = false;\n  loadAllResources = false;\n\n  // GleapNetworkIntercepter singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapNetworkIntercepter();\n    }\n    return this.instance;\n  }\n\n  setLoadAllResources(loadAllResources) {\n    this.loadAllResources = loadAllResources;\n  }\n\n  isContentTypeSupported(contentType) {\n    if (typeof contentType !== 'string') {\n      return false;\n    }\n\n    if (contentType === '') {\n      return true;\n    }\n\n    contentType = contentType.toLocaleLowerCase();\n\n    const supportedContentTypes = ['text/', 'xml', 'json'];\n    for (var i = 0; i < supportedContentTypes.length; i++) {\n      if (contentType.includes(supportedContentTypes[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  getRequests() {\n    var requests = JSON.parse(JSON.stringify(Object.values(this.requests)));\n\n    // Merge external requests into internal requests.\n    if (this.externalRequests && this.externalRequests.length > 0) {\n      requests = requests.concat(this.externalRequests);\n    }\n\n    if (this.filters && this.filters.length > 0) {\n      // Perform network log filtering.\n      for (var i = 0; i < requests.length; i++) {\n        var request = requests[i];\n\n        // Headers\n        if (request && request.request && request.request.headers) {\n          for (var j = 0; j < this.filters.length; j++) {\n            delete request.request.headers[this.filters[j]];\n          }\n        }\n\n        // Payload\n        if (request && request.request && request.request.payload) {\n          var payloadObj = request.request.payload;\n          try {\n            payloadObj = JSON.parse(request.request.payload);\n          } catch (e) {}\n\n          if (payloadObj) {\n            for (var j = 0; j < this.filters.length; j++) {\n              delete payloadObj[this.filters[j]];\n            }\n            request.request.payload = JSON.stringify(payloadObj);\n          }\n        }\n\n        // Response\n        if (request && request.response && request.response.responseText) {\n          try {\n            var data = JSON.parse(request.response.responseText);\n            for (var j = 0; j < this.filters.length; j++) {\n              delete data[this.filters[j]];\n            }\n            request.response.responseText = JSON.stringify(data);\n          } catch (e) {}\n        }\n      }\n    }\n\n    // Get static resources from performance.\n    try {\n      if (typeof window !== 'undefined' && window.performance) {\n        var resources = window.performance.getEntriesByType('resource');\n        for (var i = 0; i < resources.length; i++) {\n          var resource = resources[i];\n          if (resource && resource.name) {\n            if (\n              (this.loadAllResources || ['xmlhttprequest', 'fetch'].indexOf(resource.initiatorType) > -1) &&\n              !requests.find((request) => request.url === resource.name)\n            ) {\n              requests.push({\n                type: 'RESOURCE',\n                date: new Date(this.startTimestamp + resource.startTime),\n                url: resource.name,\n                duration: Math.round(resource.duration),\n                initiatorType: resource.initiatorType,\n              });\n            }\n          }\n        }\n      }\n    } catch (exp) {}\n\n    var blacklist = this.blacklist.concat(this.defaultBlacklist);\n    if (blacklist && blacklist.length > 0) {\n      try {\n        requests = requests.filter((request) => {\n          for (var i = 0; i < blacklist.length; i++) {\n            if (request && request.url && request.url.includes(blacklist[i])) {\n              return false;\n            }\n          }\n          return true;\n        });\n      } catch (exp) {}\n    }\n\n    return requests;\n  }\n\n  setMaxRequests(maxRequests) {\n    if (maxRequests > 70) {\n      maxRequests = 70;\n    }\n    this.maxRequests = maxRequests;\n  }\n\n  setStopped(stopped) {\n    this.stopped = stopped;\n  }\n\n  setFilters(filters) {\n    this.filters = this.filters.concat(filters ? filters : []);\n  }\n\n  setBlacklist(blacklist) {\n    this.blacklist = this.blacklist.concat(blacklist ? blacklist : []);\n  }\n\n  cleanRequests() {\n    var keys = Object.keys(this.requests);\n    if (keys.length > this.maxRequests) {\n      var keysToRemove = keys.slice(0, keys.length - this.maxRequests);\n      for (var i = 0; i < keysToRemove.length; i++) {\n        delete this.requests[keysToRemove[i]];\n      }\n    }\n  }\n\n  calcRequestTime(bbRequestId) {\n    if (!bbRequestId || !this.requests || !this.requests[bbRequestId]) {\n      return;\n    }\n\n    var startDate = this.requests[bbRequestId]['date'];\n    if (startDate) {\n      this.requests[bbRequestId]['duration'] = new Date().getTime() - startDate.getTime();\n    }\n  }\n\n  getTextContentSize(text) {\n    var size = 0;\n    try {\n      size = new TextEncoder().encode(text).length;\n    } catch (exp) {\n      try {\n        size = encodeURI(s).split(/%..|./).length - 1;\n      } catch (exp) {\n        try {\n          size = new Blob([text]).size;\n        } catch (exp) {\n          size = text.length;\n        }\n      }\n    }\n\n    const kiloBytes = size / 1024;\n    const megaBytes = kiloBytes / 1024;\n    return megaBytes;\n  }\n\n  cleanupContentSize(text) {\n    const contentSize = this.getTextContentSize(text);\n    if (contentSize > 0.15) {\n      return '<content_too_large>';\n    }\n\n    return text;\n  }\n\n  cleanupPayload(payload) {\n    if (payload === undefined || payload === null) {\n      return '{}';\n    }\n\n    try {\n      if (typeof TextDecoder !== undefined && ArrayBuffer.isView(payload)) {\n        let value = new TextDecoder().decode(payload);\n        return value;\n      }\n    } catch (exp) {}\n\n    return payload;\n  }\n\n  preparePayload(payload) {\n    var payloadText = this.cleanupPayload(payload);\n    return this.cleanupContentSize(payloadText);\n  }\n\n  start() {\n    if (this.initialized) {\n      return;\n    }\n\n    this.initialized = true;\n    const self = this;\n    this.interceptNetworkRequests({\n      onFetch: (params, bbRequestId) => {\n        if (this.stopped || !bbRequestId || !this.requests) {\n          return;\n        }\n\n        if (params.length > 0 && typeof params[0] !== 'undefined' && typeof params[0].url !== 'undefined') {\n          this.requests[bbRequestId] = {\n            url: params[0].url,\n            date: new Date(),\n            request: {\n              payload: '',\n              headers: typeof params[0].headers !== 'undefined' ? Object.fromEntries(params[0].headers.entries()) : {},\n            },\n            type: typeof params[0].method !== 'undefined' ? params[0].method : '',\n          };\n        } else {\n          if (params.length >= 2 && params[1]) {\n            var method = params[1] && params[1].method ? params[1].method : 'GET';\n            this.requests[bbRequestId] = {\n              request: {\n                payload: self.preparePayload(params[1].body),\n                headers: params[1].headers,\n              },\n              type: method,\n              url: params[0],\n              date: new Date(),\n            };\n          } else {\n            this.requests[bbRequestId] = {\n              url: params[0],\n              date: new Date(),\n            };\n          }\n        }\n\n        this.cleanRequests();\n      },\n      onFetchLoad: (req, bbRequestId) => {\n        if (this.stopped || !bbRequestId || !this.requests || !this.requests[bbRequestId]) {\n          return;\n        }\n\n        try {\n          this.requests[bbRequestId]['success'] = true;\n          this.requests[bbRequestId]['response'] = {\n            status: req.status,\n            statusText: '',\n            responseText: '<request_still_open>',\n          };\n          this.calcRequestTime(bbRequestId);\n        } catch (exp) {}\n\n        try {\n          var contentType = '';\n          if (req.headers && typeof req.headers.get !== 'undefined') {\n            contentType = req.headers.get('content-type');\n          }\n\n          if (this.isContentTypeSupported(contentType)) {\n            req\n              .text()\n              .then((responseText) => {\n                if (this.requests[bbRequestId]) {\n                  this.requests[bbRequestId]['success'] = true;\n                  this.requests[bbRequestId]['response'] = {\n                    status: req.status,\n                    statusText: req.statusText,\n                    responseText: self.cleanupContentSize(responseText),\n                  };\n                }\n                this.calcRequestTime(bbRequestId);\n                this.cleanRequests();\n              })\n              .catch((err) => {\n                this.cleanRequests();\n              });\n          } else {\n            if (this.requests[bbRequestId]) {\n              this.requests[bbRequestId]['success'] = true;\n              this.requests[bbRequestId]['response'] = {\n                status: req.status,\n                statusText: req.statusText,\n                responseText: '<content_type_not_supported>',\n              };\n            }\n            this.calcRequestTime(bbRequestId);\n            this.cleanRequests();\n          }\n        } catch (exp) {}\n      },\n      onFetchFailed: (err, bbRequestId) => {\n        if (this.stopped || !bbRequestId || !this.requests || !this.requests[bbRequestId]) {\n          return;\n        }\n\n        this.requests[bbRequestId]['success'] = false;\n        this.calcRequestTime(bbRequestId);\n        this.cleanRequests();\n      },\n      onOpen: (request, args) => {\n        if (this.stopped) {\n          return;\n        }\n\n        if (request && request.bbRequestId && args.length >= 2 && this.requests) {\n          this.requests[request.bbRequestId] = {\n            type: args[0],\n            url: args[1],\n            date: new Date(),\n          };\n        }\n\n        this.cleanRequests();\n      },\n      onSend: (request, args) => {\n        if (this.stopped) {\n          return;\n        }\n\n        if (request && request.bbRequestId && this.requests && this.requests[request.bbRequestId]) {\n          this.requests[request.bbRequestId]['request'] = {\n            payload: this.preparePayload(args.length > 0 ? args[0] : '{}'),\n            headers: request.requestHeaders,\n          };\n        }\n\n        this.cleanRequests();\n      },\n      onError: (request, args) => {\n        if (\n          !this.stopped &&\n          this.requests &&\n          request &&\n          request.currentTarget &&\n          request.currentTarget.bbRequestId &&\n          this.requests[request.currentTarget.bbRequestId]\n        ) {\n          this.requests[request.currentTarget.bbRequestId]['success'] = false;\n          this.calcRequestTime(request.bbRequestId);\n        }\n\n        this.cleanRequests();\n      },\n      onLoad: (request, args) => {\n        if (this.stopped) {\n          return;\n        }\n\n        if (\n          request &&\n          request.currentTarget &&\n          request.currentTarget.bbRequestId &&\n          this.requests &&\n          this.requests[request.currentTarget.bbRequestId]\n        ) {\n          var target = request.currentTarget;\n          var responseType = target.responseType;\n          var responseText = '<' + responseType + '>';\n          if (responseType === '' || responseType === 'text') {\n            responseText = this.cleanupContentSize(target.responseText);\n          }\n\n          this.requests[target.bbRequestId]['success'] = true;\n          this.requests[target.bbRequestId]['response'] = {\n            status: target.status,\n            statusText: target.statusText,\n            responseText: responseText,\n          };\n\n          this.calcRequestTime(target.bbRequestId);\n        }\n\n        this.cleanRequests();\n      },\n    });\n  }\n\n  interceptNetworkRequests(callback) {\n    var self = this;\n    const open = XMLHttpRequest.prototype.open;\n    const send = XMLHttpRequest.prototype.send;\n\n    // Only override open and send if they haven't been overridden already.\n    if (XMLHttpRequest.prototype.gleapSetRequestHeader === undefined) {\n      XMLHttpRequest.prototype.gleapSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;\n    }\n\n    if (XMLHttpRequest.prototype.gleapSetRequestHeader) {\n      XMLHttpRequest.prototype.setRequestHeader = function (header, value) {\n        if (!this.requestHeaders) {\n          this.requestHeaders = {};\n        }\n\n        if (this.requestHeaders && this.requestHeaders.hasOwnProperty(header)) {\n          return;\n        }\n\n        if (!this.requestHeaders[header]) {\n          this.requestHeaders[header] = [];\n        }\n\n        this.requestHeaders[header].push(value);\n        this.gleapSetRequestHeader(header, value);\n      };\n    }\n\n    XMLHttpRequest.prototype.open = function () {\n      this['bbRequestId'] = ++self.requestId;\n      callback.onOpen && callback.onOpen(this, arguments);\n      if (callback.onLoad) {\n        this.addEventListener('load', callback.onLoad.bind(callback));\n      }\n      if (callback.onError) {\n        this.addEventListener('error', callback.onError.bind(callback));\n      }\n      return open.apply(this, arguments);\n    };\n    XMLHttpRequest.prototype.send = function () {\n      callback.onSend && callback.onSend(this, arguments);\n      return send.apply(this, arguments);\n    };\n\n    if (window.fetch) {\n      (function () {\n        var originalFetch = window.fetch;\n        window.fetch = function () {\n          var bbRequestId = ++self.requestId;\n          callback.onFetch(arguments, bbRequestId);\n\n          return originalFetch\n            .apply(this, arguments)\n            .then(function (response) {\n              if (response && typeof response.clone === 'function') {\n                const data = response.clone();\n                callback.onFetchLoad(data, bbRequestId);\n              }\n\n              return response;\n            })\n            .catch((err) => {\n              callback.onFetchFailed(err, bbRequestId);\n              throw err;\n            });\n        };\n      })();\n    }\n\n    return callback;\n  }\n\n  blobToTextPromise(blob) {\n    return new Promise(function (resolve, reject) {\n      var fr = new FileReader();\n      fr.onload = function (evt) {\n        if (evt && evt.target && evt.target.result) {\n          resolve(evt.target.result);\n        } else {\n          reject();\n        }\n      };\n      fr.onerror = function (err) {\n        reject(err);\n      };\n      fr.readAsText(blob);\n    });\n  }\n}\n\nexport default GleapNetworkIntercepter;\n","export const resizeImage = (base64Str, maxWidth = 400, maxHeight = 400) => {\n  return new Promise((resolve, reject) => {\n    var isJPEG = base64Str.indexOf('data:image/jpeg') === 0;\n    var img = new Image();\n    img.src = base64Str;\n    img.onerror = () => {\n      reject();\n    };\n    img.onload = () => {\n      var canvas = document.createElement('canvas');\n      var MAX_WIDTH = maxWidth;\n      var MAX_HEIGHT = maxHeight;\n\n      // Adjust max width / height based on image props\n      if (maxWidth > img.width / 1.5) {\n        MAX_WIDTH = img.width / 1.5;\n      }\n\n      if (maxHeight > img.height / 1.5) {\n        MAX_HEIGHT = img.height / 1.5;\n      }\n\n      var width = img.width;\n      var height = img.height;\n\n      if (width > height) {\n        if (width > MAX_WIDTH) {\n          height *= MAX_WIDTH / width;\n          width = MAX_WIDTH;\n        }\n      } else {\n        if (height > MAX_HEIGHT) {\n          width *= MAX_HEIGHT / height;\n          height = MAX_HEIGHT;\n        }\n      }\n      canvas.width = width;\n      canvas.height = height;\n      var ctx = canvas.getContext('2d');\n      ctx.drawImage(img, 0, 0, width, height);\n\n      if (isJPEG) {\n        resolve(canvas.toDataURL('image/jpeg', 0.7));\n      } else {\n        resolve(canvas.toDataURL());\n      }\n    };\n  });\n};\n\nconst MOBILE_UA_REGEX = /(android|iphone|ipod|ipad|blackberry|iemobile|opera mini|webos)/i;\n\nexport const getDeviceType = () => {\n  return isMobile() ? 'mobile' : 'desktop';\n};\n\nexport const isMobile = () => {\n  if (typeof window === 'undefined') {\n    return false;\n  }\n\n  try {\n    const nav = typeof navigator !== 'undefined' ? navigator : undefined;\n\n    if (nav?.userAgentData && typeof nav.userAgentData.mobile === 'boolean' && nav.userAgentData.mobile !== null) {\n      return nav.userAgentData.mobile;\n    }\n\n    if (nav && MOBILE_UA_REGEX.test(nav.userAgent || nav.vendor || '')) {\n      return true;\n    }\n\n    if (nav?.maxTouchPoints > 1 && window.matchMedia) {\n      const coarsePointer = window.matchMedia('(hover: none) and (pointer: coarse)');\n      if (coarsePointer?.matches) {\n        return true;\n      }\n    }\n  } catch (exp) {\n    // Swallow errors and treat as desktop fallback.\n  }\n\n  return false;\n};\n\nexport const gleapDataParser = function (data) {\n  if (!data) {\n    return {};\n  }\n  if (typeof data === 'string' || data instanceof String) {\n    try {\n      return JSON.parse(data);\n    } catch (e) {\n      return {};\n    }\n  }\n  return data;\n};\n\nexport const truncateString = (str, num) => {\n  if (str.length > num) {\n    return str.slice(0, num) + '...';\n  } else {\n    return str;\n  }\n};\n\nconst removeSubDomain = (v) => {\n  try {\n    var parts = v.split('.');\n    var is2ndLevelDomain = false;\n    const secondLevel = parts[parts.length - 2];\n    if (\n      secondLevel === 'co' ||\n      secondLevel === 'com' ||\n      secondLevel === 'gv' ||\n      secondLevel === 'ac' ||\n      secondLevel === 'edu' ||\n      secondLevel === 'gov' ||\n      secondLevel === 'mil' ||\n      secondLevel === 'net' ||\n      secondLevel === 'org'\n    ) {\n      is2ndLevelDomain = true;\n    }\n    parts = parts.slice(is2ndLevelDomain ? -3 : -2);\n    return parts.join('.');\n  } catch (exp) {}\n  return v;\n};\n\nexport const loadFromGleapCache = (key) => {\n  try {\n    const cachedData = localStorage.getItem(`gleap-widget-${key}`);\n    if (cachedData) {\n      const config = JSON.parse(cachedData);\n      return config;\n    }\n  } catch (exp) {}\n  return null;\n};\n\nexport const saveToGleapCache = (key, data) => {\n  const k = `gleap-widget-${key}`;\n  if (data) {\n    try {\n      localStorage.setItem(k, JSON.stringify(data));\n    } catch (exp) {}\n  } else {\n    localStorage.removeItem(k);\n  }\n};\n\nexport const clearGleapCache = (key) => {\n  try {\n    const k = `gleap-widget-${key}`;\n    localStorage.removeItem(k);\n  } catch {}\n};\n\nexport const setGleapCookie = (name, value, days) => {\n  try {\n    var expires = '';\n    if (days) {\n      var date = new Date();\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n      expires = '; expires=' + date.toUTCString();\n    }\n    const host = removeSubDomain(window.location.host.split(':')[0]);\n    document.cookie = name + '=' + (value || '') + expires + '; path=/; domain=' + host;\n  } catch (exp) {}\n};\n\nexport const getGleapCookie = (name) => {\n  try {\n    var nameEQ = name + '=';\n    var ca = document.cookie.split(';');\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n    }\n  } catch (exp) {}\n  return null;\n};\n\nexport const eraseGleapCookie = (name) => {\n  try {\n    const host = removeSubDomain(window.location.host.split(':')[0]);\n    document.cookie = name + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; Domain=' + host;\n  } catch (exp) {}\n};\n\nexport const getDOMElementDescription = (element, html = true) => {\n  var innerText = truncateString(element.innerText || '', 40)\n    .replace(/(\\r\\n|\\n|\\r)/gm, '')\n    .replace(/ +(?= )/g, '');\n  var elementId = '';\n  var elementClass = '';\n  if (typeof element.getAttribute !== 'undefined') {\n    const elemId = element.getAttribute('id');\n    if (elemId) {\n      elementId = ` id=\"${elemId}\"`;\n    }\n    const elemClass = element.getAttribute('class');\n    if (elemClass) {\n      elementClass = ` class=\"${elemClass}\"`;\n    }\n  }\n  const elementTag = (element.tagName || '').toLowerCase();\n\n  var htmlPre = '<';\n  var htmlPost = '>';\n  if (!html) {\n    htmlPre = '[';\n    htmlPost = ']';\n  }\n\n  return `${htmlPre}${elementTag}${elementId}${elementClass}${htmlPost}${innerText}${htmlPre}/${elementTag}${htmlPost}`;\n};\n\nexport const runFunctionWhenDomIsReady = (callback) => {\n  if (document.readyState === 'complete' || document.readyState === 'loaded' || document.readyState === 'interactive') {\n    callback();\n  } else {\n    document.addEventListener('DOMContentLoaded', () => {\n      callback();\n    });\n  }\n};\n\nexport const fixGleapHeight = () => {\n  try {\n    if ('visualViewport' in window && /iPad|iPhone|iPod/.test(navigator.userAgent)) {\n      let initialHeight = window.innerHeight;\n\n      function updateContainerHeight() {\n        try {\n          const gleapFrameContainer = document.querySelector('.gleap-frame-container-inner iframe');\n\n          if (!gleapFrameContainer) {\n            return;\n          }\n\n          // Check if the keyboard is open\n          if (window.visualViewport.height < initialHeight) {\n            gleapFrameContainer.style.setProperty('max-height', window.visualViewport.height + 'px', 'important');\n          } else {\n            // Remove the padding bottom\n            gleapFrameContainer.style.removeProperty('max-height');\n          }\n        } catch (error) {}\n      }\n\n      function handleOrientationChange() {\n        try {\n          // Update initial dimensions\n          initialHeight = window.innerHeight;\n          updateContainerHeight();\n        } catch (error) {}\n      }\n\n      // Update on resize (keyboard show/hide and viewport resize)\n      window.visualViewport.addEventListener('resize', updateContainerHeight);\n\n      // Handle orientation changes\n      window.addEventListener('orientationchange', handleOrientationChange);\n\n      // Update initially\n      updateContainerHeight();\n    }\n  } catch (error) {}\n};\n","import { GleapSession, GleapTranslationManager } from './Gleap'; // Adjust path if needed\n\n// Enum for request states\nconst RequestStatus = {\n  PENDING: 'pending',\n  SUCCESS: 'success',\n  ERROR: 'error',\n};\n\nclass ChecklistNetworkManager {\n  static instance = null;\n\n  /** @private {Map<string, Promise<string>>} outboundId -> Promise<internalId> */\n  validationRequests = new Map();\n  /** @private {Map<string, { status: RequestStatus, internalId?: string, error?: any }>} */\n  validationCache = new Map(); // Caches final results (success/error)\n\n  /** @private {Map<string, Promise<any>>} internalId -> Promise<checklistData> */\n  fetchRequests = new Map();\n  /** @private {Map<string, { status: RequestStatus, data?: any, error?: any }>} */\n  fetchCache = new Map(); // Caches final results (success/error)\n\n  // Private constructor for Singleton\n  constructor() {\n    if (ChecklistNetworkManager.instance) {\n      return ChecklistNetworkManager.instance;\n    }\n    ChecklistNetworkManager.instance = this;\n  }\n\n  /**\n   * Gets the singleton instance of the ChecklistNetworkManager.\n   * @returns {ChecklistNetworkManager} The singleton instance.\n   */\n  static getInstance() {\n    if (!ChecklistNetworkManager.instance) {\n      ChecklistNetworkManager.instance = new ChecklistNetworkManager();\n    }\n    return ChecklistNetworkManager.instance;\n  }\n\n  clearCache() {\n    this.validationCache.clear();\n    this.fetchCache.clear();\n    this.validationRequests.clear();\n    this.fetchRequests.clear();\n  }\n\n  /**\n   * @private\n   * Gets common query parameters for API requests.\n   * @returns {string} Query parameter string.\n   */\n  _getQueryParams() {\n    const gleapSessionInstance = GleapSession.getInstance();\n    const session = gleapSessionInstance?.session;\n    const lang = GleapTranslationManager.getInstance().getActiveLanguage() || 'en';\n    return `gleapId=${session?.gleapId || ''}&gleapHash=${session?.gleapHash || ''}&lang=${lang}`;\n  }\n\n  /**\n   * @private\n   * Gets the API base URL.\n   * @returns {string | null} The API URL or null if not configured.\n   */\n  _getApiUrl() {\n    const gleapSessionInstance = GleapSession.getInstance();\n    return gleapSessionInstance?.apiUrl || null;\n  }\n\n  /**\n   * @private\n   * Makes an XMLHttpRequest and returns a Promise.\n   * @param {string} method - HTTP method.\n   * @param {string} url - The request URL.\n   * @param {object|null} data - Data to send in the request body.\n   * @returns {Promise<any>} Promise resolving with parsed JSON response on success, rejecting on error.\n   */\n  _makeRequest(method, url, data) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open(method, url);\n\n      const gleapSessionInstance = GleapSession.getInstance();\n      gleapSessionInstance?.injectSession(xhr); // Inject session headers\n\n      if (data) {\n        xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n      }\n\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === 4) {\n          if (xhr.status >= 200 && xhr.status < 300) {\n            try {\n              // Handle potential empty success responses (e.g., 204)\n              const responseData = xhr.responseText ? JSON.parse(xhr.responseText) : null;\n              resolve(responseData);\n            } catch (err) {\n              reject({\n                status: xhr.status,\n                statusText: 'JSON Parse Error',\n                responseText: xhr.responseText,\n                error: err,\n              });\n            }\n          } else {\n            reject({\n              status: xhr.status,\n              statusText: xhr.statusText,\n              responseText: xhr.responseText,\n            });\n          }\n        }\n      };\n\n      xhr.onerror = () => {\n        reject({ status: 0, statusText: 'Network Error', responseText: null });\n      };\n\n      xhr.send(data ? JSON.stringify(data) : null);\n    });\n  }\n\n  /**\n   * @private\n   * Creates a cache key from outboundId and sharedKey\n   * @param {string} outboundId - The public/outbound checklist ID.\n   * @param {string|undefined} sharedKey - Optional shared key.\n   * @returns {string} Combined cache key.\n   */\n  _createCacheKey(outboundId, sharedKey) {\n    return sharedKey ? `${outboundId}::${sharedKey}` : outboundId;\n  }\n\n  /**\n   * Validates an outbound checklist ID, returning a Promise for the internal ID.\n   * Manages caching and deduplicates requests.\n   * @param {string} outboundId - The public/outbound checklist ID.\n   * @param {string} [sharedKey] - Optional shared key for the checklist.\n   * @returns {Promise<string>} A promise that resolves with the internal checklist ID.\n   */\n  validateChecklist(outboundId, sharedKey) {\n    const cacheKey = this._createCacheKey(outboundId, sharedKey);\n\n    // 1. Check cache for final result (success or error)\n    const cachedResult = this.validationCache.get(cacheKey);\n    if (cachedResult) {\n      if (cachedResult.status === RequestStatus.SUCCESS) {\n        return Promise.resolve(cachedResult.internalId);\n      } else {\n        return Promise.reject(cachedResult.error);\n      }\n    }\n\n    // 2. Check for an ongoing request\n    if (this.validationRequests.has(cacheKey)) {\n      return this.validationRequests.get(cacheKey);\n    }\n\n    // 3. Start a new request\n    const apiUrl = this._getApiUrl();\n    if (!apiUrl) {\n      const error = new Error('ChecklistNetworkManager: Gleap API URL not configured.');\n      this.validationCache.set(cacheKey, {\n        status: RequestStatus.ERROR,\n        error,\n      });\n      return Promise.reject(error);\n    }\n\n    const url = `${apiUrl}/outbound/checklists?${this._getQueryParams()}`;\n    const requestPromise = this._makeRequest('POST', url, {\n      outboundId,\n      sharedKey,\n    })\n      .then((responseData) => {\n        if (responseData && responseData.id) {\n          this.validationCache.set(cacheKey, {\n            status: RequestStatus.SUCCESS,\n            internalId: responseData.id,\n          });\n          return responseData.id;\n        } else {\n          const error = new Error('Validation response missing checklist ID.');\n          this.validationCache.set(cacheKey, {\n            status: RequestStatus.ERROR,\n            error: responseData || error,\n          });\n          throw error; // Rethrow to be caught by catch block\n        }\n      })\n      .catch((error) => {\n        // Store the error object itself in the cache\n        this.validationCache.set(cacheKey, {\n          status: RequestStatus.ERROR,\n          error,\n        });\n        throw error; // Re-throw so callers can catch it\n      })\n      .finally(() => {\n        // Remove from pending requests map once done (success or fail)\n        this.validationRequests.delete(cacheKey);\n      });\n\n    // Store the promise for potential concurrent requests\n    this.validationRequests.set(cacheKey, requestPromise);\n    return requestPromise;\n  }\n\n  /**\n   * Fetches the full checklist data using the internal ID, returning a Promise.\n   * Manages caching and deduplicates requests.\n   * @param {string} internalId - The internal checklist ID.\n   * @returns {Promise<object>} A promise that resolves with the full checklist data.\n   */\n  fetchChecklist(internalId) {\n    // 1. Check cache for final result (success or error)\n    const cachedResult = this.fetchCache.get(internalId);\n    if (cachedResult) {\n      if (cachedResult.status === RequestStatus.SUCCESS) {\n        // Return a deep copy to prevent mutation issues if multiple components use it\n        return Promise.resolve(JSON.parse(JSON.stringify(cachedResult.data)));\n      } else {\n        return Promise.reject(cachedResult.error);\n      }\n    }\n\n    // 2. Check for an ongoing request\n    if (this.fetchRequests.has(internalId)) {\n      // Return a promise that resolves with a deep copy\n      return this.fetchRequests.get(internalId).then((data) => JSON.parse(JSON.stringify(data)));\n    }\n\n    // 3. Start a new request\n    const apiUrl = this._getApiUrl();\n    if (!apiUrl) {\n      const error = new Error('ChecklistNetworkManager: Gleap API URL not configured.');\n      this.fetchCache.set(internalId, { status: RequestStatus.ERROR, error });\n      return Promise.reject(error);\n    }\n\n    const url = `${apiUrl}/outbound/checklists/${internalId}?convertTipTap=true&${this._getQueryParams()}`;\n    const requestPromise = this._makeRequest('GET', url, null)\n      .then((responseData) => {\n        if (responseData) {\n          // Cache the successful data\n          this.fetchCache.set(internalId, {\n            status: RequestStatus.SUCCESS,\n            data: responseData,\n          });\n          // Return a deep copy of the data\n          return JSON.parse(JSON.stringify(responseData));\n        } else {\n          // Should not happen with successful GET usually, but handle defensively\n          const error = new Error('Empty response received for checklist fetch.');\n          this.fetchCache.set(internalId, {\n            status: RequestStatus.ERROR,\n            error: responseData || error,\n          });\n          throw error;\n        }\n      })\n      .catch((error) => {\n        this.fetchCache.set(internalId, { status: RequestStatus.ERROR, error });\n        throw error; // Re-throw so callers can catch it\n      })\n      .finally(() => {\n        // Remove from pending requests map once done (success or fail)\n        this.fetchRequests.delete(internalId);\n      });\n\n    this.fetchRequests.set(internalId, requestPromise);\n    // Return a promise that resolves with a deep copy\n    return requestPromise.then((data) => JSON.parse(JSON.stringify(data)));\n  }\n}\n\nexport default ChecklistNetworkManager;\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nconst yAxisSides = /*#__PURE__*/new Set(['top', 'bottom']);\nfunction getSideAxis(placement) {\n  return yAxisSides.has(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nconst lrPlacement = ['left', 'right'];\nconst rlPlacement = ['right', 'left'];\nconst tbPlacement = ['top', 'bottom'];\nconst btPlacement = ['bottom', 'top'];\nfunction getSideList(side, isStart, rtl) {\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rlPlacement : lrPlacement;\n      return isStart ? lrPlacement : rlPlacement;\n    case 'left':\n    case 'right':\n      return isStart ? tbPlacement : btPlacement;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = rect;\n  return {\n    width,\n    height,\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    var _platform$detectOverf;\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform: {\n        ...platform,\n        detectOverflow: (_platform$detectOverf = platform.detectOverflow) != null ? _platform$detectOverf : detectOverflow\n      },\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await platform.detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await platform.detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          if (!ignoreCrossAxisOverflow ||\n          // We leave the current main axis only if every placement on that axis\n          // overflows the main axis.\n          overflowsData.every(d => getSideAxis(d.placement) === initialSideAxis ? d.overflows[0] > 0 : true)) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects,\n        platform\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await platform.detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await platform.detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        platform\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await platform.detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = originSides.has(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await platform.detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function hasWindow() {\n  return typeof window !== 'undefined';\n}\nfunction getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  if (!hasWindow()) {\n    return false;\n  }\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nconst invalidOverflowDisplayValues = /*#__PURE__*/new Set(['inline', 'contents']);\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\n}\nconst tableElements = /*#__PURE__*/new Set(['table', 'td', 'th']);\nfunction isTableElement(element) {\n  return tableElements.has(getNodeName(element));\n}\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(element) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return element.matches(selector);\n    } catch (_e) {\n      return false;\n    }\n  });\n}\nconst transformProperties = ['transform', 'translate', 'scale', 'rotate', 'perspective'];\nconst willChangeValues = ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'];\nconst containValues = ['paint', 'layout', 'strict', 'content'];\nfunction isContainingBlock(elementOrCss) {\n  const webkit = isWebKit();\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\n  return transformProperties.some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(value => (css.willChange || '').includes(value)) || containValues.some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else if (isTopLayer(currentNode)) {\n      return null;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nconst lastTraversableNodeNames = /*#__PURE__*/new Set(['html', 'body', '#document']);\nfunction isLastTraversableNode(node) {\n  return lastTraversableNodeNames.has(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    const frameElement = getFrameElement(win);\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\nfunction getFrameElement(win) {\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\n","import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle as getComputedStyle$1, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll) {\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Safety check: ensure the scrollbar space is reasonable in case this\n// calculation is affected by unusual styles.\n// Most scrollbars leave 15-18px of space.\nconst SCROLLBAR_MAX = 25;\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  const windowScrollbarX = getWindowScrollBarX(html);\n  // <html> `overflow: hidden` + `scrollbar-gutter: stable` reduces the\n  // visual width of the <html> but this is not considered in the size\n  // of `html.clientWidth`.\n  if (windowScrollbarX <= 0) {\n    const doc = html.ownerDocument;\n    const body = doc.body;\n    const bodyStyles = getComputedStyle(body);\n    const bodyMarginInline = doc.compatMode === 'CSS1Compat' ? parseFloat(bodyStyles.marginLeft) + parseFloat(bodyStyles.marginRight) || 0 : 0;\n    const clippingStableScrollbarWidth = Math.abs(html.clientWidth - body.clientWidth - bodyMarginInline);\n    if (clippingStableScrollbarWidth <= SCROLLBAR_MAX) {\n      width -= clippingStableScrollbarWidth;\n    }\n  } else if (windowScrollbarX <= SCROLLBAR_MAX) {\n    // If the <body> scrollbar is on the left, the width needs to be extended\n    // by the scrollbar amount so there isn't extra space on the right.\n    width += windowScrollbarX;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n","export const checkPageFilter = (currentUrl, pageFilter, pageFilterType) => {\n  // If any parameter is missing, consider the filter passed.\n  if (!currentUrl || !pageFilter || !pageFilterType) {\n    return true;\n  }\n\n  // Helper to remove trailing slashes.\n  const removeTrailingSlash = (url) => url.replace(/\\/$/, '');\n\n  // Generates a regex from a match string by replacing dynamic segments (e.g., {id}).\n  const generateRegex = (match) => {\n    if (!match) return null;\n    try {\n      // If match starts with \"/\", remove it to work with Regex\n      if (match.startsWith('/')) {\n        match = match.substring(1);\n      }\n\n      // Replace dynamic patterns {anything} with a placeholder first\n      var dynamicPattern = /{\\w+}/g;\n      var regexPattern = match.replace(dynamicPattern, '___PLACEHOLDER___');\n\n      // Escape special regex characters in the URL pattern\n      regexPattern = regexPattern.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n      // Replace our placeholder with the actual regex pattern\n      regexPattern = regexPattern.replace(/___PLACEHOLDER___/g, '[^&?]+');\n      var pattern = new RegExp(regexPattern, 'i');\n\n      return pattern;\n    } catch (e) {\n      return null;\n    }\n  };\n\n  // Checks if the provided URL matches the given match string.\n  const isMatchingUrl = (url, match) => {\n    if (!url || !match) return false;\n    try {\n      // First, a simple substring check.\n      if (url.includes(match)) {\n        return true;\n      }\n    } catch (e) {\n      // Continue to regex matching.\n    }\n    const regex = generateRegex(match);\n    if (!regex) return false;\n    try {\n      return regex.test(url);\n    } catch (e) {\n      return false;\n    }\n  };\n\n  let matched = false;\n\n  // Check matching based on the provided pageFilterType.\n  switch (pageFilterType) {\n    case 'is':\n      matched = removeTrailingSlash(currentUrl) === removeTrailingSlash(pageFilter);\n      break;\n    case 'isnot':\n      matched = removeTrailingSlash(currentUrl) !== removeTrailingSlash(pageFilter);\n      break;\n    case 'contains':\n      matched = isMatchingUrl(currentUrl, pageFilter);\n      break;\n    case 'startswith':\n      matched = currentUrl.startsWith(pageFilter);\n      break;\n    case 'endswith':\n      matched = currentUrl.endsWith(pageFilter);\n      break;\n    case 'notcontains':\n      matched = !isMatchingUrl(currentUrl, pageFilter);\n      break;\n    default:\n      matched = false;\n  }\n\n  return matched;\n};\n","import { arrow, autoUpdate, computePosition, flip, offset, shift } from '@floating-ui/dom';\nimport { GleapSession } from './Gleap';\nimport { loadIcon } from './UI';\nimport { checkPageFilter } from './GleapPageFilter';\n\nexport default class GleapTooltipManager {\n  tooltips = [];\n  filteredTooltips = [];\n  lastUrl = null;\n  elementToFloatingUIMap = new WeakMap();\n  elementToTooltipMap = new WeakMap();\n  nextId = 0;\n\n  // GleapTooltipManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapTooltipManager();\n      this.instance.start();\n    }\n    return this.instance;\n  }\n\n  // Recursive function to process each node and its children\n  processNodeInsertion(node) {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      // Check the node itself\n      this.checkNodeTooltip(node);\n\n      // Check all children of the node recursively\n      if (node.childNodes) {\n        node.childNodes.forEach((childNode) => {\n          this.processNodeInsertion(childNode);\n        });\n      }\n    }\n  }\n\n  // Function to check a single node against the filtered tooltips\n  checkNodeTooltip(node) {\n    if (this.filteredTooltips.length > 0) {\n      this.filteredTooltips.forEach((tooltip) => {\n        if (tooltip.selector && node.matches(tooltip.selector)) {\n          this.linkTooltip(node, tooltip);\n        }\n      });\n    }\n  }\n\n  start() {\n    const self = this;\n\n    if (!window) {\n      return;\n    }\n\n    const throttle = (fn, time) => {\n      let timeout = null;\n      return function () {\n        if (timeout) return;\n        const context = this;\n        const args = arguments;\n        const later = () => {\n          fn.call(context, ...args);\n          timeout = null;\n        };\n        timeout = setTimeout(later, time);\n      };\n    };\n\n    const handleResizeThrottled = throttle(self.updateHotspotPositions.bind(self), 250);\n    window.addEventListener('resize', handleResizeThrottled);\n\n    window.requestAnimationFrame(() => {\n      this.observer = new MutationObserver((mutations) => {\n        if (self.lastUrl !== window.location.href) {\n          self.lastUrl = window.location.href;\n          self.filteredTooltips = self.getFilteredTooltips();\n        }\n\n        mutations.forEach((mutation) => {\n          // Check for attribute changes that might affect hotspot positioning\n          if (mutation.type === 'attributes') {\n            const target = mutation.target;\n            if (target.nodeType === Node.ELEMENT_NODE) {\n              // Check if the changed element has tooltip hotspots or is a parent of tooltip elements\n              const hasTooltipHotspots =\n                target.querySelector('[data-gleap-tooltip-hotspot]') || target.hasAttribute('data-gleap-tooltip-mode');\n\n              if (hasTooltipHotspots || target.hasAttribute('data-gleap-tooltip')) {\n                self.updateHotspotPositions();\n              }\n            }\n          }\n\n          // Check for added nodes\n          mutation.addedNodes.forEach((node) => {\n            if (node.nodeType === Node.ELEMENT_NODE) {\n              self.processNodeInsertion(node);\n            }\n          });\n\n          // Check for removed nodes\n          mutation.removedNodes.forEach((node) => {\n            if (node.nodeType === Node.ELEMENT_NODE && this.elementToFloatingUIMap.has(node)) {\n              const floatingUI = this.elementToFloatingUIMap.get(node);\n              if (floatingUI) {\n                if (floatingUI.tooltip) {\n                  floatingUI.tooltip.remove();\n                }\n                floatingUI.cleanup();\n\n                this.elementToFloatingUIMap.delete(node);\n              }\n            }\n\n            if (this.elementToTooltipMap.has(node)) {\n              this.elementToTooltipMap.delete(node);\n            }\n          });\n        });\n      });\n\n      // Start observing the document for changes.\n      this.observer.observe(document.body, {\n        childList: true,\n        subtree: true,\n        attributes: true,\n        attributeFilter: ['style', 'class'],\n      });\n    });\n  }\n\n  updateHotspotPositions() {\n    const elements = document.querySelectorAll(`[data-gleap-tooltip-mode='hotspot']`);\n    elements.forEach((element) => {\n      const tooltip = this.elementToTooltipMap.get(element);\n      if (tooltip) {\n        this.repositionHotspot(element, tooltip);\n      }\n    });\n  }\n\n  createTooltip(element, tooltipText, tooltipData) {\n    // Create tooltip element\n    const tooltip = document.createElement('div');\n    tooltip.className = 'gleap-tooltip';\n    tooltip.innerHTML = `<div class=\"gleap-tooltip-inner\">\n            ${tooltipText}\n            <div class=\"gleap-tooltip-arrow\">\n                <svg width=\"116\" height=\"56\" viewBox=\"0 0 116 56\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M57.75 0.74998L115.5 0.680177L66.8726 49.3076C61.7958 54.3844 53.5646 54.3844 48.4878 49.3076L4.05618e-05 0.819784L57.75 0.74998Z\" fill=\"white\"/>\n                </svg>\n            </div>\n        </div>`;\n    document.body.appendChild(tooltip);\n\n    // Create a Popper instance with arrow and offset\n\n    const arrowEl = tooltip.querySelector('.gleap-tooltip-arrow');\n    const cleanup = autoUpdate(element, tooltip, () => {\n      computePosition(element, tooltip, {\n        placement: tooltipData.posX === 'left' ? 'left' : 'right',\n        middleware: [offset(10), flip(), shift(), arrow({ element: arrowEl })],\n      }).then(({ x, y, middlewareData, placement }) => {\n        try {\n          Object.assign(tooltip.style, {\n            left: `${x}px`,\n            top: `${y}px`,\n          });\n\n          if (middlewareData.arrow) {\n            let arrowSize = 20; // Arrow size should be consistent with the border width used in CSS\n            let arrowPos = { left: '', top: '', transform: '' };\n\n            if (middlewareData.arrow.x != null) {\n              arrowPos.left = `${middlewareData.arrow.x}px`;\n              if (placement === 'bottom') {\n                arrowPos.transform = 'translateY(-7px) rotate(180deg)';\n                arrowPos.top = `${-arrowSize}px`; // Move arrow outside the tooltip\n              } else if (placement === 'top') {\n                arrowPos.transform = 'translateY(7px) rotate(0deg)';\n                arrowPos.top = `100%`; // Adjust based on the tooltip's height\n              }\n            }\n            if (middlewareData.arrow.y != null) {\n              arrowPos.top = `${middlewareData.arrow.y}px`;\n              if (placement === 'right') {\n                arrowPos.transform = 'translateX(-7px) rotate(90deg)';\n                arrowPos.left = `${-arrowSize}px`; // Move arrow outside the tooltip\n              } else if (placement === 'left') {\n                arrowPos.transform = 'translateX(7px) rotate(270deg)';\n                arrowPos.left = `100%`; // Adjust based on the tooltip's width\n              }\n            }\n            // Apply the computed styles to the arrow\n            Object.assign(arrowEl.style, arrowPos);\n          }\n        } catch (exp) {}\n      });\n    });\n\n    let hideTimeout;\n\n    function show() {\n      clearTimeout(hideTimeout);\n      tooltip.style.visibility = 'visible';\n      tooltip.style.opacity = '1';\n      tooltip.style.pointerEvents = 'auto';\n    }\n\n    function hide() {\n      hideTimeout = setTimeout(() => {\n        tooltip.style.opacity = '0';\n\n        setTimeout(() => {\n          tooltip.style.visibility = 'hidden';\n          tooltip.style.pointerEvents = 'none';\n        }, 200);\n      }, 500);\n    }\n\n    // Event listeners to show/hide the tooltip\n    element.addEventListener('mouseenter', show);\n    element.addEventListener('mouseleave', hide);\n    tooltip.addEventListener('mouseenter', show);\n    tooltip.addEventListener('mouseleave', hide);\n\n    element.addEventListener('click', hide);\n    tooltip.addEventListener('click', hide);\n\n    return {\n      cleanup,\n      tooltip,\n    };\n  }\n\n  canEmbed(element) {\n    const voidElements = new Set(['area', 'base', 'br', 'embed', 'hr', 'img', 'input', 'source', 'track', 'wbr', 'canvas']);\n\n    return element && !voidElements.has(element.tagName.toLowerCase());\n  }\n\n  linkTooltip = (element, tooltip) => {\n    if (element.hasAttribute('data-gleap-tooltip')) {\n      return;\n    }\n\n    const nextId = this.nextId++;\n    element.setAttribute('data-gleap-tooltip', nextId);\n    if (element) {\n      var tooltipElem = null;\n\n      if (tooltip.mode === 'hotspot') {\n        // Create hotspot container.\n        const hotspotContainer = document.createElement('div');\n        hotspotContainer.setAttribute('data-gleap-tooltip-anchor', nextId);\n        hotspotContainer.classList.add('gleap-tooltip-anchor');\n        element.setAttribute('data-gleap-tooltip-mode', 'hotspot');\n\n        if (this.canEmbed(element)) {\n          if (element.firstChild) {\n            element.insertBefore(hotspotContainer, element.firstChild);\n          } else {\n            element.appendChild(hotspotContainer);\n          }\n        } else {\n          element.parentNode.insertBefore(hotspotContainer, element.nextSibling);\n        }\n\n        // Create hotspot.\n        const hotspot = document.createElement('div');\n        hotspot.classList.add('gleap-tooltip-hotspot');\n        hotspot.setAttribute('data-gleap-tooltip-hotspot', nextId);\n\n        hotspot.innerHTML = `${loadIcon(tooltip.icon, tooltip.color)}${\n          tooltip.animated\n            ? `<div style=\"background-color: ${tooltip.color}\" class=\"gleap-tooltip-hotspot-animation\"></div>`\n            : ''\n        }`;\n        hotspotContainer.appendChild(hotspot);\n\n        // Update hotspot position.\n        this.repositionHotspot(element, tooltip);\n\n        tooltipElem = hotspot;\n        this.elementToTooltipMap.set(element, tooltip);\n      } else {\n        tooltipElem = element;\n      }\n\n      const floatingUIInstance = this.createTooltip(tooltipElem, tooltip.html, tooltip);\n\n      this.elementToFloatingUIMap.set(element, floatingUIInstance);\n    }\n  };\n\n  destroy() {\n    // Disconnect the MutationObserver if it exists.\n    if (this.observer) {\n      this.observer.disconnect();\n      this.observer = null;\n    }\n\n    // Remove the window resize event listener if it was stored.\n    // (In start() you can assign the listener to a class property, e.g., this.resizeListener.)\n    if (this.resizeListener) {\n      window.removeEventListener('resize', this.resizeListener);\n      this.resizeListener = null;\n    }\n\n    // Remove all tooltip elements created by Gleap.\n    const tooltipElements = document.querySelectorAll('.gleap-tooltip');\n    tooltipElements.forEach((tooltip) => tooltip.remove());\n\n    // Remove any tooltip anchors and hotspots.\n    const anchors = document.querySelectorAll('[data-gleap-tooltip-anchor]');\n    anchors.forEach((anchor) => anchor.remove());\n    const hotspots = document.querySelectorAll('[data-gleap-tooltip-hotspot]');\n    hotspots.forEach((hotspot) => hotspot.remove());\n\n    // Remove all attributes from elements.\n    const elements = document.querySelectorAll('[data-gleap-tooltip]');\n    elements.forEach((element) => element.removeAttribute('data-gleap-tooltip'));\n\n    // Remove all attributes from elements.\n    const modeElements = document.querySelectorAll('[data-gleap-tooltip-mode]');\n    modeElements.forEach((element) => element.removeAttribute('data-gleap-tooltip-mode'));\n\n    // Clear internal references.\n    this.elementToFloatingUIMap = new WeakMap();\n    this.elementToTooltipMap = new WeakMap();\n    this.tooltips = [];\n    this.filteredTooltips = [];\n  }\n\n  repositionHotspot(element, tooltip) {\n    if (!element || !tooltip) {\n      return;\n    }\n\n    const tooltipId = element.getAttribute('data-gleap-tooltip');\n    if (!tooltipId) {\n      return;\n    }\n\n    const hotspot = document.querySelector(`[data-gleap-tooltip-hotspot=\"${tooltipId}\"]`);\n    if (!hotspot) {\n      return;\n    }\n\n    if (!tooltip.posX) {\n      tooltip.posX = 'right';\n    }\n    if (!tooltip.posY) {\n      tooltip.posY = 'center';\n    }\n    if (!tooltip.offsetX) {\n      tooltip.offsetX = 4;\n    }\n    if (!tooltip.offsetY) {\n      tooltip.offsetY = 0;\n    }\n\n    var elementRect = element.getBoundingClientRect();\n\n    try {\n      // Improve width calculation for text elements.\n      var range = document.createRange();\n      range.selectNodeContents(element);\n      const style = window.getComputedStyle(element);\n      const fixedWidth = range.getBoundingClientRect().width + parseFloat(style.paddingLeft);\n      if (fixedWidth < elementRect.width) {\n        elementRect.width = fixedWidth;\n      }\n    } catch (exp) {}\n\n    const anchorElement = document.querySelector(`[data-gleap-tooltip-anchor=\"${tooltipId}\"]`);\n    const anchorRect = anchorElement.getBoundingClientRect();\n\n    // Offset calculation for hotspot position.\n    const offsetX = anchorRect.left - elementRect.left;\n    const offsetY = anchorRect.top - elementRect.top;\n\n    let top = 0;\n    let left = 0;\n    let tooltipSize = 17 / 2;\n\n    switch (tooltip.posX) {\n      case 'left':\n        left = (tooltip.offsetX + tooltipSize * 2) * -1;\n        break;\n      case 'right':\n        left = elementRect.width + tooltip.offsetX;\n        break;\n    }\n\n    switch (tooltip.posY) {\n      case 'top':\n        top = 0 + tooltip.offsetY;\n        break;\n      case 'bottom':\n        top = elementRect.height - tooltipSize * 2 + tooltip.offsetY;\n        break;\n      case 'center':\n        top = elementRect.height / 2 - tooltipSize + tooltip.offsetY;\n        break;\n    }\n\n    if (hotspot) {\n      hotspot.style.position = 'absolute';\n      hotspot.style.top = top - offsetY + 'px';\n      hotspot.style.left = left - offsetX + 'px';\n    }\n  }\n\n  updateFilteredTooltips = () => {\n    this.filteredTooltips = this.getFilteredTooltips();\n    this.checkForTooltips();\n  };\n\n  getFilteredTooltips = () => {\n    if (!this.tooltips) {\n      return [];\n    }\n\n    const currentUrl = window.location.href;\n\n    return this.tooltips.filter((tooltip) => {\n      if (!tooltip.page || tooltip.page.length === 0) {\n        return true;\n      }\n\n      const passed = checkPageFilter(currentUrl, tooltip.page, tooltip.pageType);\n\n      if (!passed) {\n        return false;\n      }\n      return true;\n    });\n  };\n\n  checkForTooltips = () => {\n    for (let i = 0; i < this.filteredTooltips.length; i++) {\n      const tooltip = this.filteredTooltips[i];\n\n      try {\n        const elements = document.querySelectorAll(tooltip.selector);\n\n        for (let j = 0; j < elements.length; j++) {\n          const element = elements[j];\n\n          if (element) {\n            this.linkTooltip(element, tooltip);\n          }\n        }\n      } catch (exp) {}\n    }\n  };\n\n  load = () => {\n    const self = this;\n    const sessionInstance = GleapSession.getInstance();\n\n    const http = new XMLHttpRequest();\n    http.open('GET', sessionInstance.apiUrl + '/config/' + sessionInstance.sdkKey + '/tooltips');\n    http.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    http.setRequestHeader('Api-Token', sessionInstance.sdkKey);\n    try {\n      http.setRequestHeader('Gleap-Id', sessionInstance.session.gleapId);\n      http.setRequestHeader('Gleap-Hash', sessionInstance.session.gleapHash);\n    } catch (exp) {}\n\n    http.onerror = () => {\n      console.error('Failed to fetch tooltips');\n    };\n    http.onreadystatechange = function (e) {\n      if (http.readyState === 4) {\n        if (http.status === 200) {\n          try {\n            self.tooltips = JSON.parse(http.responseText);\n            self.updateFilteredTooltips();\n          } catch (exp) {\n            console.error('Failed to parse tooltips', exp);\n          }\n        }\n      }\n    };\n\n    http.send();\n  };\n}\n","import ChecklistNetworkManager from './ChecklistNetworkManager';\nimport {\n  GleapBannerManager,\n  GleapEventManager,\n  GleapFrameManager,\n  GleapModalManager,\n  GleapNotificationManager,\n  GleapStreamedEvent,\n  GleapTranslationManager,\n} from './Gleap';\nimport {\n  eraseGleapCookie,\n  getDeviceType,\n  getGleapCookie,\n  loadFromGleapCache,\n  saveToGleapCache,\n  setGleapCookie,\n} from './GleapHelper';\nimport GleapTooltipManager from './GleapTooltipManager';\n\nexport default class GleapSession {\n  apiUrl = 'https://api.gleap.io';\n  wsApiUrl = 'wss://ws.gleap.io';\n  sdkKey = null;\n  updatingSession = false;\n  useCookies = false;\n  session = {\n    gleapId: null,\n    gleapHash: null,\n    name: '',\n    email: '',\n    userId: '',\n    phone: '',\n    value: 0,\n  };\n  ready = false;\n  onSessionReadyListener = [];\n\n  // GleapSession singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapSession();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  /**\n   * Returns the current session name.\n   * @returns string\n   */\n  getName() {\n    try {\n      return this.session.name ? this.session.name.split(' ')[0].split('@')[0].split('.')[0].split('+')[0] : '';\n    } catch (exp) {\n      return this.session.name;\n    }\n  }\n\n  /**\n   * Returns the Gleap session object.\n   * @returns\n   */\n  getSession() {\n    return this.session;\n  }\n\n  /**\n   * Returns the Gleap session object.\n   * @returns\n   */\n  getGleapId() {\n    if (this.session && this.session.gleapId) {\n      return this.session.gleapId;\n    }\n\n    return null;\n  }\n\n  /**\n   * Determines if the current session is a identified user.\n   * @returns boolean\n   */\n  isUser() {\n    if (this.session && this.session.userId) {\n      return true;\n    }\n    return false;\n  }\n\n  constructor() {}\n\n  setOnSessionReady = (onSessionReady) => {\n    if (this.ready) {\n      onSessionReady();\n    } else {\n      this.onSessionReadyListener.push(onSessionReady);\n    }\n  };\n\n  injectSession = (http) => {\n    if (http && this.session) {\n      http.setRequestHeader('Api-Token', this.sdkKey);\n      http.setRequestHeader('Gleap-Id', this.session.gleapId);\n      http.setRequestHeader('Gleap-Hash', this.session.gleapHash);\n    }\n  };\n\n  clearSession = (attemp = 0, retry = true) => {\n    if (this.session && this.session.gleapHash) {\n      GleapEventManager.notifyEvent('unregister-pushmessage-group', `gleapuser-${this.session.gleapHash}`);\n    }\n\n    try {\n      saveToGleapCache(`session-${this.sdkKey}`, null);\n    } catch (exp) {}\n\n    if (this.useCookies) {\n      try {\n        eraseGleapCookie(`session-${this.sdkKey}`);\n      } catch (exp) {}\n    }\n\n    this.ready = false;\n    this.session = {\n      gleapId: null,\n      gleapHash: null,\n      name: '',\n      email: '',\n      userId: '',\n      phone: '',\n      value: 0,\n    };\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'session-cleared',\n      },\n      true\n    );\n    GleapNotificationManager.getInstance().clearAllNotifications(false);\n    GleapNotificationManager.getInstance().setNotificationCount(0);\n    GleapBannerManager.getInstance().removeBannerUI();\n    GleapModalManager.getInstance().hideModal();\n\n    if (retry) {\n      if (!isNaN(attemp)) {\n        // Exponentially retry to renew session.\n        const newTimeout = Math.pow(attemp, 2) * 10;\n        setTimeout(() => {\n          this.startSession(attemp + 1);\n        }, newTimeout * 1000);\n      }\n    }\n  };\n\n  validateSession = (session) => {\n    if (!session || !session.gleapId) {\n      return;\n    }\n\n    let sessionChanged = false;\n    if (this.session?.gleapId !== session?.gleapId) {\n      sessionChanged = true;\n    }\n\n    // Unregister previous group.\n    if (this.session && this.session.gleapHash) {\n      GleapEventManager.notifyEvent('unregister-pushmessage-group', `gleapuser-${this.session.gleapHash}`);\n    }\n\n    saveToGleapCache(`session-${this.sdkKey}`, session);\n    if (this.useCookies) {\n      setGleapCookie(`session-${this.sdkKey}`, encodeURIComponent(JSON.stringify(session)), 365);\n    }\n\n    this.session = session;\n    this.ready = true;\n\n    // Register new push group.\n    if (this.session && this.session.gleapHash) {\n      GleapEventManager.notifyEvent('register-pushmessage-group', `gleapuser-${this.session.gleapHash}`);\n    }\n\n    if (sessionChanged) {\n      // Load tooltips.\n      setTimeout(() => {\n        // Clear cache first, as the session context has changed.\n        ChecklistNetworkManager.getInstance().clearCache();\n\n        // Initially track.\n        GleapStreamedEvent.getInstance().restart();\n\n        const tooltipManager = GleapTooltipManager.getInstance();\n        if (tooltipManager) {\n          try {\n            tooltipManager.destroy();\n          } catch (exp) {}\n\n          tooltipManager.load();\n        }\n      }, 0);\n\n      if (typeof window.dispatchEvent === 'function') {\n        window.dispatchEvent(new CustomEvent('session-updated'));\n      }\n    }\n\n    this.notifySessionReady();\n  };\n\n  startSession = (attemp = 0) => {\n    // Check if we already have a session cookie.\n    try {\n      if (this.useCookies) {\n        const sessionCookie = getGleapCookie(`session-${this.sdkKey}`);\n        if (sessionCookie) {\n          const sessionData = JSON.parse(decodeURIComponent(sessionCookie));\n          this.validateSession(sessionData);\n        }\n      }\n    } catch (exp) {}\n\n    // Try to load session from local storage, if not already loaded.\n    if (!(this.session && this.session.gleapId && this.session.gleapId.length > 0)) {\n      const cachedSession = loadFromGleapCache(`session-${this.sdkKey}`);\n      if (cachedSession) {\n        this.validateSession(cachedSession);\n      }\n    }\n\n    const self = this;\n    const http = new XMLHttpRequest();\n    http.open('POST', self.apiUrl + '/sessions');\n    http.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    http.setRequestHeader('Api-Token', self.sdkKey);\n    try {\n      if (this.session && this.session.gleapId && this.session.gleapHash) {\n        http.setRequestHeader('Gleap-Id', this.session.gleapId);\n        http.setRequestHeader('Gleap-Hash', this.session.gleapHash);\n      }\n    } catch (exp) {}\n    http.onreadystatechange = function (e) {\n      if (http.readyState === 4) {\n        if (http.status === 200 || http.status === 201) {\n          try {\n            const sessionData = JSON.parse(http.responseText);\n            self.validateSession(sessionData);\n          } catch (exp) {}\n        } else {\n          if (http.status !== 429) {\n            self.clearSession(attemp, true);\n          }\n        }\n      }\n    };\n    http.send(\n      JSON.stringify({\n        lang: GleapTranslationManager.getInstance().getActiveLanguage(),\n        deviceType: getDeviceType(),\n        platform: 'web',\n      })\n    );\n  };\n\n  notifySessionReady() {\n    if (this.onSessionReadyListener.length > 0) {\n      for (var i = 0; i < this.onSessionReadyListener.length; i++) {\n        this.onSessionReadyListener[i]();\n      }\n    }\n    this.onSessionReadyListener = [];\n\n    // Send session update to frame.\n    GleapFrameManager.getInstance().sendSessionUpdate();\n  }\n\n  checkIfSessionNeedsUpdate = (userId, userData) => {\n    if (!this.session || !this.session.userId || !userId) {\n      return true;\n    }\n\n    try {\n      if (this.session.userId.toString() !== userId.toString()) {\n        return true;\n      }\n    } catch (exp) {}\n\n    return this.checkIfSessionDataNeedsUpdate(userData);\n  };\n\n  checkIfSessionDataNeedsUpdate = (userData) => {\n    if (userData) {\n      var userDataKeys = Object.keys(userData);\n      for (var i = 0; i < userDataKeys.length; i++) {\n        var userDataKey = userDataKeys[i];\n        if (JSON.stringify(this.session[userDataKey]) !== JSON.stringify(userData[userDataKey])) {\n          // Check custom data for a match.\n          if (\n            !(\n              this.session.customData &&\n              JSON.stringify(this.session.customData[userDataKey]) === JSON.stringify(userData[userDataKey])\n            )\n          ) {\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  };\n\n  updateSession = (userData) => {\n    // Check if session needs update.\n    const sessionNeedsUpdate = this.checkIfSessionDataNeedsUpdate(userData);\n    if (!sessionNeedsUpdate) {\n      return;\n    }\n\n    const self = this;\n    return new Promise((resolve, reject) => {\n      // Wait for gleap session to be ready.\n      this.setOnSessionReady(function () {\n        if (!self.session.gleapId || !self.session.gleapHash) {\n          return reject('Session not ready yet.');\n        }\n\n        const http = new XMLHttpRequest();\n        http.open('POST', self.apiUrl + '/sessions/partialupdate');\n        http.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        http.setRequestHeader('Api-Token', self.sdkKey);\n        try {\n          http.setRequestHeader('Gleap-Id', self.session.gleapId);\n          http.setRequestHeader('Gleap-Hash', self.session.gleapHash);\n        } catch (exp) {}\n\n        http.onerror = () => {\n          reject();\n        };\n        http.onreadystatechange = function (e) {\n          if (http.readyState === 4) {\n            if (http.status === 200 || http.status === 201) {\n              try {\n                const sessionData = JSON.parse(http.responseText);\n                self.validateSession(sessionData);\n                resolve(sessionData);\n              } catch (exp) {\n                reject(exp);\n              }\n            } else {\n              reject();\n            }\n          }\n        };\n\n        http.send(\n          JSON.stringify({\n            data: {\n              ...userData,\n              lang: GleapTranslationManager.getInstance().getActiveLanguage(),\n              deviceType: getDeviceType(),\n              platform: 'web',\n            },\n            type: 'js',\n            sdkVersion: SDK_VERSION,\n            ws: true,\n          })\n        );\n      });\n    });\n  };\n\n  identifySession = (userId, userData, userHash) => {\n    const sessionNeedsUpdate = this.checkIfSessionNeedsUpdate(userId, userData);\n    if (!sessionNeedsUpdate) {\n      return;\n    }\n\n    const self = this;\n    return new Promise((resolve, reject) => {\n      // Wait for gleap session to be ready.\n      this.setOnSessionReady(function () {\n        if (!self.session.gleapId || !self.session.gleapHash) {\n          return reject('Session not ready yet.');\n        }\n\n        const http = new XMLHttpRequest();\n        http.open('POST', self.apiUrl + '/sessions/identify');\n        http.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        http.setRequestHeader('Api-Token', self.sdkKey);\n        try {\n          http.setRequestHeader('Gleap-Id', self.session.gleapId);\n          http.setRequestHeader('Gleap-Hash', self.session.gleapHash);\n        } catch (exp) {}\n\n        http.onerror = () => {\n          reject();\n        };\n        http.onreadystatechange = function (e) {\n          if (http.readyState === 4) {\n            if (http.status === 200 || http.status === 201) {\n              try {\n                const sessionData = JSON.parse(http.responseText);\n                self.validateSession(sessionData);\n                resolve(sessionData);\n              } catch (exp) {\n                reject(exp);\n              }\n            } else {\n              reject();\n            }\n          }\n        };\n\n        var dataToSend = {\n          ...userData,\n        };\n\n        if (userData.customData) {\n          delete dataToSend['customData'];\n          dataToSend = {\n            ...dataToSend,\n            ...userData.customData,\n          };\n        }\n\n        http.send(\n          JSON.stringify({\n            ...dataToSend,\n            userId,\n            userHash,\n            lang: GleapTranslationManager.getInstance().getActiveLanguage(),\n            deviceType: getDeviceType(),\n            platform: 'web',\n          })\n        );\n      });\n    });\n  };\n\n  startProductTourConfig = (tourId) => {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      this.setOnSessionReady(function () {\n        if (!self.session.gleapId || !self.session.gleapHash) {\n          return reject('Session not ready yet.');\n        }\n\n        const http = new XMLHttpRequest();\n        http.open('POST', self.apiUrl + '/outbound/producttours');\n        http.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        http.setRequestHeader('Api-Token', self.sdkKey);\n        try {\n          http.setRequestHeader('Gleap-Id', self.session.gleapId);\n          http.setRequestHeader('Gleap-Hash', self.session.gleapHash);\n        } catch (exp) {}\n\n        http.onerror = () => {\n          reject();\n        };\n        http.onreadystatechange = function (e) {\n          if (http.readyState === 4) {\n            if (http.status === 200 || http.status === 201) {\n              try {\n                const tourData = JSON.parse(http.responseText);\n                if (tourData && tourData.config) {\n                  resolve(tourData.config);\n                }\n              } catch (exp) {\n                reject(exp);\n              }\n            } else {\n              reject();\n            }\n          }\n        };\n        http.send(\n          JSON.stringify({\n            outboundId: tourId,\n          })\n        );\n      });\n    });\n  };\n\n  validateProductTour = (tourId) => {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      this.setOnSessionReady(function () {\n        if (!self.session.gleapId || !self.session.gleapHash) {\n          return reject('Session not ready yet.');\n        }\n\n        const http = new XMLHttpRequest();\n        http.open('POST', self.apiUrl + '/outbound/producttourvalidation');\n        http.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        http.setRequestHeader('Api-Token', self.sdkKey);\n        try {\n          http.setRequestHeader('Gleap-Id', self.session.gleapId);\n          http.setRequestHeader('Gleap-Hash', self.session.gleapHash);\n        } catch (exp) {}\n\n        http.onerror = () => {\n          reject();\n        };\n        http.onreadystatechange = function (e) {\n          if (http.readyState === 4) {\n            if (http.status === 200 || http.status === 201) {\n              try {\n                const tourData = JSON.parse(http.responseText);\n                if (tourData && tourData.status === 'live' && tourData.passedPageFilter) {\n                  resolve(tourData.config);\n                } else {\n                  reject();\n                }\n              } catch (exp) {\n                reject(exp);\n              }\n            } else {\n              reject();\n            }\n          }\n        };\n        http.send(\n          JSON.stringify({\n            outboundId: tourId,\n            currentUrl: window?.location?.href,\n          })\n        );\n      });\n    });\n  };\n}\n","import Gleap, {\n  GleapFrameManager,\n  GleapMetaDataManager,\n  GleapAiChatbarManager,\n  GleapNotificationManager,\n  GleapSession,\n  GleapAdminManager,\n  GleapEventManager,\n} from './Gleap';\nimport { gleapDataParser } from './GleapHelper';\n\nexport default class GleapStreamedEvent {\n  eventArray = [];\n  streamedEventArray = [];\n  eventMaxLength = 500;\n  errorCount = 0;\n  streamingEvents = false;\n  lastUrl = undefined;\n  mainLoopTimeout = null;\n  socket = null;\n  connectedWebSocketGleapId = null;\n  connectionTimeout = null;\n  pingWS = null;\n  handleOpenBound = null;\n  handleErrorBound = null;\n  handleMessageBound = null;\n  handleCloseBound = null;\n\n  // GleapStreamedEvent singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapStreamedEvent();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  constructor() {\n    this.handleOpenBound = this.handleOpen.bind(this);\n    this.handleErrorBound = this.handleError.bind(this);\n    this.handleMessageBound = this.handleMessage.bind(this);\n    this.handleCloseBound = this.handleClose.bind(this);\n  }\n\n  cleanupWebSocket() {\n    if (this.connectionTimeout) {\n      clearTimeout(this.connectionTimeout);\n      this.connectionTimeout = null;\n    }\n\n    if (this.pingWS) {\n      clearInterval(this.pingWS);\n    }\n\n    if (this.socket) {\n      this.socket.removeEventListener('open', this.handleOpenBound);\n      this.socket.removeEventListener('error', this.handleErrorBound);\n      this.socket.removeEventListener('message', this.handleMessageBound);\n      this.socket.removeEventListener('close', this.handleCloseBound);\n      this.socket.close();\n      this.socket = null;\n    }\n  }\n\n  initWebSocket() {\n    this.cleanupWebSocket();\n\n    this.connectedWebSocketGleapId = GleapSession.getInstance().session.gleapId;\n\n    if (!GleapSession.getInstance().session || !GleapSession.getInstance().sdkKey) {\n      return;\n    }\n\n    this.socket = new WebSocket(\n      `${GleapSession.getInstance().wsApiUrl}?gleapId=${\n        GleapSession.getInstance().session.gleapId\n      }&gleapHash=${GleapSession.getInstance().session.gleapHash}&apiKey=${\n        GleapSession.getInstance().sdkKey\n      }&sdkVersion=${SDK_VERSION}`\n    );\n    this.socket.addEventListener('open', this.handleOpenBound);\n    this.socket.addEventListener('message', this.handleMessageBound);\n    this.socket.addEventListener('error', this.handleErrorBound);\n    this.socket.addEventListener('close', this.handleCloseBound);\n  }\n\n  handleOpen(event) {\n    this.pingWS = setInterval(() => {\n      if (this.socket.readyState === this.socket.OPEN) {\n        this.socket.send('PING');\n        this.socket.send(0x9);\n      }\n    }, 10000);\n\n    if (this.connectionTimeout) {\n      clearTimeout(this.connectionTimeout);\n      this.connectionTimeout = null;\n    }\n  }\n\n  handleMessage(event) {\n    this.processMessage(JSON.parse(event.data));\n  }\n\n  handleError(error) {}\n\n  handleClose(event) {\n    setTimeout(() => {\n      this.initWebSocket();\n    }, 5000);\n  }\n\n  processMessage(message) {\n    try {\n      if (GleapAdminManager.getInstance().initialized) {\n        return;\n      }\n\n      if (message.name === 'update') {\n        const { a, u, ai } = message.data;\n\n        const isOpened = GleapFrameManager.getInstance().isOpened();\n\n        if (a) {\n          const listOfActionsWhereIgnoreOpened = ['banner', 'modal'];\n          const filteredActions = a.filter(\n            (action) => !isOpened || listOfActionsWhereIgnoreOpened.includes(action?.actionType?.toLowerCase())\n          );\n\n          Gleap.getInstance().performActions(filteredActions);\n        }\n\n        if (ai) {\n          GleapAiChatbarManager.getInstance().setConfig({\n            enabled: ai.e ?? false,\n            placeholder: ai.p,\n            quickActions: ai.a,\n            style: ai.s,\n          });\n        }\n\n        if (u != null) {\n          GleapNotificationManager.getInstance().setNotificationCount(u);\n        }\n      }\n\n      if (message.name === 'checklist' && message?.data && window) {\n        const checklistData = message.data;\n        const completedSteps = checklistData.completedSteps ?? [];\n        const completedStepsBefore = checklistData.completedStepsBefore ?? [];\n        if (completedSteps.length > completedStepsBefore.length) {\n          for (let i = 0; i < completedSteps.length; i++) {\n            const step = checklistData?.steps?.find((step) => step.id === completedSteps[i]);\n            if (!step) {\n              continue;\n            }\n            const stepIndex = i;\n            if (!completedStepsBefore.includes(step)) {\n              GleapEventManager.notifyEvent('checklist-step-completed', {\n                checklistId: checklistData.id,\n                outboundId: checklistData.outboundId,\n                stepId: step.id,\n                stepIndex: stepIndex,\n                step: step,\n                completedSteps: checklistData.completedSteps,\n                status: checklistData.status,\n                data: checklistData,\n              });\n            }\n          }\n        }\n        if (checklistData.status === 'done') {\n          GleapEventManager.notifyEvent('checklist-completed', {\n            checklistId: checklistData.id,\n            outboundId: checklistData.outboundId,\n            completedSteps: checklistData.completedSteps,\n            status: checklistData.status,\n            data: checklistData,\n          });\n        }\n        if (typeof window.dispatchEvent === 'function') {\n          window.dispatchEvent(new CustomEvent('checkListUpdate', { detail: message.data }));\n        }\n      }\n    } catch (exp) {}\n  }\n\n  getEventArray() {\n    return this.eventArray;\n  }\n\n  stop() {\n    this.cleanupMainLoop();\n  }\n\n  resetErrorCountLoop() {\n    setInterval(() => {\n      this.errorCount = 0;\n    }, 60000);\n  }\n\n  cleanupMainLoop() {\n    if (this.mainLoopTimeout) {\n      clearInterval(this.mainLoopTimeout);\n      this.mainLoopTimeout = null;\n    }\n  }\n\n  restart() {\n    // Only reconnect websockets when needed.\n    if (this.connectedWebSocketGleapId !== GleapSession.getInstance().session.gleapId) {\n      this.initWebSocket();\n    }\n\n    this.cleanupMainLoop();\n    this.trackInitialEvents();\n    this.runEventStreamLoop();\n  }\n\n  start() {\n    this.startPageListener();\n    this.resetErrorCountLoop();\n  }\n\n  trackInitialEvents() {\n    GleapStreamedEvent.getInstance().logEvent('sessionStarted');\n    GleapStreamedEvent.getInstance().logCurrentPage();\n  }\n\n  logCurrentPage() {\n    if (Gleap.getInstance().disablePageTracking) {\n      return;\n    }\n\n    const currentUrl = window.location.href;\n    if (currentUrl && currentUrl !== this.lastUrl) {\n      this.lastUrl = currentUrl;\n      this.logEvent('pageView', {\n        page: currentUrl,\n      });\n    }\n  }\n\n  startPageListener() {\n    const self = this;\n    setInterval(function () {\n      self.logCurrentPage();\n    }, 1000);\n  }\n\n  logEvent(name, data) {\n    var log = {\n      name,\n      date: new Date(),\n    };\n    if (data) {\n      log.data = gleapDataParser(data);\n    }\n    this.eventArray.push(log);\n    this.streamedEventArray.push(log);\n\n    // Check max size of event log\n    if (this.eventArray.length > this.eventMaxLength) {\n      this.eventArray.shift();\n    }\n\n    // Check max size of streamed event log\n    if (this.streamedEventArray.length > this.eventMaxLength) {\n      this.streamedEventArray.shift();\n    }\n  }\n\n  runEventStreamLoop = () => {\n    const self = this;\n    this.streamEvents();\n\n    this.mainLoopTimeout = setTimeout(function () {\n      self.runEventStreamLoop();\n    }, 2500);\n  };\n\n  streamEvents = () => {\n    if (!GleapSession.getInstance().ready || this.streamingEvents || this.errorCount > 2) {\n      return;\n    }\n\n    // Nothing to stream.\n    if (this.streamedEventArray.length === 0) {\n      return;\n    }\n\n    // Sockets not connected.\n    if (!this.socket || this.socket.readyState !== this.socket.OPEN) {\n      return;\n    }\n\n    const self = this;\n    this.streamingEvents = true;\n\n    const http = new XMLHttpRequest();\n    http.open('POST', GleapSession.getInstance().apiUrl + '/sessions/events');\n    http.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    GleapSession.getInstance().injectSession(http);\n    http.onerror = () => {\n      self.errorCount++;\n      self.streamingEvents = false;\n    };\n    http.onreadystatechange = function (e) {\n      if (http.readyState === 4) {\n        if (http.status === 200 || http.status === 201) {\n          self.errorCount = 0;\n        } else {\n          self.errorCount++;\n        }\n\n        self.streamingEvents = false;\n      }\n    };\n\n    const sessionDuration = GleapMetaDataManager.getInstance().getSessionDuration();\n    http.send(\n      JSON.stringify({\n        time: sessionDuration,\n        events: this.streamedEventArray,\n        opened: GleapFrameManager.getInstance().isOpened(),\n        type: 'js',\n        sdkVersion: SDK_VERSION,\n        ws: true,\n      })\n    );\n\n    this.streamedEventArray = [];\n  };\n}\n","import { loadFromGleapCache, saveToGleapCache, clearGleapCache } from './GleapHelper';\nimport Gleap, {\n  GleapFrameManager,\n  GleapFeedbackButtonManager,\n  GleapTranslationManager,\n  GleapNetworkIntercepter,\n  GleapSession,\n  GleapReplayRecorder,\n  GleapNotificationManager,\n  GleapAiChatbarManager,\n} from './Gleap';\n\nconst parseIntWithDefault = (val, def) => {\n  const parsed = parseInt(val);\n  if (isNaN(parsed)) {\n    return def;\n  }\n  return parsed;\n};\n\nexport default class GleapConfigManager {\n  flowConfig = null;\n  projectActions = null;\n  onConfigLoadedListener = [];\n  aiTools = [];\n\n  onConfigLoaded = (onConfigLoaded) => {\n    if (this.flowConfig !== null) {\n      onConfigLoaded();\n    } else {\n      this.onConfigLoadedListener.push(onConfigLoaded);\n    }\n  };\n\n  // GleapConfigManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapConfigManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Returns the loaded flow config.\n   * @returns\n   */\n  getFlowConfig() {\n    return this.flowConfig;\n  }\n\n  setAiTools = (aiTools) => {\n    this.aiTools = aiTools;\n    GleapFrameManager.getInstance().sendConfigUpdate();\n  };\n\n  getAiTools = () => {\n    return this.aiTools;\n  };\n\n  /**\n   * Load config.\n   * @returns {string}\n   */\n  start = () => {\n    const session = GleapSession.getInstance();\n    const cachedConfig = loadFromGleapCache(\n      `config-${session.sdkKey}-${GleapTranslationManager.getInstance().getActiveLanguage()}`\n    );\n    if (cachedConfig) {\n      this.applyConfig(cachedConfig);\n      this.loadConfigFromServer().catch(function (e) {});\n      return Promise.resolve();\n    }\n\n    return this.loadConfigFromServer();\n  };\n\n  loadConfigFromServer = () => {\n    const self = this;\n    return new Promise(function (resolve, reject) {\n      const session = GleapSession.getInstance();\n      const http = new XMLHttpRequest();\n      const lang = GleapTranslationManager.getInstance().getActiveLanguage();\n      http.open('GET', session.apiUrl + '/config/' + session.sdkKey + '?lang=' + lang);\n      http.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n      session.injectSession(http);\n      http.onerror = function () {\n        reject();\n      };\n      http.onreadystatechange = function (e) {\n        if (http.readyState === 4) {\n          if (http.status === 403) {\n            clearGleapCache(`config-${session.sdkKey}-${lang}`);\n            Gleap.destroy();\n          }\n          if (http.status === 200 || http.status === 201) {\n            try {\n              const config = JSON.parse(http.responseText);\n              try {\n                saveToGleapCache(`config-${session.sdkKey}-${lang}`, config);\n              } catch (exp) {}\n              self.applyConfig(config);\n              return resolve();\n            } catch (e) {}\n          }\n          reject();\n        }\n      };\n      http.send();\n    });\n  };\n\n  applyStylesFromConfig() {\n    const flowConfig = this.flowConfig;\n\n    Gleap.setStyles(\n      flowConfig.color ? flowConfig.color : '#485BFF',\n      flowConfig.headerColor ? flowConfig.headerColor : '#485BFF',\n      flowConfig.buttonColor ? flowConfig.buttonColor : '#485BFF',\n      flowConfig.backgroundColor ? flowConfig.backgroundColor : '#FFFFFF',\n      parseIntWithDefault(flowConfig.borderRadius, 20),\n      parseIntWithDefault(flowConfig.buttonX, 20),\n      parseIntWithDefault(flowConfig.buttonY, 20),\n      flowConfig.feedbackButtonPosition\n    );\n  }\n\n  notifyConfigLoaded() {\n    if (this.onConfigLoadedListener.length > 0) {\n      for (var i = 0; i < this.onConfigLoadedListener.length; i++) {\n        this.onConfigLoadedListener[i]();\n      }\n    }\n    this.onConfigLoadedListener = [];\n  }\n\n  /**\n   * Applies the Gleap config.\n   * @param {*} config\n   */\n  applyConfig(config) {\n    try {\n      const flowConfig = config.flowConfig;\n      this.flowConfig = flowConfig;\n\n      // Update styles.\n      this.applyStylesFromConfig();\n\n      // Send config update.\n      GleapFrameManager.getInstance().sendConfigUpdate();\n      GleapFeedbackButtonManager.getInstance().updateFeedbackButtonState();\n      GleapNotificationManager.getInstance().updateContainerStyle();\n\n      if (flowConfig.enableWebReplays) {\n        GleapReplayRecorder.getInstance().start();\n      } else {\n        GleapReplayRecorder.getInstance().stop();\n      }\n\n      if (flowConfig.enableNetworkLogs) {\n        GleapNetworkIntercepter.getInstance().start();\n      }\n\n      GleapNetworkIntercepter.getInstance().setLoadAllResources(flowConfig.sendNetworkResources ? true : false);\n\n      if (flowConfig.networkLogPropsToIgnore) {\n        GleapNetworkIntercepter.getInstance().setFilters(flowConfig.networkLogPropsToIgnore);\n      }\n\n      if (flowConfig.networkLogBlacklist) {\n        GleapNetworkIntercepter.getInstance().setBlacklist(flowConfig.networkLogBlacklist);\n      }\n\n      GleapTranslationManager.getInstance().updateRTLSupport();\n\n      Gleap.enableShortcuts(flowConfig.enableShortcuts ? true : false);\n\n      if (config.aiBar) {\n        GleapAiChatbarManager.getInstance().setConfig(config.aiBar);\n      }\n\n      this.notifyConfigLoaded();\n    } catch (e) {}\n  }\n}\n","import { isMobile, resizeImage } from './GleapHelper';\nimport { isBlacklisted } from './ResourceExclusionList';\n\nexport const startScreenCapture = (isLiveSite) => {\n  return prepareScreenshotData(isLiveSite);\n};\n\nconst documentToHTML = (clone) => {\n  var html = '';\n  var node = window.document.doctype;\n  if (node) {\n    html =\n      '<!DOCTYPE ' +\n      node.name +\n      (node.publicId ? ' PUBLIC \"' + node.publicId + '\"' : '') +\n      (!node.publicId && node.systemId ? ' SYSTEM' : '') +\n      (node.systemId ? ' \"' + node.systemId + '\"' : '') +\n      '>';\n  }\n\n  if (clone && clone.childNodes && clone.childNodes.length > 0) {\n    for (var i = 0; i < clone.childNodes.length; i++) {\n      if (clone.childNodes[i]) {\n        html += clone.childNodes[i].outerHTML;\n      }\n    }\n  }\n\n  return html;\n};\n\nconst replaceAsync = (str, regex, asyncFn) => {\n  return new Promise((resolve, reject) => {\n    const promises = [];\n    str.replace(regex, (match, ...args) => {\n      const promise = asyncFn(match, ...args);\n      promises.push(promise);\n    });\n    Promise.all(promises)\n      .then((data) => {\n        resolve(str.replace(regex, () => data.shift()));\n      })\n      .catch(() => {\n        reject();\n      });\n  });\n};\n\nconst loadCSSUrlResources = (data, basePath, remote) => {\n  return replaceAsync(\n    data,\n    /url\\((.*?)\\)/g,\n    (matchedData) =>\n      new Promise((resolve, reject) => {\n        if (!matchedData) {\n          return resolve(matchedData);\n        }\n\n        var matchedUrl = matchedData\n          .substr(4, matchedData.length - 5)\n          .replaceAll(\"'\", '')\n          .replaceAll('\"', '');\n\n        // Remote file or data\n        if (matchedUrl.indexOf('http') === 0 || matchedUrl.indexOf('//') === 0 || matchedUrl.indexOf('data') === 0) {\n          return resolve(matchedData);\n        }\n\n        try {\n          var resourcePath = matchedUrl;\n          if (basePath) {\n            resourcePath = new URL(matchedUrl, basePath + '/').href;\n          }\n\n          // Try to fetch external resource.\n          if (!remote) {\n            return fetchCSSResource(resourcePath).then((resourceData) => {\n              return resolve('url(' + resourceData + ')');\n            });\n          } else {\n            return resolve('url(' + resourcePath + ')');\n          }\n        } catch (exp) {\n          return resolve(matchedData);\n        }\n      })\n  );\n};\n\nconst fetchCSSResource = (url) => {\n  return new Promise((resolve, reject) => {\n    if (url) {\n      var xhr = new XMLHttpRequest();\n      xhr.onload = function () {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.onerror = function () {\n          reject();\n        };\n        reader.readAsDataURL(xhr.response);\n      };\n      xhr.onerror = function (err) {\n        resolve();\n      };\n      xhr.open('GET', url);\n      xhr.responseType = 'blob';\n      xhr.send();\n    } else {\n      resolve();\n    }\n  });\n};\n\nconst progressResource = (data, elem, resolve, reject) => {\n  resizeImage(data, 500, 500)\n    .then((data) => {\n      elem.src = data;\n      resolve();\n    })\n    .catch(() => {\n      console.warn('BB: Image resize failed.');\n      resolve();\n    });\n};\n\nconst fetchItemResource = (elem) => {\n  return new Promise((resolve, reject) => {\n    if (elem && elem.src) {\n      if (isBlacklisted(elem.src)) {\n        return resolve();\n      }\n\n      var xhr = new XMLHttpRequest();\n      xhr.onload = function () {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          progressResource(reader.result, elem, resolve, reject);\n        };\n        reader.onerror = function () {\n          resolve();\n        };\n        reader.readAsDataURL(xhr.response);\n      };\n      xhr.onerror = function (err) {\n        resolve();\n      };\n      var url = elem.src;\n      xhr.open('GET', url);\n      xhr.responseType = 'blob';\n      xhr.send();\n    } else {\n      resolve();\n    }\n  });\n};\n\nconst downloadAllImages = (dom) => {\n  const imgItems = dom.querySelectorAll('img');\n  const imgItemsPromises = [];\n  for (var i = 0; i < imgItems.length; i++) {\n    const item = imgItems[i];\n    imgItemsPromises.push(fetchItemResource(item));\n  }\n\n  return Promise.all(imgItemsPromises);\n};\n\nconst replaceStyleNodes = (clone, styleSheet, cssTextContent, styleId) => {\n  {\n    var cloneTargetNode = null;\n    if (styleSheet.ownerNode) {\n      cloneTargetNode = clone.querySelector('[bb-styleid=\"' + styleId + '\"]');\n    }\n\n    try {\n      if (cloneTargetNode) {\n        var replacementNode = null;\n        if (cssTextContent != '') {\n          // Create node.\n          const head = clone.querySelector('head');\n          var styleNode = window.document.createElement('style');\n          head.appendChild(styleNode);\n          styleNode.type = 'text/css';\n          if (styleNode.styleSheet) {\n            styleNode.styleSheet.cssText = cssTextContent;\n          } else {\n            styleNode.appendChild(window.document.createTextNode(cssTextContent));\n          }\n          replacementNode = styleNode;\n        } else {\n          var linkNode = window.document.createElement('link');\n          linkNode.rel = 'stylesheet';\n          linkNode.type = styleSheet.type;\n          linkNode.href = styleSheet.href;\n          linkNode.media = styleSheet.media;\n          replacementNode = linkNode;\n        }\n\n        if (replacementNode) {\n          cloneTargetNode.parentNode.insertBefore(replacementNode, cloneTargetNode);\n          cloneTargetNode.remove();\n        }\n      }\n    } catch (exp) {}\n  }\n};\n\nconst getTextContentFromStyleSheet = (styleSheet) => {\n  var cssRules = null;\n  try {\n    if (styleSheet.cssRules) {\n      cssRules = styleSheet.cssRules;\n    } else if (styleSheet.rules) {\n      cssRules = styleSheet.rules;\n    }\n  } catch (exp) {}\n\n  var cssTextContent = '';\n  if (cssRules) {\n    for (var cssRuleItem in cssRules) {\n      if (cssRules[cssRuleItem].cssText) {\n        cssTextContent += cssRules[cssRuleItem].cssText;\n      }\n    }\n  }\n\n  return cssTextContent;\n};\n\nconst downloadAllCSSUrlResources = (clone, remote) => {\n  var promises = [];\n  for (var i = 0; i < document.styleSheets.length; i++) {\n    const styleSheet = document.styleSheets[i];\n\n    // Skip if the stylesheet is meant for print\n    if (styleSheet.media && styleSheet.media.mediaText === 'print') {\n      continue;\n    }\n\n    const cssTextContent = getTextContentFromStyleSheet(styleSheet);\n    if (styleSheet && styleSheet.ownerNode) {\n      if (cssTextContent != '') {\n        // Resolve resources.\n        const baseTags = document.getElementsByTagName('base');\n        var basePathURL = baseTags.length\n          ? baseTags[0].href.substr(location.origin.length, 999)\n          : window.location.href.split(/[?#]/)[0];\n\n        if (styleSheet.href) {\n          basePathURL = styleSheet.href;\n        }\n\n        const basePath = basePathURL.substring(0, basePathURL.lastIndexOf('/'));\n\n        promises.push(\n          loadCSSUrlResources(cssTextContent, basePath, remote).then((replacedStyle) => {\n            return {\n              styletext: replacedStyle,\n              stylesheet: styleSheet,\n              styleId: styleSheet.ownerNode.getAttribute('bb-styleid'),\n            };\n          })\n        );\n      } else {\n        promises.push(\n          Promise.resolve({\n            styletext: cssTextContent,\n            stylesheet: styleSheet,\n            styleId: styleSheet.ownerNode.getAttribute('bb-styleid'),\n          })\n        );\n      }\n    }\n  }\n\n  return Promise.all(promises).then((results) => {\n    if (results) {\n      for (var i = 0; i < results.length; i++) {\n        replaceStyleNodes(clone, results[i].stylesheet, results[i].styletext, results[i].styleId);\n      }\n    }\n    return true;\n  });\n};\n\nconst prepareRemoteData = (clone, remote) => {\n  return new Promise((resolve, reject) => {\n    if (remote) {\n      // Always download CSS.\n      return downloadAllCSSUrlResources(clone, remote)\n        .then(() => {\n          resolve();\n        })\n        .catch(() => {\n          resolve();\n        });\n    } else {\n      return downloadAllImages(clone)\n        .then(() => {\n          return downloadAllCSSUrlResources(clone, remote).then(() => {\n            resolve();\n          });\n        })\n        .catch(() => {\n          console.warn('Gleap: Failed with resolving local resources. Please contact the Gleap support team.');\n          resolve();\n        });\n    }\n  });\n};\n\nconst handleAdoptedStyleSheets = (doc, clone, shadowNodeId) => {\n  if (typeof doc.adoptedStyleSheets !== 'undefined') {\n    for (let i = 0; i < doc.adoptedStyleSheets.length; i++) {\n      const styleSheet = doc.adoptedStyleSheets[i];\n      const cssTextContent = getTextContentFromStyleSheet(styleSheet);\n\n      var shadowStyleNode = window.document.createElement('style');\n      shadowStyleNode.type = 'text/css';\n      if (shadowStyleNode.styleSheet) {\n        shadowStyleNode.styleSheet.cssText = cssTextContent;\n      } else {\n        shadowStyleNode.appendChild(window.document.createTextNode(cssTextContent));\n      }\n\n      if (shadowNodeId) {\n        shadowStyleNode.setAttribute('bb-shadow-child', shadowNodeId);\n      }\n\n      clone.insertBefore(shadowStyleNode, clone.firstElementChild);\n    }\n  }\n};\n\nconst extractFinalCSSState = (element) => {\n  if (element && typeof element.getAnimations === 'function') {\n    const animations = element.getAnimations();\n    const finalCSSState = {};\n\n    animations.forEach((animation) => {\n      const keyframes = animation.effect?.getKeyframes() || [];\n      const finalKeyframe = keyframes[keyframes.length - 1] || {};\n\n      // Extract only the keys (CSS properties) from the final keyframe\n      Object.keys(finalKeyframe).forEach((property) => {\n        if (property !== 'offset') {\n          // Store the computed style for each animated property\n          finalCSSState[property] = getComputedStyle(element)[property];\n        }\n      });\n    });\n\n    if (Object.keys(finalCSSState).length === 0) {\n      return null;\n    }\n\n    return JSON.stringify(finalCSSState);\n  }\n\n  return null;\n};\n\nconst deepClone = async (host) => {\n  let shadowNodeId = 1;\n\n  const cloneNode = async (node, parent, shadowRoot) => {\n    const walkTree = async (nextn, nextp, innerShadowRoot) => {\n      while (nextn) {\n        await cloneNode(nextn, nextp, innerShadowRoot);\n\n        // Fix missing element nodes.\n        if (\n          nextn.nextElementSibling &&\n          (nextn.nextElementSibling.nextSibling === nextn.nextSibling || nextn.nextSibling === null)\n        ) {\n          nextn = nextn.nextElementSibling;\n        } else {\n          nextn = nextn.nextSibling;\n        }\n      }\n    };\n\n    const clone = node.cloneNode();\n\n    const webAnimations = extractFinalCSSState(node);\n    if (webAnimations != null) {\n      clone.setAttribute('bb-web-animations', webAnimations);\n    }\n\n    if (typeof clone.setAttribute !== 'undefined') {\n      if (shadowRoot) {\n        clone.setAttribute('bb-shadow-child', shadowRoot);\n      }\n\n      if (node instanceof HTMLCanvasElement) {\n        try {\n          const boundingRect = node.getBoundingClientRect();\n          const resizedImage = await resizeImage(node.toDataURL(), 1400, 1400);\n\n          clone.setAttribute('bb-canvas-data', resizedImage);\n          clone.setAttribute('bb-canvas-height', boundingRect.height);\n          clone.setAttribute('bb-canvas-width', boundingRect.width);\n        } catch (exp) {\n          console.warn('Gleap: Failed to clone canvas data.', exp);\n        }\n      }\n    }\n\n    if (node.nodeType == Node.ELEMENT_NODE) {\n      const tagName = node.tagName ? node.tagName.toUpperCase() : node.tagName;\n      if (tagName == 'IFRAME' || tagName == 'VIDEO' || tagName == 'EMBED' || tagName == 'IMG' || tagName == 'SVG') {\n        const boundingRect = node.getBoundingClientRect();\n        clone.setAttribute('bb-element', true);\n        clone.setAttribute('bb-height', boundingRect.height);\n        clone.setAttribute('bb-width', boundingRect.width);\n      }\n\n      if (node.scrollTop > 0 || node.scrollLeft > 0) {\n        clone.setAttribute('bb-scrollpos', true);\n        clone.setAttribute('bb-scrolltop', node.scrollTop);\n        clone.setAttribute('bb-scrollleft', node.scrollLeft);\n      }\n\n      if (tagName === 'SELECT' || tagName === 'TEXTAREA' || tagName === 'INPUT') {\n        var val = node.value;\n        if (node.getAttribute('gleap-ignore') === 'value' || node.classList.contains('gl-mask')) {\n          val = new Array(val.length + 1).join('*');\n        }\n\n        clone.setAttribute('bb-data-value', val);\n        if ((node.type === 'checkbox' || node.type === 'radio') && node.checked) {\n          clone.setAttribute('bb-data-checked', true);\n        }\n      }\n    }\n\n    parent.appendChild(clone);\n\n    if (node.shadowRoot) {\n      var rootShadowNodeId = shadowNodeId;\n      shadowNodeId++;\n      await walkTree(node.shadowRoot.firstChild, clone, rootShadowNodeId);\n      handleAdoptedStyleSheets(node.shadowRoot, clone, rootShadowNodeId);\n\n      if (typeof clone.setAttribute !== 'undefined') {\n        clone.setAttribute('bb-shadow-parent', rootShadowNodeId);\n      }\n    }\n\n    await walkTree(node.firstChild, clone);\n  };\n\n  const fragment = document.createDocumentFragment();\n  await cloneNode(host, fragment);\n\n  // Work on adopted stylesheets.\n  var clonedHead = fragment.querySelector('head');\n  if (!clonedHead) {\n    clonedHead = fragment;\n  }\n  handleAdoptedStyleSheets(window.document, clonedHead);\n\n  return fragment;\n};\n\nconst prepareScreenshotData = (remote) => {\n  return new Promise(async (resolve, reject) => {\n    const styleTags = window.document.querySelectorAll('style, link');\n    for (var i = 0; i < styleTags.length; ++i) {\n      styleTags[i].setAttribute('bb-styleid', i);\n    }\n\n    const clone = await deepClone(window.document.documentElement);\n\n    // Fix for web imports (depracted).\n    const linkImportElems = clone.querySelectorAll('link[rel=import]');\n    for (var i = 0; i < linkImportElems.length; ++i) {\n      const referenceNode = linkImportElems[i];\n      if (referenceNode && referenceNode.childNodes && referenceNode.childNodes.length > 0) {\n        const childNodes = referenceNode.childNodes;\n        while (childNodes.length > 0) {\n          referenceNode.parentNode.insertBefore(childNodes[0], referenceNode);\n        }\n        referenceNode.remove();\n      }\n    }\n\n    // Remove all scripts & style\n    const scriptElems = clone.querySelectorAll('script, noscript');\n    for (var i = 0; i < scriptElems.length; ++i) {\n      scriptElems[i].remove();\n    }\n\n    // Cleanup base path\n    var existingBasePath = '';\n    const baseElems = clone.querySelectorAll('base');\n    for (var i = 0; i < baseElems.length; ++i) {\n      if (baseElems[i].href) {\n        existingBasePath = baseElems[i].href;\n      }\n      baseElems[i].remove();\n    }\n\n    // Adjust the base node\n    const baseUrl = window.location.href.substring(0, window.location.href.lastIndexOf('/'));\n    var newBaseUrl = baseUrl + '/';\n    if (existingBasePath) {\n      if (existingBasePath.startsWith('http')) {\n        // Absolute path.\n        newBaseUrl = existingBasePath;\n      } else {\n        // Relative path.\n        newBaseUrl = baseUrl + existingBasePath;\n        if (!newBaseUrl.endsWith('/')) {\n          newBaseUrl += '/';\n        }\n      }\n    }\n\n    const baseNode = window.document.createElement('base');\n    baseNode.href = newBaseUrl;\n    const head = clone.querySelector('head');\n    head.insertBefore(baseNode, head.firstChild);\n\n    // Do further cleanup.\n    const dialogElems = clone.querySelectorAll('.bb-feedback-dialog-container, .bb-capture-editor-borderlayer');\n    for (var i = 0; i < dialogElems.length; ++i) {\n      dialogElems[i].remove();\n    }\n\n    // Calculate heights\n    const bbElems = clone.querySelectorAll('[bb-element=true]');\n    for (var i = 0; i < bbElems.length; ++i) {\n      if (bbElems[i]) {\n        bbElems[i].style.height = bbElems[i].getAttribute('bb-height') + 'px';\n      }\n    }\n\n    prepareRemoteData(clone, remote).then(() => {\n      const html = documentToHTML(clone);\n\n      resolve({\n        html: html,\n        baseUrl: baseUrl,\n        width: window.innerWidth,\n        height: window.innerHeight,\n        isMobile: isMobile(),\n      });\n    });\n  });\n};\n","export const isBlacklisted = function (url) {\n  const blacklist = [\n    '//fonts.googleapis.com',\n    '//cdn.jsdelivr.net',\n    '//cdnjs.cloudflare.com',\n    '//ajax.googleapis.com',\n    '//use.typekit.net',\n    '.amazonaws.com',\n    '//jssdk.gleap.io',\n    '.gstatic.com',\n  ];\n\n  if (!url) {\n    return false;\n  }\n\n  for (var i = 0; i < blacklist.length; i++) {\n    if (url.indexOf(blacklist[i]) !== -1) {\n      return true;\n    }\n  }\n  return false;\n};\n","import GleapSession from './GleapSession';\n\nexport class GleapScreenRecorder {\n  // Constants\n  static MAX_RECORD_TIME = 120; // 2 minutes\n  static MAX_WIDTH = 3072;\n  static MAX_HEIGHT = 1728;\n  static IDEAL_FRAME_RATE = 10;\n  static MAX_FRAME_RATE = 24;\n  static CHUNK_INTERVAL = 200; // milliseconds\n  static TIMER_UPDATE_INTERVAL = 1000; // milliseconds\n  static RERENDER_DELAY = 100; // milliseconds\n\n  // MIME types in order of preference\n  static MIME_TYPES = [\n    'video/webm;codecs=vp9,opus',\n    'video/webm;codecs=vp8,opus',\n    'video/webm;codecs=vp9',\n    'video/webm;codecs=vp8',\n    'video/webm',\n    'video/mp4',\n  ];\n\n  // CSS selectors\n  static SELECTORS = {\n    PREVIEW_VIDEO: '.bb-capture-preview video',\n    TIMER_LABEL: '.bb-capture-toolbar-item-timer',\n  };\n\n  // Instance properties\n  rerender;\n  stream;\n  mediaRecorder;\n  audioMuted = false;\n  audioAvailable = true;\n  available = true;\n  isRecording = false;\n  file = null;\n  maxRecordTime = GleapScreenRecorder.MAX_RECORD_TIME;\n  recordTime = 0;\n  recordingTimer = null;\n  permissionErrorText = '';\n\n  // Internals for composed capture\n  _displayVideoTrack = null;\n  _displayStream = null;\n  _micStream = null;\n\n  constructor(rerender, permissionErrorText) {\n    this.rerender = rerender;\n    this.permissionErrorText = permissionErrorText;\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getDisplayMedia) {\n      this.available = false;\n    }\n\n    setTimeout(() => {\n      this.rerender();\n    }, GleapScreenRecorder.RERENDER_DELAY);\n  }\n\n  getSupportedMimeType() {\n    // Prefer explicit audio+video codecs to ensure audio gets muxed.\n    for (const type of GleapScreenRecorder.MIME_TYPES) {\n      if (window.MediaRecorder && MediaRecorder.isTypeSupported(type)) {\n        return type;\n      }\n    }\n\n    return 'video/webm';\n  }\n\n  formatTime(s) {\n    return (s - (s %= 60)) / 60 + (9 < s ? ':' : ':0') + s;\n  }\n\n  stopStreamTracks(stream) {\n    if (!stream) return;\n    try {\n      stream.getTracks().forEach((track) => track.stop());\n    } catch (_) {}\n  }\n\n  createMediaStream(tracks) {\n    const validTracks = tracks.filter((track) => track !== null);\n    return new MediaStream(validTracks);\n  }\n\n  getFirstVideoTrack(stream) {\n    if (!stream) return null;\n    const videoTracks = stream.getVideoTracks();\n    return videoTracks.length > 0 ? videoTracks[0] : null;\n  }\n\n  getFirstAudioTrack(stream) {\n    if (!stream) return null;\n    const audioTracks = stream.getAudioTracks();\n    return audioTracks.length > 0 ? audioTracks[0] : null;\n  }\n\n  async startScreenRecording() {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getDisplayMedia || this.isRecording) {\n      this.available = false;\n      this.rerender();\n      return;\n    }\n\n    try {\n      const displayStream = await navigator.mediaDevices.getDisplayMedia({\n        video: {\n          width: {\n            ideal: Math.min(window.screen.width, GleapScreenRecorder.MAX_WIDTH),\n          },\n          height: {\n            ideal: Math.min(window.screen.height, GleapScreenRecorder.MAX_HEIGHT),\n          },\n          frameRate: {\n            ideal: GleapScreenRecorder.IDEAL_FRAME_RATE,\n            max: GleapScreenRecorder.MAX_FRAME_RATE,\n          },\n          displaySurface: 'monitor',\n        },\n        audio: false,\n        selfBrowserSurface: 'include',\n      });\n\n      // Keep references to both the original stream and video track\n      this._displayStream = displayStream;\n      this._displayVideoTrack = this.getFirstVideoTrack(displayStream);\n\n      // If user wants audio and permissions allow it, get mic, else continue with video-only\n      if (!this.audioMuted) {\n        await this.startAudioRecording();\n      } else {\n        this.audioAvailable = false;\n        const composed = this.createMediaStream([this._displayVideoTrack]);\n        this.stream = composed;\n        this.handleRecord({ stream: composed });\n      }\n\n      this.rerender();\n    } catch (error) {\n      window.alert(this.permissionErrorText);\n      this.rerender();\n    }\n  }\n\n  stopScreenRecording() {\n    if (!this.mediaRecorder || !this.stream || !this.isRecording) {\n      return;\n    }\n\n    if (this.recordingTimer) {\n      clearInterval(this.recordingTimer);\n      this.recordingTimer = null;\n    }\n\n    try {\n      this.mediaRecorder.stop();\n    } catch (_) {}\n\n    // Stop composed stream tracks\n    this.stopStreamTracks(this.stream);\n\n    // Stop original display stream tracks (this is what Chrome uses for the recording indicator)\n    if (this._displayStream) {\n      this.stopStreamTracks(this._displayStream);\n      this._displayStream = null;\n    }\n\n    // Also stop original mic stream tracks if present\n    if (this._micStream) {\n      this.stopStreamTracks(this._micStream);\n      this._micStream = null;\n    }\n\n    this._displayVideoTrack = null;\n\n    this.rerender();\n  }\n\n  async startAudioRecording() {\n    if (!this._displayVideoTrack) {\n      return;\n    }\n\n    try {\n      const voiceStream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true,\n        },\n        video: false,\n      });\n\n      this._micStream = voiceStream;\n      const micTrack = this.getFirstAudioTrack(voiceStream);\n\n      this.audioMuted = false;\n      this.audioAvailable = !!micTrack;\n\n      // Compose a NEW stream with exactly one video track + (optional) one mic track\n      const composed = this.createMediaStream([this._displayVideoTrack, micTrack]);\n\n      this.stream = composed;\n      this.handleRecord({ stream: composed });\n      this.rerender();\n    } catch (error) {\n      this.audioAvailable = false;\n\n      // Fallback to video-only if mic fails\n      const composed = this.createMediaStream([this._displayVideoTrack]);\n\n      this.stream = composed;\n      this.handleRecord({ stream: composed });\n      this.rerender();\n    }\n  }\n\n  toggleAudio() {\n    this.audioMuted = !this.audioMuted;\n    this.rerender();\n\n    if (!this.stream) {\n      return;\n    }\n\n    const audioTracks = this.stream.getAudioTracks();\n    for (let i = 0; i < audioTracks.length; i++) {\n      const audioTrack = audioTracks[i];\n      audioTrack.enabled = !this.audioMuted;\n    }\n  }\n\n  static async uploadScreenRecording(screenRecordingData) {\n    if (screenRecordingData == null) {\n      return null;\n    }\n\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open('POST', GleapSession.getInstance().apiUrl + '/uploads/sdk');\n      GleapSession.getInstance().injectSession(xhr);\n\n      const formData = new FormData();\n      formData.append('file', screenRecordingData);\n\n      xhr.onerror = function () {\n        reject(new Error('Network error during file upload'));\n      };\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n          if (xhr.status == 200) {\n            resolve(JSON.parse(xhr.response).fileUrl);\n          } else {\n            reject(new Error(`Upload failed with status ${xhr.status}`));\n          }\n        }\n      };\n      xhr.send(formData);\n    });\n  }\n\n  clearPreview() {\n    const videoEl = document.querySelector(GleapScreenRecorder.SELECTORS.PREVIEW_VIDEO);\n    if (videoEl) {\n      videoEl.src = null;\n    }\n    this.file = null;\n    this.rerender();\n  }\n\n  handleRecord({ stream }) {\n    const self = this;\n\n    const recordedChunks = [];\n    this.mediaRecorder = new MediaRecorder(stream, {\n      mimeType: this.getSupportedMimeType(),\n    });\n    this.isRecording = true;\n    this.recordTime = 0;\n\n    // Set timer (guard if label isn't present)\n    const timerLabel = document.querySelector(GleapScreenRecorder.SELECTORS.TIMER_LABEL);\n    if (this.recordingTimer) {\n      clearInterval(this.recordingTimer);\n      this.recordingTimer = null;\n    }\n    this.recordingTimer = setInterval(() => {\n      self.recordTime++;\n      const remainingTime = self.maxRecordTime - self.recordTime;\n      if (timerLabel) {\n        if (remainingTime > 0) {\n          timerLabel.innerHTML = self.formatTime(remainingTime);\n        } else {\n          timerLabel.innerHTML = '2:00';\n          self.stopScreenRecording();\n        }\n      } else if (remainingTime <= 0) {\n        self.stopScreenRecording();\n      }\n    }, GleapScreenRecorder.TIMER_UPDATE_INTERVAL);\n\n    this.mediaRecorder.ondataavailable = function (e) {\n      if (e.data && e.data.size > 0) {\n        recordedChunks.push(e.data);\n      }\n    };\n\n    const videoTrack = this.getFirstVideoTrack(stream);\n    if (videoTrack) {\n      videoTrack.onended = function () {\n        self.prepareRecording(recordedChunks);\n      };\n    }\n\n    this.mediaRecorder.onstop = function () {\n      self.prepareRecording(recordedChunks);\n    };\n\n    // Start recording with configured chunk interval\n    this.mediaRecorder.start(GleapScreenRecorder.CHUNK_INTERVAL);\n\n    self.rerender();\n  }\n\n  prepareRecording(recordedChunks) {\n    const mimeType = this.getSupportedMimeType();\n    const completeBlob = new Blob(recordedChunks, { type: mimeType });\n\n    const extension = mimeType.includes('mp4') ? 'mp4' : 'webm';\n    this.file = new File([completeBlob], `screen-recording.${extension}`, {\n      type: mimeType,\n    });\n\n    const previewVideoElement = document.querySelector(GleapScreenRecorder.SELECTORS.PREVIEW_VIDEO);\n    if (previewVideoElement) {\n      previewVideoElement.src = URL.createObjectURL(completeBlob);\n      this.audioAvailable = this.stream ? this.stream.getAudioTracks().length > 0 : this.audioAvailable;\n      this.isRecording = false;\n      this.rerender();\n    }\n  }\n}\n","import { startScreenCapture } from './ScreenCapture';\nimport { GleapScreenRecorder } from './GleapScreenRecorder';\nimport Gleap, {\n  GleapConsoleLogManager,\n  GleapStreamedEvent,\n  GleapSession,\n  GleapCustomDataManager,\n  GleapMetaDataManager,\n  GleapNetworkIntercepter,\n  GleapTagManager,\n} from './Gleap';\n\nexport default class GleapFeedback {\n  excludeData = {};\n  type = 'BUG';\n  priority = 'LOW';\n  customData = {};\n  ticketAttributes = {};\n  metaData = {};\n  consoleLog = [];\n  networkLogs = [];\n  customEventLog = [];\n  formData = {};\n  isSilent = false;\n  outboundId = undefined;\n  screenshotData = undefined;\n  webReplay = undefined;\n  screenRecordingUrl = undefined;\n  spamToken = undefined;\n\n  constructor(type, priority, formData, isSilent, excludeData, outboundId, spamToken) {\n    this.type = type;\n    this.priority = priority;\n    this.formData = formData;\n    this.isSilent = isSilent;\n    this.excludeData = excludeData;\n    this.outboundId = outboundId;\n    this.spamToken = spamToken;\n  }\n\n  takeSnapshot() {\n    const gleapInstance = Gleap.getInstance();\n    this.customData = GleapCustomDataManager.getInstance().getCustomData();\n    this.metaData = GleapMetaDataManager.getInstance().getMetaData();\n    this.consoleLog = GleapConsoleLogManager.getInstance().getLogs();\n    this.networkLogs = GleapNetworkIntercepter.getInstance().getRequests();\n    this.customEventLog = GleapStreamedEvent.getInstance().getEventArray();\n    this.ticketAttributes = GleapCustomDataManager.getInstance().getTicketAttributes();\n\n    var dataPromises = [];\n\n    // Assign replays\n    var webReplay = gleapInstance.getGlobalDataItem('webReplay');\n    if (webReplay !== null) {\n      this.webReplay = webReplay;\n    }\n\n    // Prepare screen recording\n    var screenRecordingData = gleapInstance.getGlobalDataItem('screenRecordingData');\n    if (screenRecordingData != null) {\n      var recordingUrlPromise = GleapScreenRecorder.uploadScreenRecording(screenRecordingData).then((recordingUrl) => {\n        if (recordingUrl) {\n          this.screenRecordingUrl = recordingUrl;\n        }\n      });\n      dataPromises.push(recordingUrlPromise);\n    }\n\n    // Prepare screenshot\n    if (!(this.excludeData && this.excludeData.screenshot)) {\n      var screenshotDataPromise = startScreenCapture(gleapInstance.isLiveMode()).then((screenshotData) => {\n        if (screenshotData) {\n          const snapshotPosition = gleapInstance.getGlobalDataItem('snapshotPosition');\n          screenshotData['x'] = snapshotPosition.x;\n          screenshotData['y'] = snapshotPosition.y;\n          this.screenshotData = screenshotData;\n        }\n      });\n      dataPromises.push(screenshotDataPromise);\n    }\n\n    return Promise.all(dataPromises);\n  }\n\n  getData() {\n    var feedbackData = {\n      type: this.type,\n      priority: this.priority,\n      customData: this.customData,\n      metaData: this.metaData,\n      consoleLog: this.consoleLog,\n      networkLogs: this.networkLogs,\n      customEventLog: this.customEventLog,\n      // Merge ticket attributes and form data.\n      formData: {\n        ...this.ticketAttributes,\n        ...this.formData,\n      },\n      isSilent: this.isSilent,\n      outbound: this.outboundId,\n      screenshotData: this.screenshotData,\n      webReplay: this.webReplay,\n      screenRecordingUrl: this.screenRecordingUrl,\n      spamToken: this.spamToken,\n    };\n\n    const tags = GleapTagManager.getInstance().getTags();\n    if (tags && tags.length > 0) {\n      feedbackData.tags = tags;\n    }\n\n    if (this.excludeData) {\n      const keysToExclude = Object.keys(this.excludeData);\n      for (let i = 0; i < keysToExclude.length; i++) {\n        const keyToExclude = keysToExclude[i];\n        if (this.excludeData[keyToExclude] === true) {\n          if (feedbackData[keyToExclude]) {\n            delete feedbackData[keyToExclude];\n          }\n\n          if (keyToExclude === 'screenshot') {\n            delete feedbackData.screenshotData;\n          }\n\n          if (keyToExclude === 'replays') {\n            delete feedbackData.webReplay;\n          }\n        }\n      }\n    }\n\n    return feedbackData;\n  }\n\n  getTicketData() {\n    return new Promise((resolve, reject) => {\n      this.takeSnapshot()\n        .then(() => {\n          const dataToSend = this.getData();\n          resolve(dataToSend);\n        })\n        .catch((exp) => {\n          console.log('Failed to take snapshot', exp);\n          reject();\n        });\n    });\n  }\n\n  sendFeedback() {\n    return new Promise((resolve, reject) => {\n      this.takeSnapshot()\n        .then(() => {\n          const dataToSend = this.getData();\n\n          const http = new XMLHttpRequest();\n          http.open('POST', GleapSession.getInstance().apiUrl + '/bugs/v2');\n          http.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n          GleapSession.getInstance().injectSession(http);\n          http.onerror = (error) => {\n            reject();\n          };\n          http.onreadystatechange = function (e) {\n            if (http.readyState === 4) {\n              if (http.status === 200 || http.status === 201) {\n                try {\n                  const feedback = JSON.parse(http.responseText);\n                  resolve(feedback);\n                } catch (exp) {\n                  reject();\n                }\n              } else {\n                reject();\n              }\n            }\n          };\n          http.send(JSON.stringify(dataToSend));\n        })\n        .catch((exp) => {\n          console.log('Failed to take snapshot', exp);\n          reject();\n        });\n    });\n  }\n}\n","import Gleap, {\n  GleapAudioManager,\n  GleapBannerManager,\n  GleapConfigManager,\n  GleapConsoleLogManager,\n  GleapCustomActionManager,\n  GleapCustomDataManager,\n  GleapEventManager,\n  GleapFeedback,\n  GleapFeedbackButtonManager,\n  GleapMarkerManager,\n  GleapMetaDataManager,\n  GleapNetworkIntercepter,\n  GleapNotificationManager,\n  GleapSession,\n  GleapStreamedEvent,\n  GleapTagManager,\n  GleapTranslationManager,\n} from './Gleap';\nimport { runFunctionWhenDomIsReady } from './GleapHelper';\nimport { widgetMaxHeight } from './UI';\n\nexport default class GleapFrameManager {\n  frameUrl = 'https://messenger-app.gleap.io';\n  gleapFrameContainer = null;\n  gleapFrame = null;\n  comReady = false;\n  injectedFrame = false;\n  widgetOpened = false;\n  listeners = [];\n  appMode = 'widget';\n  markerManager = undefined;\n  escListener = undefined;\n  frameHeight = 0;\n  sendingFeedback = false;\n  queue = [];\n  urlHandler = function (url, newTab) {\n    if (url && url.length > 0) {\n      if (newTab) {\n        const newWindow = window.open(url, '_blank');\n        if (newWindow) {\n          newWindow.focus();\n        }\n      } else {\n        window.location.href = url;\n      }\n    }\n  };\n\n  // GleapFrameManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapFrameManager();\n    }\n    return this.instance;\n  }\n\n  constructor() {\n    this.startCommunication();\n    if (typeof window !== 'undefined') {\n      function appHeight() {\n        try {\n          const doc = document.documentElement;\n          doc.style.setProperty('--glvh', window.innerHeight * 0.01 + 'px');\n        } catch (e) {}\n      }\n\n      try {\n        window.addEventListener('resize', appHeight);\n        appHeight();\n      } catch (e) {}\n    }\n  }\n\n  setUrlHandler(handler) {\n    this.urlHandler = handler;\n  }\n\n  isSurvey() {\n    return this.appMode === 'survey' || this.appMode === 'survey_full' || this.appMode === 'survey_web';\n  }\n\n  setAppMode(appMode) {\n    this.appMode = appMode;\n    this.updateFrameStyle();\n\n    const innerContainer = document.querySelector('.gleap-frame-container-inner');\n    if ((this.appMode === 'widget' || this.appMode === 'survey_full' || this.appMode === 'survey_web') && innerContainer) {\n      innerContainer.style.maxHeight = `${widgetMaxHeight}px`;\n    }\n  }\n\n  registerEscListener() {\n    if (this.escListener) {\n      return;\n    }\n\n    this.escListener = (evt) => {\n      evt = evt || window.event;\n      if (evt.key === 'Escape') {\n        this.hideWidget();\n      }\n    };\n    document.addEventListener('keydown', this.escListener);\n  }\n\n  unregisterEscListener() {\n    if (this.escListener) {\n      document.removeEventListener('keydown', this.escListener);\n      this.escListener = null;\n    }\n  }\n\n  destroy() {\n    if (this.gleapFrame) {\n      this.gleapFrame.remove();\n    }\n    if (this.gleapFrameContainer) {\n      this.gleapFrameContainer.remove();\n    }\n    this.injectedFrame = false;\n    this.widgetOpened = false;\n    this.markerManager = undefined;\n    this.gleapFrameContainer = null;\n    this.gleapFrame = null;\n  }\n\n  isOpened() {\n    return this.widgetOpened || this.markerManager != null;\n  }\n\n  autoWhiteListCookieManager = () => {\n    if (window && window.cmp_block_ignoredomains) {\n      window.cmp_block_ignoredomains.concat(['messenger-app.gleap.io']);\n    }\n  };\n\n  injectFrame = () => {\n    if (this.injectedFrame) {\n      return;\n    }\n    this.injectedFrame = true;\n\n    this.autoWhiteListCookieManager();\n\n    // Inject the frame manager after it has been loaded.\n    runFunctionWhenDomIsReady(() => {\n      GleapConfigManager.getInstance().onConfigLoaded(() => {\n        // Apply CSS.\n        GleapConfigManager.getInstance().applyStylesFromConfig();\n\n        // Inject widget HTML.\n        var elem = document.createElement('div');\n        elem.className = 'gleap-frame-container gleap-frame-container--hidden gl-block';\n        elem.innerHTML = `<div class=\"gleap-frame-container-inner\"><iframe src=\"${this.frameUrl}\" class=\"gleap-frame\" scrolling=\"yes\" allow=\"autoplay; encrypted-media; fullscreen; microphone *; display-capture *; camera *;\" frameborder=\"0\"></iframe></div>`;\n        document.body.appendChild(elem);\n\n        this.gleapFrameContainer = elem;\n        this.gleapFrame = document.querySelector('.gleap-frame');\n\n        this.updateFrameStyle();\n\n        // Show loading preview for widget app mode.\n        if (this.appMode === 'widget') {\n          this.showFrameContainer(true);\n        }\n      });\n    });\n  };\n\n  showImage = (url) => {\n    runFunctionWhenDomIsReady(() => {\n      var elem = document.createElement('div');\n      elem.className = 'gleap-image-view';\n      elem.innerHTML = `<div class=\"gleap-image-view-close\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm97.9-320l-17 17-47 47 47 47 17 17L320 353.9l-17-17-47-47-47 47-17 17L158.1 320l17-17 47-47-47-47-17-17L192 158.1l17 17 47 47 47-47 17-17L353.9 192z\"/></svg>\n      </div><img class=\"gleap-image-view-image\" src=\"${url}\" />`;\n      document.body.appendChild(elem);\n\n      const closeElement = () => {\n        elem.remove();\n      };\n\n      const close = elem.querySelector('.gleap-image-view-close');\n      close.addEventListener('click', () => {\n        closeElement();\n      });\n\n      elem.addEventListener('click', (e) => {\n        if (e.target === elem) {\n          closeElement();\n        }\n      });\n    });\n  };\n\n  updateFrameStyle = () => {\n    if (!this.gleapFrameContainer) {\n      return;\n    }\n\n    const surveyStyle = 'gleap-frame-container--survey';\n    const extendedStyle = 'gleap-frame-container--extended';\n    const surveyFullStyle = 'gleap-frame-container--survey-full';\n    const classicStyle = 'gleap-frame-container--classic';\n    const classicStyleLeft = 'gleap-frame-container--classic-left';\n    const modernStyleLeft = 'gleap-frame-container--modern-left';\n    const noButtonStyleLeft = 'gleap-frame-container--no-button';\n    const allStyles = [\n      classicStyle,\n      classicStyleLeft,\n      extendedStyle,\n      modernStyleLeft,\n      noButtonStyleLeft,\n      surveyStyle,\n      surveyFullStyle,\n    ];\n    for (let i = 0; i < allStyles.length; i++) {\n      this.gleapFrameContainer.classList.remove(allStyles[i]);\n    }\n\n    var styleToApply = undefined;\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n    if (\n      flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC ||\n      flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_BOTTOM\n    ) {\n      styleToApply = classicStyle;\n    }\n    if (flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_LEFT) {\n      styleToApply = classicStyleLeft;\n    }\n    if (flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_BOTTOM_LEFT) {\n      styleToApply = modernStyleLeft;\n    }\n    if (GleapFeedbackButtonManager.getInstance().buttonHidden === null) {\n      if (flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_NONE) {\n        styleToApply = noButtonStyleLeft;\n      }\n    } else {\n      if (GleapFeedbackButtonManager.getInstance().buttonHidden) {\n        styleToApply = noButtonStyleLeft;\n      }\n    }\n    if (styleToApply) {\n      this.gleapFrameContainer.classList.add(styleToApply);\n    }\n\n    if (this.appMode === 'survey') {\n      this.gleapFrameContainer.classList.add(surveyStyle);\n    }\n    if (this.appMode === 'survey_full' || this.appMode === 'survey_web') {\n      this.gleapFrameContainer.classList.add(surveyFullStyle);\n    }\n    if (this.appMode === 'extended') {\n      this.gleapFrameContainer.classList.add(extendedStyle);\n    }\n\n    this.gleapFrameContainer.setAttribute('dir', GleapTranslationManager.getInstance().isRTLLayout ? 'rtl' : 'ltr');\n  };\n\n  showFrameContainer(showLoader) {\n    if (!this.gleapFrameContainer) {\n      return;\n    }\n\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n    const loadingClass = 'gleap-frame-container--loading';\n    if (this.gleapFrameContainer.classList) {\n      this.gleapFrameContainer.classList.remove('gleap-frame-container--hidden');\n      if (showLoader) {\n        this.gleapFrameContainer.classList.add(loadingClass);\n\n        if (flowConfig && flowConfig.disableBGFade) {\n          this.gleapFrameContainer.classList.add('gleap-frame-container--loading-nofade');\n        }\n        if (flowConfig && flowConfig.disableBGGradient) {\n          this.gleapFrameContainer.classList.add('gleap-frame-container--loading-nogradient');\n        }\n      } else {\n        this.gleapFrameContainer.classList.remove(loadingClass);\n      }\n\n      setTimeout(() => {\n        this.gleapFrameContainer.classList.add('gleap-frame-container--animate');\n      }, 500);\n    }\n\n    this.widgetOpened = true;\n    this.updateUI();\n  }\n\n  runWidgetShouldOpenCallback() {\n    if (!this.gleapFrameContainer) {\n      return;\n    }\n\n    this.workThroughQueue();\n\n    Gleap.getInstance().setGlobalDataItem('snapshotPosition', {\n      x: window.scrollX,\n      y: window.scrollY,\n    });\n\n    this.showFrameContainer(false);\n    this.updateWidgetStatus();\n\n    GleapEventManager.notifyEvent('open');\n    this.registerEscListener();\n  }\n\n  updateUI() {\n    // Clear notifications only when not opening a survey.\n    GleapNotificationManager.getInstance().clearAllNotifications(this.isSurvey());\n\n    GleapFeedbackButtonManager.getInstance().updateNotificationBadge(0);\n    GleapFeedbackButtonManager.getInstance().updateFeedbackButtonState();\n  }\n\n  showWidget() {\n    setTimeout(() => {\n      if (this.gleapFrameContainer) {\n        this.runWidgetShouldOpenCallback();\n      } else {\n        GleapFrameManager.getInstance().injectFrame();\n      }\n      this.updateUI();\n    }, 0);\n  }\n\n  updateWidgetStatus() {\n    this.sendMessage({\n      name: 'widget-status-update',\n      data: {\n        isWidgetOpen: this.widgetOpened,\n      },\n    });\n  }\n\n  hideMarkerManager() {\n    if (this.markerManager) {\n      this.markerManager.clear();\n      this.markerManager = null;\n    }\n  }\n\n  hideWidget(resetRoutes = false) {\n    // Prevent for survey web.\n    if (this.appMode === 'survey_web') {\n      return;\n    }\n\n    this.hideMarkerManager();\n    if (this.gleapFrameContainer) {\n      this.gleapFrameContainer.classList.add('gleap-frame-container--hidden');\n      this.gleapFrameContainer.classList.remove('gleap-frame-container--animate');\n    }\n    if (resetRoutes) {\n      this.sendMessage({\n        name: 'reset-routes',\n        data: {},\n      });\n    }\n    this.widgetOpened = false;\n    this.updateWidgetStatus();\n    GleapFeedbackButtonManager.getInstance().updateFeedbackButtonState();\n    GleapEventManager.notifyEvent('close');\n    GleapNotificationManager.getInstance().reloadNotificationsFromCache();\n\n    this.unregisterEscListener();\n\n    if (typeof window !== 'undefined' && typeof window.focus !== 'undefined') {\n      window.focus();\n    }\n  }\n\n  sendMessage(data, queue = false) {\n    try {\n      this.gleapFrame = document.querySelector('.gleap-frame');\n      if (this.comReady && this.gleapFrame && this.gleapFrame.contentWindow) {\n        this.gleapFrame.contentWindow.postMessage(JSON.stringify(data), '*');\n      } else {\n        if (queue) {\n          this.queue.push(data);\n        }\n      }\n    } catch (e) {}\n  }\n\n  sendSessionUpdate() {\n    this.sendMessage({\n      name: 'session-update',\n      data: {\n        sessionData: GleapSession.getInstance().getSession(),\n        apiUrl: GleapSession.getInstance().apiUrl,\n        sdkKey: GleapSession.getInstance().sdkKey,\n      },\n    });\n  }\n\n  sendConfigUpdate() {\n    if (!this.comReady) {\n      return;\n    }\n\n    this.sendMessage({\n      name: 'config-update',\n      data: {\n        config: GleapConfigManager.getInstance().getFlowConfig(),\n        aiTools: GleapConfigManager.getInstance().getAiTools(),\n        overrideLanguage: GleapTranslationManager.getInstance().getOverrideLanguage(),\n      },\n    });\n\n    this.updateFrameStyle();\n  }\n\n  showDrawingScreen(type) {\n    this.hideWidget();\n\n    // Show screen drawing.\n    this.markerManager = new GleapMarkerManager(type);\n    this.markerManager.show((success) => {\n      if (!success) {\n        this.hideMarkerManager();\n      }\n      this.showWidget();\n    });\n  }\n\n  workThroughQueue() {\n    const workQueue = [...this.queue];\n    this.queue = [];\n    for (let i = 0; i < workQueue.length; i++) {\n      this.sendMessage(workQueue[i], true);\n    }\n  }\n\n  startCommunication() {\n    // Listen for messages.\n    this.addMessageListener((data) => {\n      if (data.name === 'ping') {\n        this.comReady = true;\n        this.sendConfigUpdate();\n        this.sendSessionUpdate();\n        this.workThroughQueue();\n        setTimeout(() => {\n          this.runWidgetShouldOpenCallback();\n        }, 300);\n      }\n\n      if (data.name === 'play-ping') {\n        GleapAudioManager.ping();\n      }\n\n      if (data.name === 'open-image') {\n        this.showImage(data.data.url);\n      }\n\n      if (data.name === 'page-changed') {\n        if (data.data && (data.data.name === 'newsdetails' || data.data.name === 'appextended')) {\n          this.setAppMode('extended');\n        } else {\n          if (this.appMode === 'extended') {\n            this.setAppMode('widget');\n          }\n        }\n      }\n\n      if (data.name === 'collect-ticket-data') {\n        var ticketData = {\n          customData: GleapCustomDataManager.getInstance().getCustomData(),\n          metaData: GleapMetaDataManager.getInstance().getMetaData(),\n          consoleLog: GleapConsoleLogManager.getInstance().getLogs(),\n          networkLogs: GleapNetworkIntercepter.getInstance().getRequests(),\n          customEventLog: GleapStreamedEvent.getInstance().getEventArray(),\n          formData: GleapCustomDataManager.getInstance().getTicketAttributes(),\n        };\n\n        // Add tags\n        const tags = GleapTagManager.getInstance().getTags();\n        if (tags && tags.length > 0) {\n          ticketData.tags = tags;\n        }\n\n        this.sendMessage({\n          name: 'collect-ticket-data',\n          data: ticketData,\n        });\n      }\n\n      if (data.name === 'height-update') {\n        this.frameHeight = data.data;\n\n        const innerContainer = document.querySelector('.gleap-frame-container-inner');\n        if (\n          (this.appMode === 'survey' || this.appMode === 'survey_full' || this.appMode === 'survey_web') &&\n          innerContainer\n        ) {\n          innerContainer.style.maxHeight = `${this.frameHeight}px`;\n        }\n      }\n\n      if (data.name === 'notify-event') {\n        GleapEventManager.notifyEvent(data.data.type, data.data.data);\n      }\n\n      if (data.name === 'cleanup-drawings') {\n        this.hideMarkerManager();\n      }\n\n      if (data.name === 'open-url') {\n        const url = data.data;\n        const newTab = data.newTab ? true : false;\n        this.urlHandler(url, newTab);\n      }\n\n      if (data.name === 'start-product-tour') {\n        Gleap.startProductTour(data.data?.tourId, true);\n      }\n\n      if (data.name === 'run-custom-action') {\n        GleapCustomActionManager.triggerCustomAction(data.data, {\n          shareToken: data.shareToken,\n        });\n      }\n\n      if (data.name === 'close-widget') {\n        this.hideWidget();\n      }\n\n      if (data.name === 'video-call-joined') {\n        GleapFeedbackButtonManager.getInstance().showingRedDot = true;\n        GleapFeedbackButtonManager.getInstance().updateRedDot(true);\n      }\n\n      if (data.name === 'video-call-left') {\n        GleapFeedbackButtonManager.getInstance().showingRedDot = false;\n        GleapFeedbackButtonManager.getInstance().updateRedDot(false);\n      }\n\n      if (data.name === 'tool-execution') {\n        GleapEventManager.notifyEvent('tool-execution', data.data);\n      }\n\n      if (data.name === 'checklist-loaded') {\n        const checklistData = data.data;\n        GleapEventManager.notifyEvent('checklist-loaded', {\n          checklistId: checklistData.id,\n          outboundId: checklistData.outbound?.id,\n          completedSteps: checklistData.completedSteps,\n          status: checklistData.status,\n          data: checklistData,\n        });\n      }\n\n      if (data.name === 'checklist-step-completed') {\n        const { checklistData, step, index } = data.data;\n        GleapEventManager.notifyEvent('checklist-step-completed', {\n          checklistId: checklistData.id,\n          outboundId: checklistData.outbound?.id,\n          stepId: step.id,\n          stepIndex: index,\n          step: step,\n          completedSteps: checklistData.completedSteps,\n          status: checklistData.status,\n          data: checklistData,\n        });\n      }\n\n      if (data.name === 'checklist-completed') {\n        const checklistData = data.data;\n        GleapEventManager.notifyEvent('checklist-completed', {\n          checklistId: checklistData.id,\n          outboundId: checklistData.outbound?.id,\n          completedSteps: checklistData.completedSteps,\n          status: checklistData.status,\n          data: checklistData,\n        });\n      }\n\n      if (data.name === 'send-feedback') {\n        if (this.sendingFeedback) {\n          return;\n        }\n\n        this.sendingFeedback = true;\n\n        const formData = data.data.formData;\n        const action = data.data.action;\n        const outboundId = data.data.outboundId;\n        const spamToken = data.data.spamToken;\n\n        const feedback = new GleapFeedback(\n          action.feedbackType,\n          'MEDIUM',\n          formData,\n          false,\n          action.excludeData,\n          outboundId,\n          spamToken\n        );\n        feedback\n          .sendFeedback()\n          .then((feedbackData) => {\n            setTimeout(() => {\n              this.sendingFeedback = false;\n            }, 1000);\n\n            this.sendMessage({\n              name: 'feedback-sent',\n              data: feedbackData,\n            });\n            GleapEventManager.notifyEvent('feedback-sent', formData);\n\n            if (outboundId && outboundId.length > 0) {\n              GleapEventManager.notifyEvent('outbound-sent', {\n                outboundId: outboundId,\n                outbound: action,\n                formData: formData,\n              });\n\n              try {\n                delete formData.reportedBy;\n              } catch (e) {}\n              Gleap.trackEvent(`outbound-${outboundId}-submitted`, formData);\n            }\n          })\n          .catch((error) => {\n            setTimeout(() => {\n              this.sendingFeedback = false;\n\n              this.sendMessage({\n                name: 'feedback-sending-failed',\n                data: 'Something went wrong, please try again.',\n              });\n              GleapEventManager.notifyEvent('error-while-sending');\n            }, 1000);\n          });\n      }\n\n      if (data.name === 'start-screen-drawing') {\n        this.showDrawingScreen(data.data);\n      }\n    });\n\n    // Add window message listener.\n    window.addEventListener('message', (event) => {\n      if (event.origin !== this.frameUrl && event.origin !== GleapBannerManager.getInstance().bannerUrl) {\n        return;\n      }\n\n      try {\n        const data = JSON.parse(event.data);\n        for (var i = 0; i < this.listeners.length; i++) {\n          if (this.listeners[i]) {\n            this.listeners[i](data);\n          }\n        }\n      } catch (exp) {}\n    });\n  }\n\n  addMessageListener(callback) {\n    this.listeners.push(callback);\n  }\n}\n","import { isMobile } from './GleapHelper';\n\nexport default class GleapMetaDataManager {\n  sessionStart = new Date();\n  appBuildNumber = '';\n  appVersionCode = '';\n  environment = 'prod';\n\n  // GleapMetaDataManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapMetaDataManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Sets the app version code.\n   * @param {string} appVersionCode\n   */\n  static setAppVersionCode(appVersionCode) {\n    this.getInstance().appVersionCode = appVersionCode;\n  }\n\n  /**\n   * Sets the app version code.\n   * @param {string} appVersionCode\n   */\n  static setAppBuildNumber(appBuildNumber) {\n    this.getInstance().appBuildNumber = appBuildNumber;\n  }\n\n  getSessionDuration() {\n    const now = new Date();\n    return Math.round((now.getTime() - this.sessionStart.getTime()) / 1000);\n  }\n\n  getMetaData() {\n    var nAgt = navigator.userAgent;\n    var browserName = navigator.appName;\n    var fullVersion = '' + parseFloat(navigator.appVersion);\n    var majorVersion = parseInt(navigator.appVersion, 10);\n    var nameOffset, verOffset, ix;\n\n    // In Opera, the true version is after \"Opera\" or after \"Version\"\n    if ((verOffset = nAgt.indexOf('Opera')) !== -1) {\n      browserName = 'Opera';\n      fullVersion = nAgt.substring(verOffset + 6);\n      if ((verOffset = nAgt.indexOf('Version')) !== -1) fullVersion = nAgt.substring(verOffset + 8);\n    }\n    // In MSIE, the true version is after \"MSIE\" in userAgent\n    else if ((verOffset = nAgt.indexOf('MSIE')) !== -1) {\n      browserName = 'Microsoft Internet Explorer';\n      fullVersion = nAgt.substring(verOffset + 5);\n    }\n    // In Chrome, the true version is after \"Chrome\"\n    else if ((verOffset = nAgt.indexOf('Chrome')) !== -1) {\n      browserName = 'Chrome';\n      fullVersion = nAgt.substring(verOffset + 7);\n    }\n    // In Safari, the true version is after \"Safari\" or after \"Version\"\n    else if ((verOffset = nAgt.indexOf('Safari')) !== -1) {\n      browserName = 'Safari';\n      fullVersion = nAgt.substring(verOffset + 7);\n      if ((verOffset = nAgt.indexOf('Version')) !== -1) fullVersion = nAgt.substring(verOffset + 8);\n    }\n    // In Firefox, the true version is after \"Firefox\"\n    else if ((verOffset = nAgt.indexOf('Firefox')) !== -1) {\n      browserName = 'Firefox';\n      fullVersion = nAgt.substring(verOffset + 8);\n    }\n    // In most other browsers, \"name/version\" is at the end of userAgent\n    else if ((nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))) {\n      browserName = nAgt.substring(nameOffset, verOffset);\n      fullVersion = nAgt.substring(verOffset + 1);\n      if (browserName.toLowerCase() === browserName.toUpperCase()) {\n        browserName = navigator.appName;\n      }\n    }\n    // trim the fullVersion string at semicolon/space if present\n    if ((ix = fullVersion.indexOf(';')) !== -1) fullVersion = fullVersion.substring(0, ix);\n    if ((ix = fullVersion.indexOf(' ')) !== -1) fullVersion = fullVersion.substring(0, ix);\n\n    majorVersion = parseInt('' + fullVersion, 10);\n    if (isNaN(majorVersion)) {\n      fullVersion = '' + parseFloat(navigator.appVersion);\n      majorVersion = parseInt(navigator.appVersion, 10);\n    }\n\n    var OSName = 'Unknown OS';\n    if (navigator.appVersion.indexOf('Win') !== -1) OSName = 'Windows';\n    if (navigator.appVersion.indexOf('Mac') !== -1) OSName = 'MacOS';\n    if (navigator.appVersion.indexOf('X11') !== -1) OSName = 'UNIX';\n    if (navigator.appVersion.indexOf('Linux') !== -1) OSName = 'Linux';\n    if (navigator.appVersion.indexOf('iPad') !== -1) OSName = 'iPad';\n    if (navigator.appVersion.indexOf('iPhone') !== -1) OSName = 'iPhone';\n    if (navigator.appVersion.indexOf('Android') !== -1) OSName = 'Android';\n\n    return {\n      browserName: browserName + '(' + fullVersion + ')',\n      userAgent: nAgt,\n      browser: browserName,\n      systemName: OSName,\n      buildVersionNumber: this.appBuildNumber,\n      releaseVersionNumber: this.appVersionCode,\n      sessionDuration: this.getSessionDuration(),\n      devicePixelRatio: window.devicePixelRatio,\n      screenWidth: window.screen.width,\n      screenHeight: window.screen.height,\n      innerWidth: window.innerWidth,\n      innerHeight: window.innerHeight,\n      currentUrl: window.location.href,\n      language: navigator.language || navigator.userLanguage,\n      mobile: isMobile(),\n      sdkVersion: SDK_VERSION,\n      sdkType: 'javascript',\n      environment: this.environment,\n    };\n  }\n}\n","import { truncateString } from './GleapHelper';\n\nexport default class GleapConsoleLogManager {\n  logArray = [];\n  disabled = false;\n  originalConsoleLog;\n  logMaxLength = 500;\n\n  // GleapConsoleLogManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapConsoleLogManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Return the console logs\n   * @returns {any[]} logs\n   */\n  getLogs() {\n    return this.logArray;\n  }\n\n  /**\n   * Revert console log overwrite.\n   */\n  stop() {\n    this.disabled = true;\n    if (this.originalConsoleLog) {\n      window.console = this.originalConsoleLog;\n    }\n  }\n\n  /**\n   * Add message with log level to logs.\n   * @param {*} message\n   * @param {*} logLevel\n   * @returns\n   */\n  addLog(message, logLevel = 'INFO') {\n    if (!message || message.length <= 0) {\n      return;\n    }\n\n    this.logArray.push({\n      log: truncateString(message, 1000),\n      date: new Date(),\n      priority: logLevel,\n    });\n\n    if (this.logArray.length > this.logMaxLength) {\n      this.logArray.shift();\n    }\n  }\n\n  /**\n   * Add entry to logs.\n   * @param {*} args\n   * @param {*} logLevel\n   * @returns\n   */\n  addLogWithArgs(args, logLevel) {\n    if (!args || args.length <= 0) {\n      return;\n    }\n\n    var log = '';\n    try {\n      for (var i = 0; i < args.length; i++) {\n        log += args[i] + ' ';\n      }\n    } catch (exp) {}\n\n    this.addLog(log, logLevel);\n  }\n\n  /**\n   * Start console log overwrite.\n   */\n  start() {\n    if (this.disabled) {\n      return;\n    }\n\n    const self = this;\n    window.console = (function (origConsole) {\n      if (!window.console || !origConsole) {\n        origConsole = {};\n      }\n\n      self.originalConsoleLog = origConsole;\n\n      return {\n        ...origConsole,\n        log: function () {\n          self.addLogWithArgs(arguments, 'INFO');\n          origConsole.log && origConsole.log.apply(origConsole, arguments);\n        },\n        warn: function () {\n          self.addLogWithArgs(arguments, 'WARNING');\n          origConsole.warn && origConsole.warn.apply(origConsole, arguments);\n        },\n        error: function () {\n          self.addLogWithArgs(arguments, 'ERROR');\n          origConsole.error && origConsole.error.apply(origConsole, arguments);\n        },\n        info: function (v) {\n          self.addLogWithArgs(arguments, 'INFO');\n          origConsole.info && origConsole.info.apply(origConsole, arguments);\n        },\n      };\n    })(window.console);\n  }\n}\n","import { GleapConsoleLogManager, GleapFrameManager, handleGleapLink } from './Gleap';\nimport { getDOMElementDescription } from './GleapHelper';\n\nexport default class GleapClickListener {\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapClickListener();\n    }\n    return this.instance;\n  }\n\n  start() {\n    document.addEventListener('click', (e) => {\n      if (!e.target) {\n        return;\n      }\n\n      if (e.target.tagName === 'A' && e.target.protocol === 'gleap:') {\n        e.preventDefault();\n\n        const href = e.target.href;\n        handleGleapLink(href);\n      }\n\n      if (!GleapFrameManager.getInstance().isOpened()) {\n        GleapConsoleLogManager.getInstance().addLog(getDOMElementDescription(e.target), 'CLICK');\n      }\n    });\n  }\n}\n","import { gleapDataParser } from './GleapHelper';\n\nexport default class GleapCustomDataManager {\n  customData = {};\n  ticketAttributes = {};\n\n  // GleapCustomDataManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapCustomDataManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Returns the custom data object\n   * @returns {*}\n   */\n  getCustomData() {\n    return this.customData;\n  }\n\n  /**\n   * Set custom data that will be attached to the bug-report.\n   * @param {*} data\n   */\n  attachCustomData(data) {\n    this.customData = Object.assign(this.customData, gleapDataParser(data));\n  }\n\n  /**\n   * Add one key value pair to the custom data object\n   * @param {*} key The key of the custom data entry you want to add.\n   * @param {*} value The custom data you want to add.\n   */\n  setCustomData(key, value) {\n    this.customData[key] = value;\n  }\n\n  /**\n   * Remove one key value pair of the custom data object\n   * @param {*} key The key of the custom data entry you want to remove.\n   */\n  removeCustomData(key) {\n    delete this.customData[key];\n  }\n\n  /**\n   * Clear the custom data\n   */\n  clearCustomData() {\n    this.customData = {};\n  }\n\n  /**\n   * This method is used to set ticket attributes programmatically.\n   * @param {*} key The key of the attribute you want to add.\n   * @param {*} value The value to set.\n   */\n  setTicketAttribute(key, value) {\n    this.ticketAttributes[key] = value;\n  }\n\n  /**\n   * This method is used to unset ticket attributes programmatically.\n   * @param {*} key The key of the attribute you want to unset.\n   */\n  unsetTicketAttribute(key) {\n    delete this.ticketAttributes[key];\n  }\n\n  /**\n   * This method is used to clear ticket attributes programmatically.\n   */\n  clearTicketAttributes() {\n    this.ticketAttributes = {};\n  }\n\n  getTicketAttributes() {\n    return this.ticketAttributes;\n  }\n}\n","import Gleap from './Gleap';\n\nexport default class GleapEventManager {\n  eventListeners = {};\n\n  // GleapEventManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapEventManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Notify all registrants for event.\n   */\n  static notifyEvent(event, data = {}) {\n    if (event === 'flow-started') {\n      const gleapInstance = Gleap.getInstance();\n      gleapInstance.setGlobalDataItem('webReplay', null);\n      gleapInstance.setGlobalDataItem('screenRecordingData', null);\n      gleapInstance.takeCurrentReplay();\n    }\n\n    const eventListeners = this.getInstance().eventListeners[event];\n    if (eventListeners) {\n      for (var i = 0; i < eventListeners.length; i++) {\n        const eventListener = eventListeners[i];\n        if (eventListener) {\n          eventListener(data);\n        }\n      }\n    }\n  }\n\n  /**\n   * Register events for Gleap.\n   * @param {*} eventName\n   * @param {*} callback\n   */\n  static on(eventName, callback) {\n    const instance = this.getInstance();\n    if (!instance.eventListeners[eventName]) {\n      instance.eventListeners[eventName] = [];\n    }\n    instance.eventListeners[eventName].push(callback);\n  }\n}\n","export default class GleapCustomActionManager {\n  customActionCallbacks = [];\n\n  // GleapCustomActionManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapCustomActionManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Register custom action\n   */\n  static registerCustomAction(customAction) {\n    const instance = this.getInstance();\n    if (instance.customActionCallbacks) {\n      instance.customActionCallbacks.push(customAction);\n    }\n  }\n\n  /**\n   * Triggers a custom action\n   */\n  static triggerCustomAction(name, data) {\n    const instance = this.getInstance();\n    if (instance.customActionCallbacks) {\n      for (var i = 0; i < instance.customActionCallbacks.length; i++) {\n        var callback = instance.customActionCallbacks[i];\n        if (callback) {\n          callback({\n            name,\n            ...(data ? data : {}),\n          });\n        }\n      }\n    }\n  }\n}\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar _a;\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar NodeType$3 = /* @__PURE__ */ ((NodeType2) => {\n  NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n  NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n  NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n  NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n  NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n  NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n  return NodeType2;\n})(NodeType$3 || {});\nconst testableAccessors$1 = {\n  Node: [\n    \"childNodes\",\n    \"parentNode\",\n    \"parentElement\",\n    \"textContent\",\n    \"ownerDocument\"\n  ],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods$1 = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype$1 = {};\nconst isAngularZonePresent$1 = () => {\n  return !!globalThis.Zone;\n};\nfunction getUntaintedPrototype$1(key) {\n  if (untaintedBasePrototype$1[key])\n    return untaintedBasePrototype$1[key];\n  const defaultObj = globalThis[key];\n  const defaultPrototype = defaultObj.prototype;\n  const accessorNames = key in testableAccessors$1 ? testableAccessors$1[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods$1 ? testableMethods$1[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods && !isAngularZonePresent$1()) {\n    untaintedBasePrototype$1[key] = defaultObj.prototype;\n    return defaultObj.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return defaultObj.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype$1[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache$1 = {};\nfunction getUntaintedAccessor$1(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache$1[cacheKey])\n    return untaintedAccessorCache$1[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache$1[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache$1 = {};\nfunction getUntaintedMethod$1(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache$1[cacheKey])\n    return untaintedMethodCache$1[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache$1[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction ownerDocument$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"ownerDocument\");\n}\nfunction childNodes$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentElement\");\n}\nfunction textContent$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"textContent\");\n}\nfunction contains$1(n2, other) {\n  return getUntaintedMethod$1(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode$1(n2) {\n  return getUntaintedMethod$1(\"Node\", n2, \"getRootNode\")();\n}\nfunction host$1(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor$1(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets$1(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot$1(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor$1(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor$1() {\n  return getUntaintedPrototype$1(\"MutationObserver\").constructor;\n}\nfunction patch$1(source, name, replacement) {\n  try {\n    if (!(name in source)) {\n      return () => {\n      };\n    }\n    const original = source[name];\n    const wrapped = replacement(original);\n    if (typeof wrapped === \"function\") {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __rrweb_original__: {\n          enumerable: false,\n          value: original\n        }\n      });\n    }\n    source[name] = wrapped;\n    return () => {\n      source[name] = original;\n    };\n  } catch {\n    return () => {\n    };\n  }\n}\nconst index$1 = {\n  ownerDocument: ownerDocument$1,\n  childNodes: childNodes$1,\n  parentNode: parentNode$1,\n  parentElement: parentElement$1,\n  textContent: textContent$1,\n  contains: contains$1,\n  getRootNode: getRootNode$1,\n  host: host$1,\n  styleSheets: styleSheets$1,\n  shadowRoot: shadowRoot$1,\n  querySelector: querySelector$1,\n  querySelectorAll: querySelectorAll$1,\n  mutationObserver: mutationObserverCtor$1,\n  patch: patch$1\n};\nfunction isElement(n2) {\n  return n2.nodeType === n2.ELEMENT_NODE;\n}\nfunction isShadowRoot(n2) {\n  const hostEl = (\n    // anchor and textarea elements also have a `host` property\n    // but only shadow roots have a `mode` property\n    n2 && \"host\" in n2 && \"mode\" in n2 && index$1.host(n2) || null\n  );\n  return Boolean(\n    hostEl && \"shadowRoot\" in hostEl && index$1.shadowRoot(hostEl) === n2\n  );\n}\nfunction isNativeShadowDom(shadowRoot2) {\n  return Object.prototype.toString.call(shadowRoot2) === \"[object ShadowRoot]\";\n}\nfunction fixBrowserCompatibilityIssuesInCSS(cssText) {\n  if (cssText.includes(\" background-clip: text;\") && !cssText.includes(\" -webkit-background-clip: text;\")) {\n    cssText = cssText.replace(\n      /\\sbackground-clip:\\s*text;/g,\n      \" -webkit-background-clip: text; background-clip: text;\"\n    );\n  }\n  return cssText;\n}\nfunction escapeImportStatement(rule2) {\n  const { cssText } = rule2;\n  if (cssText.split('\"').length < 3) return cssText;\n  const statement = [\"@import\", `url(${JSON.stringify(rule2.href)})`];\n  if (rule2.layerName === \"\") {\n    statement.push(`layer`);\n  } else if (rule2.layerName) {\n    statement.push(`layer(${rule2.layerName})`);\n  }\n  if (rule2.supportsText) {\n    statement.push(`supports(${rule2.supportsText})`);\n  }\n  if (rule2.media.length) {\n    statement.push(rule2.media.mediaText);\n  }\n  return statement.join(\" \") + \";\";\n}\nfunction stringifyStylesheet(s2) {\n  try {\n    const rules2 = s2.rules || s2.cssRules;\n    if (!rules2) {\n      return null;\n    }\n    let sheetHref = s2.href;\n    if (!sheetHref && s2.ownerNode) {\n      sheetHref = s2.ownerNode.baseURI;\n    }\n    const stringifiedRules = Array.from(\n      rules2,\n      (rule2) => stringifyRule(rule2, sheetHref)\n    ).join(\"\");\n    return fixBrowserCompatibilityIssuesInCSS(stringifiedRules);\n  } catch (error) {\n    return null;\n  }\n}\nfunction stringifyRule(rule2, sheetHref) {\n  if (isCSSImportRule(rule2)) {\n    let importStringified;\n    try {\n      importStringified = // for same-origin stylesheets,\n      // we can access the imported stylesheet rules directly\n      stringifyStylesheet(rule2.styleSheet) || // work around browser issues with the raw string `@import url(...)` statement\n      escapeImportStatement(rule2);\n    } catch (error) {\n      importStringified = rule2.cssText;\n    }\n    if (rule2.styleSheet.href) {\n      return absolutifyURLs(importStringified, rule2.styleSheet.href);\n    }\n    return importStringified;\n  } else {\n    let ruleStringified = rule2.cssText;\n    if (isCSSStyleRule(rule2) && rule2.selectorText.includes(\":\")) {\n      ruleStringified = fixSafariColons(ruleStringified);\n    }\n    if (sheetHref) {\n      return absolutifyURLs(ruleStringified, sheetHref);\n    }\n    return ruleStringified;\n  }\n}\nfunction fixSafariColons(cssStringified) {\n  const regex = /(\\[(?:[\\w-]+)[^\\\\])(:(?:[\\w-]+)\\])/gm;\n  return cssStringified.replace(regex, \"$1\\\\$2\");\n}\nfunction isCSSImportRule(rule2) {\n  return \"styleSheet\" in rule2;\n}\nfunction isCSSStyleRule(rule2) {\n  return \"selectorText\" in rule2;\n}\nclass Mirror {\n  constructor() {\n    __publicField$1(this, \"idNodeMap\", /* @__PURE__ */ new Map());\n    __publicField$1(this, \"nodeMetaMap\", /* @__PURE__ */ new WeakMap());\n  }\n  getId(n2) {\n    var _a2;\n    if (!n2) return -1;\n    const id = (_a2 = this.getMeta(n2)) == null ? void 0 : _a2.id;\n    return id ?? -1;\n  }\n  getNode(id) {\n    return this.idNodeMap.get(id) || null;\n  }\n  getIds() {\n    return Array.from(this.idNodeMap.keys());\n  }\n  getMeta(n2) {\n    return this.nodeMetaMap.get(n2) || null;\n  }\n  // removes the node from idNodeMap\n  // doesn't remove the node from nodeMetaMap\n  removeNodeFromMap(n2) {\n    const id = this.getId(n2);\n    this.idNodeMap.delete(id);\n    if (n2.childNodes) {\n      n2.childNodes.forEach(\n        (childNode) => this.removeNodeFromMap(childNode)\n      );\n    }\n  }\n  has(id) {\n    return this.idNodeMap.has(id);\n  }\n  hasNode(node2) {\n    return this.nodeMetaMap.has(node2);\n  }\n  add(n2, meta) {\n    const id = meta.id;\n    this.idNodeMap.set(id, n2);\n    this.nodeMetaMap.set(n2, meta);\n  }\n  replace(id, n2) {\n    const oldNode = this.getNode(id);\n    if (oldNode) {\n      const meta = this.nodeMetaMap.get(oldNode);\n      if (meta) this.nodeMetaMap.set(n2, meta);\n    }\n    this.idNodeMap.set(id, n2);\n  }\n  reset() {\n    this.idNodeMap = /* @__PURE__ */ new Map();\n    this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n  }\n}\nfunction createMirror$2() {\n  return new Mirror();\n}\nfunction maskInputValue({\n  element,\n  maskInputOptions,\n  tagName,\n  type,\n  value,\n  maskInputFn\n}) {\n  let text = value || \"\";\n  const actualType = type && toLowerCase(type);\n  if (maskInputOptions[tagName.toLowerCase()] || actualType && maskInputOptions[actualType]) {\n    if (maskInputFn) {\n      text = maskInputFn(text, element);\n    } else {\n      text = \"*\".repeat(text.length);\n    }\n  }\n  return text;\n}\nfunction toLowerCase(str) {\n  return str.toLowerCase();\n}\nconst ORIGINAL_ATTRIBUTE_NAME = \"__rrweb_original__\";\nfunction is2DCanvasBlank(canvas) {\n  const ctx = canvas.getContext(\"2d\");\n  if (!ctx) return true;\n  const chunkSize = 50;\n  for (let x2 = 0; x2 < canvas.width; x2 += chunkSize) {\n    for (let y = 0; y < canvas.height; y += chunkSize) {\n      const getImageData = ctx.getImageData;\n      const originalGetImageData = ORIGINAL_ATTRIBUTE_NAME in getImageData ? getImageData[ORIGINAL_ATTRIBUTE_NAME] : getImageData;\n      const pixelBuffer = new Uint32Array(\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-member-access\n        originalGetImageData.call(\n          ctx,\n          x2,\n          y,\n          Math.min(chunkSize, canvas.width - x2),\n          Math.min(chunkSize, canvas.height - y)\n        ).data.buffer\n      );\n      if (pixelBuffer.some((pixel) => pixel !== 0)) return false;\n    }\n  }\n  return true;\n}\nfunction getInputType(element) {\n  const type = element.type;\n  return element.hasAttribute(\"data-rr-is-password\") ? \"password\" : type ? (\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n    toLowerCase(type)\n  ) : null;\n}\nfunction extractFileExtension(path, baseURL) {\n  let url;\n  try {\n    url = new URL(path, baseURL ?? window.location.href);\n  } catch (err) {\n    return null;\n  }\n  const regex = /\\.([0-9a-z]+)(?:$)/i;\n  const match = url.pathname.match(regex);\n  return (match == null ? void 0 : match[1]) ?? null;\n}\nfunction extractOrigin(url) {\n  let origin = \"\";\n  if (url.indexOf(\"//\") > -1) {\n    origin = url.split(\"/\").slice(0, 3).join(\"/\");\n  } else {\n    origin = url.split(\"/\")[0];\n  }\n  origin = origin.split(\"?\")[0];\n  return origin;\n}\nconst URL_IN_CSS_REF = /url\\((?:(')([^']*)'|(\")(.*?)\"|([^)]*))\\)/gm;\nconst URL_PROTOCOL_MATCH = /^(?:[a-z+]+:)?\\/\\//i;\nconst URL_WWW_MATCH = /^www\\..*/i;\nconst DATA_URI = /^(data:)([^,]*),(.*)/i;\nfunction absolutifyURLs(cssText, href) {\n  return (cssText || \"\").replace(\n    URL_IN_CSS_REF,\n    (origin, quote1, path1, quote2, path2, path3) => {\n      const filePath = path1 || path2 || path3;\n      const maybeQuote = quote1 || quote2 || \"\";\n      if (!filePath) {\n        return origin;\n      }\n      if (URL_PROTOCOL_MATCH.test(filePath) || URL_WWW_MATCH.test(filePath)) {\n        return `url(${maybeQuote}${filePath}${maybeQuote})`;\n      }\n      if (DATA_URI.test(filePath)) {\n        return `url(${maybeQuote}${filePath}${maybeQuote})`;\n      }\n      if (filePath[0] === \"/\") {\n        return `url(${maybeQuote}${extractOrigin(href) + filePath}${maybeQuote})`;\n      }\n      const stack = href.split(\"/\");\n      const parts = filePath.split(\"/\");\n      stack.pop();\n      for (const part of parts) {\n        if (part === \".\") {\n          continue;\n        } else if (part === \"..\") {\n          stack.pop();\n        } else {\n          stack.push(part);\n        }\n      }\n      return `url(${maybeQuote}${stack.join(\"/\")}${maybeQuote})`;\n    }\n  );\n}\nfunction normalizeCssString(cssText, _testNoPxNorm = false) {\n  if (_testNoPxNorm) {\n    return cssText.replace(/(\\/\\*[^*]*\\*\\/)|[\\s;]/g, \"\");\n  } else {\n    return cssText.replace(/(\\/\\*[^*]*\\*\\/)|[\\s;]/g, \"\").replace(/0px/g, \"0\");\n  }\n}\nfunction splitCssText(cssText, style, _testNoPxNorm = false) {\n  const childNodes2 = Array.from(style.childNodes);\n  const splits = [];\n  let iterCount = 0;\n  if (childNodes2.length > 1 && cssText && typeof cssText === \"string\") {\n    let cssTextNorm = normalizeCssString(cssText, _testNoPxNorm);\n    const normFactor = cssTextNorm.length / cssText.length;\n    for (let i2 = 1; i2 < childNodes2.length; i2++) {\n      if (childNodes2[i2].textContent && typeof childNodes2[i2].textContent === \"string\") {\n        const textContentNorm = normalizeCssString(\n          childNodes2[i2].textContent,\n          _testNoPxNorm\n        );\n        const jLimit = 100;\n        let j = 3;\n        for (; j < textContentNorm.length; j++) {\n          if (\n            // keep consuming css identifiers (to get a decent chunk more quickly)\n            textContentNorm[j].match(/[a-zA-Z0-9]/) || // substring needs to be unique to this section\n            textContentNorm.indexOf(textContentNorm.substring(0, j), 1) !== -1\n          ) {\n            continue;\n          }\n          break;\n        }\n        for (; j < textContentNorm.length; j++) {\n          let startSubstring = textContentNorm.substring(0, j);\n          let cssNormSplits = cssTextNorm.split(startSubstring);\n          let splitNorm = -1;\n          if (cssNormSplits.length === 2) {\n            splitNorm = cssNormSplits[0].length;\n          } else if (cssNormSplits.length > 2 && cssNormSplits[0] === \"\" && childNodes2[i2 - 1].textContent !== \"\") {\n            splitNorm = cssTextNorm.indexOf(startSubstring, 1);\n          } else if (cssNormSplits.length === 1) {\n            startSubstring = startSubstring.substring(\n              0,\n              startSubstring.length - 1\n            );\n            cssNormSplits = cssTextNorm.split(startSubstring);\n            if (cssNormSplits.length <= 1) {\n              splits.push(cssText);\n              return splits;\n            }\n            j = jLimit + 1;\n          } else if (j === textContentNorm.length - 1) {\n            splitNorm = cssTextNorm.indexOf(startSubstring);\n          }\n          if (cssNormSplits.length >= 2 && j > jLimit) {\n            const prevTextContent = childNodes2[i2 - 1].textContent;\n            if (prevTextContent && typeof prevTextContent === \"string\") {\n              const prevMinLength = normalizeCssString(prevTextContent).length;\n              splitNorm = cssTextNorm.indexOf(startSubstring, prevMinLength);\n            }\n            if (splitNorm === -1) {\n              splitNorm = cssNormSplits[0].length;\n            }\n          }\n          if (splitNorm !== -1) {\n            let k = Math.floor(splitNorm / normFactor);\n            for (; k > 0 && k < cssText.length; ) {\n              iterCount += 1;\n              if (iterCount > 50 * childNodes2.length) {\n                splits.push(cssText);\n                return splits;\n              }\n              const normPart = normalizeCssString(\n                cssText.substring(0, k),\n                _testNoPxNorm\n              );\n              if (normPart.length === splitNorm) {\n                splits.push(cssText.substring(0, k));\n                cssText = cssText.substring(k);\n                cssTextNorm = cssTextNorm.substring(splitNorm);\n                break;\n              } else if (normPart.length < splitNorm) {\n                k += Math.max(\n                  1,\n                  Math.floor((splitNorm - normPart.length) / normFactor)\n                );\n              } else {\n                k -= Math.max(\n                  1,\n                  Math.floor((normPart.length - splitNorm) * normFactor)\n                );\n              }\n            }\n            break;\n          }\n        }\n      }\n    }\n  }\n  splits.push(cssText);\n  return splits;\n}\nfunction markCssSplits(cssText, style) {\n  return splitCssText(cssText, style).join(\"/* rr_split */\");\n}\nlet _id = 1;\nconst tagNameRegex = new RegExp(\"[^a-z0-9-_:]\");\nconst IGNORED_NODE = -2;\nfunction genId() {\n  return _id++;\n}\nfunction getValidTagName$1(element) {\n  if (element instanceof HTMLFormElement) {\n    return \"form\";\n  }\n  const processedTagName = toLowerCase(element.tagName);\n  if (tagNameRegex.test(processedTagName)) {\n    return \"div\";\n  }\n  return processedTagName;\n}\nlet canvasService;\nlet canvasCtx;\nconst SRCSET_NOT_SPACES = /^[^ \\t\\n\\r\\u000c]+/;\nconst SRCSET_COMMAS_OR_SPACES = /^[, \\t\\n\\r\\u000c]+/;\nfunction getAbsoluteSrcsetString(doc, attributeValue) {\n  if (attributeValue.trim() === \"\") {\n    return attributeValue;\n  }\n  let pos = 0;\n  function collectCharacters(regEx) {\n    let chars2;\n    const match = regEx.exec(attributeValue.substring(pos));\n    if (match) {\n      chars2 = match[0];\n      pos += chars2.length;\n      return chars2;\n    }\n    return \"\";\n  }\n  const output = [];\n  while (true) {\n    collectCharacters(SRCSET_COMMAS_OR_SPACES);\n    if (pos >= attributeValue.length) {\n      break;\n    }\n    let url = collectCharacters(SRCSET_NOT_SPACES);\n    if (url.slice(-1) === \",\") {\n      url = absoluteToDoc(doc, url.substring(0, url.length - 1));\n      output.push(url);\n    } else {\n      let descriptorsStr = \"\";\n      url = absoluteToDoc(doc, url);\n      let inParens = false;\n      while (true) {\n        const c2 = attributeValue.charAt(pos);\n        if (c2 === \"\") {\n          output.push((url + descriptorsStr).trim());\n          break;\n        } else if (!inParens) {\n          if (c2 === \",\") {\n            pos += 1;\n            output.push((url + descriptorsStr).trim());\n            break;\n          } else if (c2 === \"(\") {\n            inParens = true;\n          }\n        } else {\n          if (c2 === \")\") {\n            inParens = false;\n          }\n        }\n        descriptorsStr += c2;\n        pos += 1;\n      }\n    }\n  }\n  return output.join(\", \");\n}\nconst cachedDocument = /* @__PURE__ */ new WeakMap();\nfunction absoluteToDoc(doc, attributeValue) {\n  if (!attributeValue || attributeValue.trim() === \"\") {\n    return attributeValue;\n  }\n  return getHref(doc, attributeValue);\n}\nfunction isSVGElement(el) {\n  return Boolean(el.tagName === \"svg\" || el.ownerSVGElement);\n}\nfunction getHref(doc, customHref) {\n  let a2 = cachedDocument.get(doc);\n  if (!a2) {\n    a2 = doc.createElement(\"a\");\n    cachedDocument.set(doc, a2);\n  }\n  if (!customHref) {\n    customHref = \"\";\n  } else if (customHref.startsWith(\"blob:\") || customHref.startsWith(\"data:\")) {\n    return customHref;\n  }\n  a2.setAttribute(\"href\", customHref);\n  return a2.href;\n}\nfunction transformAttribute(doc, tagName, name, value) {\n  if (!value) {\n    return value;\n  }\n  if (name === \"src\" || name === \"href\" && !(tagName === \"use\" && value[0] === \"#\")) {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"xlink:href\" && value[0] !== \"#\") {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"background\" && [\"table\", \"td\", \"th\"].includes(tagName)) {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"srcset\") {\n    return getAbsoluteSrcsetString(doc, value);\n  } else if (name === \"style\") {\n    return absolutifyURLs(value, getHref(doc));\n  } else if (tagName === \"object\" && name === \"data\") {\n    return absoluteToDoc(doc, value);\n  }\n  return value;\n}\nfunction ignoreAttribute(tagName, name, _value) {\n  return [\"video\", \"audio\"].includes(tagName) && name === \"autoplay\";\n}\nfunction _isBlockedElement(element, blockClass, blockSelector) {\n  try {\n    if (typeof blockClass === \"string\") {\n      if (element.classList.contains(blockClass)) {\n        return true;\n      }\n    } else {\n      for (let eIndex = element.classList.length; eIndex--; ) {\n        const className = element.classList[eIndex];\n        if (blockClass.test(className)) {\n          return true;\n        }\n      }\n    }\n    if (blockSelector) {\n      return element.matches(blockSelector);\n    }\n  } catch (e2) {\n  }\n  return false;\n}\nfunction classMatchesRegex(node2, regex, checkAncestors) {\n  if (!node2) return false;\n  if (node2.nodeType !== node2.ELEMENT_NODE) {\n    if (!checkAncestors) return false;\n    return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n  }\n  for (let eIndex = node2.classList.length; eIndex--; ) {\n    const className = node2.classList[eIndex];\n    if (regex.test(className)) {\n      return true;\n    }\n  }\n  if (!checkAncestors) return false;\n  return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n}\nfunction needMaskingText(node2, maskTextClass, maskTextSelector, checkAncestors) {\n  let el;\n  if (isElement(node2)) {\n    el = node2;\n    if (!index$1.childNodes(el).length) {\n      return false;\n    }\n  } else if (index$1.parentElement(node2) === null) {\n    return false;\n  } else {\n    el = index$1.parentElement(node2);\n  }\n  try {\n    if (typeof maskTextClass === \"string\") {\n      if (checkAncestors) {\n        if (el.closest(`.${maskTextClass}`)) return true;\n      } else {\n        if (el.classList.contains(maskTextClass)) return true;\n      }\n    } else {\n      if (classMatchesRegex(el, maskTextClass, checkAncestors)) return true;\n    }\n    if (maskTextSelector) {\n      if (checkAncestors) {\n        if (el.closest(maskTextSelector)) return true;\n      } else {\n        if (el.matches(maskTextSelector)) return true;\n      }\n    }\n  } catch (e2) {\n  }\n  return false;\n}\nfunction onceIframeLoaded(iframeEl, listener, iframeLoadTimeout) {\n  const win = iframeEl.contentWindow;\n  if (!win) {\n    return;\n  }\n  let fired = false;\n  let readyState;\n  try {\n    readyState = win.document.readyState;\n  } catch (error) {\n    return;\n  }\n  if (readyState !== \"complete\") {\n    const timer = setTimeout(() => {\n      if (!fired) {\n        listener();\n        fired = true;\n      }\n    }, iframeLoadTimeout);\n    iframeEl.addEventListener(\"load\", () => {\n      clearTimeout(timer);\n      fired = true;\n      listener();\n    });\n    return;\n  }\n  const blankUrl = \"about:blank\";\n  if (win.location.href !== blankUrl || iframeEl.src === blankUrl || iframeEl.src === \"\") {\n    setTimeout(listener, 0);\n    return iframeEl.addEventListener(\"load\", listener);\n  }\n  iframeEl.addEventListener(\"load\", listener);\n}\nfunction onceStylesheetLoaded(link, listener, styleSheetLoadTimeout) {\n  let fired = false;\n  let styleSheetLoaded;\n  try {\n    styleSheetLoaded = link.sheet;\n  } catch (error) {\n    return;\n  }\n  if (styleSheetLoaded) return;\n  const timer = setTimeout(() => {\n    if (!fired) {\n      listener();\n      fired = true;\n    }\n  }, styleSheetLoadTimeout);\n  link.addEventListener(\"load\", () => {\n    clearTimeout(timer);\n    fired = true;\n    listener();\n  });\n}\nfunction serializeNode(n2, options) {\n  const {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    needsMask,\n    inlineStylesheet,\n    maskInputOptions = {},\n    maskTextFn,\n    maskInputFn,\n    dataURLOptions = {},\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement = false,\n    cssCaptured = false\n  } = options;\n  const rootId = getRootId(doc, mirror2);\n  switch (n2.nodeType) {\n    case n2.DOCUMENT_NODE:\n      if (n2.compatMode !== \"CSS1Compat\") {\n        return {\n          type: NodeType$3.Document,\n          childNodes: [],\n          compatMode: n2.compatMode\n          // probably \"BackCompat\"\n        };\n      } else {\n        return {\n          type: NodeType$3.Document,\n          childNodes: []\n        };\n      }\n    case n2.DOCUMENT_TYPE_NODE:\n      return {\n        type: NodeType$3.DocumentType,\n        name: n2.name,\n        publicId: n2.publicId,\n        systemId: n2.systemId,\n        rootId\n      };\n    case n2.ELEMENT_NODE:\n      return serializeElementNode(n2, {\n        doc,\n        blockClass,\n        blockSelector,\n        inlineStylesheet,\n        maskInputOptions,\n        maskInputFn,\n        dataURLOptions,\n        inlineImages,\n        recordCanvas,\n        keepIframeSrcFn,\n        newlyAddedElement,\n        rootId\n      });\n    case n2.TEXT_NODE:\n      return serializeTextNode(n2, {\n        doc,\n        needsMask,\n        maskTextFn,\n        rootId,\n        cssCaptured\n      });\n    case n2.CDATA_SECTION_NODE:\n      return {\n        type: NodeType$3.CDATA,\n        textContent: \"\",\n        rootId\n      };\n    case n2.COMMENT_NODE:\n      return {\n        type: NodeType$3.Comment,\n        textContent: index$1.textContent(n2) || \"\",\n        rootId\n      };\n    default:\n      return false;\n  }\n}\nfunction getRootId(doc, mirror2) {\n  if (!mirror2.hasNode(doc)) return void 0;\n  const docId = mirror2.getId(doc);\n  return docId === 1 ? void 0 : docId;\n}\nfunction serializeTextNode(n2, options) {\n  const { needsMask, maskTextFn, rootId, cssCaptured } = options;\n  const parent = index$1.parentNode(n2);\n  const parentTagName = parent && parent.tagName;\n  let textContent2 = \"\";\n  const isStyle = parentTagName === \"STYLE\" ? true : void 0;\n  const isScript = parentTagName === \"SCRIPT\" ? true : void 0;\n  if (isScript) {\n    textContent2 = \"SCRIPT_PLACEHOLDER\";\n  } else if (!cssCaptured) {\n    textContent2 = index$1.textContent(n2);\n    if (isStyle && textContent2) {\n      textContent2 = absolutifyURLs(textContent2, getHref(options.doc));\n    }\n  }\n  if (!isStyle && !isScript && textContent2 && needsMask) {\n    textContent2 = maskTextFn ? maskTextFn(textContent2, index$1.parentElement(n2)) : textContent2.replace(/[\\S]/g, \"*\");\n  }\n  return {\n    type: NodeType$3.Text,\n    textContent: textContent2 || \"\",\n    rootId\n  };\n}\nfunction serializeElementNode(n2, options) {\n  const {\n    doc,\n    blockClass,\n    blockSelector,\n    inlineStylesheet,\n    maskInputOptions = {},\n    maskInputFn,\n    dataURLOptions = {},\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement = false,\n    rootId\n  } = options;\n  const needBlock = _isBlockedElement(n2, blockClass, blockSelector);\n  const tagName = getValidTagName$1(n2);\n  let attributes = {};\n  const len = n2.attributes.length;\n  for (let i2 = 0; i2 < len; i2++) {\n    const attr = n2.attributes[i2];\n    if (!ignoreAttribute(tagName, attr.name, attr.value)) {\n      attributes[attr.name] = transformAttribute(\n        doc,\n        tagName,\n        toLowerCase(attr.name),\n        attr.value\n      );\n    }\n  }\n  if (tagName === \"link\" && inlineStylesheet) {\n    const stylesheet = Array.from(doc.styleSheets).find((s2) => {\n      return s2.href === n2.href;\n    });\n    let cssText = null;\n    if (stylesheet) {\n      cssText = stringifyStylesheet(stylesheet);\n    }\n    if (cssText) {\n      delete attributes.rel;\n      delete attributes.href;\n      attributes._cssText = cssText;\n    }\n  }\n  if (tagName === \"style\" && n2.sheet) {\n    let cssText = stringifyStylesheet(\n      n2.sheet\n    );\n    if (cssText) {\n      if (n2.childNodes.length > 1) {\n        cssText = markCssSplits(cssText, n2);\n      }\n      attributes._cssText = cssText;\n    }\n  }\n  if ([\"input\", \"textarea\", \"select\"].includes(tagName)) {\n    const value = n2.value;\n    const checked = n2.checked;\n    if (attributes.type !== \"radio\" && attributes.type !== \"checkbox\" && attributes.type !== \"submit\" && attributes.type !== \"button\" && value) {\n      attributes.value = maskInputValue({\n        element: n2,\n        type: getInputType(n2),\n        tagName,\n        value,\n        maskInputOptions,\n        maskInputFn\n      });\n    } else if (checked) {\n      attributes.checked = checked;\n    }\n  }\n  if (tagName === \"option\") {\n    if (n2.selected && !maskInputOptions[\"select\"]) {\n      attributes.selected = true;\n    } else {\n      delete attributes.selected;\n    }\n  }\n  if (tagName === \"dialog\" && n2.open) {\n    attributes.rr_open_mode = n2.matches(\"dialog:modal\") ? \"modal\" : \"non-modal\";\n  }\n  if (tagName === \"canvas\" && recordCanvas) {\n    if (n2.__context === \"2d\") {\n      if (!is2DCanvasBlank(n2)) {\n        attributes.rr_dataURL = n2.toDataURL(\n          dataURLOptions.type,\n          dataURLOptions.quality\n        );\n      }\n    } else if (!(\"__context\" in n2)) {\n      const canvasDataURL = n2.toDataURL(\n        dataURLOptions.type,\n        dataURLOptions.quality\n      );\n      const blankCanvas = doc.createElement(\"canvas\");\n      blankCanvas.width = n2.width;\n      blankCanvas.height = n2.height;\n      const blankCanvasDataURL = blankCanvas.toDataURL(\n        dataURLOptions.type,\n        dataURLOptions.quality\n      );\n      if (canvasDataURL !== blankCanvasDataURL) {\n        attributes.rr_dataURL = canvasDataURL;\n      }\n    }\n  }\n  if (tagName === \"img\" && inlineImages) {\n    if (!canvasService) {\n      canvasService = doc.createElement(\"canvas\");\n      canvasCtx = canvasService.getContext(\"2d\");\n    }\n    const image = n2;\n    const imageSrc = image.currentSrc || image.getAttribute(\"src\") || \"<unknown-src>\";\n    const priorCrossOrigin = image.crossOrigin;\n    const recordInlineImage = () => {\n      image.removeEventListener(\"load\", recordInlineImage);\n      try {\n        canvasService.width = image.naturalWidth;\n        canvasService.height = image.naturalHeight;\n        canvasCtx.drawImage(image, 0, 0);\n        attributes.rr_dataURL = canvasService.toDataURL(\n          dataURLOptions.type,\n          dataURLOptions.quality\n        );\n      } catch (err) {\n        if (image.crossOrigin !== \"anonymous\") {\n          image.crossOrigin = \"anonymous\";\n          if (image.complete && image.naturalWidth !== 0)\n            recordInlineImage();\n          else image.addEventListener(\"load\", recordInlineImage);\n          return;\n        } else {\n          console.warn(\n            `Cannot inline img src=${imageSrc}! Error: ${err}`\n          );\n        }\n      }\n      if (image.crossOrigin === \"anonymous\") {\n        priorCrossOrigin ? attributes.crossOrigin = priorCrossOrigin : image.removeAttribute(\"crossorigin\");\n      }\n    };\n    if (image.complete && image.naturalWidth !== 0) recordInlineImage();\n    else image.addEventListener(\"load\", recordInlineImage);\n  }\n  if ([\"audio\", \"video\"].includes(tagName)) {\n    const mediaAttributes = attributes;\n    mediaAttributes.rr_mediaState = n2.paused ? \"paused\" : \"played\";\n    mediaAttributes.rr_mediaCurrentTime = n2.currentTime;\n    mediaAttributes.rr_mediaPlaybackRate = n2.playbackRate;\n    mediaAttributes.rr_mediaMuted = n2.muted;\n    mediaAttributes.rr_mediaLoop = n2.loop;\n    mediaAttributes.rr_mediaVolume = n2.volume;\n  }\n  if (!newlyAddedElement) {\n    if (n2.scrollLeft) {\n      attributes.rr_scrollLeft = n2.scrollLeft;\n    }\n    if (n2.scrollTop) {\n      attributes.rr_scrollTop = n2.scrollTop;\n    }\n  }\n  if (needBlock) {\n    const { width, height } = n2.getBoundingClientRect();\n    attributes = {\n      class: attributes.class,\n      rr_width: `${width}px`,\n      rr_height: `${height}px`\n    };\n  }\n  if (tagName === \"iframe\" && !keepIframeSrcFn(attributes.src)) {\n    if (!n2.contentDocument) {\n      attributes.rr_src = attributes.src;\n    }\n    delete attributes.src;\n  }\n  let isCustomElement;\n  try {\n    if (customElements.get(tagName)) isCustomElement = true;\n  } catch (e2) {\n  }\n  return {\n    type: NodeType$3.Element,\n    tagName,\n    attributes,\n    childNodes: [],\n    isSVG: isSVGElement(n2) || void 0,\n    needBlock,\n    rootId,\n    isCustom: isCustomElement\n  };\n}\nfunction lowerIfExists(maybeAttr) {\n  if (maybeAttr === void 0 || maybeAttr === null) {\n    return \"\";\n  } else {\n    return maybeAttr.toLowerCase();\n  }\n}\nfunction slimDOMDefaults(_slimDOMOptions) {\n  if (_slimDOMOptions === true || _slimDOMOptions === \"all\") {\n    return {\n      script: true,\n      comment: true,\n      headFavicon: true,\n      headWhitespace: true,\n      headMetaSocial: true,\n      headMetaRobots: true,\n      headMetaHttpEquiv: true,\n      headMetaVerification: true,\n      // the following are off for slimDOMOptions === true,\n      // as they destroy some (hidden) info:\n      headMetaAuthorship: _slimDOMOptions === \"all\",\n      headMetaDescKeywords: _slimDOMOptions === \"all\",\n      headTitleMutations: _slimDOMOptions === \"all\"\n    };\n  } else if (_slimDOMOptions) {\n    return _slimDOMOptions;\n  }\n  return {};\n}\nfunction slimDOMExcluded(sn, slimDOMOptions) {\n  if (slimDOMOptions.comment && sn.type === NodeType$3.Comment) {\n    return true;\n  } else if (sn.type === NodeType$3.Element) {\n    if (slimDOMOptions.script && // script tag\n    (sn.tagName === \"script\" || // (module)preload link\n    sn.tagName === \"link\" && (sn.attributes.rel === \"preload\" && sn.attributes.as === \"script\" || sn.attributes.rel === \"modulepreload\") || // prefetch link\n    sn.tagName === \"link\" && sn.attributes.rel === \"prefetch\" && typeof sn.attributes.href === \"string\" && extractFileExtension(sn.attributes.href) === \"js\")) {\n      return true;\n    } else if (slimDOMOptions.headFavicon && (sn.tagName === \"link\" && sn.attributes.rel === \"shortcut icon\" || sn.tagName === \"meta\" && (lowerIfExists(sn.attributes.name).match(\n      /^msapplication-tile(image|color)$/\n    ) || lowerIfExists(sn.attributes.name) === \"application-name\" || lowerIfExists(sn.attributes.rel) === \"icon\" || lowerIfExists(sn.attributes.rel) === \"apple-touch-icon\" || lowerIfExists(sn.attributes.rel) === \"shortcut icon\"))) {\n      return true;\n    } else if (sn.tagName === \"meta\") {\n      if (slimDOMOptions.headMetaDescKeywords && lowerIfExists(sn.attributes.name).match(/^description|keywords$/)) {\n        return true;\n      } else if (slimDOMOptions.headMetaSocial && (lowerIfExists(sn.attributes.property).match(/^(og|twitter|fb):/) || // og = opengraph (facebook)\n      lowerIfExists(sn.attributes.name).match(/^(og|twitter):/) || lowerIfExists(sn.attributes.name) === \"pinterest\")) {\n        return true;\n      } else if (slimDOMOptions.headMetaRobots && (lowerIfExists(sn.attributes.name) === \"robots\" || lowerIfExists(sn.attributes.name) === \"googlebot\" || lowerIfExists(sn.attributes.name) === \"bingbot\")) {\n        return true;\n      } else if (slimDOMOptions.headMetaHttpEquiv && sn.attributes[\"http-equiv\"] !== void 0) {\n        return true;\n      } else if (slimDOMOptions.headMetaAuthorship && (lowerIfExists(sn.attributes.name) === \"author\" || lowerIfExists(sn.attributes.name) === \"generator\" || lowerIfExists(sn.attributes.name) === \"framework\" || lowerIfExists(sn.attributes.name) === \"publisher\" || lowerIfExists(sn.attributes.name) === \"progid\" || lowerIfExists(sn.attributes.property).match(/^article:/) || lowerIfExists(sn.attributes.property).match(/^product:/))) {\n        return true;\n      } else if (slimDOMOptions.headMetaVerification && (lowerIfExists(sn.attributes.name) === \"google-site-verification\" || lowerIfExists(sn.attributes.name) === \"yandex-verification\" || lowerIfExists(sn.attributes.name) === \"csrf-token\" || lowerIfExists(sn.attributes.name) === \"p:domain_verify\" || lowerIfExists(sn.attributes.name) === \"verify-v1\" || lowerIfExists(sn.attributes.name) === \"verification\" || lowerIfExists(sn.attributes.name) === \"shopify-checkout-api-token\")) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\nfunction serializeNodeWithId(n2, options) {\n  const {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    maskTextClass,\n    maskTextSelector,\n    skipChild = false,\n    inlineStylesheet = true,\n    maskInputOptions = {},\n    maskTextFn,\n    maskInputFn,\n    slimDOMOptions,\n    dataURLOptions = {},\n    inlineImages = false,\n    recordCanvas = false,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout = 5e3,\n    onStylesheetLoad,\n    stylesheetLoadTimeout = 5e3,\n    keepIframeSrcFn = () => false,\n    newlyAddedElement = false,\n    cssCaptured = false\n  } = options;\n  let { needsMask } = options;\n  let { preserveWhiteSpace = true } = options;\n  if (!needsMask) {\n    const checkAncestors = needsMask === void 0;\n    needsMask = needMaskingText(\n      n2,\n      maskTextClass,\n      maskTextSelector,\n      checkAncestors\n    );\n  }\n  const _serializedNode = serializeNode(n2, {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    needsMask,\n    inlineStylesheet,\n    maskInputOptions,\n    maskTextFn,\n    maskInputFn,\n    dataURLOptions,\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement,\n    cssCaptured\n  });\n  if (!_serializedNode) {\n    console.warn(n2, \"not serialized\");\n    return null;\n  }\n  let id;\n  if (mirror2.hasNode(n2)) {\n    id = mirror2.getId(n2);\n  } else if (slimDOMExcluded(_serializedNode, slimDOMOptions) || !preserveWhiteSpace && _serializedNode.type === NodeType$3.Text && !_serializedNode.textContent.replace(/^\\s+|\\s+$/gm, \"\").length) {\n    id = IGNORED_NODE;\n  } else {\n    id = genId();\n  }\n  const serializedNode = Object.assign(_serializedNode, { id });\n  mirror2.add(n2, serializedNode);\n  if (id === IGNORED_NODE) {\n    return null;\n  }\n  if (onSerialize) {\n    onSerialize(n2);\n  }\n  let recordChild = !skipChild;\n  if (serializedNode.type === NodeType$3.Element) {\n    recordChild = recordChild && !serializedNode.needBlock;\n    delete serializedNode.needBlock;\n    const shadowRootEl = index$1.shadowRoot(n2);\n    if (shadowRootEl && isNativeShadowDom(shadowRootEl))\n      serializedNode.isShadowHost = true;\n  }\n  if ((serializedNode.type === NodeType$3.Document || serializedNode.type === NodeType$3.Element) && recordChild) {\n    if (slimDOMOptions.headWhitespace && serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"head\") {\n      preserveWhiteSpace = false;\n    }\n    const bypassOptions = {\n      doc,\n      mirror: mirror2,\n      blockClass,\n      blockSelector,\n      needsMask,\n      maskTextClass,\n      maskTextSelector,\n      skipChild,\n      inlineStylesheet,\n      maskInputOptions,\n      maskTextFn,\n      maskInputFn,\n      slimDOMOptions,\n      dataURLOptions,\n      inlineImages,\n      recordCanvas,\n      preserveWhiteSpace,\n      onSerialize,\n      onIframeLoad,\n      iframeLoadTimeout,\n      onStylesheetLoad,\n      stylesheetLoadTimeout,\n      keepIframeSrcFn,\n      cssCaptured: false\n    };\n    if (serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"textarea\" && serializedNode.attributes.value !== void 0) ;\n    else {\n      if (serializedNode.type === NodeType$3.Element && serializedNode.attributes._cssText !== void 0 && typeof serializedNode.attributes._cssText === \"string\") {\n        bypassOptions.cssCaptured = true;\n      }\n      for (const childN of Array.from(index$1.childNodes(n2))) {\n        const serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n        if (serializedChildNode) {\n          serializedNode.childNodes.push(serializedChildNode);\n        }\n      }\n    }\n    let shadowRootEl = null;\n    if (isElement(n2) && (shadowRootEl = index$1.shadowRoot(n2))) {\n      for (const childN of Array.from(index$1.childNodes(shadowRootEl))) {\n        const serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n        if (serializedChildNode) {\n          isNativeShadowDom(shadowRootEl) && (serializedChildNode.isShadow = true);\n          serializedNode.childNodes.push(serializedChildNode);\n        }\n      }\n    }\n  }\n  const parent = index$1.parentNode(n2);\n  if (parent && isShadowRoot(parent) && isNativeShadowDom(parent)) {\n    serializedNode.isShadow = true;\n  }\n  if (serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"iframe\") {\n    onceIframeLoaded(\n      n2,\n      () => {\n        const iframeDoc = n2.contentDocument;\n        if (iframeDoc && onIframeLoad) {\n          const serializedIframeNode = serializeNodeWithId(iframeDoc, {\n            doc: iframeDoc,\n            mirror: mirror2,\n            blockClass,\n            blockSelector,\n            needsMask,\n            maskTextClass,\n            maskTextSelector,\n            skipChild: false,\n            inlineStylesheet,\n            maskInputOptions,\n            maskTextFn,\n            maskInputFn,\n            slimDOMOptions,\n            dataURLOptions,\n            inlineImages,\n            recordCanvas,\n            preserveWhiteSpace,\n            onSerialize,\n            onIframeLoad,\n            iframeLoadTimeout,\n            onStylesheetLoad,\n            stylesheetLoadTimeout,\n            keepIframeSrcFn\n          });\n          if (serializedIframeNode) {\n            onIframeLoad(\n              n2,\n              serializedIframeNode\n            );\n          }\n        }\n      },\n      iframeLoadTimeout\n    );\n  }\n  if (serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"link\" && typeof serializedNode.attributes.rel === \"string\" && (serializedNode.attributes.rel === \"stylesheet\" || serializedNode.attributes.rel === \"preload\" && typeof serializedNode.attributes.href === \"string\" && extractFileExtension(serializedNode.attributes.href) === \"css\")) {\n    onceStylesheetLoaded(\n      n2,\n      () => {\n        if (onStylesheetLoad) {\n          const serializedLinkNode = serializeNodeWithId(n2, {\n            doc,\n            mirror: mirror2,\n            blockClass,\n            blockSelector,\n            needsMask,\n            maskTextClass,\n            maskTextSelector,\n            skipChild: false,\n            inlineStylesheet,\n            maskInputOptions,\n            maskTextFn,\n            maskInputFn,\n            slimDOMOptions,\n            dataURLOptions,\n            inlineImages,\n            recordCanvas,\n            preserveWhiteSpace,\n            onSerialize,\n            onIframeLoad,\n            iframeLoadTimeout,\n            onStylesheetLoad,\n            stylesheetLoadTimeout,\n            keepIframeSrcFn\n          });\n          if (serializedLinkNode) {\n            onStylesheetLoad(\n              n2,\n              serializedLinkNode\n            );\n          }\n        }\n      },\n      stylesheetLoadTimeout\n    );\n  }\n  return serializedNode;\n}\nfunction snapshot(n2, options) {\n  const {\n    mirror: mirror2 = new Mirror(),\n    blockClass = \"rr-block\",\n    blockSelector = null,\n    maskTextClass = \"rr-mask\",\n    maskTextSelector = null,\n    inlineStylesheet = true,\n    inlineImages = false,\n    recordCanvas = false,\n    maskAllInputs = false,\n    maskTextFn,\n    maskInputFn,\n    slimDOM = false,\n    dataURLOptions,\n    preserveWhiteSpace,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout,\n    onStylesheetLoad,\n    stylesheetLoadTimeout,\n    keepIframeSrcFn = () => false\n  } = options || {};\n  const maskInputOptions = maskAllInputs === true ? {\n    color: true,\n    date: true,\n    \"datetime-local\": true,\n    email: true,\n    month: true,\n    number: true,\n    range: true,\n    search: true,\n    tel: true,\n    text: true,\n    time: true,\n    url: true,\n    week: true,\n    textarea: true,\n    select: true,\n    password: true\n  } : maskAllInputs === false ? {\n    password: true\n  } : maskAllInputs;\n  const slimDOMOptions = slimDOMDefaults(slimDOM);\n  return serializeNodeWithId(n2, {\n    doc: n2,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    maskTextClass,\n    maskTextSelector,\n    skipChild: false,\n    inlineStylesheet,\n    maskInputOptions,\n    maskTextFn,\n    maskInputFn,\n    slimDOMOptions,\n    dataURLOptions,\n    inlineImages,\n    recordCanvas,\n    preserveWhiteSpace,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout,\n    onStylesheetLoad,\n    stylesheetLoadTimeout,\n    keepIframeSrcFn,\n    newlyAddedElement: false\n  });\n}\nfunction getDefaultExportFromCjs$1(x2) {\n  return x2 && x2.__esModule && Object.prototype.hasOwnProperty.call(x2, \"default\") ? x2[\"default\"] : x2;\n}\nfunction getAugmentedNamespace$1(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\nvar picocolors_browser$1 = { exports: {} };\nvar x$1 = String;\nvar create$1 = function() {\n  return { isColorSupported: false, reset: x$1, bold: x$1, dim: x$1, italic: x$1, underline: x$1, inverse: x$1, hidden: x$1, strikethrough: x$1, black: x$1, red: x$1, green: x$1, yellow: x$1, blue: x$1, magenta: x$1, cyan: x$1, white: x$1, gray: x$1, bgBlack: x$1, bgRed: x$1, bgGreen: x$1, bgYellow: x$1, bgBlue: x$1, bgMagenta: x$1, bgCyan: x$1, bgWhite: x$1 };\n};\npicocolors_browser$1.exports = create$1();\npicocolors_browser$1.exports.createColors = create$1;\nvar picocolors_browserExports$1 = picocolors_browser$1.exports;\nconst __viteBrowserExternal$2 = {};\nconst __viteBrowserExternal$1$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: __viteBrowserExternal$2\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst require$$2$1 = /* @__PURE__ */ getAugmentedNamespace$1(__viteBrowserExternal$1$1);\nlet pico$1 = picocolors_browserExports$1;\nlet terminalHighlight$1$1 = require$$2$1;\nlet CssSyntaxError$3$1 = class CssSyntaxError extends Error {\n  constructor(message, line, column, source, file, plugin22) {\n    super(message);\n    this.name = \"CssSyntaxError\";\n    this.reason = message;\n    if (file) {\n      this.file = file;\n    }\n    if (source) {\n      this.source = source;\n    }\n    if (plugin22) {\n      this.plugin = plugin22;\n    }\n    if (typeof line !== \"undefined\" && typeof column !== \"undefined\") {\n      if (typeof line === \"number\") {\n        this.line = line;\n        this.column = column;\n      } else {\n        this.line = line.line;\n        this.column = line.column;\n        this.endLine = column.line;\n        this.endColumn = column.column;\n      }\n    }\n    this.setMessage();\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, CssSyntaxError);\n    }\n  }\n  setMessage() {\n    this.message = this.plugin ? this.plugin + \": \" : \"\";\n    this.message += this.file ? this.file : \"<css input>\";\n    if (typeof this.line !== \"undefined\") {\n      this.message += \":\" + this.line + \":\" + this.column;\n    }\n    this.message += \": \" + this.reason;\n  }\n  showSourceCode(color) {\n    if (!this.source) return \"\";\n    let css = this.source;\n    if (color == null) color = pico$1.isColorSupported;\n    if (terminalHighlight$1$1) {\n      if (color) css = terminalHighlight$1$1(css);\n    }\n    let lines = css.split(/\\r?\\n/);\n    let start = Math.max(this.line - 3, 0);\n    let end = Math.min(this.line + 2, lines.length);\n    let maxWidth = String(end).length;\n    let mark, aside;\n    if (color) {\n      let { bold, gray, red } = pico$1.createColors(true);\n      mark = (text) => bold(red(text));\n      aside = (text) => gray(text);\n    } else {\n      mark = aside = (str) => str;\n    }\n    return lines.slice(start, end).map((line, index2) => {\n      let number = start + 1 + index2;\n      let gutter = \" \" + (\" \" + number).slice(-maxWidth) + \" | \";\n      if (number === this.line) {\n        let spacing = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, this.column - 1).replace(/[^\\t]/g, \" \");\n        return mark(\">\") + aside(gutter) + line + \"\\n \" + spacing + mark(\"^\");\n      }\n      return \" \" + aside(gutter) + line;\n    }).join(\"\\n\");\n  }\n  toString() {\n    let code = this.showSourceCode();\n    if (code) {\n      code = \"\\n\\n\" + code + \"\\n\";\n    }\n    return this.name + \": \" + this.message + code;\n  }\n};\nvar cssSyntaxError$1 = CssSyntaxError$3$1;\nCssSyntaxError$3$1.default = CssSyntaxError$3$1;\nvar symbols$1 = {};\nsymbols$1.isClean = Symbol(\"isClean\");\nsymbols$1.my = Symbol(\"my\");\nconst DEFAULT_RAW$1 = {\n  after: \"\\n\",\n  beforeClose: \"\\n\",\n  beforeComment: \"\\n\",\n  beforeDecl: \"\\n\",\n  beforeOpen: \" \",\n  beforeRule: \"\\n\",\n  colon: \": \",\n  commentLeft: \" \",\n  commentRight: \" \",\n  emptyBody: \"\",\n  indent: \"    \",\n  semicolon: false\n};\nfunction capitalize$1(str) {\n  return str[0].toUpperCase() + str.slice(1);\n}\nlet Stringifier$2$1 = class Stringifier {\n  constructor(builder) {\n    this.builder = builder;\n  }\n  atrule(node2, semicolon) {\n    let name = \"@\" + node2.name;\n    let params = node2.params ? this.rawValue(node2, \"params\") : \"\";\n    if (typeof node2.raws.afterName !== \"undefined\") {\n      name += node2.raws.afterName;\n    } else if (params) {\n      name += \" \";\n    }\n    if (node2.nodes) {\n      this.block(node2, name + params);\n    } else {\n      let end = (node2.raws.between || \"\") + (semicolon ? \";\" : \"\");\n      this.builder(name + params + end, node2);\n    }\n  }\n  beforeAfter(node2, detect) {\n    let value;\n    if (node2.type === \"decl\") {\n      value = this.raw(node2, null, \"beforeDecl\");\n    } else if (node2.type === \"comment\") {\n      value = this.raw(node2, null, \"beforeComment\");\n    } else if (detect === \"before\") {\n      value = this.raw(node2, null, \"beforeRule\");\n    } else {\n      value = this.raw(node2, null, \"beforeClose\");\n    }\n    let buf = node2.parent;\n    let depth = 0;\n    while (buf && buf.type !== \"root\") {\n      depth += 1;\n      buf = buf.parent;\n    }\n    if (value.includes(\"\\n\")) {\n      let indent = this.raw(node2, null, \"indent\");\n      if (indent.length) {\n        for (let step = 0; step < depth; step++) value += indent;\n      }\n    }\n    return value;\n  }\n  block(node2, start) {\n    let between = this.raw(node2, \"between\", \"beforeOpen\");\n    this.builder(start + between + \"{\", node2, \"start\");\n    let after;\n    if (node2.nodes && node2.nodes.length) {\n      this.body(node2);\n      after = this.raw(node2, \"after\");\n    } else {\n      after = this.raw(node2, \"after\", \"emptyBody\");\n    }\n    if (after) this.builder(after);\n    this.builder(\"}\", node2, \"end\");\n  }\n  body(node2) {\n    let last = node2.nodes.length - 1;\n    while (last > 0) {\n      if (node2.nodes[last].type !== \"comment\") break;\n      last -= 1;\n    }\n    let semicolon = this.raw(node2, \"semicolon\");\n    for (let i2 = 0; i2 < node2.nodes.length; i2++) {\n      let child = node2.nodes[i2];\n      let before = this.raw(child, \"before\");\n      if (before) this.builder(before);\n      this.stringify(child, last !== i2 || semicolon);\n    }\n  }\n  comment(node2) {\n    let left = this.raw(node2, \"left\", \"commentLeft\");\n    let right = this.raw(node2, \"right\", \"commentRight\");\n    this.builder(\"/*\" + left + node2.text + right + \"*/\", node2);\n  }\n  decl(node2, semicolon) {\n    let between = this.raw(node2, \"between\", \"colon\");\n    let string = node2.prop + between + this.rawValue(node2, \"value\");\n    if (node2.important) {\n      string += node2.raws.important || \" !important\";\n    }\n    if (semicolon) string += \";\";\n    this.builder(string, node2);\n  }\n  document(node2) {\n    this.body(node2);\n  }\n  raw(node2, own, detect) {\n    let value;\n    if (!detect) detect = own;\n    if (own) {\n      value = node2.raws[own];\n      if (typeof value !== \"undefined\") return value;\n    }\n    let parent = node2.parent;\n    if (detect === \"before\") {\n      if (!parent || parent.type === \"root\" && parent.first === node2) {\n        return \"\";\n      }\n      if (parent && parent.type === \"document\") {\n        return \"\";\n      }\n    }\n    if (!parent) return DEFAULT_RAW$1[detect];\n    let root2 = node2.root();\n    if (!root2.rawCache) root2.rawCache = {};\n    if (typeof root2.rawCache[detect] !== \"undefined\") {\n      return root2.rawCache[detect];\n    }\n    if (detect === \"before\" || detect === \"after\") {\n      return this.beforeAfter(node2, detect);\n    } else {\n      let method = \"raw\" + capitalize$1(detect);\n      if (this[method]) {\n        value = this[method](root2, node2);\n      } else {\n        root2.walk((i2) => {\n          value = i2.raws[own];\n          if (typeof value !== \"undefined\") return false;\n        });\n      }\n    }\n    if (typeof value === \"undefined\") value = DEFAULT_RAW$1[detect];\n    root2.rawCache[detect] = value;\n    return value;\n  }\n  rawBeforeClose(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length > 0) {\n        if (typeof i2.raws.after !== \"undefined\") {\n          value = i2.raws.after;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      }\n    });\n    if (value) value = value.replace(/\\S/g, \"\");\n    return value;\n  }\n  rawBeforeComment(root2, node2) {\n    let value;\n    root2.walkComments((i2) => {\n      if (typeof i2.raws.before !== \"undefined\") {\n        value = i2.raws.before;\n        if (value.includes(\"\\n\")) {\n          value = value.replace(/[^\\n]+$/, \"\");\n        }\n        return false;\n      }\n    });\n    if (typeof value === \"undefined\") {\n      value = this.raw(node2, null, \"beforeDecl\");\n    } else if (value) {\n      value = value.replace(/\\S/g, \"\");\n    }\n    return value;\n  }\n  rawBeforeDecl(root2, node2) {\n    let value;\n    root2.walkDecls((i2) => {\n      if (typeof i2.raws.before !== \"undefined\") {\n        value = i2.raws.before;\n        if (value.includes(\"\\n\")) {\n          value = value.replace(/[^\\n]+$/, \"\");\n        }\n        return false;\n      }\n    });\n    if (typeof value === \"undefined\") {\n      value = this.raw(node2, null, \"beforeRule\");\n    } else if (value) {\n      value = value.replace(/\\S/g, \"\");\n    }\n    return value;\n  }\n  rawBeforeOpen(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.type !== \"decl\") {\n        value = i2.raws.between;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawBeforeRule(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && (i2.parent !== root2 || root2.first !== i2)) {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      }\n    });\n    if (value) value = value.replace(/\\S/g, \"\");\n    return value;\n  }\n  rawColon(root2) {\n    let value;\n    root2.walkDecls((i2) => {\n      if (typeof i2.raws.between !== \"undefined\") {\n        value = i2.raws.between.replace(/[^\\s:]/g, \"\");\n        return false;\n      }\n    });\n    return value;\n  }\n  rawEmptyBody(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length === 0) {\n        value = i2.raws.after;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawIndent(root2) {\n    if (root2.raws.indent) return root2.raws.indent;\n    let value;\n    root2.walk((i2) => {\n      let p = i2.parent;\n      if (p && p !== root2 && p.parent && p.parent === root2) {\n        if (typeof i2.raws.before !== \"undefined\") {\n          let parts = i2.raws.before.split(\"\\n\");\n          value = parts[parts.length - 1];\n          value = value.replace(/\\S/g, \"\");\n          return false;\n        }\n      }\n    });\n    return value;\n  }\n  rawSemicolon(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length && i2.last.type === \"decl\") {\n        value = i2.raws.semicolon;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawValue(node2, prop) {\n    let value = node2[prop];\n    let raw = node2.raws[prop];\n    if (raw && raw.value === value) {\n      return raw.raw;\n    }\n    return value;\n  }\n  root(node2) {\n    this.body(node2);\n    if (node2.raws.after) this.builder(node2.raws.after);\n  }\n  rule(node2) {\n    this.block(node2, this.rawValue(node2, \"selector\"));\n    if (node2.raws.ownSemicolon) {\n      this.builder(node2.raws.ownSemicolon, node2, \"end\");\n    }\n  }\n  stringify(node2, semicolon) {\n    if (!this[node2.type]) {\n      throw new Error(\n        \"Unknown AST node type \" + node2.type + \". Maybe you need to change PostCSS stringifier.\"\n      );\n    }\n    this[node2.type](node2, semicolon);\n  }\n};\nvar stringifier$1 = Stringifier$2$1;\nStringifier$2$1.default = Stringifier$2$1;\nlet Stringifier$1$1 = stringifier$1;\nfunction stringify$4$1(node2, builder) {\n  let str = new Stringifier$1$1(builder);\n  str.stringify(node2);\n}\nvar stringify_1$1 = stringify$4$1;\nstringify$4$1.default = stringify$4$1;\nlet { isClean: isClean$2$1, my: my$2$1 } = symbols$1;\nlet CssSyntaxError$2$1 = cssSyntaxError$1;\nlet Stringifier2$1 = stringifier$1;\nlet stringify$3$1 = stringify_1$1;\nfunction cloneNode$1(obj, parent) {\n  let cloned = new obj.constructor();\n  for (let i2 in obj) {\n    if (!Object.prototype.hasOwnProperty.call(obj, i2)) {\n      continue;\n    }\n    if (i2 === \"proxyCache\") continue;\n    let value = obj[i2];\n    let type = typeof value;\n    if (i2 === \"parent\" && type === \"object\") {\n      if (parent) cloned[i2] = parent;\n    } else if (i2 === \"source\") {\n      cloned[i2] = value;\n    } else if (Array.isArray(value)) {\n      cloned[i2] = value.map((j) => cloneNode$1(j, cloned));\n    } else {\n      if (type === \"object\" && value !== null) value = cloneNode$1(value);\n      cloned[i2] = value;\n    }\n  }\n  return cloned;\n}\nlet Node$4$1 = class Node2 {\n  constructor(defaults = {}) {\n    this.raws = {};\n    this[isClean$2$1] = false;\n    this[my$2$1] = true;\n    for (let name in defaults) {\n      if (name === \"nodes\") {\n        this.nodes = [];\n        for (let node2 of defaults[name]) {\n          if (typeof node2.clone === \"function\") {\n            this.append(node2.clone());\n          } else {\n            this.append(node2);\n          }\n        }\n      } else {\n        this[name] = defaults[name];\n      }\n    }\n  }\n  addToError(error) {\n    error.postcssNode = this;\n    if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n      let s2 = this.source;\n      error.stack = error.stack.replace(\n        /\\n\\s{4}at /,\n        `$&${s2.input.from}:${s2.start.line}:${s2.start.column}$&`\n      );\n    }\n    return error;\n  }\n  after(add) {\n    this.parent.insertAfter(this, add);\n    return this;\n  }\n  assign(overrides = {}) {\n    for (let name in overrides) {\n      this[name] = overrides[name];\n    }\n    return this;\n  }\n  before(add) {\n    this.parent.insertBefore(this, add);\n    return this;\n  }\n  cleanRaws(keepBetween) {\n    delete this.raws.before;\n    delete this.raws.after;\n    if (!keepBetween) delete this.raws.between;\n  }\n  clone(overrides = {}) {\n    let cloned = cloneNode$1(this);\n    for (let name in overrides) {\n      cloned[name] = overrides[name];\n    }\n    return cloned;\n  }\n  cloneAfter(overrides = {}) {\n    let cloned = this.clone(overrides);\n    this.parent.insertAfter(this, cloned);\n    return cloned;\n  }\n  cloneBefore(overrides = {}) {\n    let cloned = this.clone(overrides);\n    this.parent.insertBefore(this, cloned);\n    return cloned;\n  }\n  error(message, opts = {}) {\n    if (this.source) {\n      let { end, start } = this.rangeBy(opts);\n      return this.source.input.error(\n        message,\n        { column: start.column, line: start.line },\n        { column: end.column, line: end.line },\n        opts\n      );\n    }\n    return new CssSyntaxError$2$1(message);\n  }\n  getProxyProcessor() {\n    return {\n      get(node2, prop) {\n        if (prop === \"proxyOf\") {\n          return node2;\n        } else if (prop === \"root\") {\n          return () => node2.root().toProxy();\n        } else {\n          return node2[prop];\n        }\n      },\n      set(node2, prop, value) {\n        if (node2[prop] === value) return true;\n        node2[prop] = value;\n        if (prop === \"prop\" || prop === \"value\" || prop === \"name\" || prop === \"params\" || prop === \"important\" || /* c8 ignore next */\n        prop === \"text\") {\n          node2.markDirty();\n        }\n        return true;\n      }\n    };\n  }\n  markDirty() {\n    if (this[isClean$2$1]) {\n      this[isClean$2$1] = false;\n      let next = this;\n      while (next = next.parent) {\n        next[isClean$2$1] = false;\n      }\n    }\n  }\n  next() {\n    if (!this.parent) return void 0;\n    let index2 = this.parent.index(this);\n    return this.parent.nodes[index2 + 1];\n  }\n  positionBy(opts, stringRepresentation) {\n    let pos = this.source.start;\n    if (opts.index) {\n      pos = this.positionInside(opts.index, stringRepresentation);\n    } else if (opts.word) {\n      stringRepresentation = this.toString();\n      let index2 = stringRepresentation.indexOf(opts.word);\n      if (index2 !== -1) pos = this.positionInside(index2, stringRepresentation);\n    }\n    return pos;\n  }\n  positionInside(index2, stringRepresentation) {\n    let string = stringRepresentation || this.toString();\n    let column = this.source.start.column;\n    let line = this.source.start.line;\n    for (let i2 = 0; i2 < index2; i2++) {\n      if (string[i2] === \"\\n\") {\n        column = 1;\n        line += 1;\n      } else {\n        column += 1;\n      }\n    }\n    return { column, line };\n  }\n  prev() {\n    if (!this.parent) return void 0;\n    let index2 = this.parent.index(this);\n    return this.parent.nodes[index2 - 1];\n  }\n  rangeBy(opts) {\n    let start = {\n      column: this.source.start.column,\n      line: this.source.start.line\n    };\n    let end = this.source.end ? {\n      column: this.source.end.column + 1,\n      line: this.source.end.line\n    } : {\n      column: start.column + 1,\n      line: start.line\n    };\n    if (opts.word) {\n      let stringRepresentation = this.toString();\n      let index2 = stringRepresentation.indexOf(opts.word);\n      if (index2 !== -1) {\n        start = this.positionInside(index2, stringRepresentation);\n        end = this.positionInside(index2 + opts.word.length, stringRepresentation);\n      }\n    } else {\n      if (opts.start) {\n        start = {\n          column: opts.start.column,\n          line: opts.start.line\n        };\n      } else if (opts.index) {\n        start = this.positionInside(opts.index);\n      }\n      if (opts.end) {\n        end = {\n          column: opts.end.column,\n          line: opts.end.line\n        };\n      } else if (typeof opts.endIndex === \"number\") {\n        end = this.positionInside(opts.endIndex);\n      } else if (opts.index) {\n        end = this.positionInside(opts.index + 1);\n      }\n    }\n    if (end.line < start.line || end.line === start.line && end.column <= start.column) {\n      end = { column: start.column + 1, line: start.line };\n    }\n    return { end, start };\n  }\n  raw(prop, defaultType) {\n    let str = new Stringifier2$1();\n    return str.raw(this, prop, defaultType);\n  }\n  remove() {\n    if (this.parent) {\n      this.parent.removeChild(this);\n    }\n    this.parent = void 0;\n    return this;\n  }\n  replaceWith(...nodes) {\n    if (this.parent) {\n      let bookmark = this;\n      let foundSelf = false;\n      for (let node2 of nodes) {\n        if (node2 === this) {\n          foundSelf = true;\n        } else if (foundSelf) {\n          this.parent.insertAfter(bookmark, node2);\n          bookmark = node2;\n        } else {\n          this.parent.insertBefore(bookmark, node2);\n        }\n      }\n      if (!foundSelf) {\n        this.remove();\n      }\n    }\n    return this;\n  }\n  root() {\n    let result2 = this;\n    while (result2.parent && result2.parent.type !== \"document\") {\n      result2 = result2.parent;\n    }\n    return result2;\n  }\n  toJSON(_, inputs) {\n    let fixed = {};\n    let emitInputs = inputs == null;\n    inputs = inputs || /* @__PURE__ */ new Map();\n    let inputsNextIndex = 0;\n    for (let name in this) {\n      if (!Object.prototype.hasOwnProperty.call(this, name)) {\n        continue;\n      }\n      if (name === \"parent\" || name === \"proxyCache\") continue;\n      let value = this[name];\n      if (Array.isArray(value)) {\n        fixed[name] = value.map((i2) => {\n          if (typeof i2 === \"object\" && i2.toJSON) {\n            return i2.toJSON(null, inputs);\n          } else {\n            return i2;\n          }\n        });\n      } else if (typeof value === \"object\" && value.toJSON) {\n        fixed[name] = value.toJSON(null, inputs);\n      } else if (name === \"source\") {\n        let inputId = inputs.get(value.input);\n        if (inputId == null) {\n          inputId = inputsNextIndex;\n          inputs.set(value.input, inputsNextIndex);\n          inputsNextIndex++;\n        }\n        fixed[name] = {\n          end: value.end,\n          inputId,\n          start: value.start\n        };\n      } else {\n        fixed[name] = value;\n      }\n    }\n    if (emitInputs) {\n      fixed.inputs = [...inputs.keys()].map((input2) => input2.toJSON());\n    }\n    return fixed;\n  }\n  toProxy() {\n    if (!this.proxyCache) {\n      this.proxyCache = new Proxy(this, this.getProxyProcessor());\n    }\n    return this.proxyCache;\n  }\n  toString(stringifier2 = stringify$3$1) {\n    if (stringifier2.stringify) stringifier2 = stringifier2.stringify;\n    let result2 = \"\";\n    stringifier2(this, (i2) => {\n      result2 += i2;\n    });\n    return result2;\n  }\n  warn(result2, text, opts) {\n    let data = { node: this };\n    for (let i2 in opts) data[i2] = opts[i2];\n    return result2.warn(text, data);\n  }\n  get proxyOf() {\n    return this;\n  }\n};\nvar node$1 = Node$4$1;\nNode$4$1.default = Node$4$1;\nlet Node$3$1 = node$1;\nlet Declaration$4$1 = class Declaration extends Node$3$1 {\n  constructor(defaults) {\n    if (defaults && typeof defaults.value !== \"undefined\" && typeof defaults.value !== \"string\") {\n      defaults = { ...defaults, value: String(defaults.value) };\n    }\n    super(defaults);\n    this.type = \"decl\";\n  }\n  get variable() {\n    return this.prop.startsWith(\"--\") || this.prop[0] === \"$\";\n  }\n};\nvar declaration$1 = Declaration$4$1;\nDeclaration$4$1.default = Declaration$4$1;\nlet urlAlphabet$1 = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\nlet customAlphabet$1 = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = \"\";\n    let i2 = size;\n    while (i2--) {\n      id += alphabet[Math.random() * alphabet.length | 0];\n    }\n    return id;\n  };\n};\nlet nanoid$1$1 = (size = 21) => {\n  let id = \"\";\n  let i2 = size;\n  while (i2--) {\n    id += urlAlphabet$1[Math.random() * 64 | 0];\n  }\n  return id;\n};\nvar nonSecure$1 = { nanoid: nanoid$1$1, customAlphabet: customAlphabet$1 };\nlet { SourceMapConsumer: SourceMapConsumer$2$1, SourceMapGenerator: SourceMapGenerator$2$1 } = require$$2$1;\nlet { existsSync: existsSync$1, readFileSync: readFileSync$1 } = require$$2$1;\nlet { dirname: dirname$1$1, join: join$1 } = require$$2$1;\nfunction fromBase64$1(str) {\n  if (Buffer) {\n    return Buffer.from(str, \"base64\").toString();\n  } else {\n    return window.atob(str);\n  }\n}\nlet PreviousMap$2$1 = class PreviousMap {\n  constructor(css, opts) {\n    if (opts.map === false) return;\n    this.loadAnnotation(css);\n    this.inline = this.startWith(this.annotation, \"data:\");\n    let prev = opts.map ? opts.map.prev : void 0;\n    let text = this.loadMap(opts.from, prev);\n    if (!this.mapFile && opts.from) {\n      this.mapFile = opts.from;\n    }\n    if (this.mapFile) this.root = dirname$1$1(this.mapFile);\n    if (text) this.text = text;\n  }\n  consumer() {\n    if (!this.consumerCache) {\n      this.consumerCache = new SourceMapConsumer$2$1(this.text);\n    }\n    return this.consumerCache;\n  }\n  decodeInline(text) {\n    let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/;\n    let baseUri = /^data:application\\/json;base64,/;\n    let charsetUri = /^data:application\\/json;charset=utf-?8,/;\n    let uri = /^data:application\\/json,/;\n    if (charsetUri.test(text) || uri.test(text)) {\n      return decodeURIComponent(text.substr(RegExp.lastMatch.length));\n    }\n    if (baseCharsetUri.test(text) || baseUri.test(text)) {\n      return fromBase64$1(text.substr(RegExp.lastMatch.length));\n    }\n    let encoding = text.match(/data:application\\/json;([^,]+),/)[1];\n    throw new Error(\"Unsupported source map encoding \" + encoding);\n  }\n  getAnnotationURL(sourceMapString) {\n    return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, \"\").trim();\n  }\n  isMap(map) {\n    if (typeof map !== \"object\") return false;\n    return typeof map.mappings === \"string\" || typeof map._mappings === \"string\" || Array.isArray(map.sections);\n  }\n  loadAnnotation(css) {\n    let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/gm);\n    if (!comments) return;\n    let start = css.lastIndexOf(comments.pop());\n    let end = css.indexOf(\"*/\", start);\n    if (start > -1 && end > -1) {\n      this.annotation = this.getAnnotationURL(css.substring(start, end));\n    }\n  }\n  loadFile(path) {\n    this.root = dirname$1$1(path);\n    if (existsSync$1(path)) {\n      this.mapFile = path;\n      return readFileSync$1(path, \"utf-8\").toString().trim();\n    }\n  }\n  loadMap(file, prev) {\n    if (prev === false) return false;\n    if (prev) {\n      if (typeof prev === \"string\") {\n        return prev;\n      } else if (typeof prev === \"function\") {\n        let prevPath = prev(file);\n        if (prevPath) {\n          let map = this.loadFile(prevPath);\n          if (!map) {\n            throw new Error(\n              \"Unable to load previous source map: \" + prevPath.toString()\n            );\n          }\n          return map;\n        }\n      } else if (prev instanceof SourceMapConsumer$2$1) {\n        return SourceMapGenerator$2$1.fromSourceMap(prev).toString();\n      } else if (prev instanceof SourceMapGenerator$2$1) {\n        return prev.toString();\n      } else if (this.isMap(prev)) {\n        return JSON.stringify(prev);\n      } else {\n        throw new Error(\n          \"Unsupported previous source map format: \" + prev.toString()\n        );\n      }\n    } else if (this.inline) {\n      return this.decodeInline(this.annotation);\n    } else if (this.annotation) {\n      let map = this.annotation;\n      if (file) map = join$1(dirname$1$1(file), map);\n      return this.loadFile(map);\n    }\n  }\n  startWith(string, start) {\n    if (!string) return false;\n    return string.substr(0, start.length) === start;\n  }\n  withContent() {\n    return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);\n  }\n};\nvar previousMap$1 = PreviousMap$2$1;\nPreviousMap$2$1.default = PreviousMap$2$1;\nlet { SourceMapConsumer: SourceMapConsumer$1$1, SourceMapGenerator: SourceMapGenerator$1$1 } = require$$2$1;\nlet { fileURLToPath: fileURLToPath$1, pathToFileURL: pathToFileURL$1$1 } = require$$2$1;\nlet { isAbsolute: isAbsolute$1, resolve: resolve$1$1 } = require$$2$1;\nlet { nanoid: nanoid$2 } = nonSecure$1;\nlet terminalHighlight$2 = require$$2$1;\nlet CssSyntaxError$1$1 = cssSyntaxError$1;\nlet PreviousMap$1$1 = previousMap$1;\nlet fromOffsetCache$1 = Symbol(\"fromOffsetCache\");\nlet sourceMapAvailable$1$1 = Boolean(SourceMapConsumer$1$1 && SourceMapGenerator$1$1);\nlet pathAvailable$1$1 = Boolean(resolve$1$1 && isAbsolute$1);\nlet Input$4$1 = class Input {\n  constructor(css, opts = {}) {\n    if (css === null || typeof css === \"undefined\" || typeof css === \"object\" && !css.toString) {\n      throw new Error(`PostCSS received ${css} instead of CSS string`);\n    }\n    this.css = css.toString();\n    if (this.css[0] === \"\\uFEFF\" || this.css[0] === \"\") {\n      this.hasBOM = true;\n      this.css = this.css.slice(1);\n    } else {\n      this.hasBOM = false;\n    }\n    if (opts.from) {\n      if (!pathAvailable$1$1 || /^\\w+:\\/\\//.test(opts.from) || isAbsolute$1(opts.from)) {\n        this.file = opts.from;\n      } else {\n        this.file = resolve$1$1(opts.from);\n      }\n    }\n    if (pathAvailable$1$1 && sourceMapAvailable$1$1) {\n      let map = new PreviousMap$1$1(this.css, opts);\n      if (map.text) {\n        this.map = map;\n        let file = map.consumer().file;\n        if (!this.file && file) this.file = this.mapResolve(file);\n      }\n    }\n    if (!this.file) {\n      this.id = \"<input css \" + nanoid$2(6) + \">\";\n    }\n    if (this.map) this.map.file = this.from;\n  }\n  error(message, line, column, opts = {}) {\n    let result2, endLine, endColumn;\n    if (line && typeof line === \"object\") {\n      let start = line;\n      let end = column;\n      if (typeof start.offset === \"number\") {\n        let pos = this.fromOffset(start.offset);\n        line = pos.line;\n        column = pos.col;\n      } else {\n        line = start.line;\n        column = start.column;\n      }\n      if (typeof end.offset === \"number\") {\n        let pos = this.fromOffset(end.offset);\n        endLine = pos.line;\n        endColumn = pos.col;\n      } else {\n        endLine = end.line;\n        endColumn = end.column;\n      }\n    } else if (!column) {\n      let pos = this.fromOffset(line);\n      line = pos.line;\n      column = pos.col;\n    }\n    let origin = this.origin(line, column, endLine, endColumn);\n    if (origin) {\n      result2 = new CssSyntaxError$1$1(\n        message,\n        origin.endLine === void 0 ? origin.line : { column: origin.column, line: origin.line },\n        origin.endLine === void 0 ? origin.column : { column: origin.endColumn, line: origin.endLine },\n        origin.source,\n        origin.file,\n        opts.plugin\n      );\n    } else {\n      result2 = new CssSyntaxError$1$1(\n        message,\n        endLine === void 0 ? line : { column, line },\n        endLine === void 0 ? column : { column: endColumn, line: endLine },\n        this.css,\n        this.file,\n        opts.plugin\n      );\n    }\n    result2.input = { column, endColumn, endLine, line, source: this.css };\n    if (this.file) {\n      if (pathToFileURL$1$1) {\n        result2.input.url = pathToFileURL$1$1(this.file).toString();\n      }\n      result2.input.file = this.file;\n    }\n    return result2;\n  }\n  fromOffset(offset) {\n    let lastLine, lineToIndex;\n    if (!this[fromOffsetCache$1]) {\n      let lines = this.css.split(\"\\n\");\n      lineToIndex = new Array(lines.length);\n      let prevIndex = 0;\n      for (let i2 = 0, l2 = lines.length; i2 < l2; i2++) {\n        lineToIndex[i2] = prevIndex;\n        prevIndex += lines[i2].length + 1;\n      }\n      this[fromOffsetCache$1] = lineToIndex;\n    } else {\n      lineToIndex = this[fromOffsetCache$1];\n    }\n    lastLine = lineToIndex[lineToIndex.length - 1];\n    let min = 0;\n    if (offset >= lastLine) {\n      min = lineToIndex.length - 1;\n    } else {\n      let max = lineToIndex.length - 2;\n      let mid;\n      while (min < max) {\n        mid = min + (max - min >> 1);\n        if (offset < lineToIndex[mid]) {\n          max = mid - 1;\n        } else if (offset >= lineToIndex[mid + 1]) {\n          min = mid + 1;\n        } else {\n          min = mid;\n          break;\n        }\n      }\n    }\n    return {\n      col: offset - lineToIndex[min] + 1,\n      line: min + 1\n    };\n  }\n  mapResolve(file) {\n    if (/^\\w+:\\/\\//.test(file)) {\n      return file;\n    }\n    return resolve$1$1(this.map.consumer().sourceRoot || this.map.root || \".\", file);\n  }\n  origin(line, column, endLine, endColumn) {\n    if (!this.map) return false;\n    let consumer = this.map.consumer();\n    let from = consumer.originalPositionFor({ column, line });\n    if (!from.source) return false;\n    let to;\n    if (typeof endLine === \"number\") {\n      to = consumer.originalPositionFor({ column: endColumn, line: endLine });\n    }\n    let fromUrl;\n    if (isAbsolute$1(from.source)) {\n      fromUrl = pathToFileURL$1$1(from.source);\n    } else {\n      fromUrl = new URL(\n        from.source,\n        this.map.consumer().sourceRoot || pathToFileURL$1$1(this.map.mapFile)\n      );\n    }\n    let result2 = {\n      column: from.column,\n      endColumn: to && to.column,\n      endLine: to && to.line,\n      line: from.line,\n      url: fromUrl.toString()\n    };\n    if (fromUrl.protocol === \"file:\") {\n      if (fileURLToPath$1) {\n        result2.file = fileURLToPath$1(fromUrl);\n      } else {\n        throw new Error(`file: protocol is not available in this PostCSS build`);\n      }\n    }\n    let source = consumer.sourceContentFor(from.source);\n    if (source) result2.source = source;\n    return result2;\n  }\n  toJSON() {\n    let json = {};\n    for (let name of [\"hasBOM\", \"css\", \"file\", \"id\"]) {\n      if (this[name] != null) {\n        json[name] = this[name];\n      }\n    }\n    if (this.map) {\n      json.map = { ...this.map };\n      if (json.map.consumerCache) {\n        json.map.consumerCache = void 0;\n      }\n    }\n    return json;\n  }\n  get from() {\n    return this.file || this.id;\n  }\n};\nvar input$1 = Input$4$1;\nInput$4$1.default = Input$4$1;\nif (terminalHighlight$2 && terminalHighlight$2.registerInput) {\n  terminalHighlight$2.registerInput(Input$4$1);\n}\nlet { SourceMapConsumer: SourceMapConsumer$3, SourceMapGenerator: SourceMapGenerator$3 } = require$$2$1;\nlet { dirname: dirname$2, relative: relative$1, resolve: resolve$2, sep: sep$1 } = require$$2$1;\nlet { pathToFileURL: pathToFileURL$2 } = require$$2$1;\nlet Input$3$1 = input$1;\nlet sourceMapAvailable$2 = Boolean(SourceMapConsumer$3 && SourceMapGenerator$3);\nlet pathAvailable$2 = Boolean(dirname$2 && resolve$2 && relative$1 && sep$1);\nlet MapGenerator$2$1 = class MapGenerator {\n  constructor(stringify2, root2, opts, cssString) {\n    this.stringify = stringify2;\n    this.mapOpts = opts.map || {};\n    this.root = root2;\n    this.opts = opts;\n    this.css = cssString;\n    this.originalCSS = cssString;\n    this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute;\n    this.memoizedFileURLs = /* @__PURE__ */ new Map();\n    this.memoizedPaths = /* @__PURE__ */ new Map();\n    this.memoizedURLs = /* @__PURE__ */ new Map();\n  }\n  addAnnotation() {\n    let content;\n    if (this.isInline()) {\n      content = \"data:application/json;base64,\" + this.toBase64(this.map.toString());\n    } else if (typeof this.mapOpts.annotation === \"string\") {\n      content = this.mapOpts.annotation;\n    } else if (typeof this.mapOpts.annotation === \"function\") {\n      content = this.mapOpts.annotation(this.opts.to, this.root);\n    } else {\n      content = this.outputFile() + \".map\";\n    }\n    let eol = \"\\n\";\n    if (this.css.includes(\"\\r\\n\")) eol = \"\\r\\n\";\n    this.css += eol + \"/*# sourceMappingURL=\" + content + \" */\";\n  }\n  applyPrevMaps() {\n    for (let prev of this.previous()) {\n      let from = this.toUrl(this.path(prev.file));\n      let root2 = prev.root || dirname$2(prev.file);\n      let map;\n      if (this.mapOpts.sourcesContent === false) {\n        map = new SourceMapConsumer$3(prev.text);\n        if (map.sourcesContent) {\n          map.sourcesContent = null;\n        }\n      } else {\n        map = prev.consumer();\n      }\n      this.map.applySourceMap(map, from, this.toUrl(this.path(root2)));\n    }\n  }\n  clearAnnotation() {\n    if (this.mapOpts.annotation === false) return;\n    if (this.root) {\n      let node2;\n      for (let i2 = this.root.nodes.length - 1; i2 >= 0; i2--) {\n        node2 = this.root.nodes[i2];\n        if (node2.type !== \"comment\") continue;\n        if (node2.text.indexOf(\"# sourceMappingURL=\") === 0) {\n          this.root.removeChild(i2);\n        }\n      }\n    } else if (this.css) {\n      this.css = this.css.replace(/\\n*?\\/\\*#[\\S\\s]*?\\*\\/$/gm, \"\");\n    }\n  }\n  generate() {\n    this.clearAnnotation();\n    if (pathAvailable$2 && sourceMapAvailable$2 && this.isMap()) {\n      return this.generateMap();\n    } else {\n      let result2 = \"\";\n      this.stringify(this.root, (i2) => {\n        result2 += i2;\n      });\n      return [result2];\n    }\n  }\n  generateMap() {\n    if (this.root) {\n      this.generateString();\n    } else if (this.previous().length === 1) {\n      let prev = this.previous()[0].consumer();\n      prev.file = this.outputFile();\n      this.map = SourceMapGenerator$3.fromSourceMap(prev, {\n        ignoreInvalidMapping: true\n      });\n    } else {\n      this.map = new SourceMapGenerator$3({\n        file: this.outputFile(),\n        ignoreInvalidMapping: true\n      });\n      this.map.addMapping({\n        generated: { column: 0, line: 1 },\n        original: { column: 0, line: 1 },\n        source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\"\n      });\n    }\n    if (this.isSourcesContent()) this.setSourcesContent();\n    if (this.root && this.previous().length > 0) this.applyPrevMaps();\n    if (this.isAnnotation()) this.addAnnotation();\n    if (this.isInline()) {\n      return [this.css];\n    } else {\n      return [this.css, this.map];\n    }\n  }\n  generateString() {\n    this.css = \"\";\n    this.map = new SourceMapGenerator$3({\n      file: this.outputFile(),\n      ignoreInvalidMapping: true\n    });\n    let line = 1;\n    let column = 1;\n    let noSource = \"<no source>\";\n    let mapping = {\n      generated: { column: 0, line: 0 },\n      original: { column: 0, line: 0 },\n      source: \"\"\n    };\n    let lines, last;\n    this.stringify(this.root, (str, node2, type) => {\n      this.css += str;\n      if (node2 && type !== \"end\") {\n        mapping.generated.line = line;\n        mapping.generated.column = column - 1;\n        if (node2.source && node2.source.start) {\n          mapping.source = this.sourcePath(node2);\n          mapping.original.line = node2.source.start.line;\n          mapping.original.column = node2.source.start.column - 1;\n          this.map.addMapping(mapping);\n        } else {\n          mapping.source = noSource;\n          mapping.original.line = 1;\n          mapping.original.column = 0;\n          this.map.addMapping(mapping);\n        }\n      }\n      lines = str.match(/\\n/g);\n      if (lines) {\n        line += lines.length;\n        last = str.lastIndexOf(\"\\n\");\n        column = str.length - last;\n      } else {\n        column += str.length;\n      }\n      if (node2 && type !== \"start\") {\n        let p = node2.parent || { raws: {} };\n        let childless = node2.type === \"decl\" || node2.type === \"atrule\" && !node2.nodes;\n        if (!childless || node2 !== p.last || p.raws.semicolon) {\n          if (node2.source && node2.source.end) {\n            mapping.source = this.sourcePath(node2);\n            mapping.original.line = node2.source.end.line;\n            mapping.original.column = node2.source.end.column - 1;\n            mapping.generated.line = line;\n            mapping.generated.column = column - 2;\n            this.map.addMapping(mapping);\n          } else {\n            mapping.source = noSource;\n            mapping.original.line = 1;\n            mapping.original.column = 0;\n            mapping.generated.line = line;\n            mapping.generated.column = column - 1;\n            this.map.addMapping(mapping);\n          }\n        }\n      }\n    });\n  }\n  isAnnotation() {\n    if (this.isInline()) {\n      return true;\n    }\n    if (typeof this.mapOpts.annotation !== \"undefined\") {\n      return this.mapOpts.annotation;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.annotation);\n    }\n    return true;\n  }\n  isInline() {\n    if (typeof this.mapOpts.inline !== \"undefined\") {\n      return this.mapOpts.inline;\n    }\n    let annotation = this.mapOpts.annotation;\n    if (typeof annotation !== \"undefined\" && annotation !== true) {\n      return false;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.inline);\n    }\n    return true;\n  }\n  isMap() {\n    if (typeof this.opts.map !== \"undefined\") {\n      return !!this.opts.map;\n    }\n    return this.previous().length > 0;\n  }\n  isSourcesContent() {\n    if (typeof this.mapOpts.sourcesContent !== \"undefined\") {\n      return this.mapOpts.sourcesContent;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.withContent());\n    }\n    return true;\n  }\n  outputFile() {\n    if (this.opts.to) {\n      return this.path(this.opts.to);\n    } else if (this.opts.from) {\n      return this.path(this.opts.from);\n    } else {\n      return \"to.css\";\n    }\n  }\n  path(file) {\n    if (this.mapOpts.absolute) return file;\n    if (file.charCodeAt(0) === 60) return file;\n    if (/^\\w+:\\/\\//.test(file)) return file;\n    let cached = this.memoizedPaths.get(file);\n    if (cached) return cached;\n    let from = this.opts.to ? dirname$2(this.opts.to) : \".\";\n    if (typeof this.mapOpts.annotation === \"string\") {\n      from = dirname$2(resolve$2(from, this.mapOpts.annotation));\n    }\n    let path = relative$1(from, file);\n    this.memoizedPaths.set(file, path);\n    return path;\n  }\n  previous() {\n    if (!this.previousMaps) {\n      this.previousMaps = [];\n      if (this.root) {\n        this.root.walk((node2) => {\n          if (node2.source && node2.source.input.map) {\n            let map = node2.source.input.map;\n            if (!this.previousMaps.includes(map)) {\n              this.previousMaps.push(map);\n            }\n          }\n        });\n      } else {\n        let input2 = new Input$3$1(this.originalCSS, this.opts);\n        if (input2.map) this.previousMaps.push(input2.map);\n      }\n    }\n    return this.previousMaps;\n  }\n  setSourcesContent() {\n    let already = {};\n    if (this.root) {\n      this.root.walk((node2) => {\n        if (node2.source) {\n          let from = node2.source.input.from;\n          if (from && !already[from]) {\n            already[from] = true;\n            let fromUrl = this.usesFileUrls ? this.toFileUrl(from) : this.toUrl(this.path(from));\n            this.map.setSourceContent(fromUrl, node2.source.input.css);\n          }\n        }\n      });\n    } else if (this.css) {\n      let from = this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\";\n      this.map.setSourceContent(from, this.css);\n    }\n  }\n  sourcePath(node2) {\n    if (this.mapOpts.from) {\n      return this.toUrl(this.mapOpts.from);\n    } else if (this.usesFileUrls) {\n      return this.toFileUrl(node2.source.input.from);\n    } else {\n      return this.toUrl(this.path(node2.source.input.from));\n    }\n  }\n  toBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str).toString(\"base64\");\n    } else {\n      return window.btoa(unescape(encodeURIComponent(str)));\n    }\n  }\n  toFileUrl(path) {\n    let cached = this.memoizedFileURLs.get(path);\n    if (cached) return cached;\n    if (pathToFileURL$2) {\n      let fileURL = pathToFileURL$2(path).toString();\n      this.memoizedFileURLs.set(path, fileURL);\n      return fileURL;\n    } else {\n      throw new Error(\n        \"`map.absolute` option is not available in this PostCSS build\"\n      );\n    }\n  }\n  toUrl(path) {\n    let cached = this.memoizedURLs.get(path);\n    if (cached) return cached;\n    if (sep$1 === \"\\\\\") {\n      path = path.replace(/\\\\/g, \"/\");\n    }\n    let url = encodeURI(path).replace(/[#?]/g, encodeURIComponent);\n    this.memoizedURLs.set(path, url);\n    return url;\n  }\n};\nvar mapGenerator$1 = MapGenerator$2$1;\nlet Node$2$1 = node$1;\nlet Comment$4$1 = class Comment extends Node$2$1 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"comment\";\n  }\n};\nvar comment$1 = Comment$4$1;\nComment$4$1.default = Comment$4$1;\nlet { isClean: isClean$1$1, my: my$1$1 } = symbols$1;\nlet Declaration$3$1 = declaration$1;\nlet Comment$3$1 = comment$1;\nlet Node$1$1 = node$1;\nlet parse$4$1, Rule$4$1, AtRule$4$1, Root$6$1;\nfunction cleanSource$1(nodes) {\n  return nodes.map((i2) => {\n    if (i2.nodes) i2.nodes = cleanSource$1(i2.nodes);\n    delete i2.source;\n    return i2;\n  });\n}\nfunction markDirtyUp$1(node2) {\n  node2[isClean$1$1] = false;\n  if (node2.proxyOf.nodes) {\n    for (let i2 of node2.proxyOf.nodes) {\n      markDirtyUp$1(i2);\n    }\n  }\n}\nlet Container$7$1 = class Container extends Node$1$1 {\n  append(...children) {\n    for (let child of children) {\n      let nodes = this.normalize(child, this.last);\n      for (let node2 of nodes) this.proxyOf.nodes.push(node2);\n    }\n    this.markDirty();\n    return this;\n  }\n  cleanRaws(keepBetween) {\n    super.cleanRaws(keepBetween);\n    if (this.nodes) {\n      for (let node2 of this.nodes) node2.cleanRaws(keepBetween);\n    }\n  }\n  each(callback) {\n    if (!this.proxyOf.nodes) return void 0;\n    let iterator = this.getIterator();\n    let index2, result2;\n    while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n      index2 = this.indexes[iterator];\n      result2 = callback(this.proxyOf.nodes[index2], index2);\n      if (result2 === false) break;\n      this.indexes[iterator] += 1;\n    }\n    delete this.indexes[iterator];\n    return result2;\n  }\n  every(condition) {\n    return this.nodes.every(condition);\n  }\n  getIterator() {\n    if (!this.lastEach) this.lastEach = 0;\n    if (!this.indexes) this.indexes = {};\n    this.lastEach += 1;\n    let iterator = this.lastEach;\n    this.indexes[iterator] = 0;\n    return iterator;\n  }\n  getProxyProcessor() {\n    return {\n      get(node2, prop) {\n        if (prop === \"proxyOf\") {\n          return node2;\n        } else if (!node2[prop]) {\n          return node2[prop];\n        } else if (prop === \"each\" || typeof prop === \"string\" && prop.startsWith(\"walk\")) {\n          return (...args) => {\n            return node2[prop](\n              ...args.map((i2) => {\n                if (typeof i2 === \"function\") {\n                  return (child, index2) => i2(child.toProxy(), index2);\n                } else {\n                  return i2;\n                }\n              })\n            );\n          };\n        } else if (prop === \"every\" || prop === \"some\") {\n          return (cb) => {\n            return node2[prop](\n              (child, ...other) => cb(child.toProxy(), ...other)\n            );\n          };\n        } else if (prop === \"root\") {\n          return () => node2.root().toProxy();\n        } else if (prop === \"nodes\") {\n          return node2.nodes.map((i2) => i2.toProxy());\n        } else if (prop === \"first\" || prop === \"last\") {\n          return node2[prop].toProxy();\n        } else {\n          return node2[prop];\n        }\n      },\n      set(node2, prop, value) {\n        if (node2[prop] === value) return true;\n        node2[prop] = value;\n        if (prop === \"name\" || prop === \"params\" || prop === \"selector\") {\n          node2.markDirty();\n        }\n        return true;\n      }\n    };\n  }\n  index(child) {\n    if (typeof child === \"number\") return child;\n    if (child.proxyOf) child = child.proxyOf;\n    return this.proxyOf.nodes.indexOf(child);\n  }\n  insertAfter(exist, add) {\n    let existIndex = this.index(exist);\n    let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse();\n    existIndex = this.index(exist);\n    for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node2);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (existIndex < index2) {\n        this.indexes[id] = index2 + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  insertBefore(exist, add) {\n    let existIndex = this.index(exist);\n    let type = existIndex === 0 ? \"prepend\" : false;\n    let nodes = this.normalize(add, this.proxyOf.nodes[existIndex], type).reverse();\n    existIndex = this.index(exist);\n    for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex, 0, node2);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (existIndex <= index2) {\n        this.indexes[id] = index2 + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  normalize(nodes, sample) {\n    if (typeof nodes === \"string\") {\n      nodes = cleanSource$1(parse$4$1(nodes).nodes);\n    } else if (typeof nodes === \"undefined\") {\n      nodes = [];\n    } else if (Array.isArray(nodes)) {\n      nodes = nodes.slice(0);\n      for (let i2 of nodes) {\n        if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n      }\n    } else if (nodes.type === \"root\" && this.type !== \"document\") {\n      nodes = nodes.nodes.slice(0);\n      for (let i2 of nodes) {\n        if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n      }\n    } else if (nodes.type) {\n      nodes = [nodes];\n    } else if (nodes.prop) {\n      if (typeof nodes.value === \"undefined\") {\n        throw new Error(\"Value field is missed in node creation\");\n      } else if (typeof nodes.value !== \"string\") {\n        nodes.value = String(nodes.value);\n      }\n      nodes = [new Declaration$3$1(nodes)];\n    } else if (nodes.selector) {\n      nodes = [new Rule$4$1(nodes)];\n    } else if (nodes.name) {\n      nodes = [new AtRule$4$1(nodes)];\n    } else if (nodes.text) {\n      nodes = [new Comment$3$1(nodes)];\n    } else {\n      throw new Error(\"Unknown node type in node creation\");\n    }\n    let processed = nodes.map((i2) => {\n      if (!i2[my$1$1]) Container.rebuild(i2);\n      i2 = i2.proxyOf;\n      if (i2.parent) i2.parent.removeChild(i2);\n      if (i2[isClean$1$1]) markDirtyUp$1(i2);\n      if (typeof i2.raws.before === \"undefined\") {\n        if (sample && typeof sample.raws.before !== \"undefined\") {\n          i2.raws.before = sample.raws.before.replace(/\\S/g, \"\");\n        }\n      }\n      i2.parent = this.proxyOf;\n      return i2;\n    });\n    return processed;\n  }\n  prepend(...children) {\n    children = children.reverse();\n    for (let child of children) {\n      let nodes = this.normalize(child, this.first, \"prepend\").reverse();\n      for (let node2 of nodes) this.proxyOf.nodes.unshift(node2);\n      for (let id in this.indexes) {\n        this.indexes[id] = this.indexes[id] + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  push(child) {\n    child.parent = this;\n    this.proxyOf.nodes.push(child);\n    return this;\n  }\n  removeAll() {\n    for (let node2 of this.proxyOf.nodes) node2.parent = void 0;\n    this.proxyOf.nodes = [];\n    this.markDirty();\n    return this;\n  }\n  removeChild(child) {\n    child = this.index(child);\n    this.proxyOf.nodes[child].parent = void 0;\n    this.proxyOf.nodes.splice(child, 1);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (index2 >= child) {\n        this.indexes[id] = index2 - 1;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  replaceValues(pattern, opts, callback) {\n    if (!callback) {\n      callback = opts;\n      opts = {};\n    }\n    this.walkDecls((decl) => {\n      if (opts.props && !opts.props.includes(decl.prop)) return;\n      if (opts.fast && !decl.value.includes(opts.fast)) return;\n      decl.value = decl.value.replace(pattern, callback);\n    });\n    this.markDirty();\n    return this;\n  }\n  some(condition) {\n    return this.nodes.some(condition);\n  }\n  walk(callback) {\n    return this.each((child, i2) => {\n      let result2;\n      try {\n        result2 = callback(child, i2);\n      } catch (e2) {\n        throw child.addToError(e2);\n      }\n      if (result2 !== false && child.walk) {\n        result2 = child.walk(callback);\n      }\n      return result2;\n    });\n  }\n  walkAtRules(name, callback) {\n    if (!callback) {\n      callback = name;\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (name instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\" && name.test(child.name)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"atrule\" && child.name === name) {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkComments(callback) {\n    return this.walk((child, i2) => {\n      if (child.type === \"comment\") {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkDecls(prop, callback) {\n    if (!callback) {\n      callback = prop;\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (prop instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\" && prop.test(child.prop)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"decl\" && child.prop === prop) {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkRules(selector, callback) {\n    if (!callback) {\n      callback = selector;\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (selector instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\" && selector.test(child.selector)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"rule\" && child.selector === selector) {\n        return callback(child, i2);\n      }\n    });\n  }\n  get first() {\n    if (!this.proxyOf.nodes) return void 0;\n    return this.proxyOf.nodes[0];\n  }\n  get last() {\n    if (!this.proxyOf.nodes) return void 0;\n    return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];\n  }\n};\nContainer$7$1.registerParse = (dependant) => {\n  parse$4$1 = dependant;\n};\nContainer$7$1.registerRule = (dependant) => {\n  Rule$4$1 = dependant;\n};\nContainer$7$1.registerAtRule = (dependant) => {\n  AtRule$4$1 = dependant;\n};\nContainer$7$1.registerRoot = (dependant) => {\n  Root$6$1 = dependant;\n};\nvar container$1 = Container$7$1;\nContainer$7$1.default = Container$7$1;\nContainer$7$1.rebuild = (node2) => {\n  if (node2.type === \"atrule\") {\n    Object.setPrototypeOf(node2, AtRule$4$1.prototype);\n  } else if (node2.type === \"rule\") {\n    Object.setPrototypeOf(node2, Rule$4$1.prototype);\n  } else if (node2.type === \"decl\") {\n    Object.setPrototypeOf(node2, Declaration$3$1.prototype);\n  } else if (node2.type === \"comment\") {\n    Object.setPrototypeOf(node2, Comment$3$1.prototype);\n  } else if (node2.type === \"root\") {\n    Object.setPrototypeOf(node2, Root$6$1.prototype);\n  }\n  node2[my$1$1] = true;\n  if (node2.nodes) {\n    node2.nodes.forEach((child) => {\n      Container$7$1.rebuild(child);\n    });\n  }\n};\nlet Container$6$1 = container$1;\nlet LazyResult$4$1, Processor$3$1;\nlet Document$3$1 = class Document2 extends Container$6$1 {\n  constructor(defaults) {\n    super({ type: \"document\", ...defaults });\n    if (!this.nodes) {\n      this.nodes = [];\n    }\n  }\n  toResult(opts = {}) {\n    let lazy = new LazyResult$4$1(new Processor$3$1(), this, opts);\n    return lazy.stringify();\n  }\n};\nDocument$3$1.registerLazyResult = (dependant) => {\n  LazyResult$4$1 = dependant;\n};\nDocument$3$1.registerProcessor = (dependant) => {\n  Processor$3$1 = dependant;\n};\nvar document$1$1 = Document$3$1;\nDocument$3$1.default = Document$3$1;\nlet printed$1 = {};\nvar warnOnce$2$1 = function warnOnce(message) {\n  if (printed$1[message]) return;\n  printed$1[message] = true;\n  if (typeof console !== \"undefined\" && console.warn) {\n    console.warn(message);\n  }\n};\nlet Warning$2$1 = class Warning {\n  constructor(text, opts = {}) {\n    this.type = \"warning\";\n    this.text = text;\n    if (opts.node && opts.node.source) {\n      let range = opts.node.rangeBy(opts);\n      this.line = range.start.line;\n      this.column = range.start.column;\n      this.endLine = range.end.line;\n      this.endColumn = range.end.column;\n    }\n    for (let opt in opts) this[opt] = opts[opt];\n  }\n  toString() {\n    if (this.node) {\n      return this.node.error(this.text, {\n        index: this.index,\n        plugin: this.plugin,\n        word: this.word\n      }).message;\n    }\n    if (this.plugin) {\n      return this.plugin + \": \" + this.text;\n    }\n    return this.text;\n  }\n};\nvar warning$1 = Warning$2$1;\nWarning$2$1.default = Warning$2$1;\nlet Warning$1$1 = warning$1;\nlet Result$3$1 = class Result {\n  constructor(processor2, root2, opts) {\n    this.processor = processor2;\n    this.messages = [];\n    this.root = root2;\n    this.opts = opts;\n    this.css = void 0;\n    this.map = void 0;\n  }\n  toString() {\n    return this.css;\n  }\n  warn(text, opts = {}) {\n    if (!opts.plugin) {\n      if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n        opts.plugin = this.lastPlugin.postcssPlugin;\n      }\n    }\n    let warning2 = new Warning$1$1(text, opts);\n    this.messages.push(warning2);\n    return warning2;\n  }\n  warnings() {\n    return this.messages.filter((i2) => i2.type === \"warning\");\n  }\n  get content() {\n    return this.css;\n  }\n};\nvar result$1 = Result$3$1;\nResult$3$1.default = Result$3$1;\nconst SINGLE_QUOTE$1 = \"'\".charCodeAt(0);\nconst DOUBLE_QUOTE$1 = '\"'.charCodeAt(0);\nconst BACKSLASH$1 = \"\\\\\".charCodeAt(0);\nconst SLASH$1 = \"/\".charCodeAt(0);\nconst NEWLINE$1 = \"\\n\".charCodeAt(0);\nconst SPACE$1 = \" \".charCodeAt(0);\nconst FEED$1 = \"\\f\".charCodeAt(0);\nconst TAB$1 = \"\t\".charCodeAt(0);\nconst CR$1 = \"\\r\".charCodeAt(0);\nconst OPEN_SQUARE$1 = \"[\".charCodeAt(0);\nconst CLOSE_SQUARE$1 = \"]\".charCodeAt(0);\nconst OPEN_PARENTHESES$1 = \"(\".charCodeAt(0);\nconst CLOSE_PARENTHESES$1 = \")\".charCodeAt(0);\nconst OPEN_CURLY$1 = \"{\".charCodeAt(0);\nconst CLOSE_CURLY$1 = \"}\".charCodeAt(0);\nconst SEMICOLON$1 = \";\".charCodeAt(0);\nconst ASTERISK$1 = \"*\".charCodeAt(0);\nconst COLON$1 = \":\".charCodeAt(0);\nconst AT$1 = \"@\".charCodeAt(0);\nconst RE_AT_END$1 = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g;\nconst RE_WORD_END$1 = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g;\nconst RE_BAD_BRACKET$1 = /.[\\r\\n\"'(/\\\\]/;\nconst RE_HEX_ESCAPE$1 = /[\\da-f]/i;\nvar tokenize$1 = function tokenizer(input2, options = {}) {\n  let css = input2.css.valueOf();\n  let ignore = options.ignoreErrors;\n  let code, next, quote, content, escape;\n  let escaped, escapePos, prev, n2, currentToken;\n  let length = css.length;\n  let pos = 0;\n  let buffer = [];\n  let returned = [];\n  function position() {\n    return pos;\n  }\n  function unclosed(what) {\n    throw input2.error(\"Unclosed \" + what, pos);\n  }\n  function endOfFile() {\n    return returned.length === 0 && pos >= length;\n  }\n  function nextToken(opts) {\n    if (returned.length) return returned.pop();\n    if (pos >= length) return;\n    let ignoreUnclosed = opts ? opts.ignoreUnclosed : false;\n    code = css.charCodeAt(pos);\n    switch (code) {\n      case NEWLINE$1:\n      case SPACE$1:\n      case TAB$1:\n      case CR$1:\n      case FEED$1: {\n        next = pos;\n        do {\n          next += 1;\n          code = css.charCodeAt(next);\n        } while (code === SPACE$1 || code === NEWLINE$1 || code === TAB$1 || code === CR$1 || code === FEED$1);\n        currentToken = [\"space\", css.slice(pos, next)];\n        pos = next - 1;\n        break;\n      }\n      case OPEN_SQUARE$1:\n      case CLOSE_SQUARE$1:\n      case OPEN_CURLY$1:\n      case CLOSE_CURLY$1:\n      case COLON$1:\n      case SEMICOLON$1:\n      case CLOSE_PARENTHESES$1: {\n        let controlChar = String.fromCharCode(code);\n        currentToken = [controlChar, controlChar, pos];\n        break;\n      }\n      case OPEN_PARENTHESES$1: {\n        prev = buffer.length ? buffer.pop()[1] : \"\";\n        n2 = css.charCodeAt(pos + 1);\n        if (prev === \"url\" && n2 !== SINGLE_QUOTE$1 && n2 !== DOUBLE_QUOTE$1 && n2 !== SPACE$1 && n2 !== NEWLINE$1 && n2 !== TAB$1 && n2 !== FEED$1 && n2 !== CR$1) {\n          next = pos;\n          do {\n            escaped = false;\n            next = css.indexOf(\")\", next + 1);\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos;\n                break;\n              } else {\n                unclosed(\"bracket\");\n              }\n            }\n            escapePos = next;\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH$1) {\n              escapePos -= 1;\n              escaped = !escaped;\n            }\n          } while (escaped);\n          currentToken = [\"brackets\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n        } else {\n          next = css.indexOf(\")\", pos + 1);\n          content = css.slice(pos, next + 1);\n          if (next === -1 || RE_BAD_BRACKET$1.test(content)) {\n            currentToken = [\"(\", \"(\", pos];\n          } else {\n            currentToken = [\"brackets\", content, pos, next];\n            pos = next;\n          }\n        }\n        break;\n      }\n      case SINGLE_QUOTE$1:\n      case DOUBLE_QUOTE$1: {\n        quote = code === SINGLE_QUOTE$1 ? \"'\" : '\"';\n        next = pos;\n        do {\n          escaped = false;\n          next = css.indexOf(quote, next + 1);\n          if (next === -1) {\n            if (ignore || ignoreUnclosed) {\n              next = pos + 1;\n              break;\n            } else {\n              unclosed(\"string\");\n            }\n          }\n          escapePos = next;\n          while (css.charCodeAt(escapePos - 1) === BACKSLASH$1) {\n            escapePos -= 1;\n            escaped = !escaped;\n          }\n        } while (escaped);\n        currentToken = [\"string\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      case AT$1: {\n        RE_AT_END$1.lastIndex = pos + 1;\n        RE_AT_END$1.test(css);\n        if (RE_AT_END$1.lastIndex === 0) {\n          next = css.length - 1;\n        } else {\n          next = RE_AT_END$1.lastIndex - 2;\n        }\n        currentToken = [\"at-word\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      case BACKSLASH$1: {\n        next = pos;\n        escape = true;\n        while (css.charCodeAt(next + 1) === BACKSLASH$1) {\n          next += 1;\n          escape = !escape;\n        }\n        code = css.charCodeAt(next + 1);\n        if (escape && code !== SLASH$1 && code !== SPACE$1 && code !== NEWLINE$1 && code !== TAB$1 && code !== CR$1 && code !== FEED$1) {\n          next += 1;\n          if (RE_HEX_ESCAPE$1.test(css.charAt(next))) {\n            while (RE_HEX_ESCAPE$1.test(css.charAt(next + 1))) {\n              next += 1;\n            }\n            if (css.charCodeAt(next + 1) === SPACE$1) {\n              next += 1;\n            }\n          }\n        }\n        currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      default: {\n        if (code === SLASH$1 && css.charCodeAt(pos + 1) === ASTERISK$1) {\n          next = css.indexOf(\"*/\", pos + 2) + 1;\n          if (next === 0) {\n            if (ignore || ignoreUnclosed) {\n              next = css.length;\n            } else {\n              unclosed(\"comment\");\n            }\n          }\n          currentToken = [\"comment\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n        } else {\n          RE_WORD_END$1.lastIndex = pos + 1;\n          RE_WORD_END$1.test(css);\n          if (RE_WORD_END$1.lastIndex === 0) {\n            next = css.length - 1;\n          } else {\n            next = RE_WORD_END$1.lastIndex - 2;\n          }\n          currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n          buffer.push(currentToken);\n          pos = next;\n        }\n        break;\n      }\n    }\n    pos++;\n    return currentToken;\n  }\n  function back(token) {\n    returned.push(token);\n  }\n  return {\n    back,\n    endOfFile,\n    nextToken,\n    position\n  };\n};\nlet Container$5$1 = container$1;\nlet AtRule$3$1 = class AtRule extends Container$5$1 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"atrule\";\n  }\n  append(...children) {\n    if (!this.proxyOf.nodes) this.nodes = [];\n    return super.append(...children);\n  }\n  prepend(...children) {\n    if (!this.proxyOf.nodes) this.nodes = [];\n    return super.prepend(...children);\n  }\n};\nvar atRule$1 = AtRule$3$1;\nAtRule$3$1.default = AtRule$3$1;\nContainer$5$1.registerAtRule(AtRule$3$1);\nlet Container$4$1 = container$1;\nlet LazyResult$3$1, Processor$2$1;\nlet Root$5$1 = class Root extends Container$4$1 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"root\";\n    if (!this.nodes) this.nodes = [];\n  }\n  normalize(child, sample, type) {\n    let nodes = super.normalize(child);\n    if (sample) {\n      if (type === \"prepend\") {\n        if (this.nodes.length > 1) {\n          sample.raws.before = this.nodes[1].raws.before;\n        } else {\n          delete sample.raws.before;\n        }\n      } else if (this.first !== sample) {\n        for (let node2 of nodes) {\n          node2.raws.before = sample.raws.before;\n        }\n      }\n    }\n    return nodes;\n  }\n  removeChild(child, ignore) {\n    let index2 = this.index(child);\n    if (!ignore && index2 === 0 && this.nodes.length > 1) {\n      this.nodes[1].raws.before = this.nodes[index2].raws.before;\n    }\n    return super.removeChild(child);\n  }\n  toResult(opts = {}) {\n    let lazy = new LazyResult$3$1(new Processor$2$1(), this, opts);\n    return lazy.stringify();\n  }\n};\nRoot$5$1.registerLazyResult = (dependant) => {\n  LazyResult$3$1 = dependant;\n};\nRoot$5$1.registerProcessor = (dependant) => {\n  Processor$2$1 = dependant;\n};\nvar root$1 = Root$5$1;\nRoot$5$1.default = Root$5$1;\nContainer$4$1.registerRoot(Root$5$1);\nlet list$2$1 = {\n  comma(string) {\n    return list$2$1.split(string, [\",\"], true);\n  },\n  space(string) {\n    let spaces = [\" \", \"\\n\", \"\t\"];\n    return list$2$1.split(string, spaces);\n  },\n  split(string, separators, last) {\n    let array = [];\n    let current = \"\";\n    let split = false;\n    let func = 0;\n    let inQuote = false;\n    let prevQuote = \"\";\n    let escape = false;\n    for (let letter of string) {\n      if (escape) {\n        escape = false;\n      } else if (letter === \"\\\\\") {\n        escape = true;\n      } else if (inQuote) {\n        if (letter === prevQuote) {\n          inQuote = false;\n        }\n      } else if (letter === '\"' || letter === \"'\") {\n        inQuote = true;\n        prevQuote = letter;\n      } else if (letter === \"(\") {\n        func += 1;\n      } else if (letter === \")\") {\n        if (func > 0) func -= 1;\n      } else if (func === 0) {\n        if (separators.includes(letter)) split = true;\n      }\n      if (split) {\n        if (current !== \"\") array.push(current.trim());\n        current = \"\";\n        split = false;\n      } else {\n        current += letter;\n      }\n    }\n    if (last || current !== \"\") array.push(current.trim());\n    return array;\n  }\n};\nvar list_1$1 = list$2$1;\nlist$2$1.default = list$2$1;\nlet Container$3$1 = container$1;\nlet list$1$1 = list_1$1;\nlet Rule$3$1 = class Rule extends Container$3$1 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"rule\";\n    if (!this.nodes) this.nodes = [];\n  }\n  get selectors() {\n    return list$1$1.comma(this.selector);\n  }\n  set selectors(values) {\n    let match = this.selector ? this.selector.match(/,\\s*/) : null;\n    let sep2 = match ? match[0] : \",\" + this.raw(\"between\", \"beforeOpen\");\n    this.selector = values.join(sep2);\n  }\n};\nvar rule$1 = Rule$3$1;\nRule$3$1.default = Rule$3$1;\nContainer$3$1.registerRule(Rule$3$1);\nlet Declaration$2$1 = declaration$1;\nlet tokenizer2$1 = tokenize$1;\nlet Comment$2$1 = comment$1;\nlet AtRule$2$1 = atRule$1;\nlet Root$4$1 = root$1;\nlet Rule$2$1 = rule$1;\nconst SAFE_COMMENT_NEIGHBOR$1 = {\n  empty: true,\n  space: true\n};\nfunction findLastWithPosition$1(tokens) {\n  for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n    let token = tokens[i2];\n    let pos = token[3] || token[2];\n    if (pos) return pos;\n  }\n}\nlet Parser$1$1 = class Parser {\n  constructor(input2) {\n    this.input = input2;\n    this.root = new Root$4$1();\n    this.current = this.root;\n    this.spaces = \"\";\n    this.semicolon = false;\n    this.createTokenizer();\n    this.root.source = { input: input2, start: { column: 1, line: 1, offset: 0 } };\n  }\n  atrule(token) {\n    let node2 = new AtRule$2$1();\n    node2.name = token[1].slice(1);\n    if (node2.name === \"\") {\n      this.unnamedAtrule(node2, token);\n    }\n    this.init(node2, token[2]);\n    let type;\n    let prev;\n    let shift;\n    let last = false;\n    let open = false;\n    let params = [];\n    let brackets = [];\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken();\n      type = token[0];\n      if (type === \"(\" || type === \"[\") {\n        brackets.push(type === \"(\" ? \")\" : \"]\");\n      } else if (type === \"{\" && brackets.length > 0) {\n        brackets.push(\"}\");\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop();\n      }\n      if (brackets.length === 0) {\n        if (type === \";\") {\n          node2.source.end = this.getPosition(token[2]);\n          node2.source.end.offset++;\n          this.semicolon = true;\n          break;\n        } else if (type === \"{\") {\n          open = true;\n          break;\n        } else if (type === \"}\") {\n          if (params.length > 0) {\n            shift = params.length - 1;\n            prev = params[shift];\n            while (prev && prev[0] === \"space\") {\n              prev = params[--shift];\n            }\n            if (prev) {\n              node2.source.end = this.getPosition(prev[3] || prev[2]);\n              node2.source.end.offset++;\n            }\n          }\n          this.end(token);\n          break;\n        } else {\n          params.push(token);\n        }\n      } else {\n        params.push(token);\n      }\n      if (this.tokenizer.endOfFile()) {\n        last = true;\n        break;\n      }\n    }\n    node2.raws.between = this.spacesAndCommentsFromEnd(params);\n    if (params.length) {\n      node2.raws.afterName = this.spacesAndCommentsFromStart(params);\n      this.raw(node2, \"params\", params);\n      if (last) {\n        token = params[params.length - 1];\n        node2.source.end = this.getPosition(token[3] || token[2]);\n        node2.source.end.offset++;\n        this.spaces = node2.raws.between;\n        node2.raws.between = \"\";\n      }\n    } else {\n      node2.raws.afterName = \"\";\n      node2.params = \"\";\n    }\n    if (open) {\n      node2.nodes = [];\n      this.current = node2;\n    }\n  }\n  checkMissedSemicolon(tokens) {\n    let colon = this.colon(tokens);\n    if (colon === false) return;\n    let founded = 0;\n    let token;\n    for (let j = colon - 1; j >= 0; j--) {\n      token = tokens[j];\n      if (token[0] !== \"space\") {\n        founded += 1;\n        if (founded === 2) break;\n      }\n    }\n    throw this.input.error(\n      \"Missed semicolon\",\n      token[0] === \"word\" ? token[3] + 1 : token[2]\n    );\n  }\n  colon(tokens) {\n    let brackets = 0;\n    let token, type, prev;\n    for (let [i2, element] of tokens.entries()) {\n      token = element;\n      type = token[0];\n      if (type === \"(\") {\n        brackets += 1;\n      }\n      if (type === \")\") {\n        brackets -= 1;\n      }\n      if (brackets === 0 && type === \":\") {\n        if (!prev) {\n          this.doubleColon(token);\n        } else if (prev[0] === \"word\" && prev[1] === \"progid\") {\n          continue;\n        } else {\n          return i2;\n        }\n      }\n      prev = token;\n    }\n    return false;\n  }\n  comment(token) {\n    let node2 = new Comment$2$1();\n    this.init(node2, token[2]);\n    node2.source.end = this.getPosition(token[3] || token[2]);\n    node2.source.end.offset++;\n    let text = token[1].slice(2, -2);\n    if (/^\\s*$/.test(text)) {\n      node2.text = \"\";\n      node2.raws.left = text;\n      node2.raws.right = \"\";\n    } else {\n      let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n      node2.text = match[2];\n      node2.raws.left = match[1];\n      node2.raws.right = match[3];\n    }\n  }\n  createTokenizer() {\n    this.tokenizer = tokenizer2$1(this.input);\n  }\n  decl(tokens, customProperty) {\n    let node2 = new Declaration$2$1();\n    this.init(node2, tokens[0][2]);\n    let last = tokens[tokens.length - 1];\n    if (last[0] === \";\") {\n      this.semicolon = true;\n      tokens.pop();\n    }\n    node2.source.end = this.getPosition(\n      last[3] || last[2] || findLastWithPosition$1(tokens)\n    );\n    node2.source.end.offset++;\n    while (tokens[0][0] !== \"word\") {\n      if (tokens.length === 1) this.unknownWord(tokens);\n      node2.raws.before += tokens.shift()[1];\n    }\n    node2.source.start = this.getPosition(tokens[0][2]);\n    node2.prop = \"\";\n    while (tokens.length) {\n      let type = tokens[0][0];\n      if (type === \":\" || type === \"space\" || type === \"comment\") {\n        break;\n      }\n      node2.prop += tokens.shift()[1];\n    }\n    node2.raws.between = \"\";\n    let token;\n    while (tokens.length) {\n      token = tokens.shift();\n      if (token[0] === \":\") {\n        node2.raws.between += token[1];\n        break;\n      } else {\n        if (token[0] === \"word\" && /\\w/.test(token[1])) {\n          this.unknownWord([token]);\n        }\n        node2.raws.between += token[1];\n      }\n    }\n    if (node2.prop[0] === \"_\" || node2.prop[0] === \"*\") {\n      node2.raws.before += node2.prop[0];\n      node2.prop = node2.prop.slice(1);\n    }\n    let firstSpaces = [];\n    let next;\n    while (tokens.length) {\n      next = tokens[0][0];\n      if (next !== \"space\" && next !== \"comment\") break;\n      firstSpaces.push(tokens.shift());\n    }\n    this.precheckMissedSemicolon(tokens);\n    for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n      token = tokens[i2];\n      if (token[1].toLowerCase() === \"!important\") {\n        node2.important = true;\n        let string = this.stringFrom(tokens, i2);\n        string = this.spacesFromEnd(tokens) + string;\n        if (string !== \" !important\") node2.raws.important = string;\n        break;\n      } else if (token[1].toLowerCase() === \"important\") {\n        let cache = tokens.slice(0);\n        let str = \"\";\n        for (let j = i2; j > 0; j--) {\n          let type = cache[j][0];\n          if (str.trim().indexOf(\"!\") === 0 && type !== \"space\") {\n            break;\n          }\n          str = cache.pop()[1] + str;\n        }\n        if (str.trim().indexOf(\"!\") === 0) {\n          node2.important = true;\n          node2.raws.important = str;\n          tokens = cache;\n        }\n      }\n      if (token[0] !== \"space\" && token[0] !== \"comment\") {\n        break;\n      }\n    }\n    let hasWord = tokens.some((i2) => i2[0] !== \"space\" && i2[0] !== \"comment\");\n    if (hasWord) {\n      node2.raws.between += firstSpaces.map((i2) => i2[1]).join(\"\");\n      firstSpaces = [];\n    }\n    this.raw(node2, \"value\", firstSpaces.concat(tokens), customProperty);\n    if (node2.value.includes(\":\") && !customProperty) {\n      this.checkMissedSemicolon(tokens);\n    }\n  }\n  doubleColon(token) {\n    throw this.input.error(\n      \"Double colon\",\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    );\n  }\n  emptyRule(token) {\n    let node2 = new Rule$2$1();\n    this.init(node2, token[2]);\n    node2.selector = \"\";\n    node2.raws.between = \"\";\n    this.current = node2;\n  }\n  end(token) {\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon;\n    }\n    this.semicolon = false;\n    this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n    this.spaces = \"\";\n    if (this.current.parent) {\n      this.current.source.end = this.getPosition(token[2]);\n      this.current.source.end.offset++;\n      this.current = this.current.parent;\n    } else {\n      this.unexpectedClose(token);\n    }\n  }\n  endFile() {\n    if (this.current.parent) this.unclosedBlock();\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon;\n    }\n    this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n    this.root.source.end = this.getPosition(this.tokenizer.position());\n  }\n  freeSemicolon(token) {\n    this.spaces += token[1];\n    if (this.current.nodes) {\n      let prev = this.current.nodes[this.current.nodes.length - 1];\n      if (prev && prev.type === \"rule\" && !prev.raws.ownSemicolon) {\n        prev.raws.ownSemicolon = this.spaces;\n        this.spaces = \"\";\n      }\n    }\n  }\n  // Helpers\n  getPosition(offset) {\n    let pos = this.input.fromOffset(offset);\n    return {\n      column: pos.col,\n      line: pos.line,\n      offset\n    };\n  }\n  init(node2, offset) {\n    this.current.push(node2);\n    node2.source = {\n      input: this.input,\n      start: this.getPosition(offset)\n    };\n    node2.raws.before = this.spaces;\n    this.spaces = \"\";\n    if (node2.type !== \"comment\") this.semicolon = false;\n  }\n  other(start) {\n    let end = false;\n    let type = null;\n    let colon = false;\n    let bracket = null;\n    let brackets = [];\n    let customProperty = start[1].startsWith(\"--\");\n    let tokens = [];\n    let token = start;\n    while (token) {\n      type = token[0];\n      tokens.push(token);\n      if (type === \"(\" || type === \"[\") {\n        if (!bracket) bracket = token;\n        brackets.push(type === \"(\" ? \")\" : \"]\");\n      } else if (customProperty && colon && type === \"{\") {\n        if (!bracket) bracket = token;\n        brackets.push(\"}\");\n      } else if (brackets.length === 0) {\n        if (type === \";\") {\n          if (colon) {\n            this.decl(tokens, customProperty);\n            return;\n          } else {\n            break;\n          }\n        } else if (type === \"{\") {\n          this.rule(tokens);\n          return;\n        } else if (type === \"}\") {\n          this.tokenizer.back(tokens.pop());\n          end = true;\n          break;\n        } else if (type === \":\") {\n          colon = true;\n        }\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop();\n        if (brackets.length === 0) bracket = null;\n      }\n      token = this.tokenizer.nextToken();\n    }\n    if (this.tokenizer.endOfFile()) end = true;\n    if (brackets.length > 0) this.unclosedBracket(bracket);\n    if (end && colon) {\n      if (!customProperty) {\n        while (tokens.length) {\n          token = tokens[tokens.length - 1][0];\n          if (token !== \"space\" && token !== \"comment\") break;\n          this.tokenizer.back(tokens.pop());\n        }\n      }\n      this.decl(tokens, customProperty);\n    } else {\n      this.unknownWord(tokens);\n    }\n  }\n  parse() {\n    let token;\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken();\n      switch (token[0]) {\n        case \"space\":\n          this.spaces += token[1];\n          break;\n        case \";\":\n          this.freeSemicolon(token);\n          break;\n        case \"}\":\n          this.end(token);\n          break;\n        case \"comment\":\n          this.comment(token);\n          break;\n        case \"at-word\":\n          this.atrule(token);\n          break;\n        case \"{\":\n          this.emptyRule(token);\n          break;\n        default:\n          this.other(token);\n          break;\n      }\n    }\n    this.endFile();\n  }\n  precheckMissedSemicolon() {\n  }\n  raw(node2, prop, tokens, customProperty) {\n    let token, type;\n    let length = tokens.length;\n    let value = \"\";\n    let clean = true;\n    let next, prev;\n    for (let i2 = 0; i2 < length; i2 += 1) {\n      token = tokens[i2];\n      type = token[0];\n      if (type === \"space\" && i2 === length - 1 && !customProperty) {\n        clean = false;\n      } else if (type === \"comment\") {\n        prev = tokens[i2 - 1] ? tokens[i2 - 1][0] : \"empty\";\n        next = tokens[i2 + 1] ? tokens[i2 + 1][0] : \"empty\";\n        if (!SAFE_COMMENT_NEIGHBOR$1[prev] && !SAFE_COMMENT_NEIGHBOR$1[next]) {\n          if (value.slice(-1) === \",\") {\n            clean = false;\n          } else {\n            value += token[1];\n          }\n        } else {\n          clean = false;\n        }\n      } else {\n        value += token[1];\n      }\n    }\n    if (!clean) {\n      let raw = tokens.reduce((all, i2) => all + i2[1], \"\");\n      node2.raws[prop] = { raw, value };\n    }\n    node2[prop] = value;\n  }\n  rule(tokens) {\n    tokens.pop();\n    let node2 = new Rule$2$1();\n    this.init(node2, tokens[0][2]);\n    node2.raws.between = this.spacesAndCommentsFromEnd(tokens);\n    this.raw(node2, \"selector\", tokens);\n    this.current = node2;\n  }\n  spacesAndCommentsFromEnd(tokens) {\n    let lastTokenType;\n    let spaces = \"\";\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0];\n      if (lastTokenType !== \"space\" && lastTokenType !== \"comment\") break;\n      spaces = tokens.pop()[1] + spaces;\n    }\n    return spaces;\n  }\n  // Errors\n  spacesAndCommentsFromStart(tokens) {\n    let next;\n    let spaces = \"\";\n    while (tokens.length) {\n      next = tokens[0][0];\n      if (next !== \"space\" && next !== \"comment\") break;\n      spaces += tokens.shift()[1];\n    }\n    return spaces;\n  }\n  spacesFromEnd(tokens) {\n    let lastTokenType;\n    let spaces = \"\";\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0];\n      if (lastTokenType !== \"space\") break;\n      spaces = tokens.pop()[1] + spaces;\n    }\n    return spaces;\n  }\n  stringFrom(tokens, from) {\n    let result2 = \"\";\n    for (let i2 = from; i2 < tokens.length; i2++) {\n      result2 += tokens[i2][1];\n    }\n    tokens.splice(from, tokens.length - from);\n    return result2;\n  }\n  unclosedBlock() {\n    let pos = this.current.source.start;\n    throw this.input.error(\"Unclosed block\", pos.line, pos.column);\n  }\n  unclosedBracket(bracket) {\n    throw this.input.error(\n      \"Unclosed bracket\",\n      { offset: bracket[2] },\n      { offset: bracket[2] + 1 }\n    );\n  }\n  unexpectedClose(token) {\n    throw this.input.error(\n      \"Unexpected }\",\n      { offset: token[2] },\n      { offset: token[2] + 1 }\n    );\n  }\n  unknownWord(tokens) {\n    throw this.input.error(\n      \"Unknown word\",\n      { offset: tokens[0][2] },\n      { offset: tokens[0][2] + tokens[0][1].length }\n    );\n  }\n  unnamedAtrule(node2, token) {\n    throw this.input.error(\n      \"At-rule without name\",\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    );\n  }\n};\nvar parser$1 = Parser$1$1;\nlet Container$2$1 = container$1;\nlet Parser2$1 = parser$1;\nlet Input$2$1 = input$1;\nfunction parse$3$1(css, opts) {\n  let input2 = new Input$2$1(css, opts);\n  let parser2 = new Parser2$1(input2);\n  try {\n    parser2.parse();\n  } catch (e2) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (e2.name === \"CssSyntaxError\" && opts && opts.from) {\n        if (/\\.scss$/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser\";\n        } else if (/\\.sass/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser\";\n        } else if (/\\.less$/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser\";\n        }\n      }\n    }\n    throw e2;\n  }\n  return parser2.root;\n}\nvar parse_1$1 = parse$3$1;\nparse$3$1.default = parse$3$1;\nContainer$2$1.registerParse(parse$3$1);\nlet { isClean: isClean$3, my: my$3 } = symbols$1;\nlet MapGenerator$1$1 = mapGenerator$1;\nlet stringify$2$1 = stringify_1$1;\nlet Container$1$1 = container$1;\nlet Document$2$1 = document$1$1;\nlet warnOnce$1$1 = warnOnce$2$1;\nlet Result$2$1 = result$1;\nlet parse$2$1 = parse_1$1;\nlet Root$3$1 = root$1;\nconst TYPE_TO_CLASS_NAME$1 = {\n  atrule: \"AtRule\",\n  comment: \"Comment\",\n  decl: \"Declaration\",\n  document: \"Document\",\n  root: \"Root\",\n  rule: \"Rule\"\n};\nconst PLUGIN_PROPS$1 = {\n  AtRule: true,\n  AtRuleExit: true,\n  Comment: true,\n  CommentExit: true,\n  Declaration: true,\n  DeclarationExit: true,\n  Document: true,\n  DocumentExit: true,\n  Once: true,\n  OnceExit: true,\n  postcssPlugin: true,\n  prepare: true,\n  Root: true,\n  RootExit: true,\n  Rule: true,\n  RuleExit: true\n};\nconst NOT_VISITORS$1 = {\n  Once: true,\n  postcssPlugin: true,\n  prepare: true\n};\nconst CHILDREN$1 = 0;\nfunction isPromise$1(obj) {\n  return typeof obj === \"object\" && typeof obj.then === \"function\";\n}\nfunction getEvents$1(node2) {\n  let key = false;\n  let type = TYPE_TO_CLASS_NAME$1[node2.type];\n  if (node2.type === \"decl\") {\n    key = node2.prop.toLowerCase();\n  } else if (node2.type === \"atrule\") {\n    key = node2.name.toLowerCase();\n  }\n  if (key && node2.append) {\n    return [\n      type,\n      type + \"-\" + key,\n      CHILDREN$1,\n      type + \"Exit\",\n      type + \"Exit-\" + key\n    ];\n  } else if (key) {\n    return [type, type + \"-\" + key, type + \"Exit\", type + \"Exit-\" + key];\n  } else if (node2.append) {\n    return [type, CHILDREN$1, type + \"Exit\"];\n  } else {\n    return [type, type + \"Exit\"];\n  }\n}\nfunction toStack$1(node2) {\n  let events;\n  if (node2.type === \"document\") {\n    events = [\"Document\", CHILDREN$1, \"DocumentExit\"];\n  } else if (node2.type === \"root\") {\n    events = [\"Root\", CHILDREN$1, \"RootExit\"];\n  } else {\n    events = getEvents$1(node2);\n  }\n  return {\n    eventIndex: 0,\n    events,\n    iterator: 0,\n    node: node2,\n    visitorIndex: 0,\n    visitors: []\n  };\n}\nfunction cleanMarks$1(node2) {\n  node2[isClean$3] = false;\n  if (node2.nodes) node2.nodes.forEach((i2) => cleanMarks$1(i2));\n  return node2;\n}\nlet postcss$2$1 = {};\nlet LazyResult$2$1 = class LazyResult {\n  constructor(processor2, css, opts) {\n    this.stringified = false;\n    this.processed = false;\n    let root2;\n    if (typeof css === \"object\" && css !== null && (css.type === \"root\" || css.type === \"document\")) {\n      root2 = cleanMarks$1(css);\n    } else if (css instanceof LazyResult || css instanceof Result$2$1) {\n      root2 = cleanMarks$1(css.root);\n      if (css.map) {\n        if (typeof opts.map === \"undefined\") opts.map = {};\n        if (!opts.map.inline) opts.map.inline = false;\n        opts.map.prev = css.map;\n      }\n    } else {\n      let parser2 = parse$2$1;\n      if (opts.syntax) parser2 = opts.syntax.parse;\n      if (opts.parser) parser2 = opts.parser;\n      if (parser2.parse) parser2 = parser2.parse;\n      try {\n        root2 = parser2(css, opts);\n      } catch (error) {\n        this.processed = true;\n        this.error = error;\n      }\n      if (root2 && !root2[my$3]) {\n        Container$1$1.rebuild(root2);\n      }\n    }\n    this.result = new Result$2$1(processor2, root2, opts);\n    this.helpers = { ...postcss$2$1, postcss: postcss$2$1, result: this.result };\n    this.plugins = this.processor.plugins.map((plugin22) => {\n      if (typeof plugin22 === \"object\" && plugin22.prepare) {\n        return { ...plugin22, ...plugin22.prepare(this.result) };\n      } else {\n        return plugin22;\n      }\n    });\n  }\n  async() {\n    if (this.error) return Promise.reject(this.error);\n    if (this.processed) return Promise.resolve(this.result);\n    if (!this.processing) {\n      this.processing = this.runAsync();\n    }\n    return this.processing;\n  }\n  catch(onRejected) {\n    return this.async().catch(onRejected);\n  }\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally);\n  }\n  getAsyncError() {\n    throw new Error(\"Use process(css).then(cb) to work with async plugins\");\n  }\n  handleError(error, node2) {\n    let plugin22 = this.result.lastPlugin;\n    try {\n      if (node2) node2.addToError(error);\n      this.error = error;\n      if (error.name === \"CssSyntaxError\" && !error.plugin) {\n        error.plugin = plugin22.postcssPlugin;\n        error.setMessage();\n      } else if (plugin22.postcssVersion) {\n        if (process.env.NODE_ENV !== \"production\") {\n          let pluginName = plugin22.postcssPlugin;\n          let pluginVer = plugin22.postcssVersion;\n          let runtimeVer = this.result.processor.version;\n          let a2 = pluginVer.split(\".\");\n          let b = runtimeVer.split(\".\");\n          if (a2[0] !== b[0] || parseInt(a2[1]) > parseInt(b[1])) {\n            console.error(\n              \"Unknown error from PostCSS plugin. Your current PostCSS version is \" + runtimeVer + \", but \" + pluginName + \" uses \" + pluginVer + \". Perhaps this is the source of the error below.\"\n            );\n          }\n        }\n      }\n    } catch (err) {\n      if (console && console.error) console.error(err);\n    }\n    return error;\n  }\n  prepareVisitors() {\n    this.listeners = {};\n    let add = (plugin22, type, cb) => {\n      if (!this.listeners[type]) this.listeners[type] = [];\n      this.listeners[type].push([plugin22, cb]);\n    };\n    for (let plugin22 of this.plugins) {\n      if (typeof plugin22 === \"object\") {\n        for (let event in plugin22) {\n          if (!PLUGIN_PROPS$1[event] && /^[A-Z]/.test(event)) {\n            throw new Error(\n              `Unknown event ${event} in ${plugin22.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`\n            );\n          }\n          if (!NOT_VISITORS$1[event]) {\n            if (typeof plugin22[event] === \"object\") {\n              for (let filter in plugin22[event]) {\n                if (filter === \"*\") {\n                  add(plugin22, event, plugin22[event][filter]);\n                } else {\n                  add(\n                    plugin22,\n                    event + \"-\" + filter.toLowerCase(),\n                    plugin22[event][filter]\n                  );\n                }\n              }\n            } else if (typeof plugin22[event] === \"function\") {\n              add(plugin22, event, plugin22[event]);\n            }\n          }\n        }\n      }\n    }\n    this.hasListener = Object.keys(this.listeners).length > 0;\n  }\n  async runAsync() {\n    this.plugin = 0;\n    for (let i2 = 0; i2 < this.plugins.length; i2++) {\n      let plugin22 = this.plugins[i2];\n      let promise = this.runOnRoot(plugin22);\n      if (isPromise$1(promise)) {\n        try {\n          await promise;\n        } catch (error) {\n          throw this.handleError(error);\n        }\n      }\n    }\n    this.prepareVisitors();\n    if (this.hasListener) {\n      let root2 = this.result.root;\n      while (!root2[isClean$3]) {\n        root2[isClean$3] = true;\n        let stack = [toStack$1(root2)];\n        while (stack.length > 0) {\n          let promise = this.visitTick(stack);\n          if (isPromise$1(promise)) {\n            try {\n              await promise;\n            } catch (e2) {\n              let node2 = stack[stack.length - 1].node;\n              throw this.handleError(e2, node2);\n            }\n          }\n        }\n      }\n      if (this.listeners.OnceExit) {\n        for (let [plugin22, visitor] of this.listeners.OnceExit) {\n          this.result.lastPlugin = plugin22;\n          try {\n            if (root2.type === \"document\") {\n              let roots = root2.nodes.map(\n                (subRoot) => visitor(subRoot, this.helpers)\n              );\n              await Promise.all(roots);\n            } else {\n              await visitor(root2, this.helpers);\n            }\n          } catch (e2) {\n            throw this.handleError(e2);\n          }\n        }\n      }\n    }\n    this.processed = true;\n    return this.stringify();\n  }\n  runOnRoot(plugin22) {\n    this.result.lastPlugin = plugin22;\n    try {\n      if (typeof plugin22 === \"object\" && plugin22.Once) {\n        if (this.result.root.type === \"document\") {\n          let roots = this.result.root.nodes.map(\n            (root2) => plugin22.Once(root2, this.helpers)\n          );\n          if (isPromise$1(roots[0])) {\n            return Promise.all(roots);\n          }\n          return roots;\n        }\n        return plugin22.Once(this.result.root, this.helpers);\n      } else if (typeof plugin22 === \"function\") {\n        return plugin22(this.result.root, this.result);\n      }\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  }\n  stringify() {\n    if (this.error) throw this.error;\n    if (this.stringified) return this.result;\n    this.stringified = true;\n    this.sync();\n    let opts = this.result.opts;\n    let str = stringify$2$1;\n    if (opts.syntax) str = opts.syntax.stringify;\n    if (opts.stringifier) str = opts.stringifier;\n    if (str.stringify) str = str.stringify;\n    let map = new MapGenerator$1$1(str, this.result.root, this.result.opts);\n    let data = map.generate();\n    this.result.css = data[0];\n    this.result.map = data[1];\n    return this.result;\n  }\n  sync() {\n    if (this.error) throw this.error;\n    if (this.processed) return this.result;\n    this.processed = true;\n    if (this.processing) {\n      throw this.getAsyncError();\n    }\n    for (let plugin22 of this.plugins) {\n      let promise = this.runOnRoot(plugin22);\n      if (isPromise$1(promise)) {\n        throw this.getAsyncError();\n      }\n    }\n    this.prepareVisitors();\n    if (this.hasListener) {\n      let root2 = this.result.root;\n      while (!root2[isClean$3]) {\n        root2[isClean$3] = true;\n        this.walkSync(root2);\n      }\n      if (this.listeners.OnceExit) {\n        if (root2.type === \"document\") {\n          for (let subRoot of root2.nodes) {\n            this.visitSync(this.listeners.OnceExit, subRoot);\n          }\n        } else {\n          this.visitSync(this.listeners.OnceExit, root2);\n        }\n      }\n    }\n    return this.result;\n  }\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!(\"from\" in this.opts)) {\n        warnOnce$1$1(\n          \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n        );\n      }\n    }\n    return this.async().then(onFulfilled, onRejected);\n  }\n  toString() {\n    return this.css;\n  }\n  visitSync(visitors, node2) {\n    for (let [plugin22, visitor] of visitors) {\n      this.result.lastPlugin = plugin22;\n      let promise;\n      try {\n        promise = visitor(node2, this.helpers);\n      } catch (e2) {\n        throw this.handleError(e2, node2.proxyOf);\n      }\n      if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n        return true;\n      }\n      if (isPromise$1(promise)) {\n        throw this.getAsyncError();\n      }\n    }\n  }\n  visitTick(stack) {\n    let visit2 = stack[stack.length - 1];\n    let { node: node2, visitors } = visit2;\n    if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n      stack.pop();\n      return;\n    }\n    if (visitors.length > 0 && visit2.visitorIndex < visitors.length) {\n      let [plugin22, visitor] = visitors[visit2.visitorIndex];\n      visit2.visitorIndex += 1;\n      if (visit2.visitorIndex === visitors.length) {\n        visit2.visitors = [];\n        visit2.visitorIndex = 0;\n      }\n      this.result.lastPlugin = plugin22;\n      try {\n        return visitor(node2.toProxy(), this.helpers);\n      } catch (e2) {\n        throw this.handleError(e2, node2);\n      }\n    }\n    if (visit2.iterator !== 0) {\n      let iterator = visit2.iterator;\n      let child;\n      while (child = node2.nodes[node2.indexes[iterator]]) {\n        node2.indexes[iterator] += 1;\n        if (!child[isClean$3]) {\n          child[isClean$3] = true;\n          stack.push(toStack$1(child));\n          return;\n        }\n      }\n      visit2.iterator = 0;\n      delete node2.indexes[iterator];\n    }\n    let events = visit2.events;\n    while (visit2.eventIndex < events.length) {\n      let event = events[visit2.eventIndex];\n      visit2.eventIndex += 1;\n      if (event === CHILDREN$1) {\n        if (node2.nodes && node2.nodes.length) {\n          node2[isClean$3] = true;\n          visit2.iterator = node2.getIterator();\n        }\n        return;\n      } else if (this.listeners[event]) {\n        visit2.visitors = this.listeners[event];\n        return;\n      }\n    }\n    stack.pop();\n  }\n  walkSync(node2) {\n    node2[isClean$3] = true;\n    let events = getEvents$1(node2);\n    for (let event of events) {\n      if (event === CHILDREN$1) {\n        if (node2.nodes) {\n          node2.each((child) => {\n            if (!child[isClean$3]) this.walkSync(child);\n          });\n        }\n      } else {\n        let visitors = this.listeners[event];\n        if (visitors) {\n          if (this.visitSync(visitors, node2.toProxy())) return;\n        }\n      }\n    }\n  }\n  warnings() {\n    return this.sync().warnings();\n  }\n  get content() {\n    return this.stringify().content;\n  }\n  get css() {\n    return this.stringify().css;\n  }\n  get map() {\n    return this.stringify().map;\n  }\n  get messages() {\n    return this.sync().messages;\n  }\n  get opts() {\n    return this.result.opts;\n  }\n  get processor() {\n    return this.result.processor;\n  }\n  get root() {\n    return this.sync().root;\n  }\n  get [Symbol.toStringTag]() {\n    return \"LazyResult\";\n  }\n};\nLazyResult$2$1.registerPostcss = (dependant) => {\n  postcss$2$1 = dependant;\n};\nvar lazyResult$1 = LazyResult$2$1;\nLazyResult$2$1.default = LazyResult$2$1;\nRoot$3$1.registerLazyResult(LazyResult$2$1);\nDocument$2$1.registerLazyResult(LazyResult$2$1);\nlet MapGenerator2$1 = mapGenerator$1;\nlet stringify$1$1 = stringify_1$1;\nlet warnOnce2$1 = warnOnce$2$1;\nlet parse$1$1 = parse_1$1;\nconst Result$1$1 = result$1;\nlet NoWorkResult$1$1 = class NoWorkResult {\n  constructor(processor2, css, opts) {\n    css = css.toString();\n    this.stringified = false;\n    this._processor = processor2;\n    this._css = css;\n    this._opts = opts;\n    this._map = void 0;\n    let root2;\n    let str = stringify$1$1;\n    this.result = new Result$1$1(this._processor, root2, this._opts);\n    this.result.css = css;\n    let self = this;\n    Object.defineProperty(this.result, \"root\", {\n      get() {\n        return self.root;\n      }\n    });\n    let map = new MapGenerator2$1(str, root2, this._opts, css);\n    if (map.isMap()) {\n      let [generatedCSS, generatedMap] = map.generate();\n      if (generatedCSS) {\n        this.result.css = generatedCSS;\n      }\n      if (generatedMap) {\n        this.result.map = generatedMap;\n      }\n    } else {\n      map.clearAnnotation();\n      this.result.css = map.css;\n    }\n  }\n  async() {\n    if (this.error) return Promise.reject(this.error);\n    return Promise.resolve(this.result);\n  }\n  catch(onRejected) {\n    return this.async().catch(onRejected);\n  }\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally);\n  }\n  sync() {\n    if (this.error) throw this.error;\n    return this.result;\n  }\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!(\"from\" in this._opts)) {\n        warnOnce2$1(\n          \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n        );\n      }\n    }\n    return this.async().then(onFulfilled, onRejected);\n  }\n  toString() {\n    return this._css;\n  }\n  warnings() {\n    return [];\n  }\n  get content() {\n    return this.result.css;\n  }\n  get css() {\n    return this.result.css;\n  }\n  get map() {\n    return this.result.map;\n  }\n  get messages() {\n    return [];\n  }\n  get opts() {\n    return this.result.opts;\n  }\n  get processor() {\n    return this.result.processor;\n  }\n  get root() {\n    if (this._root) {\n      return this._root;\n    }\n    let root2;\n    let parser2 = parse$1$1;\n    try {\n      root2 = parser2(this._css, this._opts);\n    } catch (error) {\n      this.error = error;\n    }\n    if (this.error) {\n      throw this.error;\n    } else {\n      this._root = root2;\n      return root2;\n    }\n  }\n  get [Symbol.toStringTag]() {\n    return \"NoWorkResult\";\n  }\n};\nvar noWorkResult$1 = NoWorkResult$1$1;\nNoWorkResult$1$1.default = NoWorkResult$1$1;\nlet NoWorkResult2$1 = noWorkResult$1;\nlet LazyResult$1$1 = lazyResult$1;\nlet Document$1$1 = document$1$1;\nlet Root$2$1 = root$1;\nlet Processor$1$1 = class Processor {\n  constructor(plugins = []) {\n    this.version = \"8.4.38\";\n    this.plugins = this.normalize(plugins);\n  }\n  normalize(plugins) {\n    let normalized = [];\n    for (let i2 of plugins) {\n      if (i2.postcss === true) {\n        i2 = i2();\n      } else if (i2.postcss) {\n        i2 = i2.postcss;\n      }\n      if (typeof i2 === \"object\" && Array.isArray(i2.plugins)) {\n        normalized = normalized.concat(i2.plugins);\n      } else if (typeof i2 === \"object\" && i2.postcssPlugin) {\n        normalized.push(i2);\n      } else if (typeof i2 === \"function\") {\n        normalized.push(i2);\n      } else if (typeof i2 === \"object\" && (i2.parse || i2.stringify)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          throw new Error(\n            \"PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.\"\n          );\n        }\n      } else {\n        throw new Error(i2 + \" is not a PostCSS plugin\");\n      }\n    }\n    return normalized;\n  }\n  process(css, opts = {}) {\n    if (!this.plugins.length && !opts.parser && !opts.stringifier && !opts.syntax) {\n      return new NoWorkResult2$1(this, css, opts);\n    } else {\n      return new LazyResult$1$1(this, css, opts);\n    }\n  }\n  use(plugin22) {\n    this.plugins = this.plugins.concat(this.normalize([plugin22]));\n    return this;\n  }\n};\nvar processor$1 = Processor$1$1;\nProcessor$1$1.default = Processor$1$1;\nRoot$2$1.registerProcessor(Processor$1$1);\nDocument$1$1.registerProcessor(Processor$1$1);\nlet Declaration$1$1 = declaration$1;\nlet PreviousMap2$1 = previousMap$1;\nlet Comment$1$1 = comment$1;\nlet AtRule$1$1 = atRule$1;\nlet Input$1$1 = input$1;\nlet Root$1$1 = root$1;\nlet Rule$1$1 = rule$1;\nfunction fromJSON$1$1(json, inputs) {\n  if (Array.isArray(json)) return json.map((n2) => fromJSON$1$1(n2));\n  let { inputs: ownInputs, ...defaults } = json;\n  if (ownInputs) {\n    inputs = [];\n    for (let input2 of ownInputs) {\n      let inputHydrated = { ...input2, __proto__: Input$1$1.prototype };\n      if (inputHydrated.map) {\n        inputHydrated.map = {\n          ...inputHydrated.map,\n          __proto__: PreviousMap2$1.prototype\n        };\n      }\n      inputs.push(inputHydrated);\n    }\n  }\n  if (defaults.nodes) {\n    defaults.nodes = json.nodes.map((n2) => fromJSON$1$1(n2, inputs));\n  }\n  if (defaults.source) {\n    let { inputId, ...source } = defaults.source;\n    defaults.source = source;\n    if (inputId != null) {\n      defaults.source.input = inputs[inputId];\n    }\n  }\n  if (defaults.type === \"root\") {\n    return new Root$1$1(defaults);\n  } else if (defaults.type === \"decl\") {\n    return new Declaration$1$1(defaults);\n  } else if (defaults.type === \"rule\") {\n    return new Rule$1$1(defaults);\n  } else if (defaults.type === \"comment\") {\n    return new Comment$1$1(defaults);\n  } else if (defaults.type === \"atrule\") {\n    return new AtRule$1$1(defaults);\n  } else {\n    throw new Error(\"Unknown node type: \" + json.type);\n  }\n}\nvar fromJSON_1$1 = fromJSON$1$1;\nfromJSON$1$1.default = fromJSON$1$1;\nlet CssSyntaxError2$1 = cssSyntaxError$1;\nlet Declaration2$1 = declaration$1;\nlet LazyResult2$1 = lazyResult$1;\nlet Container2$1 = container$1;\nlet Processor2$1 = processor$1;\nlet stringify$5 = stringify_1$1;\nlet fromJSON$2 = fromJSON_1$1;\nlet Document22 = document$1$1;\nlet Warning2$1 = warning$1;\nlet Comment2$1 = comment$1;\nlet AtRule2$1 = atRule$1;\nlet Result2$1 = result$1;\nlet Input2$1 = input$1;\nlet parse$5 = parse_1$1;\nlet list$3 = list_1$1;\nlet Rule2$1 = rule$1;\nlet Root2$1 = root$1;\nlet Node2$1 = node$1;\nfunction postcss$3(...plugins) {\n  if (plugins.length === 1 && Array.isArray(plugins[0])) {\n    plugins = plugins[0];\n  }\n  return new Processor2$1(plugins);\n}\npostcss$3.plugin = function plugin(name, initializer) {\n  let warningPrinted = false;\n  function creator(...args) {\n    if (console && console.warn && !warningPrinted) {\n      warningPrinted = true;\n      console.warn(\n        name + \": postcss.plugin was deprecated. Migration guide:\\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration\"\n      );\n      if (process.env.LANG && process.env.LANG.startsWith(\"cn\")) {\n        console.warn(\n          name + \":  postcss.plugin . :\\nhttps://www.w3ctech.com/topic/2226\"\n        );\n      }\n    }\n    let transformer = initializer(...args);\n    transformer.postcssPlugin = name;\n    transformer.postcssVersion = new Processor2$1().version;\n    return transformer;\n  }\n  let cache;\n  Object.defineProperty(creator, \"postcss\", {\n    get() {\n      if (!cache) cache = creator();\n      return cache;\n    }\n  });\n  creator.process = function(css, processOpts, pluginOpts) {\n    return postcss$3([creator(pluginOpts)]).process(css, processOpts);\n  };\n  return creator;\n};\npostcss$3.stringify = stringify$5;\npostcss$3.parse = parse$5;\npostcss$3.fromJSON = fromJSON$2;\npostcss$3.list = list$3;\npostcss$3.comment = (defaults) => new Comment2$1(defaults);\npostcss$3.atRule = (defaults) => new AtRule2$1(defaults);\npostcss$3.decl = (defaults) => new Declaration2$1(defaults);\npostcss$3.rule = (defaults) => new Rule2$1(defaults);\npostcss$3.root = (defaults) => new Root2$1(defaults);\npostcss$3.document = (defaults) => new Document22(defaults);\npostcss$3.CssSyntaxError = CssSyntaxError2$1;\npostcss$3.Declaration = Declaration2$1;\npostcss$3.Container = Container2$1;\npostcss$3.Processor = Processor2$1;\npostcss$3.Document = Document22;\npostcss$3.Comment = Comment2$1;\npostcss$3.Warning = Warning2$1;\npostcss$3.AtRule = AtRule2$1;\npostcss$3.Result = Result2$1;\npostcss$3.Input = Input2$1;\npostcss$3.Rule = Rule2$1;\npostcss$3.Root = Root2$1;\npostcss$3.Node = Node2$1;\nLazyResult2$1.registerPostcss(postcss$3);\nvar postcss_1$1 = postcss$3;\npostcss$3.default = postcss$3;\nconst postcss$1$1 = /* @__PURE__ */ getDefaultExportFromCjs$1(postcss_1$1);\npostcss$1$1.stringify;\npostcss$1$1.fromJSON;\npostcss$1$1.plugin;\npostcss$1$1.parse;\npostcss$1$1.list;\npostcss$1$1.document;\npostcss$1$1.comment;\npostcss$1$1.atRule;\npostcss$1$1.rule;\npostcss$1$1.decl;\npostcss$1$1.root;\npostcss$1$1.CssSyntaxError;\npostcss$1$1.Declaration;\npostcss$1$1.Container;\npostcss$1$1.Processor;\npostcss$1$1.Document;\npostcss$1$1.Comment;\npostcss$1$1.Warning;\npostcss$1$1.AtRule;\npostcss$1$1.Result;\npostcss$1$1.Input;\npostcss$1$1.Rule;\npostcss$1$1.Root;\npostcss$1$1.Node;\nvar __defProp2 = Object.defineProperty;\nvar __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField2 = (obj, key, value) => __defNormalProp2(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nfunction getDefaultExportFromCjs(x2) {\n  return x2 && x2.__esModule && Object.prototype.hasOwnProperty.call(x2, \"default\") ? x2[\"default\"] : x2;\n}\nfunction getAugmentedNamespace(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\nvar picocolors_browser = { exports: {} };\nvar x = String;\nvar create = function() {\n  return { isColorSupported: false, reset: x, bold: x, dim: x, italic: x, underline: x, inverse: x, hidden: x, strikethrough: x, black: x, red: x, green: x, yellow: x, blue: x, magenta: x, cyan: x, white: x, gray: x, bgBlack: x, bgRed: x, bgGreen: x, bgYellow: x, bgBlue: x, bgMagenta: x, bgCyan: x, bgWhite: x };\n};\npicocolors_browser.exports = create();\npicocolors_browser.exports.createColors = create;\nvar picocolors_browserExports = picocolors_browser.exports;\nconst __viteBrowserExternal = {};\nconst __viteBrowserExternal$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: __viteBrowserExternal\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst require$$2 = /* @__PURE__ */ getAugmentedNamespace(__viteBrowserExternal$1);\nlet pico = picocolors_browserExports;\nlet terminalHighlight$1 = require$$2;\nlet CssSyntaxError$3 = class CssSyntaxError2 extends Error {\n  constructor(message, line, column, source, file, plugin22) {\n    super(message);\n    this.name = \"CssSyntaxError\";\n    this.reason = message;\n    if (file) {\n      this.file = file;\n    }\n    if (source) {\n      this.source = source;\n    }\n    if (plugin22) {\n      this.plugin = plugin22;\n    }\n    if (typeof line !== \"undefined\" && typeof column !== \"undefined\") {\n      if (typeof line === \"number\") {\n        this.line = line;\n        this.column = column;\n      } else {\n        this.line = line.line;\n        this.column = line.column;\n        this.endLine = column.line;\n        this.endColumn = column.column;\n      }\n    }\n    this.setMessage();\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, CssSyntaxError2);\n    }\n  }\n  setMessage() {\n    this.message = this.plugin ? this.plugin + \": \" : \"\";\n    this.message += this.file ? this.file : \"<css input>\";\n    if (typeof this.line !== \"undefined\") {\n      this.message += \":\" + this.line + \":\" + this.column;\n    }\n    this.message += \": \" + this.reason;\n  }\n  showSourceCode(color) {\n    if (!this.source) return \"\";\n    let css = this.source;\n    if (color == null) color = pico.isColorSupported;\n    if (terminalHighlight$1) {\n      if (color) css = terminalHighlight$1(css);\n    }\n    let lines = css.split(/\\r?\\n/);\n    let start = Math.max(this.line - 3, 0);\n    let end = Math.min(this.line + 2, lines.length);\n    let maxWidth = String(end).length;\n    let mark, aside;\n    if (color) {\n      let { bold, gray, red } = pico.createColors(true);\n      mark = (text) => bold(red(text));\n      aside = (text) => gray(text);\n    } else {\n      mark = aside = (str) => str;\n    }\n    return lines.slice(start, end).map((line, index2) => {\n      let number = start + 1 + index2;\n      let gutter = \" \" + (\" \" + number).slice(-maxWidth) + \" | \";\n      if (number === this.line) {\n        let spacing = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, this.column - 1).replace(/[^\\t]/g, \" \");\n        return mark(\">\") + aside(gutter) + line + \"\\n \" + spacing + mark(\"^\");\n      }\n      return \" \" + aside(gutter) + line;\n    }).join(\"\\n\");\n  }\n  toString() {\n    let code = this.showSourceCode();\n    if (code) {\n      code = \"\\n\\n\" + code + \"\\n\";\n    }\n    return this.name + \": \" + this.message + code;\n  }\n};\nvar cssSyntaxError = CssSyntaxError$3;\nCssSyntaxError$3.default = CssSyntaxError$3;\nvar symbols = {};\nsymbols.isClean = Symbol(\"isClean\");\nsymbols.my = Symbol(\"my\");\nconst DEFAULT_RAW = {\n  after: \"\\n\",\n  beforeClose: \"\\n\",\n  beforeComment: \"\\n\",\n  beforeDecl: \"\\n\",\n  beforeOpen: \" \",\n  beforeRule: \"\\n\",\n  colon: \": \",\n  commentLeft: \" \",\n  commentRight: \" \",\n  emptyBody: \"\",\n  indent: \"    \",\n  semicolon: false\n};\nfunction capitalize(str) {\n  return str[0].toUpperCase() + str.slice(1);\n}\nlet Stringifier$2 = class Stringifier2 {\n  constructor(builder) {\n    this.builder = builder;\n  }\n  atrule(node2, semicolon) {\n    let name = \"@\" + node2.name;\n    let params = node2.params ? this.rawValue(node2, \"params\") : \"\";\n    if (typeof node2.raws.afterName !== \"undefined\") {\n      name += node2.raws.afterName;\n    } else if (params) {\n      name += \" \";\n    }\n    if (node2.nodes) {\n      this.block(node2, name + params);\n    } else {\n      let end = (node2.raws.between || \"\") + (semicolon ? \";\" : \"\");\n      this.builder(name + params + end, node2);\n    }\n  }\n  beforeAfter(node2, detect) {\n    let value;\n    if (node2.type === \"decl\") {\n      value = this.raw(node2, null, \"beforeDecl\");\n    } else if (node2.type === \"comment\") {\n      value = this.raw(node2, null, \"beforeComment\");\n    } else if (detect === \"before\") {\n      value = this.raw(node2, null, \"beforeRule\");\n    } else {\n      value = this.raw(node2, null, \"beforeClose\");\n    }\n    let buf = node2.parent;\n    let depth = 0;\n    while (buf && buf.type !== \"root\") {\n      depth += 1;\n      buf = buf.parent;\n    }\n    if (value.includes(\"\\n\")) {\n      let indent = this.raw(node2, null, \"indent\");\n      if (indent.length) {\n        for (let step = 0; step < depth; step++) value += indent;\n      }\n    }\n    return value;\n  }\n  block(node2, start) {\n    let between = this.raw(node2, \"between\", \"beforeOpen\");\n    this.builder(start + between + \"{\", node2, \"start\");\n    let after;\n    if (node2.nodes && node2.nodes.length) {\n      this.body(node2);\n      after = this.raw(node2, \"after\");\n    } else {\n      after = this.raw(node2, \"after\", \"emptyBody\");\n    }\n    if (after) this.builder(after);\n    this.builder(\"}\", node2, \"end\");\n  }\n  body(node2) {\n    let last = node2.nodes.length - 1;\n    while (last > 0) {\n      if (node2.nodes[last].type !== \"comment\") break;\n      last -= 1;\n    }\n    let semicolon = this.raw(node2, \"semicolon\");\n    for (let i2 = 0; i2 < node2.nodes.length; i2++) {\n      let child = node2.nodes[i2];\n      let before = this.raw(child, \"before\");\n      if (before) this.builder(before);\n      this.stringify(child, last !== i2 || semicolon);\n    }\n  }\n  comment(node2) {\n    let left = this.raw(node2, \"left\", \"commentLeft\");\n    let right = this.raw(node2, \"right\", \"commentRight\");\n    this.builder(\"/*\" + left + node2.text + right + \"*/\", node2);\n  }\n  decl(node2, semicolon) {\n    let between = this.raw(node2, \"between\", \"colon\");\n    let string = node2.prop + between + this.rawValue(node2, \"value\");\n    if (node2.important) {\n      string += node2.raws.important || \" !important\";\n    }\n    if (semicolon) string += \";\";\n    this.builder(string, node2);\n  }\n  document(node2) {\n    this.body(node2);\n  }\n  raw(node2, own, detect) {\n    let value;\n    if (!detect) detect = own;\n    if (own) {\n      value = node2.raws[own];\n      if (typeof value !== \"undefined\") return value;\n    }\n    let parent = node2.parent;\n    if (detect === \"before\") {\n      if (!parent || parent.type === \"root\" && parent.first === node2) {\n        return \"\";\n      }\n      if (parent && parent.type === \"document\") {\n        return \"\";\n      }\n    }\n    if (!parent) return DEFAULT_RAW[detect];\n    let root2 = node2.root();\n    if (!root2.rawCache) root2.rawCache = {};\n    if (typeof root2.rawCache[detect] !== \"undefined\") {\n      return root2.rawCache[detect];\n    }\n    if (detect === \"before\" || detect === \"after\") {\n      return this.beforeAfter(node2, detect);\n    } else {\n      let method = \"raw\" + capitalize(detect);\n      if (this[method]) {\n        value = this[method](root2, node2);\n      } else {\n        root2.walk((i2) => {\n          value = i2.raws[own];\n          if (typeof value !== \"undefined\") return false;\n        });\n      }\n    }\n    if (typeof value === \"undefined\") value = DEFAULT_RAW[detect];\n    root2.rawCache[detect] = value;\n    return value;\n  }\n  rawBeforeClose(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length > 0) {\n        if (typeof i2.raws.after !== \"undefined\") {\n          value = i2.raws.after;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      }\n    });\n    if (value) value = value.replace(/\\S/g, \"\");\n    return value;\n  }\n  rawBeforeComment(root2, node2) {\n    let value;\n    root2.walkComments((i2) => {\n      if (typeof i2.raws.before !== \"undefined\") {\n        value = i2.raws.before;\n        if (value.includes(\"\\n\")) {\n          value = value.replace(/[^\\n]+$/, \"\");\n        }\n        return false;\n      }\n    });\n    if (typeof value === \"undefined\") {\n      value = this.raw(node2, null, \"beforeDecl\");\n    } else if (value) {\n      value = value.replace(/\\S/g, \"\");\n    }\n    return value;\n  }\n  rawBeforeDecl(root2, node2) {\n    let value;\n    root2.walkDecls((i2) => {\n      if (typeof i2.raws.before !== \"undefined\") {\n        value = i2.raws.before;\n        if (value.includes(\"\\n\")) {\n          value = value.replace(/[^\\n]+$/, \"\");\n        }\n        return false;\n      }\n    });\n    if (typeof value === \"undefined\") {\n      value = this.raw(node2, null, \"beforeRule\");\n    } else if (value) {\n      value = value.replace(/\\S/g, \"\");\n    }\n    return value;\n  }\n  rawBeforeOpen(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.type !== \"decl\") {\n        value = i2.raws.between;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawBeforeRule(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && (i2.parent !== root2 || root2.first !== i2)) {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      }\n    });\n    if (value) value = value.replace(/\\S/g, \"\");\n    return value;\n  }\n  rawColon(root2) {\n    let value;\n    root2.walkDecls((i2) => {\n      if (typeof i2.raws.between !== \"undefined\") {\n        value = i2.raws.between.replace(/[^\\s:]/g, \"\");\n        return false;\n      }\n    });\n    return value;\n  }\n  rawEmptyBody(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length === 0) {\n        value = i2.raws.after;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawIndent(root2) {\n    if (root2.raws.indent) return root2.raws.indent;\n    let value;\n    root2.walk((i2) => {\n      let p = i2.parent;\n      if (p && p !== root2 && p.parent && p.parent === root2) {\n        if (typeof i2.raws.before !== \"undefined\") {\n          let parts = i2.raws.before.split(\"\\n\");\n          value = parts[parts.length - 1];\n          value = value.replace(/\\S/g, \"\");\n          return false;\n        }\n      }\n    });\n    return value;\n  }\n  rawSemicolon(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length && i2.last.type === \"decl\") {\n        value = i2.raws.semicolon;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawValue(node2, prop) {\n    let value = node2[prop];\n    let raw = node2.raws[prop];\n    if (raw && raw.value === value) {\n      return raw.raw;\n    }\n    return value;\n  }\n  root(node2) {\n    this.body(node2);\n    if (node2.raws.after) this.builder(node2.raws.after);\n  }\n  rule(node2) {\n    this.block(node2, this.rawValue(node2, \"selector\"));\n    if (node2.raws.ownSemicolon) {\n      this.builder(node2.raws.ownSemicolon, node2, \"end\");\n    }\n  }\n  stringify(node2, semicolon) {\n    if (!this[node2.type]) {\n      throw new Error(\n        \"Unknown AST node type \" + node2.type + \". Maybe you need to change PostCSS stringifier.\"\n      );\n    }\n    this[node2.type](node2, semicolon);\n  }\n};\nvar stringifier = Stringifier$2;\nStringifier$2.default = Stringifier$2;\nlet Stringifier$1 = stringifier;\nfunction stringify$4(node2, builder) {\n  let str = new Stringifier$1(builder);\n  str.stringify(node2);\n}\nvar stringify_1 = stringify$4;\nstringify$4.default = stringify$4;\nlet { isClean: isClean$2, my: my$2 } = symbols;\nlet CssSyntaxError$2 = cssSyntaxError;\nlet Stringifier22 = stringifier;\nlet stringify$3 = stringify_1;\nfunction cloneNode(obj, parent) {\n  let cloned = new obj.constructor();\n  for (let i2 in obj) {\n    if (!Object.prototype.hasOwnProperty.call(obj, i2)) {\n      continue;\n    }\n    if (i2 === \"proxyCache\") continue;\n    let value = obj[i2];\n    let type = typeof value;\n    if (i2 === \"parent\" && type === \"object\") {\n      if (parent) cloned[i2] = parent;\n    } else if (i2 === \"source\") {\n      cloned[i2] = value;\n    } else if (Array.isArray(value)) {\n      cloned[i2] = value.map((j) => cloneNode(j, cloned));\n    } else {\n      if (type === \"object\" && value !== null) value = cloneNode(value);\n      cloned[i2] = value;\n    }\n  }\n  return cloned;\n}\nlet Node$4 = class Node3 {\n  constructor(defaults = {}) {\n    this.raws = {};\n    this[isClean$2] = false;\n    this[my$2] = true;\n    for (let name in defaults) {\n      if (name === \"nodes\") {\n        this.nodes = [];\n        for (let node2 of defaults[name]) {\n          if (typeof node2.clone === \"function\") {\n            this.append(node2.clone());\n          } else {\n            this.append(node2);\n          }\n        }\n      } else {\n        this[name] = defaults[name];\n      }\n    }\n  }\n  addToError(error) {\n    error.postcssNode = this;\n    if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n      let s2 = this.source;\n      error.stack = error.stack.replace(\n        /\\n\\s{4}at /,\n        `$&${s2.input.from}:${s2.start.line}:${s2.start.column}$&`\n      );\n    }\n    return error;\n  }\n  after(add) {\n    this.parent.insertAfter(this, add);\n    return this;\n  }\n  assign(overrides = {}) {\n    for (let name in overrides) {\n      this[name] = overrides[name];\n    }\n    return this;\n  }\n  before(add) {\n    this.parent.insertBefore(this, add);\n    return this;\n  }\n  cleanRaws(keepBetween) {\n    delete this.raws.before;\n    delete this.raws.after;\n    if (!keepBetween) delete this.raws.between;\n  }\n  clone(overrides = {}) {\n    let cloned = cloneNode(this);\n    for (let name in overrides) {\n      cloned[name] = overrides[name];\n    }\n    return cloned;\n  }\n  cloneAfter(overrides = {}) {\n    let cloned = this.clone(overrides);\n    this.parent.insertAfter(this, cloned);\n    return cloned;\n  }\n  cloneBefore(overrides = {}) {\n    let cloned = this.clone(overrides);\n    this.parent.insertBefore(this, cloned);\n    return cloned;\n  }\n  error(message, opts = {}) {\n    if (this.source) {\n      let { end, start } = this.rangeBy(opts);\n      return this.source.input.error(\n        message,\n        { column: start.column, line: start.line },\n        { column: end.column, line: end.line },\n        opts\n      );\n    }\n    return new CssSyntaxError$2(message);\n  }\n  getProxyProcessor() {\n    return {\n      get(node2, prop) {\n        if (prop === \"proxyOf\") {\n          return node2;\n        } else if (prop === \"root\") {\n          return () => node2.root().toProxy();\n        } else {\n          return node2[prop];\n        }\n      },\n      set(node2, prop, value) {\n        if (node2[prop] === value) return true;\n        node2[prop] = value;\n        if (prop === \"prop\" || prop === \"value\" || prop === \"name\" || prop === \"params\" || prop === \"important\" || /* c8 ignore next */\n        prop === \"text\") {\n          node2.markDirty();\n        }\n        return true;\n      }\n    };\n  }\n  markDirty() {\n    if (this[isClean$2]) {\n      this[isClean$2] = false;\n      let next = this;\n      while (next = next.parent) {\n        next[isClean$2] = false;\n      }\n    }\n  }\n  next() {\n    if (!this.parent) return void 0;\n    let index2 = this.parent.index(this);\n    return this.parent.nodes[index2 + 1];\n  }\n  positionBy(opts, stringRepresentation) {\n    let pos = this.source.start;\n    if (opts.index) {\n      pos = this.positionInside(opts.index, stringRepresentation);\n    } else if (opts.word) {\n      stringRepresentation = this.toString();\n      let index2 = stringRepresentation.indexOf(opts.word);\n      if (index2 !== -1) pos = this.positionInside(index2, stringRepresentation);\n    }\n    return pos;\n  }\n  positionInside(index2, stringRepresentation) {\n    let string = stringRepresentation || this.toString();\n    let column = this.source.start.column;\n    let line = this.source.start.line;\n    for (let i2 = 0; i2 < index2; i2++) {\n      if (string[i2] === \"\\n\") {\n        column = 1;\n        line += 1;\n      } else {\n        column += 1;\n      }\n    }\n    return { column, line };\n  }\n  prev() {\n    if (!this.parent) return void 0;\n    let index2 = this.parent.index(this);\n    return this.parent.nodes[index2 - 1];\n  }\n  rangeBy(opts) {\n    let start = {\n      column: this.source.start.column,\n      line: this.source.start.line\n    };\n    let end = this.source.end ? {\n      column: this.source.end.column + 1,\n      line: this.source.end.line\n    } : {\n      column: start.column + 1,\n      line: start.line\n    };\n    if (opts.word) {\n      let stringRepresentation = this.toString();\n      let index2 = stringRepresentation.indexOf(opts.word);\n      if (index2 !== -1) {\n        start = this.positionInside(index2, stringRepresentation);\n        end = this.positionInside(index2 + opts.word.length, stringRepresentation);\n      }\n    } else {\n      if (opts.start) {\n        start = {\n          column: opts.start.column,\n          line: opts.start.line\n        };\n      } else if (opts.index) {\n        start = this.positionInside(opts.index);\n      }\n      if (opts.end) {\n        end = {\n          column: opts.end.column,\n          line: opts.end.line\n        };\n      } else if (typeof opts.endIndex === \"number\") {\n        end = this.positionInside(opts.endIndex);\n      } else if (opts.index) {\n        end = this.positionInside(opts.index + 1);\n      }\n    }\n    if (end.line < start.line || end.line === start.line && end.column <= start.column) {\n      end = { column: start.column + 1, line: start.line };\n    }\n    return { end, start };\n  }\n  raw(prop, defaultType) {\n    let str = new Stringifier22();\n    return str.raw(this, prop, defaultType);\n  }\n  remove() {\n    if (this.parent) {\n      this.parent.removeChild(this);\n    }\n    this.parent = void 0;\n    return this;\n  }\n  replaceWith(...nodes) {\n    if (this.parent) {\n      let bookmark = this;\n      let foundSelf = false;\n      for (let node2 of nodes) {\n        if (node2 === this) {\n          foundSelf = true;\n        } else if (foundSelf) {\n          this.parent.insertAfter(bookmark, node2);\n          bookmark = node2;\n        } else {\n          this.parent.insertBefore(bookmark, node2);\n        }\n      }\n      if (!foundSelf) {\n        this.remove();\n      }\n    }\n    return this;\n  }\n  root() {\n    let result2 = this;\n    while (result2.parent && result2.parent.type !== \"document\") {\n      result2 = result2.parent;\n    }\n    return result2;\n  }\n  toJSON(_, inputs) {\n    let fixed = {};\n    let emitInputs = inputs == null;\n    inputs = inputs || /* @__PURE__ */ new Map();\n    let inputsNextIndex = 0;\n    for (let name in this) {\n      if (!Object.prototype.hasOwnProperty.call(this, name)) {\n        continue;\n      }\n      if (name === \"parent\" || name === \"proxyCache\") continue;\n      let value = this[name];\n      if (Array.isArray(value)) {\n        fixed[name] = value.map((i2) => {\n          if (typeof i2 === \"object\" && i2.toJSON) {\n            return i2.toJSON(null, inputs);\n          } else {\n            return i2;\n          }\n        });\n      } else if (typeof value === \"object\" && value.toJSON) {\n        fixed[name] = value.toJSON(null, inputs);\n      } else if (name === \"source\") {\n        let inputId = inputs.get(value.input);\n        if (inputId == null) {\n          inputId = inputsNextIndex;\n          inputs.set(value.input, inputsNextIndex);\n          inputsNextIndex++;\n        }\n        fixed[name] = {\n          end: value.end,\n          inputId,\n          start: value.start\n        };\n      } else {\n        fixed[name] = value;\n      }\n    }\n    if (emitInputs) {\n      fixed.inputs = [...inputs.keys()].map((input2) => input2.toJSON());\n    }\n    return fixed;\n  }\n  toProxy() {\n    if (!this.proxyCache) {\n      this.proxyCache = new Proxy(this, this.getProxyProcessor());\n    }\n    return this.proxyCache;\n  }\n  toString(stringifier2 = stringify$3) {\n    if (stringifier2.stringify) stringifier2 = stringifier2.stringify;\n    let result2 = \"\";\n    stringifier2(this, (i2) => {\n      result2 += i2;\n    });\n    return result2;\n  }\n  warn(result2, text, opts) {\n    let data = { node: this };\n    for (let i2 in opts) data[i2] = opts[i2];\n    return result2.warn(text, data);\n  }\n  get proxyOf() {\n    return this;\n  }\n};\nvar node = Node$4;\nNode$4.default = Node$4;\nlet Node$3 = node;\nlet Declaration$4 = class Declaration2 extends Node$3 {\n  constructor(defaults) {\n    if (defaults && typeof defaults.value !== \"undefined\" && typeof defaults.value !== \"string\") {\n      defaults = { ...defaults, value: String(defaults.value) };\n    }\n    super(defaults);\n    this.type = \"decl\";\n  }\n  get variable() {\n    return this.prop.startsWith(\"--\") || this.prop[0] === \"$\";\n  }\n};\nvar declaration = Declaration$4;\nDeclaration$4.default = Declaration$4;\nlet urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\nlet customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = \"\";\n    let i2 = size;\n    while (i2--) {\n      id += alphabet[Math.random() * alphabet.length | 0];\n    }\n    return id;\n  };\n};\nlet nanoid$1 = (size = 21) => {\n  let id = \"\";\n  let i2 = size;\n  while (i2--) {\n    id += urlAlphabet[Math.random() * 64 | 0];\n  }\n  return id;\n};\nvar nonSecure = { nanoid: nanoid$1, customAlphabet };\nlet { SourceMapConsumer: SourceMapConsumer$2, SourceMapGenerator: SourceMapGenerator$2 } = require$$2;\nlet { existsSync, readFileSync } = require$$2;\nlet { dirname: dirname$1, join } = require$$2;\nfunction fromBase64(str) {\n  if (Buffer) {\n    return Buffer.from(str, \"base64\").toString();\n  } else {\n    return window.atob(str);\n  }\n}\nlet PreviousMap$2 = class PreviousMap2 {\n  constructor(css, opts) {\n    if (opts.map === false) return;\n    this.loadAnnotation(css);\n    this.inline = this.startWith(this.annotation, \"data:\");\n    let prev = opts.map ? opts.map.prev : void 0;\n    let text = this.loadMap(opts.from, prev);\n    if (!this.mapFile && opts.from) {\n      this.mapFile = opts.from;\n    }\n    if (this.mapFile) this.root = dirname$1(this.mapFile);\n    if (text) this.text = text;\n  }\n  consumer() {\n    if (!this.consumerCache) {\n      this.consumerCache = new SourceMapConsumer$2(this.text);\n    }\n    return this.consumerCache;\n  }\n  decodeInline(text) {\n    let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/;\n    let baseUri = /^data:application\\/json;base64,/;\n    let charsetUri = /^data:application\\/json;charset=utf-?8,/;\n    let uri = /^data:application\\/json,/;\n    if (charsetUri.test(text) || uri.test(text)) {\n      return decodeURIComponent(text.substr(RegExp.lastMatch.length));\n    }\n    if (baseCharsetUri.test(text) || baseUri.test(text)) {\n      return fromBase64(text.substr(RegExp.lastMatch.length));\n    }\n    let encoding = text.match(/data:application\\/json;([^,]+),/)[1];\n    throw new Error(\"Unsupported source map encoding \" + encoding);\n  }\n  getAnnotationURL(sourceMapString) {\n    return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, \"\").trim();\n  }\n  isMap(map) {\n    if (typeof map !== \"object\") return false;\n    return typeof map.mappings === \"string\" || typeof map._mappings === \"string\" || Array.isArray(map.sections);\n  }\n  loadAnnotation(css) {\n    let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/gm);\n    if (!comments) return;\n    let start = css.lastIndexOf(comments.pop());\n    let end = css.indexOf(\"*/\", start);\n    if (start > -1 && end > -1) {\n      this.annotation = this.getAnnotationURL(css.substring(start, end));\n    }\n  }\n  loadFile(path) {\n    this.root = dirname$1(path);\n    if (existsSync(path)) {\n      this.mapFile = path;\n      return readFileSync(path, \"utf-8\").toString().trim();\n    }\n  }\n  loadMap(file, prev) {\n    if (prev === false) return false;\n    if (prev) {\n      if (typeof prev === \"string\") {\n        return prev;\n      } else if (typeof prev === \"function\") {\n        let prevPath = prev(file);\n        if (prevPath) {\n          let map = this.loadFile(prevPath);\n          if (!map) {\n            throw new Error(\n              \"Unable to load previous source map: \" + prevPath.toString()\n            );\n          }\n          return map;\n        }\n      } else if (prev instanceof SourceMapConsumer$2) {\n        return SourceMapGenerator$2.fromSourceMap(prev).toString();\n      } else if (prev instanceof SourceMapGenerator$2) {\n        return prev.toString();\n      } else if (this.isMap(prev)) {\n        return JSON.stringify(prev);\n      } else {\n        throw new Error(\n          \"Unsupported previous source map format: \" + prev.toString()\n        );\n      }\n    } else if (this.inline) {\n      return this.decodeInline(this.annotation);\n    } else if (this.annotation) {\n      let map = this.annotation;\n      if (file) map = join(dirname$1(file), map);\n      return this.loadFile(map);\n    }\n  }\n  startWith(string, start) {\n    if (!string) return false;\n    return string.substr(0, start.length) === start;\n  }\n  withContent() {\n    return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);\n  }\n};\nvar previousMap = PreviousMap$2;\nPreviousMap$2.default = PreviousMap$2;\nlet { SourceMapConsumer: SourceMapConsumer$1, SourceMapGenerator: SourceMapGenerator$1 } = require$$2;\nlet { fileURLToPath, pathToFileURL: pathToFileURL$1 } = require$$2;\nlet { isAbsolute, resolve: resolve$1 } = require$$2;\nlet { nanoid } = nonSecure;\nlet terminalHighlight = require$$2;\nlet CssSyntaxError$1 = cssSyntaxError;\nlet PreviousMap$1 = previousMap;\nlet fromOffsetCache = Symbol(\"fromOffsetCache\");\nlet sourceMapAvailable$1 = Boolean(SourceMapConsumer$1 && SourceMapGenerator$1);\nlet pathAvailable$1 = Boolean(resolve$1 && isAbsolute);\nlet Input$4 = class Input2 {\n  constructor(css, opts = {}) {\n    if (css === null || typeof css === \"undefined\" || typeof css === \"object\" && !css.toString) {\n      throw new Error(`PostCSS received ${css} instead of CSS string`);\n    }\n    this.css = css.toString();\n    if (this.css[0] === \"\\uFEFF\" || this.css[0] === \"\") {\n      this.hasBOM = true;\n      this.css = this.css.slice(1);\n    } else {\n      this.hasBOM = false;\n    }\n    if (opts.from) {\n      if (!pathAvailable$1 || /^\\w+:\\/\\//.test(opts.from) || isAbsolute(opts.from)) {\n        this.file = opts.from;\n      } else {\n        this.file = resolve$1(opts.from);\n      }\n    }\n    if (pathAvailable$1 && sourceMapAvailable$1) {\n      let map = new PreviousMap$1(this.css, opts);\n      if (map.text) {\n        this.map = map;\n        let file = map.consumer().file;\n        if (!this.file && file) this.file = this.mapResolve(file);\n      }\n    }\n    if (!this.file) {\n      this.id = \"<input css \" + nanoid(6) + \">\";\n    }\n    if (this.map) this.map.file = this.from;\n  }\n  error(message, line, column, opts = {}) {\n    let result2, endLine, endColumn;\n    if (line && typeof line === \"object\") {\n      let start = line;\n      let end = column;\n      if (typeof start.offset === \"number\") {\n        let pos = this.fromOffset(start.offset);\n        line = pos.line;\n        column = pos.col;\n      } else {\n        line = start.line;\n        column = start.column;\n      }\n      if (typeof end.offset === \"number\") {\n        let pos = this.fromOffset(end.offset);\n        endLine = pos.line;\n        endColumn = pos.col;\n      } else {\n        endLine = end.line;\n        endColumn = end.column;\n      }\n    } else if (!column) {\n      let pos = this.fromOffset(line);\n      line = pos.line;\n      column = pos.col;\n    }\n    let origin = this.origin(line, column, endLine, endColumn);\n    if (origin) {\n      result2 = new CssSyntaxError$1(\n        message,\n        origin.endLine === void 0 ? origin.line : { column: origin.column, line: origin.line },\n        origin.endLine === void 0 ? origin.column : { column: origin.endColumn, line: origin.endLine },\n        origin.source,\n        origin.file,\n        opts.plugin\n      );\n    } else {\n      result2 = new CssSyntaxError$1(\n        message,\n        endLine === void 0 ? line : { column, line },\n        endLine === void 0 ? column : { column: endColumn, line: endLine },\n        this.css,\n        this.file,\n        opts.plugin\n      );\n    }\n    result2.input = { column, endColumn, endLine, line, source: this.css };\n    if (this.file) {\n      if (pathToFileURL$1) {\n        result2.input.url = pathToFileURL$1(this.file).toString();\n      }\n      result2.input.file = this.file;\n    }\n    return result2;\n  }\n  fromOffset(offset) {\n    let lastLine, lineToIndex;\n    if (!this[fromOffsetCache]) {\n      let lines = this.css.split(\"\\n\");\n      lineToIndex = new Array(lines.length);\n      let prevIndex = 0;\n      for (let i2 = 0, l2 = lines.length; i2 < l2; i2++) {\n        lineToIndex[i2] = prevIndex;\n        prevIndex += lines[i2].length + 1;\n      }\n      this[fromOffsetCache] = lineToIndex;\n    } else {\n      lineToIndex = this[fromOffsetCache];\n    }\n    lastLine = lineToIndex[lineToIndex.length - 1];\n    let min = 0;\n    if (offset >= lastLine) {\n      min = lineToIndex.length - 1;\n    } else {\n      let max = lineToIndex.length - 2;\n      let mid;\n      while (min < max) {\n        mid = min + (max - min >> 1);\n        if (offset < lineToIndex[mid]) {\n          max = mid - 1;\n        } else if (offset >= lineToIndex[mid + 1]) {\n          min = mid + 1;\n        } else {\n          min = mid;\n          break;\n        }\n      }\n    }\n    return {\n      col: offset - lineToIndex[min] + 1,\n      line: min + 1\n    };\n  }\n  mapResolve(file) {\n    if (/^\\w+:\\/\\//.test(file)) {\n      return file;\n    }\n    return resolve$1(this.map.consumer().sourceRoot || this.map.root || \".\", file);\n  }\n  origin(line, column, endLine, endColumn) {\n    if (!this.map) return false;\n    let consumer = this.map.consumer();\n    let from = consumer.originalPositionFor({ column, line });\n    if (!from.source) return false;\n    let to;\n    if (typeof endLine === \"number\") {\n      to = consumer.originalPositionFor({ column: endColumn, line: endLine });\n    }\n    let fromUrl;\n    if (isAbsolute(from.source)) {\n      fromUrl = pathToFileURL$1(from.source);\n    } else {\n      fromUrl = new URL(\n        from.source,\n        this.map.consumer().sourceRoot || pathToFileURL$1(this.map.mapFile)\n      );\n    }\n    let result2 = {\n      column: from.column,\n      endColumn: to && to.column,\n      endLine: to && to.line,\n      line: from.line,\n      url: fromUrl.toString()\n    };\n    if (fromUrl.protocol === \"file:\") {\n      if (fileURLToPath) {\n        result2.file = fileURLToPath(fromUrl);\n      } else {\n        throw new Error(`file: protocol is not available in this PostCSS build`);\n      }\n    }\n    let source = consumer.sourceContentFor(from.source);\n    if (source) result2.source = source;\n    return result2;\n  }\n  toJSON() {\n    let json = {};\n    for (let name of [\"hasBOM\", \"css\", \"file\", \"id\"]) {\n      if (this[name] != null) {\n        json[name] = this[name];\n      }\n    }\n    if (this.map) {\n      json.map = { ...this.map };\n      if (json.map.consumerCache) {\n        json.map.consumerCache = void 0;\n      }\n    }\n    return json;\n  }\n  get from() {\n    return this.file || this.id;\n  }\n};\nvar input = Input$4;\nInput$4.default = Input$4;\nif (terminalHighlight && terminalHighlight.registerInput) {\n  terminalHighlight.registerInput(Input$4);\n}\nlet { SourceMapConsumer, SourceMapGenerator } = require$$2;\nlet { dirname, relative, resolve, sep } = require$$2;\nlet { pathToFileURL } = require$$2;\nlet Input$3 = input;\nlet sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\nlet pathAvailable = Boolean(dirname && resolve && relative && sep);\nlet MapGenerator$2 = class MapGenerator2 {\n  constructor(stringify2, root2, opts, cssString) {\n    this.stringify = stringify2;\n    this.mapOpts = opts.map || {};\n    this.root = root2;\n    this.opts = opts;\n    this.css = cssString;\n    this.originalCSS = cssString;\n    this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute;\n    this.memoizedFileURLs = /* @__PURE__ */ new Map();\n    this.memoizedPaths = /* @__PURE__ */ new Map();\n    this.memoizedURLs = /* @__PURE__ */ new Map();\n  }\n  addAnnotation() {\n    let content;\n    if (this.isInline()) {\n      content = \"data:application/json;base64,\" + this.toBase64(this.map.toString());\n    } else if (typeof this.mapOpts.annotation === \"string\") {\n      content = this.mapOpts.annotation;\n    } else if (typeof this.mapOpts.annotation === \"function\") {\n      content = this.mapOpts.annotation(this.opts.to, this.root);\n    } else {\n      content = this.outputFile() + \".map\";\n    }\n    let eol = \"\\n\";\n    if (this.css.includes(\"\\r\\n\")) eol = \"\\r\\n\";\n    this.css += eol + \"/*# sourceMappingURL=\" + content + \" */\";\n  }\n  applyPrevMaps() {\n    for (let prev of this.previous()) {\n      let from = this.toUrl(this.path(prev.file));\n      let root2 = prev.root || dirname(prev.file);\n      let map;\n      if (this.mapOpts.sourcesContent === false) {\n        map = new SourceMapConsumer(prev.text);\n        if (map.sourcesContent) {\n          map.sourcesContent = null;\n        }\n      } else {\n        map = prev.consumer();\n      }\n      this.map.applySourceMap(map, from, this.toUrl(this.path(root2)));\n    }\n  }\n  clearAnnotation() {\n    if (this.mapOpts.annotation === false) return;\n    if (this.root) {\n      let node2;\n      for (let i2 = this.root.nodes.length - 1; i2 >= 0; i2--) {\n        node2 = this.root.nodes[i2];\n        if (node2.type !== \"comment\") continue;\n        if (node2.text.indexOf(\"# sourceMappingURL=\") === 0) {\n          this.root.removeChild(i2);\n        }\n      }\n    } else if (this.css) {\n      this.css = this.css.replace(/\\n*?\\/\\*#[\\S\\s]*?\\*\\/$/gm, \"\");\n    }\n  }\n  generate() {\n    this.clearAnnotation();\n    if (pathAvailable && sourceMapAvailable && this.isMap()) {\n      return this.generateMap();\n    } else {\n      let result2 = \"\";\n      this.stringify(this.root, (i2) => {\n        result2 += i2;\n      });\n      return [result2];\n    }\n  }\n  generateMap() {\n    if (this.root) {\n      this.generateString();\n    } else if (this.previous().length === 1) {\n      let prev = this.previous()[0].consumer();\n      prev.file = this.outputFile();\n      this.map = SourceMapGenerator.fromSourceMap(prev, {\n        ignoreInvalidMapping: true\n      });\n    } else {\n      this.map = new SourceMapGenerator({\n        file: this.outputFile(),\n        ignoreInvalidMapping: true\n      });\n      this.map.addMapping({\n        generated: { column: 0, line: 1 },\n        original: { column: 0, line: 1 },\n        source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\"\n      });\n    }\n    if (this.isSourcesContent()) this.setSourcesContent();\n    if (this.root && this.previous().length > 0) this.applyPrevMaps();\n    if (this.isAnnotation()) this.addAnnotation();\n    if (this.isInline()) {\n      return [this.css];\n    } else {\n      return [this.css, this.map];\n    }\n  }\n  generateString() {\n    this.css = \"\";\n    this.map = new SourceMapGenerator({\n      file: this.outputFile(),\n      ignoreInvalidMapping: true\n    });\n    let line = 1;\n    let column = 1;\n    let noSource = \"<no source>\";\n    let mapping = {\n      generated: { column: 0, line: 0 },\n      original: { column: 0, line: 0 },\n      source: \"\"\n    };\n    let lines, last;\n    this.stringify(this.root, (str, node2, type) => {\n      this.css += str;\n      if (node2 && type !== \"end\") {\n        mapping.generated.line = line;\n        mapping.generated.column = column - 1;\n        if (node2.source && node2.source.start) {\n          mapping.source = this.sourcePath(node2);\n          mapping.original.line = node2.source.start.line;\n          mapping.original.column = node2.source.start.column - 1;\n          this.map.addMapping(mapping);\n        } else {\n          mapping.source = noSource;\n          mapping.original.line = 1;\n          mapping.original.column = 0;\n          this.map.addMapping(mapping);\n        }\n      }\n      lines = str.match(/\\n/g);\n      if (lines) {\n        line += lines.length;\n        last = str.lastIndexOf(\"\\n\");\n        column = str.length - last;\n      } else {\n        column += str.length;\n      }\n      if (node2 && type !== \"start\") {\n        let p = node2.parent || { raws: {} };\n        let childless = node2.type === \"decl\" || node2.type === \"atrule\" && !node2.nodes;\n        if (!childless || node2 !== p.last || p.raws.semicolon) {\n          if (node2.source && node2.source.end) {\n            mapping.source = this.sourcePath(node2);\n            mapping.original.line = node2.source.end.line;\n            mapping.original.column = node2.source.end.column - 1;\n            mapping.generated.line = line;\n            mapping.generated.column = column - 2;\n            this.map.addMapping(mapping);\n          } else {\n            mapping.source = noSource;\n            mapping.original.line = 1;\n            mapping.original.column = 0;\n            mapping.generated.line = line;\n            mapping.generated.column = column - 1;\n            this.map.addMapping(mapping);\n          }\n        }\n      }\n    });\n  }\n  isAnnotation() {\n    if (this.isInline()) {\n      return true;\n    }\n    if (typeof this.mapOpts.annotation !== \"undefined\") {\n      return this.mapOpts.annotation;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.annotation);\n    }\n    return true;\n  }\n  isInline() {\n    if (typeof this.mapOpts.inline !== \"undefined\") {\n      return this.mapOpts.inline;\n    }\n    let annotation = this.mapOpts.annotation;\n    if (typeof annotation !== \"undefined\" && annotation !== true) {\n      return false;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.inline);\n    }\n    return true;\n  }\n  isMap() {\n    if (typeof this.opts.map !== \"undefined\") {\n      return !!this.opts.map;\n    }\n    return this.previous().length > 0;\n  }\n  isSourcesContent() {\n    if (typeof this.mapOpts.sourcesContent !== \"undefined\") {\n      return this.mapOpts.sourcesContent;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.withContent());\n    }\n    return true;\n  }\n  outputFile() {\n    if (this.opts.to) {\n      return this.path(this.opts.to);\n    } else if (this.opts.from) {\n      return this.path(this.opts.from);\n    } else {\n      return \"to.css\";\n    }\n  }\n  path(file) {\n    if (this.mapOpts.absolute) return file;\n    if (file.charCodeAt(0) === 60) return file;\n    if (/^\\w+:\\/\\//.test(file)) return file;\n    let cached = this.memoizedPaths.get(file);\n    if (cached) return cached;\n    let from = this.opts.to ? dirname(this.opts.to) : \".\";\n    if (typeof this.mapOpts.annotation === \"string\") {\n      from = dirname(resolve(from, this.mapOpts.annotation));\n    }\n    let path = relative(from, file);\n    this.memoizedPaths.set(file, path);\n    return path;\n  }\n  previous() {\n    if (!this.previousMaps) {\n      this.previousMaps = [];\n      if (this.root) {\n        this.root.walk((node2) => {\n          if (node2.source && node2.source.input.map) {\n            let map = node2.source.input.map;\n            if (!this.previousMaps.includes(map)) {\n              this.previousMaps.push(map);\n            }\n          }\n        });\n      } else {\n        let input2 = new Input$3(this.originalCSS, this.opts);\n        if (input2.map) this.previousMaps.push(input2.map);\n      }\n    }\n    return this.previousMaps;\n  }\n  setSourcesContent() {\n    let already = {};\n    if (this.root) {\n      this.root.walk((node2) => {\n        if (node2.source) {\n          let from = node2.source.input.from;\n          if (from && !already[from]) {\n            already[from] = true;\n            let fromUrl = this.usesFileUrls ? this.toFileUrl(from) : this.toUrl(this.path(from));\n            this.map.setSourceContent(fromUrl, node2.source.input.css);\n          }\n        }\n      });\n    } else if (this.css) {\n      let from = this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\";\n      this.map.setSourceContent(from, this.css);\n    }\n  }\n  sourcePath(node2) {\n    if (this.mapOpts.from) {\n      return this.toUrl(this.mapOpts.from);\n    } else if (this.usesFileUrls) {\n      return this.toFileUrl(node2.source.input.from);\n    } else {\n      return this.toUrl(this.path(node2.source.input.from));\n    }\n  }\n  toBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str).toString(\"base64\");\n    } else {\n      return window.btoa(unescape(encodeURIComponent(str)));\n    }\n  }\n  toFileUrl(path) {\n    let cached = this.memoizedFileURLs.get(path);\n    if (cached) return cached;\n    if (pathToFileURL) {\n      let fileURL = pathToFileURL(path).toString();\n      this.memoizedFileURLs.set(path, fileURL);\n      return fileURL;\n    } else {\n      throw new Error(\n        \"`map.absolute` option is not available in this PostCSS build\"\n      );\n    }\n  }\n  toUrl(path) {\n    let cached = this.memoizedURLs.get(path);\n    if (cached) return cached;\n    if (sep === \"\\\\\") {\n      path = path.replace(/\\\\/g, \"/\");\n    }\n    let url = encodeURI(path).replace(/[#?]/g, encodeURIComponent);\n    this.memoizedURLs.set(path, url);\n    return url;\n  }\n};\nvar mapGenerator = MapGenerator$2;\nlet Node$2 = node;\nlet Comment$4 = class Comment2 extends Node$2 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"comment\";\n  }\n};\nvar comment = Comment$4;\nComment$4.default = Comment$4;\nlet { isClean: isClean$1, my: my$1 } = symbols;\nlet Declaration$3 = declaration;\nlet Comment$3 = comment;\nlet Node$1 = node;\nlet parse$4, Rule$4, AtRule$4, Root$6;\nfunction cleanSource(nodes) {\n  return nodes.map((i2) => {\n    if (i2.nodes) i2.nodes = cleanSource(i2.nodes);\n    delete i2.source;\n    return i2;\n  });\n}\nfunction markDirtyUp(node2) {\n  node2[isClean$1] = false;\n  if (node2.proxyOf.nodes) {\n    for (let i2 of node2.proxyOf.nodes) {\n      markDirtyUp(i2);\n    }\n  }\n}\nlet Container$7 = class Container2 extends Node$1 {\n  append(...children) {\n    for (let child of children) {\n      let nodes = this.normalize(child, this.last);\n      for (let node2 of nodes) this.proxyOf.nodes.push(node2);\n    }\n    this.markDirty();\n    return this;\n  }\n  cleanRaws(keepBetween) {\n    super.cleanRaws(keepBetween);\n    if (this.nodes) {\n      for (let node2 of this.nodes) node2.cleanRaws(keepBetween);\n    }\n  }\n  each(callback) {\n    if (!this.proxyOf.nodes) return void 0;\n    let iterator = this.getIterator();\n    let index2, result2;\n    while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n      index2 = this.indexes[iterator];\n      result2 = callback(this.proxyOf.nodes[index2], index2);\n      if (result2 === false) break;\n      this.indexes[iterator] += 1;\n    }\n    delete this.indexes[iterator];\n    return result2;\n  }\n  every(condition) {\n    return this.nodes.every(condition);\n  }\n  getIterator() {\n    if (!this.lastEach) this.lastEach = 0;\n    if (!this.indexes) this.indexes = {};\n    this.lastEach += 1;\n    let iterator = this.lastEach;\n    this.indexes[iterator] = 0;\n    return iterator;\n  }\n  getProxyProcessor() {\n    return {\n      get(node2, prop) {\n        if (prop === \"proxyOf\") {\n          return node2;\n        } else if (!node2[prop]) {\n          return node2[prop];\n        } else if (prop === \"each\" || typeof prop === \"string\" && prop.startsWith(\"walk\")) {\n          return (...args) => {\n            return node2[prop](\n              ...args.map((i2) => {\n                if (typeof i2 === \"function\") {\n                  return (child, index2) => i2(child.toProxy(), index2);\n                } else {\n                  return i2;\n                }\n              })\n            );\n          };\n        } else if (prop === \"every\" || prop === \"some\") {\n          return (cb) => {\n            return node2[prop](\n              (child, ...other) => cb(child.toProxy(), ...other)\n            );\n          };\n        } else if (prop === \"root\") {\n          return () => node2.root().toProxy();\n        } else if (prop === \"nodes\") {\n          return node2.nodes.map((i2) => i2.toProxy());\n        } else if (prop === \"first\" || prop === \"last\") {\n          return node2[prop].toProxy();\n        } else {\n          return node2[prop];\n        }\n      },\n      set(node2, prop, value) {\n        if (node2[prop] === value) return true;\n        node2[prop] = value;\n        if (prop === \"name\" || prop === \"params\" || prop === \"selector\") {\n          node2.markDirty();\n        }\n        return true;\n      }\n    };\n  }\n  index(child) {\n    if (typeof child === \"number\") return child;\n    if (child.proxyOf) child = child.proxyOf;\n    return this.proxyOf.nodes.indexOf(child);\n  }\n  insertAfter(exist, add) {\n    let existIndex = this.index(exist);\n    let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse();\n    existIndex = this.index(exist);\n    for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node2);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (existIndex < index2) {\n        this.indexes[id] = index2 + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  insertBefore(exist, add) {\n    let existIndex = this.index(exist);\n    let type = existIndex === 0 ? \"prepend\" : false;\n    let nodes = this.normalize(add, this.proxyOf.nodes[existIndex], type).reverse();\n    existIndex = this.index(exist);\n    for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex, 0, node2);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (existIndex <= index2) {\n        this.indexes[id] = index2 + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  normalize(nodes, sample) {\n    if (typeof nodes === \"string\") {\n      nodes = cleanSource(parse$4(nodes).nodes);\n    } else if (typeof nodes === \"undefined\") {\n      nodes = [];\n    } else if (Array.isArray(nodes)) {\n      nodes = nodes.slice(0);\n      for (let i2 of nodes) {\n        if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n      }\n    } else if (nodes.type === \"root\" && this.type !== \"document\") {\n      nodes = nodes.nodes.slice(0);\n      for (let i2 of nodes) {\n        if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n      }\n    } else if (nodes.type) {\n      nodes = [nodes];\n    } else if (nodes.prop) {\n      if (typeof nodes.value === \"undefined\") {\n        throw new Error(\"Value field is missed in node creation\");\n      } else if (typeof nodes.value !== \"string\") {\n        nodes.value = String(nodes.value);\n      }\n      nodes = [new Declaration$3(nodes)];\n    } else if (nodes.selector) {\n      nodes = [new Rule$4(nodes)];\n    } else if (nodes.name) {\n      nodes = [new AtRule$4(nodes)];\n    } else if (nodes.text) {\n      nodes = [new Comment$3(nodes)];\n    } else {\n      throw new Error(\"Unknown node type in node creation\");\n    }\n    let processed = nodes.map((i2) => {\n      if (!i2[my$1]) Container2.rebuild(i2);\n      i2 = i2.proxyOf;\n      if (i2.parent) i2.parent.removeChild(i2);\n      if (i2[isClean$1]) markDirtyUp(i2);\n      if (typeof i2.raws.before === \"undefined\") {\n        if (sample && typeof sample.raws.before !== \"undefined\") {\n          i2.raws.before = sample.raws.before.replace(/\\S/g, \"\");\n        }\n      }\n      i2.parent = this.proxyOf;\n      return i2;\n    });\n    return processed;\n  }\n  prepend(...children) {\n    children = children.reverse();\n    for (let child of children) {\n      let nodes = this.normalize(child, this.first, \"prepend\").reverse();\n      for (let node2 of nodes) this.proxyOf.nodes.unshift(node2);\n      for (let id in this.indexes) {\n        this.indexes[id] = this.indexes[id] + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  push(child) {\n    child.parent = this;\n    this.proxyOf.nodes.push(child);\n    return this;\n  }\n  removeAll() {\n    for (let node2 of this.proxyOf.nodes) node2.parent = void 0;\n    this.proxyOf.nodes = [];\n    this.markDirty();\n    return this;\n  }\n  removeChild(child) {\n    child = this.index(child);\n    this.proxyOf.nodes[child].parent = void 0;\n    this.proxyOf.nodes.splice(child, 1);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (index2 >= child) {\n        this.indexes[id] = index2 - 1;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  replaceValues(pattern, opts, callback) {\n    if (!callback) {\n      callback = opts;\n      opts = {};\n    }\n    this.walkDecls((decl) => {\n      if (opts.props && !opts.props.includes(decl.prop)) return;\n      if (opts.fast && !decl.value.includes(opts.fast)) return;\n      decl.value = decl.value.replace(pattern, callback);\n    });\n    this.markDirty();\n    return this;\n  }\n  some(condition) {\n    return this.nodes.some(condition);\n  }\n  walk(callback) {\n    return this.each((child, i2) => {\n      let result2;\n      try {\n        result2 = callback(child, i2);\n      } catch (e2) {\n        throw child.addToError(e2);\n      }\n      if (result2 !== false && child.walk) {\n        result2 = child.walk(callback);\n      }\n      return result2;\n    });\n  }\n  walkAtRules(name, callback) {\n    if (!callback) {\n      callback = name;\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (name instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\" && name.test(child.name)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"atrule\" && child.name === name) {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkComments(callback) {\n    return this.walk((child, i2) => {\n      if (child.type === \"comment\") {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkDecls(prop, callback) {\n    if (!callback) {\n      callback = prop;\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (prop instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\" && prop.test(child.prop)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"decl\" && child.prop === prop) {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkRules(selector, callback) {\n    if (!callback) {\n      callback = selector;\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (selector instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\" && selector.test(child.selector)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"rule\" && child.selector === selector) {\n        return callback(child, i2);\n      }\n    });\n  }\n  get first() {\n    if (!this.proxyOf.nodes) return void 0;\n    return this.proxyOf.nodes[0];\n  }\n  get last() {\n    if (!this.proxyOf.nodes) return void 0;\n    return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];\n  }\n};\nContainer$7.registerParse = (dependant) => {\n  parse$4 = dependant;\n};\nContainer$7.registerRule = (dependant) => {\n  Rule$4 = dependant;\n};\nContainer$7.registerAtRule = (dependant) => {\n  AtRule$4 = dependant;\n};\nContainer$7.registerRoot = (dependant) => {\n  Root$6 = dependant;\n};\nvar container = Container$7;\nContainer$7.default = Container$7;\nContainer$7.rebuild = (node2) => {\n  if (node2.type === \"atrule\") {\n    Object.setPrototypeOf(node2, AtRule$4.prototype);\n  } else if (node2.type === \"rule\") {\n    Object.setPrototypeOf(node2, Rule$4.prototype);\n  } else if (node2.type === \"decl\") {\n    Object.setPrototypeOf(node2, Declaration$3.prototype);\n  } else if (node2.type === \"comment\") {\n    Object.setPrototypeOf(node2, Comment$3.prototype);\n  } else if (node2.type === \"root\") {\n    Object.setPrototypeOf(node2, Root$6.prototype);\n  }\n  node2[my$1] = true;\n  if (node2.nodes) {\n    node2.nodes.forEach((child) => {\n      Container$7.rebuild(child);\n    });\n  }\n};\nlet Container$6 = container;\nlet LazyResult$4, Processor$3;\nlet Document$3 = class Document23 extends Container$6 {\n  constructor(defaults) {\n    super({ type: \"document\", ...defaults });\n    if (!this.nodes) {\n      this.nodes = [];\n    }\n  }\n  toResult(opts = {}) {\n    let lazy = new LazyResult$4(new Processor$3(), this, opts);\n    return lazy.stringify();\n  }\n};\nDocument$3.registerLazyResult = (dependant) => {\n  LazyResult$4 = dependant;\n};\nDocument$3.registerProcessor = (dependant) => {\n  Processor$3 = dependant;\n};\nvar document$1 = Document$3;\nDocument$3.default = Document$3;\nlet printed = {};\nvar warnOnce$2 = function warnOnce2(message) {\n  if (printed[message]) return;\n  printed[message] = true;\n  if (typeof console !== \"undefined\" && console.warn) {\n    console.warn(message);\n  }\n};\nlet Warning$2 = class Warning2 {\n  constructor(text, opts = {}) {\n    this.type = \"warning\";\n    this.text = text;\n    if (opts.node && opts.node.source) {\n      let range = opts.node.rangeBy(opts);\n      this.line = range.start.line;\n      this.column = range.start.column;\n      this.endLine = range.end.line;\n      this.endColumn = range.end.column;\n    }\n    for (let opt in opts) this[opt] = opts[opt];\n  }\n  toString() {\n    if (this.node) {\n      return this.node.error(this.text, {\n        index: this.index,\n        plugin: this.plugin,\n        word: this.word\n      }).message;\n    }\n    if (this.plugin) {\n      return this.plugin + \": \" + this.text;\n    }\n    return this.text;\n  }\n};\nvar warning = Warning$2;\nWarning$2.default = Warning$2;\nlet Warning$1 = warning;\nlet Result$3 = class Result2 {\n  constructor(processor2, root2, opts) {\n    this.processor = processor2;\n    this.messages = [];\n    this.root = root2;\n    this.opts = opts;\n    this.css = void 0;\n    this.map = void 0;\n  }\n  toString() {\n    return this.css;\n  }\n  warn(text, opts = {}) {\n    if (!opts.plugin) {\n      if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n        opts.plugin = this.lastPlugin.postcssPlugin;\n      }\n    }\n    let warning2 = new Warning$1(text, opts);\n    this.messages.push(warning2);\n    return warning2;\n  }\n  warnings() {\n    return this.messages.filter((i2) => i2.type === \"warning\");\n  }\n  get content() {\n    return this.css;\n  }\n};\nvar result = Result$3;\nResult$3.default = Result$3;\nconst SINGLE_QUOTE = \"'\".charCodeAt(0);\nconst DOUBLE_QUOTE = '\"'.charCodeAt(0);\nconst BACKSLASH = \"\\\\\".charCodeAt(0);\nconst SLASH = \"/\".charCodeAt(0);\nconst NEWLINE = \"\\n\".charCodeAt(0);\nconst SPACE = \" \".charCodeAt(0);\nconst FEED = \"\\f\".charCodeAt(0);\nconst TAB = \"\t\".charCodeAt(0);\nconst CR = \"\\r\".charCodeAt(0);\nconst OPEN_SQUARE = \"[\".charCodeAt(0);\nconst CLOSE_SQUARE = \"]\".charCodeAt(0);\nconst OPEN_PARENTHESES = \"(\".charCodeAt(0);\nconst CLOSE_PARENTHESES = \")\".charCodeAt(0);\nconst OPEN_CURLY = \"{\".charCodeAt(0);\nconst CLOSE_CURLY = \"}\".charCodeAt(0);\nconst SEMICOLON = \";\".charCodeAt(0);\nconst ASTERISK = \"*\".charCodeAt(0);\nconst COLON = \":\".charCodeAt(0);\nconst AT = \"@\".charCodeAt(0);\nconst RE_AT_END = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g;\nconst RE_WORD_END = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g;\nconst RE_BAD_BRACKET = /.[\\r\\n\"'(/\\\\]/;\nconst RE_HEX_ESCAPE = /[\\da-f]/i;\nvar tokenize = function tokenizer2(input2, options = {}) {\n  let css = input2.css.valueOf();\n  let ignore = options.ignoreErrors;\n  let code, next, quote, content, escape;\n  let escaped, escapePos, prev, n2, currentToken;\n  let length = css.length;\n  let pos = 0;\n  let buffer = [];\n  let returned = [];\n  function position() {\n    return pos;\n  }\n  function unclosed(what) {\n    throw input2.error(\"Unclosed \" + what, pos);\n  }\n  function endOfFile() {\n    return returned.length === 0 && pos >= length;\n  }\n  function nextToken(opts) {\n    if (returned.length) return returned.pop();\n    if (pos >= length) return;\n    let ignoreUnclosed = opts ? opts.ignoreUnclosed : false;\n    code = css.charCodeAt(pos);\n    switch (code) {\n      case NEWLINE:\n      case SPACE:\n      case TAB:\n      case CR:\n      case FEED: {\n        next = pos;\n        do {\n          next += 1;\n          code = css.charCodeAt(next);\n        } while (code === SPACE || code === NEWLINE || code === TAB || code === CR || code === FEED);\n        currentToken = [\"space\", css.slice(pos, next)];\n        pos = next - 1;\n        break;\n      }\n      case OPEN_SQUARE:\n      case CLOSE_SQUARE:\n      case OPEN_CURLY:\n      case CLOSE_CURLY:\n      case COLON:\n      case SEMICOLON:\n      case CLOSE_PARENTHESES: {\n        let controlChar = String.fromCharCode(code);\n        currentToken = [controlChar, controlChar, pos];\n        break;\n      }\n      case OPEN_PARENTHESES: {\n        prev = buffer.length ? buffer.pop()[1] : \"\";\n        n2 = css.charCodeAt(pos + 1);\n        if (prev === \"url\" && n2 !== SINGLE_QUOTE && n2 !== DOUBLE_QUOTE && n2 !== SPACE && n2 !== NEWLINE && n2 !== TAB && n2 !== FEED && n2 !== CR) {\n          next = pos;\n          do {\n            escaped = false;\n            next = css.indexOf(\")\", next + 1);\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos;\n                break;\n              } else {\n                unclosed(\"bracket\");\n              }\n            }\n            escapePos = next;\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n              escapePos -= 1;\n              escaped = !escaped;\n            }\n          } while (escaped);\n          currentToken = [\"brackets\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n        } else {\n          next = css.indexOf(\")\", pos + 1);\n          content = css.slice(pos, next + 1);\n          if (next === -1 || RE_BAD_BRACKET.test(content)) {\n            currentToken = [\"(\", \"(\", pos];\n          } else {\n            currentToken = [\"brackets\", content, pos, next];\n            pos = next;\n          }\n        }\n        break;\n      }\n      case SINGLE_QUOTE:\n      case DOUBLE_QUOTE: {\n        quote = code === SINGLE_QUOTE ? \"'\" : '\"';\n        next = pos;\n        do {\n          escaped = false;\n          next = css.indexOf(quote, next + 1);\n          if (next === -1) {\n            if (ignore || ignoreUnclosed) {\n              next = pos + 1;\n              break;\n            } else {\n              unclosed(\"string\");\n            }\n          }\n          escapePos = next;\n          while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n            escapePos -= 1;\n            escaped = !escaped;\n          }\n        } while (escaped);\n        currentToken = [\"string\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      case AT: {\n        RE_AT_END.lastIndex = pos + 1;\n        RE_AT_END.test(css);\n        if (RE_AT_END.lastIndex === 0) {\n          next = css.length - 1;\n        } else {\n          next = RE_AT_END.lastIndex - 2;\n        }\n        currentToken = [\"at-word\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      case BACKSLASH: {\n        next = pos;\n        escape = true;\n        while (css.charCodeAt(next + 1) === BACKSLASH) {\n          next += 1;\n          escape = !escape;\n        }\n        code = css.charCodeAt(next + 1);\n        if (escape && code !== SLASH && code !== SPACE && code !== NEWLINE && code !== TAB && code !== CR && code !== FEED) {\n          next += 1;\n          if (RE_HEX_ESCAPE.test(css.charAt(next))) {\n            while (RE_HEX_ESCAPE.test(css.charAt(next + 1))) {\n              next += 1;\n            }\n            if (css.charCodeAt(next + 1) === SPACE) {\n              next += 1;\n            }\n          }\n        }\n        currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      default: {\n        if (code === SLASH && css.charCodeAt(pos + 1) === ASTERISK) {\n          next = css.indexOf(\"*/\", pos + 2) + 1;\n          if (next === 0) {\n            if (ignore || ignoreUnclosed) {\n              next = css.length;\n            } else {\n              unclosed(\"comment\");\n            }\n          }\n          currentToken = [\"comment\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n        } else {\n          RE_WORD_END.lastIndex = pos + 1;\n          RE_WORD_END.test(css);\n          if (RE_WORD_END.lastIndex === 0) {\n            next = css.length - 1;\n          } else {\n            next = RE_WORD_END.lastIndex - 2;\n          }\n          currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n          buffer.push(currentToken);\n          pos = next;\n        }\n        break;\n      }\n    }\n    pos++;\n    return currentToken;\n  }\n  function back(token) {\n    returned.push(token);\n  }\n  return {\n    back,\n    endOfFile,\n    nextToken,\n    position\n  };\n};\nlet Container$5 = container;\nlet AtRule$3 = class AtRule2 extends Container$5 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"atrule\";\n  }\n  append(...children) {\n    if (!this.proxyOf.nodes) this.nodes = [];\n    return super.append(...children);\n  }\n  prepend(...children) {\n    if (!this.proxyOf.nodes) this.nodes = [];\n    return super.prepend(...children);\n  }\n};\nvar atRule = AtRule$3;\nAtRule$3.default = AtRule$3;\nContainer$5.registerAtRule(AtRule$3);\nlet Container$4 = container;\nlet LazyResult$3, Processor$2;\nlet Root$5 = class Root2 extends Container$4 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"root\";\n    if (!this.nodes) this.nodes = [];\n  }\n  normalize(child, sample, type) {\n    let nodes = super.normalize(child);\n    if (sample) {\n      if (type === \"prepend\") {\n        if (this.nodes.length > 1) {\n          sample.raws.before = this.nodes[1].raws.before;\n        } else {\n          delete sample.raws.before;\n        }\n      } else if (this.first !== sample) {\n        for (let node2 of nodes) {\n          node2.raws.before = sample.raws.before;\n        }\n      }\n    }\n    return nodes;\n  }\n  removeChild(child, ignore) {\n    let index2 = this.index(child);\n    if (!ignore && index2 === 0 && this.nodes.length > 1) {\n      this.nodes[1].raws.before = this.nodes[index2].raws.before;\n    }\n    return super.removeChild(child);\n  }\n  toResult(opts = {}) {\n    let lazy = new LazyResult$3(new Processor$2(), this, opts);\n    return lazy.stringify();\n  }\n};\nRoot$5.registerLazyResult = (dependant) => {\n  LazyResult$3 = dependant;\n};\nRoot$5.registerProcessor = (dependant) => {\n  Processor$2 = dependant;\n};\nvar root = Root$5;\nRoot$5.default = Root$5;\nContainer$4.registerRoot(Root$5);\nlet list$2 = {\n  comma(string) {\n    return list$2.split(string, [\",\"], true);\n  },\n  space(string) {\n    let spaces = [\" \", \"\\n\", \"\t\"];\n    return list$2.split(string, spaces);\n  },\n  split(string, separators, last) {\n    let array = [];\n    let current = \"\";\n    let split = false;\n    let func = 0;\n    let inQuote = false;\n    let prevQuote = \"\";\n    let escape = false;\n    for (let letter of string) {\n      if (escape) {\n        escape = false;\n      } else if (letter === \"\\\\\") {\n        escape = true;\n      } else if (inQuote) {\n        if (letter === prevQuote) {\n          inQuote = false;\n        }\n      } else if (letter === '\"' || letter === \"'\") {\n        inQuote = true;\n        prevQuote = letter;\n      } else if (letter === \"(\") {\n        func += 1;\n      } else if (letter === \")\") {\n        if (func > 0) func -= 1;\n      } else if (func === 0) {\n        if (separators.includes(letter)) split = true;\n      }\n      if (split) {\n        if (current !== \"\") array.push(current.trim());\n        current = \"\";\n        split = false;\n      } else {\n        current += letter;\n      }\n    }\n    if (last || current !== \"\") array.push(current.trim());\n    return array;\n  }\n};\nvar list_1 = list$2;\nlist$2.default = list$2;\nlet Container$3 = container;\nlet list$1 = list_1;\nlet Rule$3 = class Rule2 extends Container$3 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"rule\";\n    if (!this.nodes) this.nodes = [];\n  }\n  get selectors() {\n    return list$1.comma(this.selector);\n  }\n  set selectors(values) {\n    let match = this.selector ? this.selector.match(/,\\s*/) : null;\n    let sep2 = match ? match[0] : \",\" + this.raw(\"between\", \"beforeOpen\");\n    this.selector = values.join(sep2);\n  }\n};\nvar rule = Rule$3;\nRule$3.default = Rule$3;\nContainer$3.registerRule(Rule$3);\nlet Declaration$2 = declaration;\nlet tokenizer22 = tokenize;\nlet Comment$2 = comment;\nlet AtRule$2 = atRule;\nlet Root$4 = root;\nlet Rule$2 = rule;\nconst SAFE_COMMENT_NEIGHBOR = {\n  empty: true,\n  space: true\n};\nfunction findLastWithPosition(tokens) {\n  for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n    let token = tokens[i2];\n    let pos = token[3] || token[2];\n    if (pos) return pos;\n  }\n}\nlet Parser$1 = class Parser2 {\n  constructor(input2) {\n    this.input = input2;\n    this.root = new Root$4();\n    this.current = this.root;\n    this.spaces = \"\";\n    this.semicolon = false;\n    this.createTokenizer();\n    this.root.source = { input: input2, start: { column: 1, line: 1, offset: 0 } };\n  }\n  atrule(token) {\n    let node2 = new AtRule$2();\n    node2.name = token[1].slice(1);\n    if (node2.name === \"\") {\n      this.unnamedAtrule(node2, token);\n    }\n    this.init(node2, token[2]);\n    let type;\n    let prev;\n    let shift;\n    let last = false;\n    let open = false;\n    let params = [];\n    let brackets = [];\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken();\n      type = token[0];\n      if (type === \"(\" || type === \"[\") {\n        brackets.push(type === \"(\" ? \")\" : \"]\");\n      } else if (type === \"{\" && brackets.length > 0) {\n        brackets.push(\"}\");\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop();\n      }\n      if (brackets.length === 0) {\n        if (type === \";\") {\n          node2.source.end = this.getPosition(token[2]);\n          node2.source.end.offset++;\n          this.semicolon = true;\n          break;\n        } else if (type === \"{\") {\n          open = true;\n          break;\n        } else if (type === \"}\") {\n          if (params.length > 0) {\n            shift = params.length - 1;\n            prev = params[shift];\n            while (prev && prev[0] === \"space\") {\n              prev = params[--shift];\n            }\n            if (prev) {\n              node2.source.end = this.getPosition(prev[3] || prev[2]);\n              node2.source.end.offset++;\n            }\n          }\n          this.end(token);\n          break;\n        } else {\n          params.push(token);\n        }\n      } else {\n        params.push(token);\n      }\n      if (this.tokenizer.endOfFile()) {\n        last = true;\n        break;\n      }\n    }\n    node2.raws.between = this.spacesAndCommentsFromEnd(params);\n    if (params.length) {\n      node2.raws.afterName = this.spacesAndCommentsFromStart(params);\n      this.raw(node2, \"params\", params);\n      if (last) {\n        token = params[params.length - 1];\n        node2.source.end = this.getPosition(token[3] || token[2]);\n        node2.source.end.offset++;\n        this.spaces = node2.raws.between;\n        node2.raws.between = \"\";\n      }\n    } else {\n      node2.raws.afterName = \"\";\n      node2.params = \"\";\n    }\n    if (open) {\n      node2.nodes = [];\n      this.current = node2;\n    }\n  }\n  checkMissedSemicolon(tokens) {\n    let colon = this.colon(tokens);\n    if (colon === false) return;\n    let founded = 0;\n    let token;\n    for (let j = colon - 1; j >= 0; j--) {\n      token = tokens[j];\n      if (token[0] !== \"space\") {\n        founded += 1;\n        if (founded === 2) break;\n      }\n    }\n    throw this.input.error(\n      \"Missed semicolon\",\n      token[0] === \"word\" ? token[3] + 1 : token[2]\n    );\n  }\n  colon(tokens) {\n    let brackets = 0;\n    let token, type, prev;\n    for (let [i2, element] of tokens.entries()) {\n      token = element;\n      type = token[0];\n      if (type === \"(\") {\n        brackets += 1;\n      }\n      if (type === \")\") {\n        brackets -= 1;\n      }\n      if (brackets === 0 && type === \":\") {\n        if (!prev) {\n          this.doubleColon(token);\n        } else if (prev[0] === \"word\" && prev[1] === \"progid\") {\n          continue;\n        } else {\n          return i2;\n        }\n      }\n      prev = token;\n    }\n    return false;\n  }\n  comment(token) {\n    let node2 = new Comment$2();\n    this.init(node2, token[2]);\n    node2.source.end = this.getPosition(token[3] || token[2]);\n    node2.source.end.offset++;\n    let text = token[1].slice(2, -2);\n    if (/^\\s*$/.test(text)) {\n      node2.text = \"\";\n      node2.raws.left = text;\n      node2.raws.right = \"\";\n    } else {\n      let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n      node2.text = match[2];\n      node2.raws.left = match[1];\n      node2.raws.right = match[3];\n    }\n  }\n  createTokenizer() {\n    this.tokenizer = tokenizer22(this.input);\n  }\n  decl(tokens, customProperty) {\n    let node2 = new Declaration$2();\n    this.init(node2, tokens[0][2]);\n    let last = tokens[tokens.length - 1];\n    if (last[0] === \";\") {\n      this.semicolon = true;\n      tokens.pop();\n    }\n    node2.source.end = this.getPosition(\n      last[3] || last[2] || findLastWithPosition(tokens)\n    );\n    node2.source.end.offset++;\n    while (tokens[0][0] !== \"word\") {\n      if (tokens.length === 1) this.unknownWord(tokens);\n      node2.raws.before += tokens.shift()[1];\n    }\n    node2.source.start = this.getPosition(tokens[0][2]);\n    node2.prop = \"\";\n    while (tokens.length) {\n      let type = tokens[0][0];\n      if (type === \":\" || type === \"space\" || type === \"comment\") {\n        break;\n      }\n      node2.prop += tokens.shift()[1];\n    }\n    node2.raws.between = \"\";\n    let token;\n    while (tokens.length) {\n      token = tokens.shift();\n      if (token[0] === \":\") {\n        node2.raws.between += token[1];\n        break;\n      } else {\n        if (token[0] === \"word\" && /\\w/.test(token[1])) {\n          this.unknownWord([token]);\n        }\n        node2.raws.between += token[1];\n      }\n    }\n    if (node2.prop[0] === \"_\" || node2.prop[0] === \"*\") {\n      node2.raws.before += node2.prop[0];\n      node2.prop = node2.prop.slice(1);\n    }\n    let firstSpaces = [];\n    let next;\n    while (tokens.length) {\n      next = tokens[0][0];\n      if (next !== \"space\" && next !== \"comment\") break;\n      firstSpaces.push(tokens.shift());\n    }\n    this.precheckMissedSemicolon(tokens);\n    for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n      token = tokens[i2];\n      if (token[1].toLowerCase() === \"!important\") {\n        node2.important = true;\n        let string = this.stringFrom(tokens, i2);\n        string = this.spacesFromEnd(tokens) + string;\n        if (string !== \" !important\") node2.raws.important = string;\n        break;\n      } else if (token[1].toLowerCase() === \"important\") {\n        let cache = tokens.slice(0);\n        let str = \"\";\n        for (let j = i2; j > 0; j--) {\n          let type = cache[j][0];\n          if (str.trim().indexOf(\"!\") === 0 && type !== \"space\") {\n            break;\n          }\n          str = cache.pop()[1] + str;\n        }\n        if (str.trim().indexOf(\"!\") === 0) {\n          node2.important = true;\n          node2.raws.important = str;\n          tokens = cache;\n        }\n      }\n      if (token[0] !== \"space\" && token[0] !== \"comment\") {\n        break;\n      }\n    }\n    let hasWord = tokens.some((i2) => i2[0] !== \"space\" && i2[0] !== \"comment\");\n    if (hasWord) {\n      node2.raws.between += firstSpaces.map((i2) => i2[1]).join(\"\");\n      firstSpaces = [];\n    }\n    this.raw(node2, \"value\", firstSpaces.concat(tokens), customProperty);\n    if (node2.value.includes(\":\") && !customProperty) {\n      this.checkMissedSemicolon(tokens);\n    }\n  }\n  doubleColon(token) {\n    throw this.input.error(\n      \"Double colon\",\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    );\n  }\n  emptyRule(token) {\n    let node2 = new Rule$2();\n    this.init(node2, token[2]);\n    node2.selector = \"\";\n    node2.raws.between = \"\";\n    this.current = node2;\n  }\n  end(token) {\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon;\n    }\n    this.semicolon = false;\n    this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n    this.spaces = \"\";\n    if (this.current.parent) {\n      this.current.source.end = this.getPosition(token[2]);\n      this.current.source.end.offset++;\n      this.current = this.current.parent;\n    } else {\n      this.unexpectedClose(token);\n    }\n  }\n  endFile() {\n    if (this.current.parent) this.unclosedBlock();\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon;\n    }\n    this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n    this.root.source.end = this.getPosition(this.tokenizer.position());\n  }\n  freeSemicolon(token) {\n    this.spaces += token[1];\n    if (this.current.nodes) {\n      let prev = this.current.nodes[this.current.nodes.length - 1];\n      if (prev && prev.type === \"rule\" && !prev.raws.ownSemicolon) {\n        prev.raws.ownSemicolon = this.spaces;\n        this.spaces = \"\";\n      }\n    }\n  }\n  // Helpers\n  getPosition(offset) {\n    let pos = this.input.fromOffset(offset);\n    return {\n      column: pos.col,\n      line: pos.line,\n      offset\n    };\n  }\n  init(node2, offset) {\n    this.current.push(node2);\n    node2.source = {\n      input: this.input,\n      start: this.getPosition(offset)\n    };\n    node2.raws.before = this.spaces;\n    this.spaces = \"\";\n    if (node2.type !== \"comment\") this.semicolon = false;\n  }\n  other(start) {\n    let end = false;\n    let type = null;\n    let colon = false;\n    let bracket = null;\n    let brackets = [];\n    let customProperty = start[1].startsWith(\"--\");\n    let tokens = [];\n    let token = start;\n    while (token) {\n      type = token[0];\n      tokens.push(token);\n      if (type === \"(\" || type === \"[\") {\n        if (!bracket) bracket = token;\n        brackets.push(type === \"(\" ? \")\" : \"]\");\n      } else if (customProperty && colon && type === \"{\") {\n        if (!bracket) bracket = token;\n        brackets.push(\"}\");\n      } else if (brackets.length === 0) {\n        if (type === \";\") {\n          if (colon) {\n            this.decl(tokens, customProperty);\n            return;\n          } else {\n            break;\n          }\n        } else if (type === \"{\") {\n          this.rule(tokens);\n          return;\n        } else if (type === \"}\") {\n          this.tokenizer.back(tokens.pop());\n          end = true;\n          break;\n        } else if (type === \":\") {\n          colon = true;\n        }\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop();\n        if (brackets.length === 0) bracket = null;\n      }\n      token = this.tokenizer.nextToken();\n    }\n    if (this.tokenizer.endOfFile()) end = true;\n    if (brackets.length > 0) this.unclosedBracket(bracket);\n    if (end && colon) {\n      if (!customProperty) {\n        while (tokens.length) {\n          token = tokens[tokens.length - 1][0];\n          if (token !== \"space\" && token !== \"comment\") break;\n          this.tokenizer.back(tokens.pop());\n        }\n      }\n      this.decl(tokens, customProperty);\n    } else {\n      this.unknownWord(tokens);\n    }\n  }\n  parse() {\n    let token;\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken();\n      switch (token[0]) {\n        case \"space\":\n          this.spaces += token[1];\n          break;\n        case \";\":\n          this.freeSemicolon(token);\n          break;\n        case \"}\":\n          this.end(token);\n          break;\n        case \"comment\":\n          this.comment(token);\n          break;\n        case \"at-word\":\n          this.atrule(token);\n          break;\n        case \"{\":\n          this.emptyRule(token);\n          break;\n        default:\n          this.other(token);\n          break;\n      }\n    }\n    this.endFile();\n  }\n  precheckMissedSemicolon() {\n  }\n  raw(node2, prop, tokens, customProperty) {\n    let token, type;\n    let length = tokens.length;\n    let value = \"\";\n    let clean = true;\n    let next, prev;\n    for (let i2 = 0; i2 < length; i2 += 1) {\n      token = tokens[i2];\n      type = token[0];\n      if (type === \"space\" && i2 === length - 1 && !customProperty) {\n        clean = false;\n      } else if (type === \"comment\") {\n        prev = tokens[i2 - 1] ? tokens[i2 - 1][0] : \"empty\";\n        next = tokens[i2 + 1] ? tokens[i2 + 1][0] : \"empty\";\n        if (!SAFE_COMMENT_NEIGHBOR[prev] && !SAFE_COMMENT_NEIGHBOR[next]) {\n          if (value.slice(-1) === \",\") {\n            clean = false;\n          } else {\n            value += token[1];\n          }\n        } else {\n          clean = false;\n        }\n      } else {\n        value += token[1];\n      }\n    }\n    if (!clean) {\n      let raw = tokens.reduce((all, i2) => all + i2[1], \"\");\n      node2.raws[prop] = { raw, value };\n    }\n    node2[prop] = value;\n  }\n  rule(tokens) {\n    tokens.pop();\n    let node2 = new Rule$2();\n    this.init(node2, tokens[0][2]);\n    node2.raws.between = this.spacesAndCommentsFromEnd(tokens);\n    this.raw(node2, \"selector\", tokens);\n    this.current = node2;\n  }\n  spacesAndCommentsFromEnd(tokens) {\n    let lastTokenType;\n    let spaces = \"\";\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0];\n      if (lastTokenType !== \"space\" && lastTokenType !== \"comment\") break;\n      spaces = tokens.pop()[1] + spaces;\n    }\n    return spaces;\n  }\n  // Errors\n  spacesAndCommentsFromStart(tokens) {\n    let next;\n    let spaces = \"\";\n    while (tokens.length) {\n      next = tokens[0][0];\n      if (next !== \"space\" && next !== \"comment\") break;\n      spaces += tokens.shift()[1];\n    }\n    return spaces;\n  }\n  spacesFromEnd(tokens) {\n    let lastTokenType;\n    let spaces = \"\";\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0];\n      if (lastTokenType !== \"space\") break;\n      spaces = tokens.pop()[1] + spaces;\n    }\n    return spaces;\n  }\n  stringFrom(tokens, from) {\n    let result2 = \"\";\n    for (let i2 = from; i2 < tokens.length; i2++) {\n      result2 += tokens[i2][1];\n    }\n    tokens.splice(from, tokens.length - from);\n    return result2;\n  }\n  unclosedBlock() {\n    let pos = this.current.source.start;\n    throw this.input.error(\"Unclosed block\", pos.line, pos.column);\n  }\n  unclosedBracket(bracket) {\n    throw this.input.error(\n      \"Unclosed bracket\",\n      { offset: bracket[2] },\n      { offset: bracket[2] + 1 }\n    );\n  }\n  unexpectedClose(token) {\n    throw this.input.error(\n      \"Unexpected }\",\n      { offset: token[2] },\n      { offset: token[2] + 1 }\n    );\n  }\n  unknownWord(tokens) {\n    throw this.input.error(\n      \"Unknown word\",\n      { offset: tokens[0][2] },\n      { offset: tokens[0][2] + tokens[0][1].length }\n    );\n  }\n  unnamedAtrule(node2, token) {\n    throw this.input.error(\n      \"At-rule without name\",\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    );\n  }\n};\nvar parser = Parser$1;\nlet Container$2 = container;\nlet Parser22 = parser;\nlet Input$2 = input;\nfunction parse$3(css, opts) {\n  let input2 = new Input$2(css, opts);\n  let parser2 = new Parser22(input2);\n  try {\n    parser2.parse();\n  } catch (e2) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (e2.name === \"CssSyntaxError\" && opts && opts.from) {\n        if (/\\.scss$/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser\";\n        } else if (/\\.sass/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser\";\n        } else if (/\\.less$/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser\";\n        }\n      }\n    }\n    throw e2;\n  }\n  return parser2.root;\n}\nvar parse_1 = parse$3;\nparse$3.default = parse$3;\nContainer$2.registerParse(parse$3);\nlet { isClean, my } = symbols;\nlet MapGenerator$1 = mapGenerator;\nlet stringify$2 = stringify_1;\nlet Container$1 = container;\nlet Document$2 = document$1;\nlet warnOnce$1 = warnOnce$2;\nlet Result$2 = result;\nlet parse$2 = parse_1;\nlet Root$3 = root;\nconst TYPE_TO_CLASS_NAME = {\n  atrule: \"AtRule\",\n  comment: \"Comment\",\n  decl: \"Declaration\",\n  document: \"Document\",\n  root: \"Root\",\n  rule: \"Rule\"\n};\nconst PLUGIN_PROPS = {\n  AtRule: true,\n  AtRuleExit: true,\n  Comment: true,\n  CommentExit: true,\n  Declaration: true,\n  DeclarationExit: true,\n  Document: true,\n  DocumentExit: true,\n  Once: true,\n  OnceExit: true,\n  postcssPlugin: true,\n  prepare: true,\n  Root: true,\n  RootExit: true,\n  Rule: true,\n  RuleExit: true\n};\nconst NOT_VISITORS = {\n  Once: true,\n  postcssPlugin: true,\n  prepare: true\n};\nconst CHILDREN = 0;\nfunction isPromise(obj) {\n  return typeof obj === \"object\" && typeof obj.then === \"function\";\n}\nfunction getEvents(node2) {\n  let key = false;\n  let type = TYPE_TO_CLASS_NAME[node2.type];\n  if (node2.type === \"decl\") {\n    key = node2.prop.toLowerCase();\n  } else if (node2.type === \"atrule\") {\n    key = node2.name.toLowerCase();\n  }\n  if (key && node2.append) {\n    return [\n      type,\n      type + \"-\" + key,\n      CHILDREN,\n      type + \"Exit\",\n      type + \"Exit-\" + key\n    ];\n  } else if (key) {\n    return [type, type + \"-\" + key, type + \"Exit\", type + \"Exit-\" + key];\n  } else if (node2.append) {\n    return [type, CHILDREN, type + \"Exit\"];\n  } else {\n    return [type, type + \"Exit\"];\n  }\n}\nfunction toStack(node2) {\n  let events;\n  if (node2.type === \"document\") {\n    events = [\"Document\", CHILDREN, \"DocumentExit\"];\n  } else if (node2.type === \"root\") {\n    events = [\"Root\", CHILDREN, \"RootExit\"];\n  } else {\n    events = getEvents(node2);\n  }\n  return {\n    eventIndex: 0,\n    events,\n    iterator: 0,\n    node: node2,\n    visitorIndex: 0,\n    visitors: []\n  };\n}\nfunction cleanMarks(node2) {\n  node2[isClean] = false;\n  if (node2.nodes) node2.nodes.forEach((i2) => cleanMarks(i2));\n  return node2;\n}\nlet postcss$2 = {};\nlet LazyResult$2 = class LazyResult2 {\n  constructor(processor2, css, opts) {\n    this.stringified = false;\n    this.processed = false;\n    let root2;\n    if (typeof css === \"object\" && css !== null && (css.type === \"root\" || css.type === \"document\")) {\n      root2 = cleanMarks(css);\n    } else if (css instanceof LazyResult2 || css instanceof Result$2) {\n      root2 = cleanMarks(css.root);\n      if (css.map) {\n        if (typeof opts.map === \"undefined\") opts.map = {};\n        if (!opts.map.inline) opts.map.inline = false;\n        opts.map.prev = css.map;\n      }\n    } else {\n      let parser2 = parse$2;\n      if (opts.syntax) parser2 = opts.syntax.parse;\n      if (opts.parser) parser2 = opts.parser;\n      if (parser2.parse) parser2 = parser2.parse;\n      try {\n        root2 = parser2(css, opts);\n      } catch (error) {\n        this.processed = true;\n        this.error = error;\n      }\n      if (root2 && !root2[my]) {\n        Container$1.rebuild(root2);\n      }\n    }\n    this.result = new Result$2(processor2, root2, opts);\n    this.helpers = { ...postcss$2, postcss: postcss$2, result: this.result };\n    this.plugins = this.processor.plugins.map((plugin22) => {\n      if (typeof plugin22 === \"object\" && plugin22.prepare) {\n        return { ...plugin22, ...plugin22.prepare(this.result) };\n      } else {\n        return plugin22;\n      }\n    });\n  }\n  async() {\n    if (this.error) return Promise.reject(this.error);\n    if (this.processed) return Promise.resolve(this.result);\n    if (!this.processing) {\n      this.processing = this.runAsync();\n    }\n    return this.processing;\n  }\n  catch(onRejected) {\n    return this.async().catch(onRejected);\n  }\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally);\n  }\n  getAsyncError() {\n    throw new Error(\"Use process(css).then(cb) to work with async plugins\");\n  }\n  handleError(error, node2) {\n    let plugin22 = this.result.lastPlugin;\n    try {\n      if (node2) node2.addToError(error);\n      this.error = error;\n      if (error.name === \"CssSyntaxError\" && !error.plugin) {\n        error.plugin = plugin22.postcssPlugin;\n        error.setMessage();\n      } else if (plugin22.postcssVersion) {\n        if (process.env.NODE_ENV !== \"production\") {\n          let pluginName = plugin22.postcssPlugin;\n          let pluginVer = plugin22.postcssVersion;\n          let runtimeVer = this.result.processor.version;\n          let a2 = pluginVer.split(\".\");\n          let b = runtimeVer.split(\".\");\n          if (a2[0] !== b[0] || parseInt(a2[1]) > parseInt(b[1])) {\n            console.error(\n              \"Unknown error from PostCSS plugin. Your current PostCSS version is \" + runtimeVer + \", but \" + pluginName + \" uses \" + pluginVer + \". Perhaps this is the source of the error below.\"\n            );\n          }\n        }\n      }\n    } catch (err) {\n      if (console && console.error) console.error(err);\n    }\n    return error;\n  }\n  prepareVisitors() {\n    this.listeners = {};\n    let add = (plugin22, type, cb) => {\n      if (!this.listeners[type]) this.listeners[type] = [];\n      this.listeners[type].push([plugin22, cb]);\n    };\n    for (let plugin22 of this.plugins) {\n      if (typeof plugin22 === \"object\") {\n        for (let event in plugin22) {\n          if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n            throw new Error(\n              `Unknown event ${event} in ${plugin22.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`\n            );\n          }\n          if (!NOT_VISITORS[event]) {\n            if (typeof plugin22[event] === \"object\") {\n              for (let filter in plugin22[event]) {\n                if (filter === \"*\") {\n                  add(plugin22, event, plugin22[event][filter]);\n                } else {\n                  add(\n                    plugin22,\n                    event + \"-\" + filter.toLowerCase(),\n                    plugin22[event][filter]\n                  );\n                }\n              }\n            } else if (typeof plugin22[event] === \"function\") {\n              add(plugin22, event, plugin22[event]);\n            }\n          }\n        }\n      }\n    }\n    this.hasListener = Object.keys(this.listeners).length > 0;\n  }\n  async runAsync() {\n    this.plugin = 0;\n    for (let i2 = 0; i2 < this.plugins.length; i2++) {\n      let plugin22 = this.plugins[i2];\n      let promise = this.runOnRoot(plugin22);\n      if (isPromise(promise)) {\n        try {\n          await promise;\n        } catch (error) {\n          throw this.handleError(error);\n        }\n      }\n    }\n    this.prepareVisitors();\n    if (this.hasListener) {\n      let root2 = this.result.root;\n      while (!root2[isClean]) {\n        root2[isClean] = true;\n        let stack = [toStack(root2)];\n        while (stack.length > 0) {\n          let promise = this.visitTick(stack);\n          if (isPromise(promise)) {\n            try {\n              await promise;\n            } catch (e2) {\n              let node2 = stack[stack.length - 1].node;\n              throw this.handleError(e2, node2);\n            }\n          }\n        }\n      }\n      if (this.listeners.OnceExit) {\n        for (let [plugin22, visitor] of this.listeners.OnceExit) {\n          this.result.lastPlugin = plugin22;\n          try {\n            if (root2.type === \"document\") {\n              let roots = root2.nodes.map(\n                (subRoot) => visitor(subRoot, this.helpers)\n              );\n              await Promise.all(roots);\n            } else {\n              await visitor(root2, this.helpers);\n            }\n          } catch (e2) {\n            throw this.handleError(e2);\n          }\n        }\n      }\n    }\n    this.processed = true;\n    return this.stringify();\n  }\n  runOnRoot(plugin22) {\n    this.result.lastPlugin = plugin22;\n    try {\n      if (typeof plugin22 === \"object\" && plugin22.Once) {\n        if (this.result.root.type === \"document\") {\n          let roots = this.result.root.nodes.map(\n            (root2) => plugin22.Once(root2, this.helpers)\n          );\n          if (isPromise(roots[0])) {\n            return Promise.all(roots);\n          }\n          return roots;\n        }\n        return plugin22.Once(this.result.root, this.helpers);\n      } else if (typeof plugin22 === \"function\") {\n        return plugin22(this.result.root, this.result);\n      }\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  }\n  stringify() {\n    if (this.error) throw this.error;\n    if (this.stringified) return this.result;\n    this.stringified = true;\n    this.sync();\n    let opts = this.result.opts;\n    let str = stringify$2;\n    if (opts.syntax) str = opts.syntax.stringify;\n    if (opts.stringifier) str = opts.stringifier;\n    if (str.stringify) str = str.stringify;\n    let map = new MapGenerator$1(str, this.result.root, this.result.opts);\n    let data = map.generate();\n    this.result.css = data[0];\n    this.result.map = data[1];\n    return this.result;\n  }\n  sync() {\n    if (this.error) throw this.error;\n    if (this.processed) return this.result;\n    this.processed = true;\n    if (this.processing) {\n      throw this.getAsyncError();\n    }\n    for (let plugin22 of this.plugins) {\n      let promise = this.runOnRoot(plugin22);\n      if (isPromise(promise)) {\n        throw this.getAsyncError();\n      }\n    }\n    this.prepareVisitors();\n    if (this.hasListener) {\n      let root2 = this.result.root;\n      while (!root2[isClean]) {\n        root2[isClean] = true;\n        this.walkSync(root2);\n      }\n      if (this.listeners.OnceExit) {\n        if (root2.type === \"document\") {\n          for (let subRoot of root2.nodes) {\n            this.visitSync(this.listeners.OnceExit, subRoot);\n          }\n        } else {\n          this.visitSync(this.listeners.OnceExit, root2);\n        }\n      }\n    }\n    return this.result;\n  }\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!(\"from\" in this.opts)) {\n        warnOnce$1(\n          \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n        );\n      }\n    }\n    return this.async().then(onFulfilled, onRejected);\n  }\n  toString() {\n    return this.css;\n  }\n  visitSync(visitors, node2) {\n    for (let [plugin22, visitor] of visitors) {\n      this.result.lastPlugin = plugin22;\n      let promise;\n      try {\n        promise = visitor(node2, this.helpers);\n      } catch (e2) {\n        throw this.handleError(e2, node2.proxyOf);\n      }\n      if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n        return true;\n      }\n      if (isPromise(promise)) {\n        throw this.getAsyncError();\n      }\n    }\n  }\n  visitTick(stack) {\n    let visit2 = stack[stack.length - 1];\n    let { node: node2, visitors } = visit2;\n    if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n      stack.pop();\n      return;\n    }\n    if (visitors.length > 0 && visit2.visitorIndex < visitors.length) {\n      let [plugin22, visitor] = visitors[visit2.visitorIndex];\n      visit2.visitorIndex += 1;\n      if (visit2.visitorIndex === visitors.length) {\n        visit2.visitors = [];\n        visit2.visitorIndex = 0;\n      }\n      this.result.lastPlugin = plugin22;\n      try {\n        return visitor(node2.toProxy(), this.helpers);\n      } catch (e2) {\n        throw this.handleError(e2, node2);\n      }\n    }\n    if (visit2.iterator !== 0) {\n      let iterator = visit2.iterator;\n      let child;\n      while (child = node2.nodes[node2.indexes[iterator]]) {\n        node2.indexes[iterator] += 1;\n        if (!child[isClean]) {\n          child[isClean] = true;\n          stack.push(toStack(child));\n          return;\n        }\n      }\n      visit2.iterator = 0;\n      delete node2.indexes[iterator];\n    }\n    let events = visit2.events;\n    while (visit2.eventIndex < events.length) {\n      let event = events[visit2.eventIndex];\n      visit2.eventIndex += 1;\n      if (event === CHILDREN) {\n        if (node2.nodes && node2.nodes.length) {\n          node2[isClean] = true;\n          visit2.iterator = node2.getIterator();\n        }\n        return;\n      } else if (this.listeners[event]) {\n        visit2.visitors = this.listeners[event];\n        return;\n      }\n    }\n    stack.pop();\n  }\n  walkSync(node2) {\n    node2[isClean] = true;\n    let events = getEvents(node2);\n    for (let event of events) {\n      if (event === CHILDREN) {\n        if (node2.nodes) {\n          node2.each((child) => {\n            if (!child[isClean]) this.walkSync(child);\n          });\n        }\n      } else {\n        let visitors = this.listeners[event];\n        if (visitors) {\n          if (this.visitSync(visitors, node2.toProxy())) return;\n        }\n      }\n    }\n  }\n  warnings() {\n    return this.sync().warnings();\n  }\n  get content() {\n    return this.stringify().content;\n  }\n  get css() {\n    return this.stringify().css;\n  }\n  get map() {\n    return this.stringify().map;\n  }\n  get messages() {\n    return this.sync().messages;\n  }\n  get opts() {\n    return this.result.opts;\n  }\n  get processor() {\n    return this.result.processor;\n  }\n  get root() {\n    return this.sync().root;\n  }\n  get [Symbol.toStringTag]() {\n    return \"LazyResult\";\n  }\n};\nLazyResult$2.registerPostcss = (dependant) => {\n  postcss$2 = dependant;\n};\nvar lazyResult = LazyResult$2;\nLazyResult$2.default = LazyResult$2;\nRoot$3.registerLazyResult(LazyResult$2);\nDocument$2.registerLazyResult(LazyResult$2);\nlet MapGenerator22 = mapGenerator;\nlet stringify$1 = stringify_1;\nlet warnOnce22 = warnOnce$2;\nlet parse$1 = parse_1;\nconst Result$1 = result;\nlet NoWorkResult$1 = class NoWorkResult2 {\n  constructor(processor2, css, opts) {\n    css = css.toString();\n    this.stringified = false;\n    this._processor = processor2;\n    this._css = css;\n    this._opts = opts;\n    this._map = void 0;\n    let root2;\n    let str = stringify$1;\n    this.result = new Result$1(this._processor, root2, this._opts);\n    this.result.css = css;\n    let self = this;\n    Object.defineProperty(this.result, \"root\", {\n      get() {\n        return self.root;\n      }\n    });\n    let map = new MapGenerator22(str, root2, this._opts, css);\n    if (map.isMap()) {\n      let [generatedCSS, generatedMap] = map.generate();\n      if (generatedCSS) {\n        this.result.css = generatedCSS;\n      }\n      if (generatedMap) {\n        this.result.map = generatedMap;\n      }\n    } else {\n      map.clearAnnotation();\n      this.result.css = map.css;\n    }\n  }\n  async() {\n    if (this.error) return Promise.reject(this.error);\n    return Promise.resolve(this.result);\n  }\n  catch(onRejected) {\n    return this.async().catch(onRejected);\n  }\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally);\n  }\n  sync() {\n    if (this.error) throw this.error;\n    return this.result;\n  }\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!(\"from\" in this._opts)) {\n        warnOnce22(\n          \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n        );\n      }\n    }\n    return this.async().then(onFulfilled, onRejected);\n  }\n  toString() {\n    return this._css;\n  }\n  warnings() {\n    return [];\n  }\n  get content() {\n    return this.result.css;\n  }\n  get css() {\n    return this.result.css;\n  }\n  get map() {\n    return this.result.map;\n  }\n  get messages() {\n    return [];\n  }\n  get opts() {\n    return this.result.opts;\n  }\n  get processor() {\n    return this.result.processor;\n  }\n  get root() {\n    if (this._root) {\n      return this._root;\n    }\n    let root2;\n    let parser2 = parse$1;\n    try {\n      root2 = parser2(this._css, this._opts);\n    } catch (error) {\n      this.error = error;\n    }\n    if (this.error) {\n      throw this.error;\n    } else {\n      this._root = root2;\n      return root2;\n    }\n  }\n  get [Symbol.toStringTag]() {\n    return \"NoWorkResult\";\n  }\n};\nvar noWorkResult = NoWorkResult$1;\nNoWorkResult$1.default = NoWorkResult$1;\nlet NoWorkResult22 = noWorkResult;\nlet LazyResult$1 = lazyResult;\nlet Document$1 = document$1;\nlet Root$2 = root;\nlet Processor$1 = class Processor2 {\n  constructor(plugins = []) {\n    this.version = \"8.4.38\";\n    this.plugins = this.normalize(plugins);\n  }\n  normalize(plugins) {\n    let normalized = [];\n    for (let i2 of plugins) {\n      if (i2.postcss === true) {\n        i2 = i2();\n      } else if (i2.postcss) {\n        i2 = i2.postcss;\n      }\n      if (typeof i2 === \"object\" && Array.isArray(i2.plugins)) {\n        normalized = normalized.concat(i2.plugins);\n      } else if (typeof i2 === \"object\" && i2.postcssPlugin) {\n        normalized.push(i2);\n      } else if (typeof i2 === \"function\") {\n        normalized.push(i2);\n      } else if (typeof i2 === \"object\" && (i2.parse || i2.stringify)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          throw new Error(\n            \"PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.\"\n          );\n        }\n      } else {\n        throw new Error(i2 + \" is not a PostCSS plugin\");\n      }\n    }\n    return normalized;\n  }\n  process(css, opts = {}) {\n    if (!this.plugins.length && !opts.parser && !opts.stringifier && !opts.syntax) {\n      return new NoWorkResult22(this, css, opts);\n    } else {\n      return new LazyResult$1(this, css, opts);\n    }\n  }\n  use(plugin22) {\n    this.plugins = this.plugins.concat(this.normalize([plugin22]));\n    return this;\n  }\n};\nvar processor = Processor$1;\nProcessor$1.default = Processor$1;\nRoot$2.registerProcessor(Processor$1);\nDocument$1.registerProcessor(Processor$1);\nlet Declaration$1 = declaration;\nlet PreviousMap22 = previousMap;\nlet Comment$1 = comment;\nlet AtRule$1 = atRule;\nlet Input$1 = input;\nlet Root$1 = root;\nlet Rule$1 = rule;\nfunction fromJSON$1(json, inputs) {\n  if (Array.isArray(json)) return json.map((n2) => fromJSON$1(n2));\n  let { inputs: ownInputs, ...defaults } = json;\n  if (ownInputs) {\n    inputs = [];\n    for (let input2 of ownInputs) {\n      let inputHydrated = { ...input2, __proto__: Input$1.prototype };\n      if (inputHydrated.map) {\n        inputHydrated.map = {\n          ...inputHydrated.map,\n          __proto__: PreviousMap22.prototype\n        };\n      }\n      inputs.push(inputHydrated);\n    }\n  }\n  if (defaults.nodes) {\n    defaults.nodes = json.nodes.map((n2) => fromJSON$1(n2, inputs));\n  }\n  if (defaults.source) {\n    let { inputId, ...source } = defaults.source;\n    defaults.source = source;\n    if (inputId != null) {\n      defaults.source.input = inputs[inputId];\n    }\n  }\n  if (defaults.type === \"root\") {\n    return new Root$1(defaults);\n  } else if (defaults.type === \"decl\") {\n    return new Declaration$1(defaults);\n  } else if (defaults.type === \"rule\") {\n    return new Rule$1(defaults);\n  } else if (defaults.type === \"comment\") {\n    return new Comment$1(defaults);\n  } else if (defaults.type === \"atrule\") {\n    return new AtRule$1(defaults);\n  } else {\n    throw new Error(\"Unknown node type: \" + json.type);\n  }\n}\nvar fromJSON_1 = fromJSON$1;\nfromJSON$1.default = fromJSON$1;\nlet CssSyntaxError22 = cssSyntaxError;\nlet Declaration22 = declaration;\nlet LazyResult22 = lazyResult;\nlet Container22 = container;\nlet Processor22 = processor;\nlet stringify = stringify_1;\nlet fromJSON = fromJSON_1;\nlet Document222 = document$1;\nlet Warning22 = warning;\nlet Comment22 = comment;\nlet AtRule22 = atRule;\nlet Result22 = result;\nlet Input22 = input;\nlet parse = parse_1;\nlet list = list_1;\nlet Rule22 = rule;\nlet Root22 = root;\nlet Node22 = node;\nfunction postcss(...plugins) {\n  if (plugins.length === 1 && Array.isArray(plugins[0])) {\n    plugins = plugins[0];\n  }\n  return new Processor22(plugins);\n}\npostcss.plugin = function plugin2(name, initializer) {\n  let warningPrinted = false;\n  function creator(...args) {\n    if (console && console.warn && !warningPrinted) {\n      warningPrinted = true;\n      console.warn(\n        name + \": postcss.plugin was deprecated. Migration guide:\\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration\"\n      );\n      if (process.env.LANG && process.env.LANG.startsWith(\"cn\")) {\n        console.warn(\n          name + \":  postcss.plugin . :\\nhttps://www.w3ctech.com/topic/2226\"\n        );\n      }\n    }\n    let transformer = initializer(...args);\n    transformer.postcssPlugin = name;\n    transformer.postcssVersion = new Processor22().version;\n    return transformer;\n  }\n  let cache;\n  Object.defineProperty(creator, \"postcss\", {\n    get() {\n      if (!cache) cache = creator();\n      return cache;\n    }\n  });\n  creator.process = function(css, processOpts, pluginOpts) {\n    return postcss([creator(pluginOpts)]).process(css, processOpts);\n  };\n  return creator;\n};\npostcss.stringify = stringify;\npostcss.parse = parse;\npostcss.fromJSON = fromJSON;\npostcss.list = list;\npostcss.comment = (defaults) => new Comment22(defaults);\npostcss.atRule = (defaults) => new AtRule22(defaults);\npostcss.decl = (defaults) => new Declaration22(defaults);\npostcss.rule = (defaults) => new Rule22(defaults);\npostcss.root = (defaults) => new Root22(defaults);\npostcss.document = (defaults) => new Document222(defaults);\npostcss.CssSyntaxError = CssSyntaxError22;\npostcss.Declaration = Declaration22;\npostcss.Container = Container22;\npostcss.Processor = Processor22;\npostcss.Document = Document222;\npostcss.Comment = Comment22;\npostcss.Warning = Warning22;\npostcss.AtRule = AtRule22;\npostcss.Result = Result22;\npostcss.Input = Input22;\npostcss.Rule = Rule22;\npostcss.Root = Root22;\npostcss.Node = Node22;\nLazyResult22.registerPostcss(postcss);\nvar postcss_1 = postcss;\npostcss.default = postcss;\nconst postcss$1 = /* @__PURE__ */ getDefaultExportFromCjs(postcss_1);\npostcss$1.stringify;\npostcss$1.fromJSON;\npostcss$1.plugin;\npostcss$1.parse;\npostcss$1.list;\npostcss$1.document;\npostcss$1.comment;\npostcss$1.atRule;\npostcss$1.rule;\npostcss$1.decl;\npostcss$1.root;\npostcss$1.CssSyntaxError;\npostcss$1.Declaration;\npostcss$1.Container;\npostcss$1.Processor;\npostcss$1.Document;\npostcss$1.Comment;\npostcss$1.Warning;\npostcss$1.AtRule;\npostcss$1.Result;\npostcss$1.Input;\npostcss$1.Rule;\npostcss$1.Root;\npostcss$1.Node;\nclass BaseRRNode {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any\n  constructor(..._args) {\n    __publicField2(this, \"parentElement\", null);\n    __publicField2(this, \"parentNode\", null);\n    __publicField2(this, \"ownerDocument\");\n    __publicField2(this, \"firstChild\", null);\n    __publicField2(this, \"lastChild\", null);\n    __publicField2(this, \"previousSibling\", null);\n    __publicField2(this, \"nextSibling\", null);\n    __publicField2(this, \"ELEMENT_NODE\", 1);\n    __publicField2(this, \"TEXT_NODE\", 3);\n    __publicField2(this, \"nodeType\");\n    __publicField2(this, \"nodeName\");\n    __publicField2(this, \"RRNodeType\");\n  }\n  get childNodes() {\n    const childNodes2 = [];\n    let childIterator = this.firstChild;\n    while (childIterator) {\n      childNodes2.push(childIterator);\n      childIterator = childIterator.nextSibling;\n    }\n    return childNodes2;\n  }\n  contains(node2) {\n    if (!(node2 instanceof BaseRRNode)) return false;\n    else if (node2.ownerDocument !== this.ownerDocument) return false;\n    else if (node2 === this) return true;\n    while (node2.parentNode) {\n      if (node2.parentNode === this) return true;\n      node2 = node2.parentNode;\n    }\n    return false;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  appendChild(_newChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  insertBefore(_newChild, _refChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  removeChild(_node) {\n    throw new Error(\n      `RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  toString() {\n    return \"RRNode\";\n  }\n}\nconst testableAccessors = {\n  Node: [\n    \"childNodes\",\n    \"parentNode\",\n    \"parentElement\",\n    \"textContent\",\n    \"ownerDocument\"\n  ],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype = {};\nconst isAngularZonePresent = () => {\n  return !!globalThis.Zone;\n};\nfunction getUntaintedPrototype(key) {\n  if (untaintedBasePrototype[key])\n    return untaintedBasePrototype[key];\n  const defaultObj = globalThis[key];\n  const defaultPrototype = defaultObj.prototype;\n  const accessorNames = key in testableAccessors ? testableAccessors[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods ? testableMethods[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods && !isAngularZonePresent()) {\n    untaintedBasePrototype[key] = defaultObj.prototype;\n    return defaultObj.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return defaultObj.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache = {};\nfunction getUntaintedAccessor(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache[cacheKey])\n    return untaintedAccessorCache[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache = {};\nfunction getUntaintedMethod(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache[cacheKey])\n    return untaintedMethodCache[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction ownerDocument(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"ownerDocument\");\n}\nfunction childNodes(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentElement\");\n}\nfunction textContent(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"textContent\");\n}\nfunction contains(n2, other) {\n  return getUntaintedMethod(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode(n2) {\n  return getUntaintedMethod(\"Node\", n2, \"getRootNode\")();\n}\nfunction host(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor() {\n  return getUntaintedPrototype(\"MutationObserver\").constructor;\n}\nfunction patch(source, name, replacement) {\n  try {\n    if (!(name in source)) {\n      return () => {\n      };\n    }\n    const original = source[name];\n    const wrapped = replacement(original);\n    if (typeof wrapped === \"function\") {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __rrweb_original__: {\n          enumerable: false,\n          value: original\n        }\n      });\n    }\n    source[name] = wrapped;\n    return () => {\n      source[name] = original;\n    };\n  } catch {\n    return () => {\n    };\n  }\n}\nconst index = {\n  ownerDocument,\n  childNodes,\n  parentNode,\n  parentElement,\n  textContent,\n  contains,\n  getRootNode,\n  host,\n  styleSheets,\n  shadowRoot,\n  querySelector,\n  querySelectorAll,\n  mutationObserver: mutationObserverCtor,\n  patch\n};\nfunction on(type, fn, target = document) {\n  const options = { capture: true, passive: true };\n  target.addEventListener(type, fn, options);\n  return () => target.removeEventListener(type, fn, options);\n}\nconst DEPARTED_MIRROR_ACCESS_WARNING = \"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";\nlet _mirror = {\n  map: {},\n  getId() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return -1;\n  },\n  getNode() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return null;\n  },\n  removeNodeFromMap() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  },\n  has() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return false;\n  },\n  reset() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  }\n};\nif (typeof window !== \"undefined\" && window.Proxy && window.Reflect) {\n  _mirror = new Proxy(_mirror, {\n    get(target, prop, receiver) {\n      if (prop === \"map\") {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  });\n}\nfunction throttle(func, wait, options = {}) {\n  let timeout = null;\n  let previous = 0;\n  return function(...args) {\n    const now = Date.now();\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n    const remaining = wait - (now - previous);\n    const context = this;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      func.apply(context, args);\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(() => {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        func.apply(context, args);\n      }, remaining);\n    }\n  };\n}\nfunction hookSetter(target, key, d, isRevoked, win = window) {\n  const original = win.Object.getOwnPropertyDescriptor(target, key);\n  win.Object.defineProperty(\n    target,\n    key,\n    isRevoked ? d : {\n      set(value) {\n        setTimeout(() => {\n          d.set.call(this, value);\n        }, 0);\n        if (original && original.set) {\n          original.set.call(this, value);\n        }\n      }\n    }\n  );\n  return () => hookSetter(target, key, original || {}, true);\n}\nlet nowTimestamp = Date.now;\nif (!/* @__PURE__ */ /[1-9][0-9]{12}/.test(Date.now().toString())) {\n  nowTimestamp = () => (/* @__PURE__ */ new Date()).getTime();\n}\nfunction getWindowScroll(win) {\n  var _a2, _b, _c, _d;\n  const doc = win.document;\n  return {\n    left: doc.scrollingElement ? doc.scrollingElement.scrollLeft : win.pageXOffset !== void 0 ? win.pageXOffset : doc.documentElement.scrollLeft || (doc == null ? void 0 : doc.body) && ((_a2 = index.parentElement(doc.body)) == null ? void 0 : _a2.scrollLeft) || ((_b = doc == null ? void 0 : doc.body) == null ? void 0 : _b.scrollLeft) || 0,\n    top: doc.scrollingElement ? doc.scrollingElement.scrollTop : win.pageYOffset !== void 0 ? win.pageYOffset : (doc == null ? void 0 : doc.documentElement.scrollTop) || (doc == null ? void 0 : doc.body) && ((_c = index.parentElement(doc.body)) == null ? void 0 : _c.scrollTop) || ((_d = doc == null ? void 0 : doc.body) == null ? void 0 : _d.scrollTop) || 0\n  };\n}\nfunction getWindowHeight() {\n  return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;\n}\nfunction getWindowWidth() {\n  return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;\n}\nfunction closestElementOfNode(node2) {\n  if (!node2) {\n    return null;\n  }\n  const el = node2.nodeType === node2.ELEMENT_NODE ? node2 : index.parentElement(node2);\n  return el;\n}\nfunction isBlocked(node2, blockClass, blockSelector, checkAncestors) {\n  if (!node2) {\n    return false;\n  }\n  const el = closestElementOfNode(node2);\n  if (!el) {\n    return false;\n  }\n  try {\n    if (typeof blockClass === \"string\") {\n      if (el.classList.contains(blockClass)) return true;\n      if (checkAncestors && el.closest(\".\" + blockClass) !== null) return true;\n    } else {\n      if (classMatchesRegex(el, blockClass, checkAncestors)) return true;\n    }\n  } catch (e2) {\n  }\n  if (blockSelector) {\n    if (el.matches(blockSelector)) return true;\n    if (checkAncestors && el.closest(blockSelector) !== null) return true;\n  }\n  return false;\n}\nfunction isSerialized(n2, mirror2) {\n  return mirror2.getId(n2) !== -1;\n}\nfunction isIgnored(n2, mirror2, slimDOMOptions) {\n  if (n2.tagName === \"TITLE\" && slimDOMOptions.headTitleMutations) {\n    return true;\n  }\n  return mirror2.getId(n2) === IGNORED_NODE;\n}\nfunction isAncestorRemoved(target, mirror2) {\n  if (isShadowRoot(target)) {\n    return false;\n  }\n  const id = mirror2.getId(target);\n  if (!mirror2.has(id)) {\n    return true;\n  }\n  const parent = index.parentNode(target);\n  if (parent && parent.nodeType === target.DOCUMENT_NODE) {\n    return false;\n  }\n  if (!parent) {\n    return true;\n  }\n  return isAncestorRemoved(parent, mirror2);\n}\nfunction legacy_isTouchEvent(event) {\n  return Boolean(event.changedTouches);\n}\nfunction polyfill$1(win = window) {\n  if (\"NodeList\" in win && !win.NodeList.prototype.forEach) {\n    win.NodeList.prototype.forEach = Array.prototype.forEach;\n  }\n  if (\"DOMTokenList\" in win && !win.DOMTokenList.prototype.forEach) {\n    win.DOMTokenList.prototype.forEach = Array.prototype.forEach;\n  }\n}\nfunction isSerializedIframe(n2, mirror2) {\n  return Boolean(n2.nodeName === \"IFRAME\" && mirror2.getMeta(n2));\n}\nfunction isSerializedStylesheet(n2, mirror2) {\n  return Boolean(\n    n2.nodeName === \"LINK\" && n2.nodeType === n2.ELEMENT_NODE && n2.getAttribute && n2.getAttribute(\"rel\") === \"stylesheet\" && mirror2.getMeta(n2)\n  );\n}\nfunction hasShadowRoot(n2) {\n  if (!n2) return false;\n  if (n2 instanceof BaseRRNode && \"shadowRoot\" in n2) {\n    return Boolean(n2.shadowRoot);\n  }\n  return Boolean(index.shadowRoot(n2));\n}\nclass StyleSheetMirror {\n  constructor() {\n    __publicField(this, \"id\", 1);\n    __publicField(this, \"styleIDMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"idStyleMap\", /* @__PURE__ */ new Map());\n  }\n  getId(stylesheet) {\n    return this.styleIDMap.get(stylesheet) ?? -1;\n  }\n  has(stylesheet) {\n    return this.styleIDMap.has(stylesheet);\n  }\n  /**\n   * @returns If the stylesheet is in the mirror, returns the id of the stylesheet. If not, return the new assigned id.\n   */\n  add(stylesheet, id) {\n    if (this.has(stylesheet)) return this.getId(stylesheet);\n    let newId;\n    if (id === void 0) {\n      newId = this.id++;\n    } else newId = id;\n    this.styleIDMap.set(stylesheet, newId);\n    this.idStyleMap.set(newId, stylesheet);\n    return newId;\n  }\n  getStyle(id) {\n    return this.idStyleMap.get(id) || null;\n  }\n  reset() {\n    this.styleIDMap = /* @__PURE__ */ new WeakMap();\n    this.idStyleMap = /* @__PURE__ */ new Map();\n    this.id = 1;\n  }\n  generateId() {\n    return this.id++;\n  }\n}\nfunction getShadowHost(n2) {\n  var _a2;\n  let shadowHost = null;\n  if (\"getRootNode\" in n2 && ((_a2 = index.getRootNode(n2)) == null ? void 0 : _a2.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && index.host(index.getRootNode(n2)))\n    shadowHost = index.host(index.getRootNode(n2));\n  return shadowHost;\n}\nfunction getRootShadowHost(n2) {\n  let rootShadowHost = n2;\n  let shadowHost;\n  while (shadowHost = getShadowHost(rootShadowHost))\n    rootShadowHost = shadowHost;\n  return rootShadowHost;\n}\nfunction shadowHostInDom(n2) {\n  const doc = index.ownerDocument(n2);\n  if (!doc) return false;\n  const shadowHost = getRootShadowHost(n2);\n  return index.contains(doc, shadowHost);\n}\nfunction inDom(n2) {\n  const doc = index.ownerDocument(n2);\n  if (!doc) return false;\n  return index.contains(doc, n2) || shadowHostInDom(n2);\n}\nvar EventType = /* @__PURE__ */ ((EventType2) => {\n  EventType2[EventType2[\"DomContentLoaded\"] = 0] = \"DomContentLoaded\";\n  EventType2[EventType2[\"Load\"] = 1] = \"Load\";\n  EventType2[EventType2[\"FullSnapshot\"] = 2] = \"FullSnapshot\";\n  EventType2[EventType2[\"IncrementalSnapshot\"] = 3] = \"IncrementalSnapshot\";\n  EventType2[EventType2[\"Meta\"] = 4] = \"Meta\";\n  EventType2[EventType2[\"Custom\"] = 5] = \"Custom\";\n  EventType2[EventType2[\"Plugin\"] = 6] = \"Plugin\";\n  return EventType2;\n})(EventType || {});\nvar IncrementalSource = /* @__PURE__ */ ((IncrementalSource2) => {\n  IncrementalSource2[IncrementalSource2[\"Mutation\"] = 0] = \"Mutation\";\n  IncrementalSource2[IncrementalSource2[\"MouseMove\"] = 1] = \"MouseMove\";\n  IncrementalSource2[IncrementalSource2[\"MouseInteraction\"] = 2] = \"MouseInteraction\";\n  IncrementalSource2[IncrementalSource2[\"Scroll\"] = 3] = \"Scroll\";\n  IncrementalSource2[IncrementalSource2[\"ViewportResize\"] = 4] = \"ViewportResize\";\n  IncrementalSource2[IncrementalSource2[\"Input\"] = 5] = \"Input\";\n  IncrementalSource2[IncrementalSource2[\"TouchMove\"] = 6] = \"TouchMove\";\n  IncrementalSource2[IncrementalSource2[\"MediaInteraction\"] = 7] = \"MediaInteraction\";\n  IncrementalSource2[IncrementalSource2[\"StyleSheetRule\"] = 8] = \"StyleSheetRule\";\n  IncrementalSource2[IncrementalSource2[\"CanvasMutation\"] = 9] = \"CanvasMutation\";\n  IncrementalSource2[IncrementalSource2[\"Font\"] = 10] = \"Font\";\n  IncrementalSource2[IncrementalSource2[\"Log\"] = 11] = \"Log\";\n  IncrementalSource2[IncrementalSource2[\"Drag\"] = 12] = \"Drag\";\n  IncrementalSource2[IncrementalSource2[\"StyleDeclaration\"] = 13] = \"StyleDeclaration\";\n  IncrementalSource2[IncrementalSource2[\"Selection\"] = 14] = \"Selection\";\n  IncrementalSource2[IncrementalSource2[\"AdoptedStyleSheet\"] = 15] = \"AdoptedStyleSheet\";\n  IncrementalSource2[IncrementalSource2[\"CustomElement\"] = 16] = \"CustomElement\";\n  return IncrementalSource2;\n})(IncrementalSource || {});\nvar MouseInteractions = /* @__PURE__ */ ((MouseInteractions2) => {\n  MouseInteractions2[MouseInteractions2[\"MouseUp\"] = 0] = \"MouseUp\";\n  MouseInteractions2[MouseInteractions2[\"MouseDown\"] = 1] = \"MouseDown\";\n  MouseInteractions2[MouseInteractions2[\"Click\"] = 2] = \"Click\";\n  MouseInteractions2[MouseInteractions2[\"ContextMenu\"] = 3] = \"ContextMenu\";\n  MouseInteractions2[MouseInteractions2[\"DblClick\"] = 4] = \"DblClick\";\n  MouseInteractions2[MouseInteractions2[\"Focus\"] = 5] = \"Focus\";\n  MouseInteractions2[MouseInteractions2[\"Blur\"] = 6] = \"Blur\";\n  MouseInteractions2[MouseInteractions2[\"TouchStart\"] = 7] = \"TouchStart\";\n  MouseInteractions2[MouseInteractions2[\"TouchMove_Departed\"] = 8] = \"TouchMove_Departed\";\n  MouseInteractions2[MouseInteractions2[\"TouchEnd\"] = 9] = \"TouchEnd\";\n  MouseInteractions2[MouseInteractions2[\"TouchCancel\"] = 10] = \"TouchCancel\";\n  return MouseInteractions2;\n})(MouseInteractions || {});\nvar PointerTypes = /* @__PURE__ */ ((PointerTypes2) => {\n  PointerTypes2[PointerTypes2[\"Mouse\"] = 0] = \"Mouse\";\n  PointerTypes2[PointerTypes2[\"Pen\"] = 1] = \"Pen\";\n  PointerTypes2[PointerTypes2[\"Touch\"] = 2] = \"Touch\";\n  return PointerTypes2;\n})(PointerTypes || {});\nvar CanvasContext = /* @__PURE__ */ ((CanvasContext2) => {\n  CanvasContext2[CanvasContext2[\"2D\"] = 0] = \"2D\";\n  CanvasContext2[CanvasContext2[\"WebGL\"] = 1] = \"WebGL\";\n  CanvasContext2[CanvasContext2[\"WebGL2\"] = 2] = \"WebGL2\";\n  return CanvasContext2;\n})(CanvasContext || {});\nvar MediaInteractions = /* @__PURE__ */ ((MediaInteractions2) => {\n  MediaInteractions2[MediaInteractions2[\"Play\"] = 0] = \"Play\";\n  MediaInteractions2[MediaInteractions2[\"Pause\"] = 1] = \"Pause\";\n  MediaInteractions2[MediaInteractions2[\"Seeked\"] = 2] = \"Seeked\";\n  MediaInteractions2[MediaInteractions2[\"VolumeChange\"] = 3] = \"VolumeChange\";\n  MediaInteractions2[MediaInteractions2[\"RateChange\"] = 4] = \"RateChange\";\n  return MediaInteractions2;\n})(MediaInteractions || {});\nvar NodeType = /* @__PURE__ */ ((NodeType2) => {\n  NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n  NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n  NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n  NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n  NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n  NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n  return NodeType2;\n})(NodeType || {});\nfunction isNodeInLinkedList(n2) {\n  return \"__ln\" in n2;\n}\nclass DoubleLinkedList {\n  constructor() {\n    __publicField(this, \"length\", 0);\n    __publicField(this, \"head\", null);\n    __publicField(this, \"tail\", null);\n  }\n  get(position) {\n    if (position >= this.length) {\n      throw new Error(\"Position outside of list range\");\n    }\n    let current = this.head;\n    for (let index2 = 0; index2 < position; index2++) {\n      current = (current == null ? void 0 : current.next) || null;\n    }\n    return current;\n  }\n  addNode(n2) {\n    const node2 = {\n      value: n2,\n      previous: null,\n      next: null\n    };\n    n2.__ln = node2;\n    if (n2.previousSibling && isNodeInLinkedList(n2.previousSibling)) {\n      const current = n2.previousSibling.__ln.next;\n      node2.next = current;\n      node2.previous = n2.previousSibling.__ln;\n      n2.previousSibling.__ln.next = node2;\n      if (current) {\n        current.previous = node2;\n      }\n    } else if (n2.nextSibling && isNodeInLinkedList(n2.nextSibling) && n2.nextSibling.__ln.previous) {\n      const current = n2.nextSibling.__ln.previous;\n      node2.previous = current;\n      node2.next = n2.nextSibling.__ln;\n      n2.nextSibling.__ln.previous = node2;\n      if (current) {\n        current.next = node2;\n      }\n    } else {\n      if (this.head) {\n        this.head.previous = node2;\n      }\n      node2.next = this.head;\n      this.head = node2;\n    }\n    if (node2.next === null) {\n      this.tail = node2;\n    }\n    this.length++;\n  }\n  removeNode(n2) {\n    const current = n2.__ln;\n    if (!this.head) {\n      return;\n    }\n    if (!current.previous) {\n      this.head = current.next;\n      if (this.head) {\n        this.head.previous = null;\n      } else {\n        this.tail = null;\n      }\n    } else {\n      current.previous.next = current.next;\n      if (current.next) {\n        current.next.previous = current.previous;\n      } else {\n        this.tail = current.previous;\n      }\n    }\n    if (n2.__ln) {\n      delete n2.__ln;\n    }\n    this.length--;\n  }\n}\nconst moveKey = (id, parentId) => `${id}@${parentId}`;\nclass MutationBuffer {\n  constructor() {\n    __publicField(this, \"frozen\", false);\n    __publicField(this, \"locked\", false);\n    __publicField(this, \"texts\", []);\n    __publicField(this, \"attributes\", []);\n    __publicField(this, \"attributeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"removes\", []);\n    __publicField(this, \"mapRemoves\", []);\n    __publicField(this, \"movedMap\", {});\n    __publicField(this, \"addedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"movedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"droppedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"removesSubTreeCache\", /* @__PURE__ */ new Set());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"blockClass\");\n    __publicField(this, \"blockSelector\");\n    __publicField(this, \"maskTextClass\");\n    __publicField(this, \"maskTextSelector\");\n    __publicField(this, \"inlineStylesheet\");\n    __publicField(this, \"maskInputOptions\");\n    __publicField(this, \"maskTextFn\");\n    __publicField(this, \"maskInputFn\");\n    __publicField(this, \"keepIframeSrcFn\");\n    __publicField(this, \"recordCanvas\");\n    __publicField(this, \"inlineImages\");\n    __publicField(this, \"slimDOMOptions\");\n    __publicField(this, \"dataURLOptions\");\n    __publicField(this, \"doc\");\n    __publicField(this, \"mirror\");\n    __publicField(this, \"iframeManager\");\n    __publicField(this, \"stylesheetManager\");\n    __publicField(this, \"shadowDomManager\");\n    __publicField(this, \"canvasManager\");\n    __publicField(this, \"processedNodeManager\");\n    __publicField(this, \"unattachedDoc\");\n    __publicField(this, \"processMutations\", (mutations) => {\n      mutations.forEach(this.processMutation);\n      this.emit();\n    });\n    __publicField(this, \"emit\", () => {\n      if (this.frozen || this.locked) {\n        return;\n      }\n      const adds = [];\n      const addedIds = /* @__PURE__ */ new Set();\n      const addList = new DoubleLinkedList();\n      const getNextId = (n2) => {\n        let ns = n2;\n        let nextId = IGNORED_NODE;\n        while (nextId === IGNORED_NODE) {\n          ns = ns && ns.nextSibling;\n          nextId = ns && this.mirror.getId(ns);\n        }\n        return nextId;\n      };\n      const pushAdd = (n2) => {\n        const parent = index.parentNode(n2);\n        if (!parent || !inDom(n2)) {\n          return;\n        }\n        let cssCaptured = false;\n        if (n2.nodeType === Node.TEXT_NODE) {\n          const parentTag = parent.tagName;\n          if (parentTag === \"TEXTAREA\") {\n            return;\n          } else if (parentTag === \"STYLE\" && this.addedSet.has(parent)) {\n            cssCaptured = true;\n          }\n        }\n        const parentId = isShadowRoot(parent) ? this.mirror.getId(getShadowHost(n2)) : this.mirror.getId(parent);\n        const nextId = getNextId(n2);\n        if (parentId === -1 || nextId === -1) {\n          return addList.addNode(n2);\n        }\n        const sn = serializeNodeWithId(n2, {\n          doc: this.doc,\n          mirror: this.mirror,\n          blockClass: this.blockClass,\n          blockSelector: this.blockSelector,\n          maskTextClass: this.maskTextClass,\n          maskTextSelector: this.maskTextSelector,\n          skipChild: true,\n          newlyAddedElement: true,\n          inlineStylesheet: this.inlineStylesheet,\n          maskInputOptions: this.maskInputOptions,\n          maskTextFn: this.maskTextFn,\n          maskInputFn: this.maskInputFn,\n          slimDOMOptions: this.slimDOMOptions,\n          dataURLOptions: this.dataURLOptions,\n          recordCanvas: this.recordCanvas,\n          inlineImages: this.inlineImages,\n          onSerialize: (currentN) => {\n            if (isSerializedIframe(currentN, this.mirror)) {\n              this.iframeManager.addIframe(currentN);\n            }\n            if (isSerializedStylesheet(currentN, this.mirror)) {\n              this.stylesheetManager.trackLinkElement(\n                currentN\n              );\n            }\n            if (hasShadowRoot(n2)) {\n              this.shadowDomManager.addShadowRoot(index.shadowRoot(n2), this.doc);\n            }\n          },\n          onIframeLoad: (iframe, childSn) => {\n            this.iframeManager.attachIframe(iframe, childSn);\n            this.shadowDomManager.observeAttachShadow(iframe);\n          },\n          onStylesheetLoad: (link, childSn) => {\n            this.stylesheetManager.attachLinkElement(link, childSn);\n          },\n          cssCaptured\n        });\n        if (sn) {\n          adds.push({\n            parentId,\n            nextId,\n            node: sn\n          });\n          addedIds.add(sn.id);\n        }\n      };\n      while (this.mapRemoves.length) {\n        this.mirror.removeNodeFromMap(this.mapRemoves.shift());\n      }\n      for (const n2 of this.movedSet) {\n        if (isParentRemoved(this.removesSubTreeCache, n2, this.mirror) && !this.movedSet.has(index.parentNode(n2))) {\n          continue;\n        }\n        pushAdd(n2);\n      }\n      for (const n2 of this.addedSet) {\n        if (!isAncestorInSet(this.droppedSet, n2) && !isParentRemoved(this.removesSubTreeCache, n2, this.mirror)) {\n          pushAdd(n2);\n        } else if (isAncestorInSet(this.movedSet, n2)) {\n          pushAdd(n2);\n        } else {\n          this.droppedSet.add(n2);\n        }\n      }\n      let candidate = null;\n      while (addList.length) {\n        let node2 = null;\n        if (candidate) {\n          const parentId = this.mirror.getId(index.parentNode(candidate.value));\n          const nextId = getNextId(candidate.value);\n          if (parentId !== -1 && nextId !== -1) {\n            node2 = candidate;\n          }\n        }\n        if (!node2) {\n          let tailNode = addList.tail;\n          while (tailNode) {\n            const _node = tailNode;\n            tailNode = tailNode.previous;\n            if (_node) {\n              const parentId = this.mirror.getId(index.parentNode(_node.value));\n              const nextId = getNextId(_node.value);\n              if (nextId === -1) continue;\n              else if (parentId !== -1) {\n                node2 = _node;\n                break;\n              } else {\n                const unhandledNode = _node.value;\n                const parent = index.parentNode(unhandledNode);\n                if (parent && parent.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n                  const shadowHost = index.host(parent);\n                  const parentId2 = this.mirror.getId(shadowHost);\n                  if (parentId2 !== -1) {\n                    node2 = _node;\n                    break;\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (!node2) {\n          while (addList.head) {\n            addList.removeNode(addList.head.value);\n          }\n          break;\n        }\n        candidate = node2.previous;\n        addList.removeNode(node2.value);\n        pushAdd(node2.value);\n      }\n      const payload = {\n        texts: this.texts.map((text) => {\n          const n2 = text.node;\n          const parent = index.parentNode(n2);\n          if (parent && parent.tagName === \"TEXTAREA\") {\n            this.genTextAreaValueMutation(parent);\n          }\n          return {\n            id: this.mirror.getId(n2),\n            value: text.value\n          };\n        }).filter((text) => !addedIds.has(text.id)).filter((text) => this.mirror.has(text.id)),\n        attributes: this.attributes.map((attribute) => {\n          const { attributes } = attribute;\n          if (typeof attributes.style === \"string\") {\n            const diffAsStr = JSON.stringify(attribute.styleDiff);\n            const unchangedAsStr = JSON.stringify(attribute._unchangedStyles);\n            if (diffAsStr.length < attributes.style.length) {\n              if ((diffAsStr + unchangedAsStr).split(\"var(\").length === attributes.style.split(\"var(\").length) {\n                attributes.style = attribute.styleDiff;\n              }\n            }\n          }\n          return {\n            id: this.mirror.getId(attribute.node),\n            attributes\n          };\n        }).filter((attribute) => !addedIds.has(attribute.id)).filter((attribute) => this.mirror.has(attribute.id)),\n        removes: this.removes,\n        adds\n      };\n      if (!payload.texts.length && !payload.attributes.length && !payload.removes.length && !payload.adds.length) {\n        return;\n      }\n      this.texts = [];\n      this.attributes = [];\n      this.attributeMap = /* @__PURE__ */ new WeakMap();\n      this.removes = [];\n      this.addedSet = /* @__PURE__ */ new Set();\n      this.movedSet = /* @__PURE__ */ new Set();\n      this.droppedSet = /* @__PURE__ */ new Set();\n      this.removesSubTreeCache = /* @__PURE__ */ new Set();\n      this.movedMap = {};\n      this.mutationCb(payload);\n    });\n    __publicField(this, \"genTextAreaValueMutation\", (textarea) => {\n      let item = this.attributeMap.get(textarea);\n      if (!item) {\n        item = {\n          node: textarea,\n          attributes: {},\n          styleDiff: {},\n          _unchangedStyles: {}\n        };\n        this.attributes.push(item);\n        this.attributeMap.set(textarea, item);\n      }\n      const value = Array.from(\n        index.childNodes(textarea),\n        (cn) => index.textContent(cn) || \"\"\n      ).join(\"\");\n      item.attributes.value = maskInputValue({\n        element: textarea,\n        maskInputOptions: this.maskInputOptions,\n        tagName: textarea.tagName,\n        type: getInputType(textarea),\n        value,\n        maskInputFn: this.maskInputFn\n      });\n    });\n    __publicField(this, \"processMutation\", (m) => {\n      if (isIgnored(m.target, this.mirror, this.slimDOMOptions)) {\n        return;\n      }\n      switch (m.type) {\n        case \"characterData\": {\n          const value = index.textContent(m.target);\n          if (!isBlocked(m.target, this.blockClass, this.blockSelector, false) && value !== m.oldValue) {\n            this.texts.push({\n              value: needMaskingText(\n                m.target,\n                this.maskTextClass,\n                this.maskTextSelector,\n                true\n                // checkAncestors\n              ) && value ? this.maskTextFn ? this.maskTextFn(value, closestElementOfNode(m.target)) : value.replace(/[\\S]/g, \"*\") : value,\n              node: m.target\n            });\n          }\n          break;\n        }\n        case \"attributes\": {\n          const target = m.target;\n          let attributeName = m.attributeName;\n          let value = m.target.getAttribute(attributeName);\n          if (attributeName === \"value\") {\n            const type = getInputType(target);\n            value = maskInputValue({\n              element: target,\n              maskInputOptions: this.maskInputOptions,\n              tagName: target.tagName,\n              type,\n              value,\n              maskInputFn: this.maskInputFn\n            });\n          }\n          if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || value === m.oldValue) {\n            return;\n          }\n          let item = this.attributeMap.get(m.target);\n          if (target.tagName === \"IFRAME\" && attributeName === \"src\" && !this.keepIframeSrcFn(value)) {\n            if (!target.contentDocument) {\n              attributeName = \"rr_src\";\n            } else {\n              return;\n            }\n          }\n          if (!item) {\n            item = {\n              node: m.target,\n              attributes: {},\n              styleDiff: {},\n              _unchangedStyles: {}\n            };\n            this.attributes.push(item);\n            this.attributeMap.set(m.target, item);\n          }\n          if (attributeName === \"type\" && target.tagName === \"INPUT\" && (m.oldValue || \"\").toLowerCase() === \"password\") {\n            target.setAttribute(\"data-rr-is-password\", \"true\");\n          }\n          if (!ignoreAttribute(target.tagName, attributeName)) {\n            item.attributes[attributeName] = transformAttribute(\n              this.doc,\n              toLowerCase(target.tagName),\n              toLowerCase(attributeName),\n              value\n            );\n            if (attributeName === \"style\") {\n              if (!this.unattachedDoc) {\n                try {\n                  this.unattachedDoc = document.implementation.createHTMLDocument();\n                } catch (e2) {\n                  this.unattachedDoc = this.doc;\n                }\n              }\n              const old = this.unattachedDoc.createElement(\"span\");\n              if (m.oldValue) {\n                old.setAttribute(\"style\", m.oldValue);\n              }\n              for (const pname of Array.from(target.style)) {\n                const newValue = target.style.getPropertyValue(pname);\n                const newPriority = target.style.getPropertyPriority(pname);\n                if (newValue !== old.style.getPropertyValue(pname) || newPriority !== old.style.getPropertyPriority(pname)) {\n                  if (newPriority === \"\") {\n                    item.styleDiff[pname] = newValue;\n                  } else {\n                    item.styleDiff[pname] = [newValue, newPriority];\n                  }\n                } else {\n                  item._unchangedStyles[pname] = [newValue, newPriority];\n                }\n              }\n              for (const pname of Array.from(old.style)) {\n                if (target.style.getPropertyValue(pname) === \"\") {\n                  item.styleDiff[pname] = false;\n                }\n              }\n            } else if (attributeName === \"open\" && target.tagName === \"DIALOG\") {\n              if (target.matches(\"dialog:modal\")) {\n                item.attributes[\"rr_open_mode\"] = \"modal\";\n              } else {\n                item.attributes[\"rr_open_mode\"] = \"non-modal\";\n              }\n            }\n          }\n          break;\n        }\n        case \"childList\": {\n          if (isBlocked(m.target, this.blockClass, this.blockSelector, true))\n            return;\n          if (m.target.tagName === \"TEXTAREA\") {\n            this.genTextAreaValueMutation(m.target);\n            return;\n          }\n          m.addedNodes.forEach((n2) => this.genAdds(n2, m.target));\n          m.removedNodes.forEach((n2) => {\n            const nodeId = this.mirror.getId(n2);\n            const parentId = isShadowRoot(m.target) ? this.mirror.getId(index.host(m.target)) : this.mirror.getId(m.target);\n            if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || isIgnored(n2, this.mirror, this.slimDOMOptions) || !isSerialized(n2, this.mirror)) {\n              return;\n            }\n            if (this.addedSet.has(n2)) {\n              deepDelete(this.addedSet, n2);\n              this.droppedSet.add(n2);\n            } else if (this.addedSet.has(m.target) && nodeId === -1) ;\n            else if (isAncestorRemoved(m.target, this.mirror)) ;\n            else if (this.movedSet.has(n2) && this.movedMap[moveKey(nodeId, parentId)]) {\n              deepDelete(this.movedSet, n2);\n            } else {\n              this.removes.push({\n                parentId,\n                id: nodeId,\n                isShadow: isShadowRoot(m.target) && isNativeShadowDom(m.target) ? true : void 0\n              });\n              processRemoves(n2, this.removesSubTreeCache);\n            }\n            this.mapRemoves.push(n2);\n          });\n          break;\n        }\n      }\n    });\n    __publicField(this, \"genAdds\", (n2, target) => {\n      if (this.processedNodeManager.inOtherBuffer(n2, this)) return;\n      if (this.addedSet.has(n2) || this.movedSet.has(n2)) return;\n      if (this.mirror.hasNode(n2)) {\n        if (isIgnored(n2, this.mirror, this.slimDOMOptions)) {\n          return;\n        }\n        this.movedSet.add(n2);\n        let targetId = null;\n        if (target && this.mirror.hasNode(target)) {\n          targetId = this.mirror.getId(target);\n        }\n        if (targetId && targetId !== -1) {\n          this.movedMap[moveKey(this.mirror.getId(n2), targetId)] = true;\n        }\n      } else {\n        this.addedSet.add(n2);\n        this.droppedSet.delete(n2);\n      }\n      if (!isBlocked(n2, this.blockClass, this.blockSelector, false)) {\n        index.childNodes(n2).forEach((childN) => this.genAdds(childN));\n        if (hasShadowRoot(n2)) {\n          index.childNodes(index.shadowRoot(n2)).forEach((childN) => {\n            this.processedNodeManager.add(childN, this);\n            this.genAdds(childN, n2);\n          });\n        }\n      }\n    });\n  }\n  init(options) {\n    [\n      \"mutationCb\",\n      \"blockClass\",\n      \"blockSelector\",\n      \"maskTextClass\",\n      \"maskTextSelector\",\n      \"inlineStylesheet\",\n      \"maskInputOptions\",\n      \"maskTextFn\",\n      \"maskInputFn\",\n      \"keepIframeSrcFn\",\n      \"recordCanvas\",\n      \"inlineImages\",\n      \"slimDOMOptions\",\n      \"dataURLOptions\",\n      \"doc\",\n      \"mirror\",\n      \"iframeManager\",\n      \"stylesheetManager\",\n      \"shadowDomManager\",\n      \"canvasManager\",\n      \"processedNodeManager\"\n    ].forEach((key) => {\n      this[key] = options[key];\n    });\n  }\n  freeze() {\n    this.frozen = true;\n    this.canvasManager.freeze();\n  }\n  unfreeze() {\n    this.frozen = false;\n    this.canvasManager.unfreeze();\n    this.emit();\n  }\n  isFrozen() {\n    return this.frozen;\n  }\n  lock() {\n    this.locked = true;\n    this.canvasManager.lock();\n  }\n  unlock() {\n    this.locked = false;\n    this.canvasManager.unlock();\n    this.emit();\n  }\n  reset() {\n    this.shadowDomManager.reset();\n    this.canvasManager.reset();\n  }\n}\nfunction deepDelete(addsSet, n2) {\n  addsSet.delete(n2);\n  index.childNodes(n2).forEach((childN) => deepDelete(addsSet, childN));\n}\nfunction processRemoves(n2, cache) {\n  const queue = [n2];\n  while (queue.length) {\n    const next = queue.pop();\n    if (cache.has(next)) continue;\n    cache.add(next);\n    index.childNodes(next).forEach((n22) => queue.push(n22));\n  }\n  return;\n}\nfunction isParentRemoved(removes, n2, mirror2) {\n  if (removes.size === 0) return false;\n  return _isParentRemoved(removes, n2);\n}\nfunction _isParentRemoved(removes, n2, _mirror2) {\n  const node2 = index.parentNode(n2);\n  if (!node2) return false;\n  return removes.has(node2);\n}\nfunction isAncestorInSet(set, n2) {\n  if (set.size === 0) return false;\n  return _isAncestorInSet(set, n2);\n}\nfunction _isAncestorInSet(set, n2) {\n  const parent = index.parentNode(n2);\n  if (!parent) {\n    return false;\n  }\n  if (set.has(parent)) {\n    return true;\n  }\n  return _isAncestorInSet(set, parent);\n}\nlet errorHandler;\nfunction registerErrorHandler(handler) {\n  errorHandler = handler;\n}\nfunction unregisterErrorHandler() {\n  errorHandler = void 0;\n}\nconst callbackWrapper = (cb) => {\n  if (!errorHandler) {\n    return cb;\n  }\n  const rrwebWrapped = (...rest) => {\n    try {\n      return cb(...rest);\n    } catch (error) {\n      if (errorHandler && errorHandler(error) === true) {\n        return;\n      }\n      throw error;\n    }\n  };\n  return rrwebWrapped;\n};\nconst mutationBuffers = [];\nfunction getEventTarget(event) {\n  try {\n    if (\"composedPath\" in event) {\n      const path = event.composedPath();\n      if (path.length) {\n        return path[0];\n      }\n    } else if (\"path\" in event && event.path.length) {\n      return event.path[0];\n    }\n  } catch {\n  }\n  return event && event.target;\n}\nfunction initMutationObserver(options, rootEl) {\n  const mutationBuffer = new MutationBuffer();\n  mutationBuffers.push(mutationBuffer);\n  mutationBuffer.init(options);\n  const observer = new (mutationObserverCtor())(\n    callbackWrapper(mutationBuffer.processMutations.bind(mutationBuffer))\n  );\n  observer.observe(rootEl, {\n    attributes: true,\n    attributeOldValue: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\nfunction initMoveObserver({\n  mousemoveCb,\n  sampling,\n  doc,\n  mirror: mirror2\n}) {\n  if (sampling.mousemove === false) {\n    return () => {\n    };\n  }\n  const threshold = typeof sampling.mousemove === \"number\" ? sampling.mousemove : 50;\n  const callbackThreshold = typeof sampling.mousemoveCallback === \"number\" ? sampling.mousemoveCallback : 500;\n  let positions = [];\n  let timeBaseline;\n  const wrappedCb = throttle(\n    callbackWrapper(\n      (source) => {\n        const totalOffset = Date.now() - timeBaseline;\n        mousemoveCb(\n          positions.map((p) => {\n            p.timeOffset -= totalOffset;\n            return p;\n          }),\n          source\n        );\n        positions = [];\n        timeBaseline = null;\n      }\n    ),\n    callbackThreshold\n  );\n  const updatePosition = callbackWrapper(\n    throttle(\n      callbackWrapper((evt) => {\n        const target = getEventTarget(evt);\n        const { clientX, clientY } = legacy_isTouchEvent(evt) ? evt.changedTouches[0] : evt;\n        if (!timeBaseline) {\n          timeBaseline = nowTimestamp();\n        }\n        positions.push({\n          x: clientX,\n          y: clientY,\n          id: mirror2.getId(target),\n          timeOffset: nowTimestamp() - timeBaseline\n        });\n        wrappedCb(\n          typeof DragEvent !== \"undefined\" && evt instanceof DragEvent ? IncrementalSource.Drag : evt instanceof MouseEvent ? IncrementalSource.MouseMove : IncrementalSource.TouchMove\n        );\n      }),\n      threshold,\n      {\n        trailing: false\n      }\n    )\n  );\n  const handlers = [\n    on(\"mousemove\", updatePosition, doc),\n    on(\"touchmove\", updatePosition, doc),\n    on(\"drag\", updatePosition, doc)\n  ];\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initMouseInteractionObserver({\n  mouseInteractionCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  sampling\n}) {\n  if (sampling.mouseInteraction === false) {\n    return () => {\n    };\n  }\n  const disableMap = sampling.mouseInteraction === true || sampling.mouseInteraction === void 0 ? {} : sampling.mouseInteraction;\n  const handlers = [];\n  let currentPointerType = null;\n  const getHandler = (eventKey) => {\n    return (event) => {\n      const target = getEventTarget(event);\n      if (isBlocked(target, blockClass, blockSelector, true)) {\n        return;\n      }\n      let pointerType = null;\n      let thisEventKey = eventKey;\n      if (\"pointerType\" in event) {\n        switch (event.pointerType) {\n          case \"mouse\":\n            pointerType = PointerTypes.Mouse;\n            break;\n          case \"touch\":\n            pointerType = PointerTypes.Touch;\n            break;\n          case \"pen\":\n            pointerType = PointerTypes.Pen;\n            break;\n        }\n        if (pointerType === PointerTypes.Touch) {\n          if (MouseInteractions[eventKey] === MouseInteractions.MouseDown) {\n            thisEventKey = \"TouchStart\";\n          } else if (MouseInteractions[eventKey] === MouseInteractions.MouseUp) {\n            thisEventKey = \"TouchEnd\";\n          }\n        } else if (pointerType === PointerTypes.Pen) ;\n      } else if (legacy_isTouchEvent(event)) {\n        pointerType = PointerTypes.Touch;\n      }\n      if (pointerType !== null) {\n        currentPointerType = pointerType;\n        if (thisEventKey.startsWith(\"Touch\") && pointerType === PointerTypes.Touch || thisEventKey.startsWith(\"Mouse\") && pointerType === PointerTypes.Mouse) {\n          pointerType = null;\n        }\n      } else if (MouseInteractions[eventKey] === MouseInteractions.Click) {\n        pointerType = currentPointerType;\n        currentPointerType = null;\n      }\n      const e2 = legacy_isTouchEvent(event) ? event.changedTouches[0] : event;\n      if (!e2) {\n        return;\n      }\n      const id = mirror2.getId(target);\n      const { clientX, clientY } = e2;\n      callbackWrapper(mouseInteractionCb)({\n        type: MouseInteractions[thisEventKey],\n        id,\n        x: clientX,\n        y: clientY,\n        ...pointerType !== null && { pointerType }\n      });\n    };\n  };\n  Object.keys(MouseInteractions).filter(\n    (key) => Number.isNaN(Number(key)) && !key.endsWith(\"_Departed\") && disableMap[key] !== false\n  ).forEach((eventKey) => {\n    let eventName = toLowerCase(eventKey);\n    const handler = getHandler(eventKey);\n    if (window.PointerEvent) {\n      switch (MouseInteractions[eventKey]) {\n        case MouseInteractions.MouseDown:\n        case MouseInteractions.MouseUp:\n          eventName = eventName.replace(\n            \"mouse\",\n            \"pointer\"\n          );\n          break;\n        case MouseInteractions.TouchStart:\n        case MouseInteractions.TouchEnd:\n          return;\n      }\n    }\n    handlers.push(on(eventName, handler, doc));\n  });\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initScrollObserver({\n  scrollCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  sampling\n}) {\n  const updatePosition = callbackWrapper(\n    throttle(\n      callbackWrapper((evt) => {\n        const target = getEventTarget(evt);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const id = mirror2.getId(target);\n        if (target === doc && doc.defaultView) {\n          const scrollLeftTop = getWindowScroll(doc.defaultView);\n          scrollCb({\n            id,\n            x: scrollLeftTop.left,\n            y: scrollLeftTop.top\n          });\n        } else {\n          scrollCb({\n            id,\n            x: target.scrollLeft,\n            y: target.scrollTop\n          });\n        }\n      }),\n      sampling.scroll || 100\n    )\n  );\n  return on(\"scroll\", updatePosition, doc);\n}\nfunction initViewportResizeObserver({ viewportResizeCb }, { win }) {\n  let lastH = -1;\n  let lastW = -1;\n  const updateDimension = callbackWrapper(\n    throttle(\n      callbackWrapper(() => {\n        const height = getWindowHeight();\n        const width = getWindowWidth();\n        if (lastH !== height || lastW !== width) {\n          viewportResizeCb({\n            width: Number(width),\n            height: Number(height)\n          });\n          lastH = height;\n          lastW = width;\n        }\n      }),\n      200\n    )\n  );\n  return on(\"resize\", updateDimension, win);\n}\nconst INPUT_TAGS = [\"INPUT\", \"TEXTAREA\", \"SELECT\"];\nconst lastInputValueMap = /* @__PURE__ */ new WeakMap();\nfunction initInputObserver({\n  inputCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  ignoreClass,\n  ignoreSelector,\n  maskInputOptions,\n  maskInputFn,\n  sampling,\n  userTriggeredOnInput\n}) {\n  function eventHandler(event) {\n    let target = getEventTarget(event);\n    const userTriggered = event.isTrusted;\n    const tagName = target && target.tagName;\n    if (target && tagName === \"OPTION\") {\n      target = index.parentElement(target);\n    }\n    if (!target || !tagName || INPUT_TAGS.indexOf(tagName) < 0 || isBlocked(target, blockClass, blockSelector, true)) {\n      return;\n    }\n    if (target.classList.contains(ignoreClass) || ignoreSelector && target.matches(ignoreSelector)) {\n      return;\n    }\n    let text = target.value;\n    let isChecked = false;\n    const type = getInputType(target) || \"\";\n    if (type === \"radio\" || type === \"checkbox\") {\n      isChecked = target.checked;\n    } else if (maskInputOptions[tagName.toLowerCase()] || maskInputOptions[type]) {\n      text = maskInputValue({\n        element: target,\n        maskInputOptions,\n        tagName,\n        type,\n        value: text,\n        maskInputFn\n      });\n    }\n    cbWithDedup(\n      target,\n      userTriggeredOnInput ? { text, isChecked, userTriggered } : { text, isChecked }\n    );\n    const name = target.name;\n    if (type === \"radio\" && name && isChecked) {\n      doc.querySelectorAll(`input[type=\"radio\"][name=\"${name}\"]`).forEach((el) => {\n        if (el !== target) {\n          const text2 = el.value;\n          cbWithDedup(\n            el,\n            userTriggeredOnInput ? { text: text2, isChecked: !isChecked, userTriggered: false } : { text: text2, isChecked: !isChecked }\n          );\n        }\n      });\n    }\n  }\n  function cbWithDedup(target, v2) {\n    const lastInputValue = lastInputValueMap.get(target);\n    if (!lastInputValue || lastInputValue.text !== v2.text || lastInputValue.isChecked !== v2.isChecked) {\n      lastInputValueMap.set(target, v2);\n      const id = mirror2.getId(target);\n      callbackWrapper(inputCb)({\n        ...v2,\n        id\n      });\n    }\n  }\n  const events = sampling.input === \"last\" ? [\"change\"] : [\"input\", \"change\"];\n  const handlers = events.map(\n    (eventName) => on(eventName, callbackWrapper(eventHandler), doc)\n  );\n  const currentWindow = doc.defaultView;\n  if (!currentWindow) {\n    return () => {\n      handlers.forEach((h) => h());\n    };\n  }\n  const propertyDescriptor = currentWindow.Object.getOwnPropertyDescriptor(\n    currentWindow.HTMLInputElement.prototype,\n    \"value\"\n  );\n  const hookProperties = [\n    [currentWindow.HTMLInputElement.prototype, \"value\"],\n    [currentWindow.HTMLInputElement.prototype, \"checked\"],\n    [currentWindow.HTMLSelectElement.prototype, \"value\"],\n    [currentWindow.HTMLTextAreaElement.prototype, \"value\"],\n    // Some UI library use selectedIndex to set select value\n    [currentWindow.HTMLSelectElement.prototype, \"selectedIndex\"],\n    [currentWindow.HTMLOptionElement.prototype, \"selected\"]\n  ];\n  if (propertyDescriptor && propertyDescriptor.set) {\n    handlers.push(\n      ...hookProperties.map(\n        (p) => hookSetter(\n          p[0],\n          p[1],\n          {\n            set() {\n              callbackWrapper(eventHandler)({\n                target: this,\n                isTrusted: false\n                // userTriggered to false as this could well be programmatic\n              });\n            }\n          },\n          false,\n          currentWindow\n        )\n      )\n    );\n  }\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction getNestedCSSRulePositions(rule2) {\n  const positions = [];\n  function recurse(childRule, pos) {\n    if (hasNestedCSSRule(\"CSSGroupingRule\") && childRule.parentRule instanceof CSSGroupingRule || hasNestedCSSRule(\"CSSMediaRule\") && childRule.parentRule instanceof CSSMediaRule || hasNestedCSSRule(\"CSSSupportsRule\") && childRule.parentRule instanceof CSSSupportsRule || hasNestedCSSRule(\"CSSConditionRule\") && childRule.parentRule instanceof CSSConditionRule) {\n      const rules2 = Array.from(\n        childRule.parentRule.cssRules\n      );\n      const index2 = rules2.indexOf(childRule);\n      pos.unshift(index2);\n    } else if (childRule.parentStyleSheet) {\n      const rules2 = Array.from(childRule.parentStyleSheet.cssRules);\n      const index2 = rules2.indexOf(childRule);\n      pos.unshift(index2);\n    }\n    return pos;\n  }\n  return recurse(rule2, positions);\n}\nfunction getIdAndStyleId(sheet, mirror2, styleMirror) {\n  let id, styleId;\n  if (!sheet) return {};\n  if (sheet.ownerNode) id = mirror2.getId(sheet.ownerNode);\n  else styleId = styleMirror.getId(sheet);\n  return {\n    styleId,\n    id\n  };\n}\nfunction initStyleSheetObserver({ styleSheetRuleCb, mirror: mirror2, stylesheetManager }, { win }) {\n  if (!win.CSSStyleSheet || !win.CSSStyleSheet.prototype) {\n    return () => {\n    };\n  }\n  const insertRule = win.CSSStyleSheet.prototype.insertRule;\n  win.CSSStyleSheet.prototype.insertRule = new Proxy(insertRule, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        const [rule2, index2] = argumentsList;\n        const { id, styleId } = getIdAndStyleId(\n          thisArg,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            adds: [{ rule: rule2, index: index2 }]\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  win.CSSStyleSheet.prototype.addRule = function(selector, styleBlock, index2 = this.cssRules.length) {\n    const rule2 = `${selector} { ${styleBlock} }`;\n    return win.CSSStyleSheet.prototype.insertRule.apply(this, [rule2, index2]);\n  };\n  const deleteRule = win.CSSStyleSheet.prototype.deleteRule;\n  win.CSSStyleSheet.prototype.deleteRule = new Proxy(deleteRule, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        const [index2] = argumentsList;\n        const { id, styleId } = getIdAndStyleId(\n          thisArg,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            removes: [{ index: index2 }]\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  win.CSSStyleSheet.prototype.removeRule = function(index2) {\n    return win.CSSStyleSheet.prototype.deleteRule.apply(this, [index2]);\n  };\n  let replace;\n  if (win.CSSStyleSheet.prototype.replace) {\n    replace = win.CSSStyleSheet.prototype.replace;\n    win.CSSStyleSheet.prototype.replace = new Proxy(replace, {\n      apply: callbackWrapper(\n        (target, thisArg, argumentsList) => {\n          const [text] = argumentsList;\n          const { id, styleId } = getIdAndStyleId(\n            thisArg,\n            mirror2,\n            stylesheetManager.styleMirror\n          );\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replace: text\n            });\n          }\n          return target.apply(thisArg, argumentsList);\n        }\n      )\n    });\n  }\n  let replaceSync;\n  if (win.CSSStyleSheet.prototype.replaceSync) {\n    replaceSync = win.CSSStyleSheet.prototype.replaceSync;\n    win.CSSStyleSheet.prototype.replaceSync = new Proxy(replaceSync, {\n      apply: callbackWrapper(\n        (target, thisArg, argumentsList) => {\n          const [text] = argumentsList;\n          const { id, styleId } = getIdAndStyleId(\n            thisArg,\n            mirror2,\n            stylesheetManager.styleMirror\n          );\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replaceSync: text\n            });\n          }\n          return target.apply(thisArg, argumentsList);\n        }\n      )\n    });\n  }\n  const supportedNestedCSSRuleTypes = {};\n  if (canMonkeyPatchNestedCSSRule(\"CSSGroupingRule\")) {\n    supportedNestedCSSRuleTypes.CSSGroupingRule = win.CSSGroupingRule;\n  } else {\n    if (canMonkeyPatchNestedCSSRule(\"CSSMediaRule\")) {\n      supportedNestedCSSRuleTypes.CSSMediaRule = win.CSSMediaRule;\n    }\n    if (canMonkeyPatchNestedCSSRule(\"CSSConditionRule\")) {\n      supportedNestedCSSRuleTypes.CSSConditionRule = win.CSSConditionRule;\n    }\n    if (canMonkeyPatchNestedCSSRule(\"CSSSupportsRule\")) {\n      supportedNestedCSSRuleTypes.CSSSupportsRule = win.CSSSupportsRule;\n    }\n  }\n  const unmodifiedFunctions = {};\n  Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n    unmodifiedFunctions[typeKey] = {\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      insertRule: type.prototype.insertRule,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      deleteRule: type.prototype.deleteRule\n    };\n    type.prototype.insertRule = new Proxy(\n      unmodifiedFunctions[typeKey].insertRule,\n      {\n        apply: callbackWrapper(\n          (target, thisArg, argumentsList) => {\n            const [rule2, index2] = argumentsList;\n            const { id, styleId } = getIdAndStyleId(\n              thisArg.parentStyleSheet,\n              mirror2,\n              stylesheetManager.styleMirror\n            );\n            if (id && id !== -1 || styleId && styleId !== -1) {\n              styleSheetRuleCb({\n                id,\n                styleId,\n                adds: [\n                  {\n                    rule: rule2,\n                    index: [\n                      ...getNestedCSSRulePositions(thisArg),\n                      index2 || 0\n                      // defaults to 0\n                    ]\n                  }\n                ]\n              });\n            }\n            return target.apply(thisArg, argumentsList);\n          }\n        )\n      }\n    );\n    type.prototype.deleteRule = new Proxy(\n      unmodifiedFunctions[typeKey].deleteRule,\n      {\n        apply: callbackWrapper(\n          (target, thisArg, argumentsList) => {\n            const [index2] = argumentsList;\n            const { id, styleId } = getIdAndStyleId(\n              thisArg.parentStyleSheet,\n              mirror2,\n              stylesheetManager.styleMirror\n            );\n            if (id && id !== -1 || styleId && styleId !== -1) {\n              styleSheetRuleCb({\n                id,\n                styleId,\n                removes: [\n                  { index: [...getNestedCSSRulePositions(thisArg), index2] }\n                ]\n              });\n            }\n            return target.apply(thisArg, argumentsList);\n          }\n        )\n      }\n    );\n  });\n  return callbackWrapper(() => {\n    win.CSSStyleSheet.prototype.insertRule = insertRule;\n    win.CSSStyleSheet.prototype.deleteRule = deleteRule;\n    replace && (win.CSSStyleSheet.prototype.replace = replace);\n    replaceSync && (win.CSSStyleSheet.prototype.replaceSync = replaceSync);\n    Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n      type.prototype.insertRule = unmodifiedFunctions[typeKey].insertRule;\n      type.prototype.deleteRule = unmodifiedFunctions[typeKey].deleteRule;\n    });\n  });\n}\nfunction initAdoptedStyleSheetObserver({\n  mirror: mirror2,\n  stylesheetManager\n}, host2) {\n  var _a2, _b, _c;\n  let hostId = null;\n  if (host2.nodeName === \"#document\") hostId = mirror2.getId(host2);\n  else hostId = mirror2.getId(index.host(host2));\n  const patchTarget = host2.nodeName === \"#document\" ? (_a2 = host2.defaultView) == null ? void 0 : _a2.Document : (_c = (_b = host2.ownerDocument) == null ? void 0 : _b.defaultView) == null ? void 0 : _c.ShadowRoot;\n  const originalPropertyDescriptor = (patchTarget == null ? void 0 : patchTarget.prototype) ? Object.getOwnPropertyDescriptor(\n    patchTarget == null ? void 0 : patchTarget.prototype,\n    \"adoptedStyleSheets\"\n  ) : void 0;\n  if (hostId === null || hostId === -1 || !patchTarget || !originalPropertyDescriptor)\n    return () => {\n    };\n  Object.defineProperty(host2, \"adoptedStyleSheets\", {\n    configurable: originalPropertyDescriptor.configurable,\n    enumerable: originalPropertyDescriptor.enumerable,\n    get() {\n      var _a3;\n      return (_a3 = originalPropertyDescriptor.get) == null ? void 0 : _a3.call(this);\n    },\n    set(sheets) {\n      var _a3;\n      const result2 = (_a3 = originalPropertyDescriptor.set) == null ? void 0 : _a3.call(this, sheets);\n      if (hostId !== null && hostId !== -1) {\n        try {\n          stylesheetManager.adoptStyleSheets(sheets, hostId);\n        } catch (e2) {\n        }\n      }\n      return result2;\n    }\n  });\n  return callbackWrapper(() => {\n    Object.defineProperty(host2, \"adoptedStyleSheets\", {\n      configurable: originalPropertyDescriptor.configurable,\n      enumerable: originalPropertyDescriptor.enumerable,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      get: originalPropertyDescriptor.get,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      set: originalPropertyDescriptor.set\n    });\n  });\n}\nfunction initStyleDeclarationObserver({\n  styleDeclarationCb,\n  mirror: mirror2,\n  ignoreCSSAttributes,\n  stylesheetManager\n}, { win }) {\n  const setProperty = win.CSSStyleDeclaration.prototype.setProperty;\n  win.CSSStyleDeclaration.prototype.setProperty = new Proxy(setProperty, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        var _a2;\n        const [property, value, priority] = argumentsList;\n        if (ignoreCSSAttributes.has(property)) {\n          return setProperty.apply(thisArg, [property, value, priority]);\n        }\n        const { id, styleId } = getIdAndStyleId(\n          (_a2 = thisArg.parentRule) == null ? void 0 : _a2.parentStyleSheet,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            set: {\n              property,\n              value,\n              priority\n            },\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            index: getNestedCSSRulePositions(thisArg.parentRule)\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  const removeProperty = win.CSSStyleDeclaration.prototype.removeProperty;\n  win.CSSStyleDeclaration.prototype.removeProperty = new Proxy(removeProperty, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        var _a2;\n        const [property] = argumentsList;\n        if (ignoreCSSAttributes.has(property)) {\n          return removeProperty.apply(thisArg, [property]);\n        }\n        const { id, styleId } = getIdAndStyleId(\n          (_a2 = thisArg.parentRule) == null ? void 0 : _a2.parentStyleSheet,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            remove: {\n              property\n            },\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            index: getNestedCSSRulePositions(thisArg.parentRule)\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  return callbackWrapper(() => {\n    win.CSSStyleDeclaration.prototype.setProperty = setProperty;\n    win.CSSStyleDeclaration.prototype.removeProperty = removeProperty;\n  });\n}\nfunction initMediaInteractionObserver({\n  mediaInteractionCb,\n  blockClass,\n  blockSelector,\n  mirror: mirror2,\n  sampling,\n  doc\n}) {\n  const handler = callbackWrapper(\n    (type) => throttle(\n      callbackWrapper((event) => {\n        const target = getEventTarget(event);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const { currentTime, volume, muted, playbackRate, loop } = target;\n        mediaInteractionCb({\n          type,\n          id: mirror2.getId(target),\n          currentTime,\n          volume,\n          muted,\n          playbackRate,\n          loop\n        });\n      }),\n      sampling.media || 500\n    )\n  );\n  const handlers = [\n    on(\"play\", handler(MediaInteractions.Play), doc),\n    on(\"pause\", handler(MediaInteractions.Pause), doc),\n    on(\"seeked\", handler(MediaInteractions.Seeked), doc),\n    on(\"volumechange\", handler(MediaInteractions.VolumeChange), doc),\n    on(\"ratechange\", handler(MediaInteractions.RateChange), doc)\n  ];\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initFontObserver({ fontCb, doc }) {\n  const win = doc.defaultView;\n  if (!win) {\n    return () => {\n    };\n  }\n  const handlers = [];\n  const fontMap = /* @__PURE__ */ new WeakMap();\n  const originalFontFace = win.FontFace;\n  win.FontFace = function FontFace2(family, source, descriptors) {\n    const fontFace = new originalFontFace(family, source, descriptors);\n    fontMap.set(fontFace, {\n      family,\n      buffer: typeof source !== \"string\",\n      descriptors,\n      fontSource: typeof source === \"string\" ? source : JSON.stringify(Array.from(new Uint8Array(source)))\n    });\n    return fontFace;\n  };\n  const restoreHandler = patch(\n    doc.fonts,\n    \"add\",\n    function(original) {\n      return function(fontFace) {\n        setTimeout(\n          callbackWrapper(() => {\n            const p = fontMap.get(fontFace);\n            if (p) {\n              fontCb(p);\n              fontMap.delete(fontFace);\n            }\n          }),\n          0\n        );\n        return original.apply(this, [fontFace]);\n      };\n    }\n  );\n  handlers.push(() => {\n    win.FontFace = originalFontFace;\n  });\n  handlers.push(restoreHandler);\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initSelectionObserver(param) {\n  const { doc, mirror: mirror2, blockClass, blockSelector, selectionCb } = param;\n  let collapsed = true;\n  const updateSelection = callbackWrapper(() => {\n    const selection = doc.getSelection();\n    if (!selection || collapsed && (selection == null ? void 0 : selection.isCollapsed)) return;\n    collapsed = selection.isCollapsed || false;\n    const ranges = [];\n    const count = selection.rangeCount || 0;\n    for (let i2 = 0; i2 < count; i2++) {\n      const range = selection.getRangeAt(i2);\n      const { startContainer, startOffset, endContainer, endOffset } = range;\n      const blocked = isBlocked(startContainer, blockClass, blockSelector, true) || isBlocked(endContainer, blockClass, blockSelector, true);\n      if (blocked) continue;\n      ranges.push({\n        start: mirror2.getId(startContainer),\n        startOffset,\n        end: mirror2.getId(endContainer),\n        endOffset\n      });\n    }\n    selectionCb({ ranges });\n  });\n  updateSelection();\n  return on(\"selectionchange\", updateSelection);\n}\nfunction initCustomElementObserver({\n  doc,\n  customElementCb\n}) {\n  const win = doc.defaultView;\n  if (!win || !win.customElements) return () => {\n  };\n  const restoreHandler = patch(\n    win.customElements,\n    \"define\",\n    function(original) {\n      return function(name, constructor, options) {\n        try {\n          customElementCb({\n            define: {\n              name\n            }\n          });\n        } catch (e2) {\n          console.warn(`Custom element callback failed for ${name}`);\n        }\n        return original.apply(this, [name, constructor, options]);\n      };\n    }\n  );\n  return restoreHandler;\n}\nfunction mergeHooks(o2, hooks) {\n  const {\n    mutationCb,\n    mousemoveCb,\n    mouseInteractionCb,\n    scrollCb,\n    viewportResizeCb,\n    inputCb,\n    mediaInteractionCb,\n    styleSheetRuleCb,\n    styleDeclarationCb,\n    canvasMutationCb,\n    fontCb,\n    selectionCb,\n    customElementCb\n  } = o2;\n  o2.mutationCb = (...p) => {\n    if (hooks.mutation) {\n      hooks.mutation(...p);\n    }\n    mutationCb(...p);\n  };\n  o2.mousemoveCb = (...p) => {\n    if (hooks.mousemove) {\n      hooks.mousemove(...p);\n    }\n    mousemoveCb(...p);\n  };\n  o2.mouseInteractionCb = (...p) => {\n    if (hooks.mouseInteraction) {\n      hooks.mouseInteraction(...p);\n    }\n    mouseInteractionCb(...p);\n  };\n  o2.scrollCb = (...p) => {\n    if (hooks.scroll) {\n      hooks.scroll(...p);\n    }\n    scrollCb(...p);\n  };\n  o2.viewportResizeCb = (...p) => {\n    if (hooks.viewportResize) {\n      hooks.viewportResize(...p);\n    }\n    viewportResizeCb(...p);\n  };\n  o2.inputCb = (...p) => {\n    if (hooks.input) {\n      hooks.input(...p);\n    }\n    inputCb(...p);\n  };\n  o2.mediaInteractionCb = (...p) => {\n    if (hooks.mediaInteaction) {\n      hooks.mediaInteaction(...p);\n    }\n    mediaInteractionCb(...p);\n  };\n  o2.styleSheetRuleCb = (...p) => {\n    if (hooks.styleSheetRule) {\n      hooks.styleSheetRule(...p);\n    }\n    styleSheetRuleCb(...p);\n  };\n  o2.styleDeclarationCb = (...p) => {\n    if (hooks.styleDeclaration) {\n      hooks.styleDeclaration(...p);\n    }\n    styleDeclarationCb(...p);\n  };\n  o2.canvasMutationCb = (...p) => {\n    if (hooks.canvasMutation) {\n      hooks.canvasMutation(...p);\n    }\n    canvasMutationCb(...p);\n  };\n  o2.fontCb = (...p) => {\n    if (hooks.font) {\n      hooks.font(...p);\n    }\n    fontCb(...p);\n  };\n  o2.selectionCb = (...p) => {\n    if (hooks.selection) {\n      hooks.selection(...p);\n    }\n    selectionCb(...p);\n  };\n  o2.customElementCb = (...c2) => {\n    if (hooks.customElement) {\n      hooks.customElement(...c2);\n    }\n    customElementCb(...c2);\n  };\n}\nfunction initObservers(o2, hooks = {}) {\n  const currentWindow = o2.doc.defaultView;\n  if (!currentWindow) {\n    return () => {\n    };\n  }\n  mergeHooks(o2, hooks);\n  let mutationObserver;\n  if (o2.recordDOM) {\n    mutationObserver = initMutationObserver(o2, o2.doc);\n  }\n  const mousemoveHandler = initMoveObserver(o2);\n  const mouseInteractionHandler = initMouseInteractionObserver(o2);\n  const scrollHandler = initScrollObserver(o2);\n  const viewportResizeHandler = initViewportResizeObserver(o2, {\n    win: currentWindow\n  });\n  const inputHandler = initInputObserver(o2);\n  const mediaInteractionHandler = initMediaInteractionObserver(o2);\n  let styleSheetObserver = () => {\n  };\n  let adoptedStyleSheetObserver = () => {\n  };\n  let styleDeclarationObserver = () => {\n  };\n  let fontObserver = () => {\n  };\n  if (o2.recordDOM) {\n    styleSheetObserver = initStyleSheetObserver(o2, { win: currentWindow });\n    adoptedStyleSheetObserver = initAdoptedStyleSheetObserver(o2, o2.doc);\n    styleDeclarationObserver = initStyleDeclarationObserver(o2, {\n      win: currentWindow\n    });\n    if (o2.collectFonts) {\n      fontObserver = initFontObserver(o2);\n    }\n  }\n  const selectionObserver = initSelectionObserver(o2);\n  const customElementObserver = initCustomElementObserver(o2);\n  const pluginHandlers = [];\n  for (const plugin3 of o2.plugins) {\n    pluginHandlers.push(\n      plugin3.observer(plugin3.callback, currentWindow, plugin3.options)\n    );\n  }\n  return callbackWrapper(() => {\n    mutationBuffers.forEach((b) => b.reset());\n    mutationObserver == null ? void 0 : mutationObserver.disconnect();\n    mousemoveHandler();\n    mouseInteractionHandler();\n    scrollHandler();\n    viewportResizeHandler();\n    inputHandler();\n    mediaInteractionHandler();\n    styleSheetObserver();\n    adoptedStyleSheetObserver();\n    styleDeclarationObserver();\n    fontObserver();\n    selectionObserver();\n    customElementObserver();\n    pluginHandlers.forEach((h) => h());\n  });\n}\nfunction hasNestedCSSRule(prop) {\n  return typeof window[prop] !== \"undefined\";\n}\nfunction canMonkeyPatchNestedCSSRule(prop) {\n  return Boolean(\n    typeof window[prop] !== \"undefined\" && // Note: Generally, this check _shouldn't_ be necessary\n    // However, in some scenarios (e.g. jsdom) this can sometimes fail, so we check for it here\n    window[prop].prototype && \"insertRule\" in window[prop].prototype && \"deleteRule\" in window[prop].prototype\n  );\n}\nclass CrossOriginIframeMirror {\n  constructor(generateIdFn) {\n    __publicField(this, \"iframeIdToRemoteIdMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"iframeRemoteIdToIdMap\", /* @__PURE__ */ new WeakMap());\n    this.generateIdFn = generateIdFn;\n  }\n  getId(iframe, remoteId, idToRemoteMap, remoteToIdMap) {\n    const idToRemoteIdMap = idToRemoteMap || this.getIdToRemoteIdMap(iframe);\n    const remoteIdToIdMap = remoteToIdMap || this.getRemoteIdToIdMap(iframe);\n    let id = idToRemoteIdMap.get(remoteId);\n    if (!id) {\n      id = this.generateIdFn();\n      idToRemoteIdMap.set(remoteId, id);\n      remoteIdToIdMap.set(id, remoteId);\n    }\n    return id;\n  }\n  getIds(iframe, remoteId) {\n    const idToRemoteIdMap = this.getIdToRemoteIdMap(iframe);\n    const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n    return remoteId.map(\n      (id) => this.getId(iframe, id, idToRemoteIdMap, remoteIdToIdMap)\n    );\n  }\n  getRemoteId(iframe, id, map) {\n    const remoteIdToIdMap = map || this.getRemoteIdToIdMap(iframe);\n    if (typeof id !== \"number\") return id;\n    const remoteId = remoteIdToIdMap.get(id);\n    if (!remoteId) return -1;\n    return remoteId;\n  }\n  getRemoteIds(iframe, ids) {\n    const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n    return ids.map((id) => this.getRemoteId(iframe, id, remoteIdToIdMap));\n  }\n  reset(iframe) {\n    if (!iframe) {\n      this.iframeIdToRemoteIdMap = /* @__PURE__ */ new WeakMap();\n      this.iframeRemoteIdToIdMap = /* @__PURE__ */ new WeakMap();\n      return;\n    }\n    this.iframeIdToRemoteIdMap.delete(iframe);\n    this.iframeRemoteIdToIdMap.delete(iframe);\n  }\n  getIdToRemoteIdMap(iframe) {\n    let idToRemoteIdMap = this.iframeIdToRemoteIdMap.get(iframe);\n    if (!idToRemoteIdMap) {\n      idToRemoteIdMap = /* @__PURE__ */ new Map();\n      this.iframeIdToRemoteIdMap.set(iframe, idToRemoteIdMap);\n    }\n    return idToRemoteIdMap;\n  }\n  getRemoteIdToIdMap(iframe) {\n    let remoteIdToIdMap = this.iframeRemoteIdToIdMap.get(iframe);\n    if (!remoteIdToIdMap) {\n      remoteIdToIdMap = /* @__PURE__ */ new Map();\n      this.iframeRemoteIdToIdMap.set(iframe, remoteIdToIdMap);\n    }\n    return remoteIdToIdMap;\n  }\n}\nclass IframeManager {\n  constructor(options) {\n    __publicField(this, \"iframes\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"crossOriginIframeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"crossOriginIframeMirror\", new CrossOriginIframeMirror(genId));\n    __publicField(this, \"crossOriginIframeStyleMirror\");\n    __publicField(this, \"crossOriginIframeRootIdMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"mirror\");\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"wrappedEmit\");\n    __publicField(this, \"loadListener\");\n    __publicField(this, \"stylesheetManager\");\n    __publicField(this, \"recordCrossOriginIframes\");\n    this.mutationCb = options.mutationCb;\n    this.wrappedEmit = options.wrappedEmit;\n    this.stylesheetManager = options.stylesheetManager;\n    this.recordCrossOriginIframes = options.recordCrossOriginIframes;\n    this.crossOriginIframeStyleMirror = new CrossOriginIframeMirror(\n      this.stylesheetManager.styleMirror.generateId.bind(\n        this.stylesheetManager.styleMirror\n      )\n    );\n    this.mirror = options.mirror;\n    if (this.recordCrossOriginIframes) {\n      window.addEventListener(\"message\", this.handleMessage.bind(this));\n    }\n  }\n  addIframe(iframeEl) {\n    this.iframes.set(iframeEl, true);\n    if (iframeEl.contentWindow)\n      this.crossOriginIframeMap.set(iframeEl.contentWindow, iframeEl);\n  }\n  addLoadListener(cb) {\n    this.loadListener = cb;\n  }\n  attachIframe(iframeEl, childSn) {\n    var _a2, _b;\n    this.mutationCb({\n      adds: [\n        {\n          parentId: this.mirror.getId(iframeEl),\n          nextId: null,\n          node: childSn\n        }\n      ],\n      removes: [],\n      texts: [],\n      attributes: [],\n      isAttachIframe: true\n    });\n    if (this.recordCrossOriginIframes)\n      (_a2 = iframeEl.contentWindow) == null ? void 0 : _a2.addEventListener(\n        \"message\",\n        this.handleMessage.bind(this)\n      );\n    (_b = this.loadListener) == null ? void 0 : _b.call(this, iframeEl);\n    if (iframeEl.contentDocument && iframeEl.contentDocument.adoptedStyleSheets && iframeEl.contentDocument.adoptedStyleSheets.length > 0)\n      this.stylesheetManager.adoptStyleSheets(\n        iframeEl.contentDocument.adoptedStyleSheets,\n        this.mirror.getId(iframeEl.contentDocument)\n      );\n  }\n  handleMessage(message) {\n    const crossOriginMessageEvent = message;\n    if (crossOriginMessageEvent.data.type !== \"rrweb\" || // To filter out the rrweb messages which are forwarded by some sites.\n    crossOriginMessageEvent.origin !== crossOriginMessageEvent.data.origin)\n      return;\n    const iframeSourceWindow = message.source;\n    if (!iframeSourceWindow) return;\n    const iframeEl = this.crossOriginIframeMap.get(message.source);\n    if (!iframeEl) return;\n    const transformedEvent = this.transformCrossOriginEvent(\n      iframeEl,\n      crossOriginMessageEvent.data.event\n    );\n    if (transformedEvent)\n      this.wrappedEmit(\n        transformedEvent,\n        crossOriginMessageEvent.data.isCheckout\n      );\n  }\n  transformCrossOriginEvent(iframeEl, e2) {\n    var _a2;\n    switch (e2.type) {\n      case EventType.FullSnapshot: {\n        this.crossOriginIframeMirror.reset(iframeEl);\n        this.crossOriginIframeStyleMirror.reset(iframeEl);\n        this.replaceIdOnNode(e2.data.node, iframeEl);\n        const rootId = e2.data.node.id;\n        this.crossOriginIframeRootIdMap.set(iframeEl, rootId);\n        this.patchRootIdOnNode(e2.data.node, rootId);\n        return {\n          timestamp: e2.timestamp,\n          type: EventType.IncrementalSnapshot,\n          data: {\n            source: IncrementalSource.Mutation,\n            adds: [\n              {\n                parentId: this.mirror.getId(iframeEl),\n                nextId: null,\n                node: e2.data.node\n              }\n            ],\n            removes: [],\n            texts: [],\n            attributes: [],\n            isAttachIframe: true\n          }\n        };\n      }\n      case EventType.Meta:\n      case EventType.Load:\n      case EventType.DomContentLoaded: {\n        return false;\n      }\n      case EventType.Plugin: {\n        return e2;\n      }\n      case EventType.Custom: {\n        this.replaceIds(\n          e2.data.payload,\n          iframeEl,\n          [\"id\", \"parentId\", \"previousId\", \"nextId\"]\n        );\n        return e2;\n      }\n      case EventType.IncrementalSnapshot: {\n        switch (e2.data.source) {\n          case IncrementalSource.Mutation: {\n            e2.data.adds.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\n                \"parentId\",\n                \"nextId\",\n                \"previousId\"\n              ]);\n              this.replaceIdOnNode(n2.node, iframeEl);\n              const rootId = this.crossOriginIframeRootIdMap.get(iframeEl);\n              rootId && this.patchRootIdOnNode(n2.node, rootId);\n            });\n            e2.data.removes.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"parentId\", \"id\"]);\n            });\n            e2.data.attributes.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"id\"]);\n            });\n            e2.data.texts.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"id\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.Drag:\n          case IncrementalSource.TouchMove:\n          case IncrementalSource.MouseMove: {\n            e2.data.positions.forEach((p) => {\n              this.replaceIds(p, iframeEl, [\"id\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.ViewportResize: {\n            return false;\n          }\n          case IncrementalSource.MediaInteraction:\n          case IncrementalSource.MouseInteraction:\n          case IncrementalSource.Scroll:\n          case IncrementalSource.CanvasMutation:\n          case IncrementalSource.Input: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            return e2;\n          }\n          case IncrementalSource.StyleSheetRule:\n          case IncrementalSource.StyleDeclaration: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            this.replaceStyleIds(e2.data, iframeEl, [\"styleId\"]);\n            return e2;\n          }\n          case IncrementalSource.Font: {\n            return e2;\n          }\n          case IncrementalSource.Selection: {\n            e2.data.ranges.forEach((range) => {\n              this.replaceIds(range, iframeEl, [\"start\", \"end\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.AdoptedStyleSheet: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            this.replaceStyleIds(e2.data, iframeEl, [\"styleIds\"]);\n            (_a2 = e2.data.styles) == null ? void 0 : _a2.forEach((style) => {\n              this.replaceStyleIds(style, iframeEl, [\"styleId\"]);\n            });\n            return e2;\n          }\n        }\n      }\n    }\n    return false;\n  }\n  replace(iframeMirror, obj, iframeEl, keys) {\n    for (const key of keys) {\n      if (!Array.isArray(obj[key]) && typeof obj[key] !== \"number\") continue;\n      if (Array.isArray(obj[key])) {\n        obj[key] = iframeMirror.getIds(\n          iframeEl,\n          obj[key]\n        );\n      } else {\n        obj[key] = iframeMirror.getId(iframeEl, obj[key]);\n      }\n    }\n    return obj;\n  }\n  replaceIds(obj, iframeEl, keys) {\n    return this.replace(this.crossOriginIframeMirror, obj, iframeEl, keys);\n  }\n  replaceStyleIds(obj, iframeEl, keys) {\n    return this.replace(this.crossOriginIframeStyleMirror, obj, iframeEl, keys);\n  }\n  replaceIdOnNode(node2, iframeEl) {\n    this.replaceIds(node2, iframeEl, [\"id\", \"rootId\"]);\n    if (\"childNodes\" in node2) {\n      node2.childNodes.forEach((child) => {\n        this.replaceIdOnNode(child, iframeEl);\n      });\n    }\n  }\n  patchRootIdOnNode(node2, rootId) {\n    if (node2.type !== NodeType.Document && !node2.rootId) node2.rootId = rootId;\n    if (\"childNodes\" in node2) {\n      node2.childNodes.forEach((child) => {\n        this.patchRootIdOnNode(child, rootId);\n      });\n    }\n  }\n}\nclass ShadowDomManager {\n  constructor(options) {\n    __publicField(this, \"shadowDoms\", /* @__PURE__ */ new WeakSet());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"scrollCb\");\n    __publicField(this, \"bypassOptions\");\n    __publicField(this, \"mirror\");\n    __publicField(this, \"restoreHandlers\", []);\n    this.mutationCb = options.mutationCb;\n    this.scrollCb = options.scrollCb;\n    this.bypassOptions = options.bypassOptions;\n    this.mirror = options.mirror;\n    this.init();\n  }\n  init() {\n    this.reset();\n    this.patchAttachShadow(Element, document);\n  }\n  addShadowRoot(shadowRoot2, doc) {\n    if (!isNativeShadowDom(shadowRoot2)) return;\n    if (this.shadowDoms.has(shadowRoot2)) return;\n    this.shadowDoms.add(shadowRoot2);\n    const observer = initMutationObserver(\n      {\n        ...this.bypassOptions,\n        doc,\n        mutationCb: this.mutationCb,\n        mirror: this.mirror,\n        shadowDomManager: this\n      },\n      shadowRoot2\n    );\n    this.restoreHandlers.push(() => observer.disconnect());\n    this.restoreHandlers.push(\n      initScrollObserver({\n        ...this.bypassOptions,\n        scrollCb: this.scrollCb,\n        // https://gist.github.com/praveenpuglia/0832da687ed5a5d7a0907046c9ef1813\n        // scroll is not allowed to pass the boundary, so we need to listen the shadow document\n        doc: shadowRoot2,\n        mirror: this.mirror\n      })\n    );\n    setTimeout(() => {\n      if (shadowRoot2.adoptedStyleSheets && shadowRoot2.adoptedStyleSheets.length > 0)\n        this.bypassOptions.stylesheetManager.adoptStyleSheets(\n          shadowRoot2.adoptedStyleSheets,\n          this.mirror.getId(index.host(shadowRoot2))\n        );\n      this.restoreHandlers.push(\n        initAdoptedStyleSheetObserver(\n          {\n            mirror: this.mirror,\n            stylesheetManager: this.bypassOptions.stylesheetManager\n          },\n          shadowRoot2\n        )\n      );\n    }, 0);\n  }\n  /**\n   * Monkey patch 'attachShadow' of an IFrameElement to observe newly added shadow doms.\n   */\n  observeAttachShadow(iframeElement) {\n    if (!iframeElement.contentWindow || !iframeElement.contentDocument) return;\n    this.patchAttachShadow(\n      iframeElement.contentWindow.Element,\n      iframeElement.contentDocument\n    );\n  }\n  /**\n   * Patch 'attachShadow' to observe newly added shadow doms.\n   */\n  patchAttachShadow(element, doc) {\n    const manager = this;\n    this.restoreHandlers.push(\n      patch(\n        element.prototype,\n        \"attachShadow\",\n        function(original) {\n          return function(option) {\n            const sRoot = original.call(this, option);\n            const shadowRootEl = index.shadowRoot(this);\n            if (shadowRootEl && inDom(this))\n              manager.addShadowRoot(shadowRootEl, doc);\n            return sRoot;\n          };\n        }\n      )\n    );\n  }\n  reset() {\n    this.restoreHandlers.forEach((handler) => {\n      try {\n        handler();\n      } catch (e2) {\n      }\n    });\n    this.restoreHandlers = [];\n    this.shadowDoms = /* @__PURE__ */ new WeakSet();\n  }\n}\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar lookup = typeof Uint8Array === \"undefined\" ? [] : new Uint8Array(256);\nfor (var i$1 = 0; i$1 < chars.length; i$1++) {\n  lookup[chars.charCodeAt(i$1)] = i$1;\n}\nvar encode = function(arraybuffer) {\n  var bytes = new Uint8Array(arraybuffer), i2, len = bytes.length, base64 = \"\";\n  for (i2 = 0; i2 < len; i2 += 3) {\n    base64 += chars[bytes[i2] >> 2];\n    base64 += chars[(bytes[i2] & 3) << 4 | bytes[i2 + 1] >> 4];\n    base64 += chars[(bytes[i2 + 1] & 15) << 2 | bytes[i2 + 2] >> 6];\n    base64 += chars[bytes[i2 + 2] & 63];\n  }\n  if (len % 3 === 2) {\n    base64 = base64.substring(0, base64.length - 1) + \"=\";\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + \"==\";\n  }\n  return base64;\n};\nconst canvasVarMap = /* @__PURE__ */ new Map();\nfunction variableListFor$1(ctx, ctor) {\n  let contextMap = canvasVarMap.get(ctx);\n  if (!contextMap) {\n    contextMap = /* @__PURE__ */ new Map();\n    canvasVarMap.set(ctx, contextMap);\n  }\n  if (!contextMap.has(ctor)) {\n    contextMap.set(ctor, []);\n  }\n  return contextMap.get(ctor);\n}\nconst saveWebGLVar = (value, win, ctx) => {\n  if (!value || !(isInstanceOfWebGLObject(value, win) || typeof value === \"object\"))\n    return;\n  const name = value.constructor.name;\n  const list2 = variableListFor$1(ctx, name);\n  let index2 = list2.indexOf(value);\n  if (index2 === -1) {\n    index2 = list2.length;\n    list2.push(value);\n  }\n  return index2;\n};\nfunction serializeArg(value, win, ctx) {\n  if (value instanceof Array) {\n    return value.map((arg) => serializeArg(arg, win, ctx));\n  } else if (value === null) {\n    return value;\n  } else if (value instanceof Float32Array || value instanceof Float64Array || value instanceof Int32Array || value instanceof Uint32Array || value instanceof Uint8Array || value instanceof Uint16Array || value instanceof Int16Array || value instanceof Int8Array || value instanceof Uint8ClampedArray) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [Object.values(value)]\n    };\n  } else if (\n    // SharedArrayBuffer disabled on most browsers due to spectre.\n    // More info: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/SharedArrayBuffer\n    // value instanceof SharedArrayBuffer ||\n    value instanceof ArrayBuffer\n  ) {\n    const name = value.constructor.name;\n    const base64 = encode(value);\n    return {\n      rr_type: name,\n      base64\n    };\n  } else if (value instanceof DataView) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [\n        serializeArg(value.buffer, win, ctx),\n        value.byteOffset,\n        value.byteLength\n      ]\n    };\n  } else if (value instanceof HTMLImageElement) {\n    const name = value.constructor.name;\n    const { src } = value;\n    return {\n      rr_type: name,\n      src\n    };\n  } else if (value instanceof HTMLCanvasElement) {\n    const name = \"HTMLImageElement\";\n    const src = value.toDataURL();\n    return {\n      rr_type: name,\n      src\n    };\n  } else if (value instanceof ImageData) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [serializeArg(value.data, win, ctx), value.width, value.height]\n    };\n  } else if (isInstanceOfWebGLObject(value, win) || typeof value === \"object\") {\n    const name = value.constructor.name;\n    const index2 = saveWebGLVar(value, win, ctx);\n    return {\n      rr_type: name,\n      index: index2\n    };\n  }\n  return value;\n}\nconst serializeArgs = (args, win, ctx) => {\n  return args.map((arg) => serializeArg(arg, win, ctx));\n};\nconst isInstanceOfWebGLObject = (value, win) => {\n  const webGLConstructorNames = [\n    \"WebGLActiveInfo\",\n    \"WebGLBuffer\",\n    \"WebGLFramebuffer\",\n    \"WebGLProgram\",\n    \"WebGLRenderbuffer\",\n    \"WebGLShader\",\n    \"WebGLShaderPrecisionFormat\",\n    \"WebGLTexture\",\n    \"WebGLUniformLocation\",\n    \"WebGLVertexArrayObject\",\n    // In old Chrome versions, value won't be an instanceof WebGLVertexArrayObject.\n    \"WebGLVertexArrayObjectOES\"\n  ];\n  const supportedWebGLConstructorNames = webGLConstructorNames.filter(\n    (name) => typeof win[name] === \"function\"\n  );\n  return Boolean(\n    supportedWebGLConstructorNames.find(\n      (name) => value instanceof win[name]\n    )\n  );\n};\nfunction initCanvas2DMutationObserver(cb, win, blockClass, blockSelector) {\n  const handlers = [];\n  const props2D = Object.getOwnPropertyNames(\n    win.CanvasRenderingContext2D.prototype\n  );\n  for (const prop of props2D) {\n    try {\n      if (typeof win.CanvasRenderingContext2D.prototype[prop] !== \"function\") {\n        continue;\n      }\n      const restoreHandler = patch(\n        win.CanvasRenderingContext2D.prototype,\n        prop,\n        function(original) {\n          return function(...args) {\n            if (!isBlocked(this.canvas, blockClass, blockSelector, true)) {\n              setTimeout(() => {\n                const recordArgs = serializeArgs(args, win, this);\n                cb(this.canvas, {\n                  type: CanvasContext[\"2D\"],\n                  property: prop,\n                  args: recordArgs\n                });\n              }, 0);\n            }\n            return original.apply(this, args);\n          };\n        }\n      );\n      handlers.push(restoreHandler);\n    } catch {\n      const hookHandler = hookSetter(\n        win.CanvasRenderingContext2D.prototype,\n        prop,\n        {\n          set(v2) {\n            cb(this.canvas, {\n              type: CanvasContext[\"2D\"],\n              property: prop,\n              args: [v2],\n              setter: true\n            });\n          }\n        }\n      );\n      handlers.push(hookHandler);\n    }\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nfunction getNormalizedContextName(contextType) {\n  return contextType === \"experimental-webgl\" ? \"webgl\" : contextType;\n}\nfunction initCanvasContextObserver(win, blockClass, blockSelector, setPreserveDrawingBufferToTrue) {\n  const handlers = [];\n  try {\n    const restoreHandler = patch(\n      win.HTMLCanvasElement.prototype,\n      \"getContext\",\n      function(original) {\n        return function(contextType, ...args) {\n          if (!isBlocked(this, blockClass, blockSelector, true)) {\n            const ctxName = getNormalizedContextName(contextType);\n            if (!(\"__context\" in this)) this.__context = ctxName;\n            if (setPreserveDrawingBufferToTrue && [\"webgl\", \"webgl2\"].includes(ctxName)) {\n              if (args[0] && typeof args[0] === \"object\") {\n                const contextAttributes = args[0];\n                if (!contextAttributes.preserveDrawingBuffer) {\n                  contextAttributes.preserveDrawingBuffer = true;\n                }\n              } else {\n                args.splice(0, 1, {\n                  preserveDrawingBuffer: true\n                });\n              }\n            }\n          }\n          return original.apply(this, [contextType, ...args]);\n        };\n      }\n    );\n    handlers.push(restoreHandler);\n  } catch {\n    console.error(\"failed to patch HTMLCanvasElement.prototype.getContext\");\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nfunction patchGLPrototype(prototype, type, cb, blockClass, blockSelector, win) {\n  const handlers = [];\n  const props = Object.getOwnPropertyNames(prototype);\n  for (const prop of props) {\n    if (\n      //prop.startsWith('get') ||  // e.g. getProgramParameter, but too risky\n      [\n        \"isContextLost\",\n        \"canvas\",\n        \"drawingBufferWidth\",\n        \"drawingBufferHeight\"\n      ].includes(prop)\n    ) {\n      continue;\n    }\n    try {\n      if (typeof prototype[prop] !== \"function\") {\n        continue;\n      }\n      const restoreHandler = patch(\n        prototype,\n        prop,\n        function(original) {\n          return function(...args) {\n            const result2 = original.apply(this, args);\n            saveWebGLVar(result2, win, this);\n            if (\"tagName\" in this.canvas && !isBlocked(this.canvas, blockClass, blockSelector, true)) {\n              const recordArgs = serializeArgs(args, win, this);\n              const mutation = {\n                type,\n                property: prop,\n                args: recordArgs\n              };\n              cb(this.canvas, mutation);\n            }\n            return result2;\n          };\n        }\n      );\n      handlers.push(restoreHandler);\n    } catch {\n      const hookHandler = hookSetter(prototype, prop, {\n        set(v2) {\n          cb(this.canvas, {\n            type,\n            property: prop,\n            args: [v2],\n            setter: true\n          });\n        }\n      });\n      handlers.push(hookHandler);\n    }\n  }\n  return handlers;\n}\nfunction initCanvasWebGLMutationObserver(cb, win, blockClass, blockSelector) {\n  const handlers = [];\n  handlers.push(\n    ...patchGLPrototype(\n      win.WebGLRenderingContext.prototype,\n      CanvasContext.WebGL,\n      cb,\n      blockClass,\n      blockSelector,\n      win\n    )\n  );\n  if (typeof win.WebGL2RenderingContext !== \"undefined\") {\n    handlers.push(\n      ...patchGLPrototype(\n        win.WebGL2RenderingContext.prototype,\n        CanvasContext.WebGL2,\n        cb,\n        blockClass,\n        blockSelector,\n        win\n      )\n    );\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nconst encodedJs = \"KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=\";\nconst decodeBase64 = (base64) => Uint8Array.from(atob(base64), (c2) => c2.charCodeAt(0));\nconst blob = typeof window !== \"undefined\" && window.Blob && new Blob([decodeBase64(encodedJs)], { type: \"text/javascript;charset=utf-8\" });\nfunction WorkerWrapper(options) {\n  let objURL;\n  try {\n    objURL = blob && (window.URL || window.webkitURL).createObjectURL(blob);\n    if (!objURL) throw \"\";\n    const worker = new Worker(objURL, {\n      name: options == null ? void 0 : options.name\n    });\n    worker.addEventListener(\"error\", () => {\n      (window.URL || window.webkitURL).revokeObjectURL(objURL);\n    });\n    return worker;\n  } catch (e2) {\n    return new Worker(\n      \"data:text/javascript;base64,\" + encodedJs,\n      {\n        name: options == null ? void 0 : options.name\n      }\n    );\n  } finally {\n    objURL && (window.URL || window.webkitURL).revokeObjectURL(objURL);\n  }\n}\nclass CanvasManager {\n  constructor(options) {\n    __publicField(this, \"pendingCanvasMutations\", /* @__PURE__ */ new Map());\n    __publicField(this, \"rafStamps\", { latestId: 0, invokeId: null });\n    __publicField(this, \"mirror\");\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"resetObservers\");\n    __publicField(this, \"frozen\", false);\n    __publicField(this, \"locked\", false);\n    __publicField(this, \"processMutation\", (target, mutation) => {\n      const newFrame = this.rafStamps.invokeId && this.rafStamps.latestId !== this.rafStamps.invokeId;\n      if (newFrame || !this.rafStamps.invokeId)\n        this.rafStamps.invokeId = this.rafStamps.latestId;\n      if (!this.pendingCanvasMutations.has(target)) {\n        this.pendingCanvasMutations.set(target, []);\n      }\n      this.pendingCanvasMutations.get(target).push(mutation);\n    });\n    const {\n      sampling = \"all\",\n      win,\n      blockClass,\n      blockSelector,\n      recordCanvas,\n      dataURLOptions\n    } = options;\n    this.mutationCb = options.mutationCb;\n    this.mirror = options.mirror;\n    if (recordCanvas && sampling === \"all\")\n      this.initCanvasMutationObserver(win, blockClass, blockSelector);\n    if (recordCanvas && typeof sampling === \"number\")\n      this.initCanvasFPSObserver(sampling, win, blockClass, blockSelector, {\n        dataURLOptions\n      });\n  }\n  reset() {\n    this.pendingCanvasMutations.clear();\n    this.resetObservers && this.resetObservers();\n  }\n  freeze() {\n    this.frozen = true;\n  }\n  unfreeze() {\n    this.frozen = false;\n  }\n  lock() {\n    this.locked = true;\n  }\n  unlock() {\n    this.locked = false;\n  }\n  initCanvasFPSObserver(fps, win, blockClass, blockSelector, options) {\n    const canvasContextReset = initCanvasContextObserver(\n      win,\n      blockClass,\n      blockSelector,\n      true\n    );\n    const snapshotInProgressMap = /* @__PURE__ */ new Map();\n    const worker = new WorkerWrapper();\n    worker.onmessage = (e2) => {\n      const { id } = e2.data;\n      snapshotInProgressMap.set(id, false);\n      if (!(\"base64\" in e2.data)) return;\n      const { base64, type, width, height } = e2.data;\n      this.mutationCb({\n        id,\n        type: CanvasContext[\"2D\"],\n        commands: [\n          {\n            property: \"clearRect\",\n            // wipe canvas\n            args: [0, 0, width, height]\n          },\n          {\n            property: \"drawImage\",\n            // draws (semi-transparent) image\n            args: [\n              {\n                rr_type: \"ImageBitmap\",\n                args: [\n                  {\n                    rr_type: \"Blob\",\n                    data: [{ rr_type: \"ArrayBuffer\", base64 }],\n                    type\n                  }\n                ]\n              },\n              0,\n              0\n            ]\n          }\n        ]\n      });\n    };\n    const timeBetweenSnapshots = 1e3 / fps;\n    let lastSnapshotTime = 0;\n    let rafId;\n    const getCanvas = () => {\n      const matchedCanvas = [];\n      win.document.querySelectorAll(\"canvas\").forEach((canvas) => {\n        if (!isBlocked(canvas, blockClass, blockSelector, true)) {\n          matchedCanvas.push(canvas);\n        }\n      });\n      return matchedCanvas;\n    };\n    const takeCanvasSnapshots = (timestamp) => {\n      if (lastSnapshotTime && timestamp - lastSnapshotTime < timeBetweenSnapshots) {\n        rafId = requestAnimationFrame(takeCanvasSnapshots);\n        return;\n      }\n      lastSnapshotTime = timestamp;\n      getCanvas().forEach(async (canvas) => {\n        var _a2;\n        const id = this.mirror.getId(canvas);\n        if (snapshotInProgressMap.get(id)) return;\n        if (canvas.width === 0 || canvas.height === 0) return;\n        snapshotInProgressMap.set(id, true);\n        if ([\"webgl\", \"webgl2\"].includes(canvas.__context)) {\n          const context = canvas.getContext(canvas.__context);\n          if (((_a2 = context == null ? void 0 : context.getContextAttributes()) == null ? void 0 : _a2.preserveDrawingBuffer) === false) {\n            context.clear(context.COLOR_BUFFER_BIT);\n          }\n        }\n        const bitmap = await createImageBitmap(canvas);\n        worker.postMessage(\n          {\n            id,\n            bitmap,\n            width: canvas.width,\n            height: canvas.height,\n            dataURLOptions: options.dataURLOptions\n          },\n          [bitmap]\n        );\n      });\n      rafId = requestAnimationFrame(takeCanvasSnapshots);\n    };\n    rafId = requestAnimationFrame(takeCanvasSnapshots);\n    this.resetObservers = () => {\n      canvasContextReset();\n      cancelAnimationFrame(rafId);\n    };\n  }\n  initCanvasMutationObserver(win, blockClass, blockSelector) {\n    this.startRAFTimestamping();\n    this.startPendingCanvasMutationFlusher();\n    const canvasContextReset = initCanvasContextObserver(\n      win,\n      blockClass,\n      blockSelector,\n      false\n    );\n    const canvas2DReset = initCanvas2DMutationObserver(\n      this.processMutation.bind(this),\n      win,\n      blockClass,\n      blockSelector\n    );\n    const canvasWebGL1and2Reset = initCanvasWebGLMutationObserver(\n      this.processMutation.bind(this),\n      win,\n      blockClass,\n      blockSelector\n    );\n    this.resetObservers = () => {\n      canvasContextReset();\n      canvas2DReset();\n      canvasWebGL1and2Reset();\n    };\n  }\n  startPendingCanvasMutationFlusher() {\n    requestAnimationFrame(() => this.flushPendingCanvasMutations());\n  }\n  startRAFTimestamping() {\n    const setLatestRAFTimestamp = (timestamp) => {\n      this.rafStamps.latestId = timestamp;\n      requestAnimationFrame(setLatestRAFTimestamp);\n    };\n    requestAnimationFrame(setLatestRAFTimestamp);\n  }\n  flushPendingCanvasMutations() {\n    this.pendingCanvasMutations.forEach(\n      (_values, canvas) => {\n        const id = this.mirror.getId(canvas);\n        this.flushPendingCanvasMutationFor(canvas, id);\n      }\n    );\n    requestAnimationFrame(() => this.flushPendingCanvasMutations());\n  }\n  flushPendingCanvasMutationFor(canvas, id) {\n    if (this.frozen || this.locked) {\n      return;\n    }\n    const valuesWithType = this.pendingCanvasMutations.get(canvas);\n    if (!valuesWithType || id === -1) return;\n    const values = valuesWithType.map((value) => {\n      const { type: type2, ...rest } = value;\n      return rest;\n    });\n    const { type } = valuesWithType[0];\n    this.mutationCb({ id, type, commands: values });\n    this.pendingCanvasMutations.delete(canvas);\n  }\n}\nclass StylesheetManager {\n  constructor(options) {\n    __publicField(this, \"trackedLinkElements\", /* @__PURE__ */ new WeakSet());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"adoptedStyleSheetCb\");\n    __publicField(this, \"styleMirror\", new StyleSheetMirror());\n    this.mutationCb = options.mutationCb;\n    this.adoptedStyleSheetCb = options.adoptedStyleSheetCb;\n  }\n  attachLinkElement(linkEl, childSn) {\n    if (\"_cssText\" in childSn.attributes)\n      this.mutationCb({\n        adds: [],\n        removes: [],\n        texts: [],\n        attributes: [\n          {\n            id: childSn.id,\n            attributes: childSn.attributes\n          }\n        ]\n      });\n    this.trackLinkElement(linkEl);\n  }\n  trackLinkElement(linkEl) {\n    if (this.trackedLinkElements.has(linkEl)) return;\n    this.trackedLinkElements.add(linkEl);\n    this.trackStylesheetInLinkElement(linkEl);\n  }\n  adoptStyleSheets(sheets, hostId) {\n    if (sheets.length === 0) return;\n    const adoptedStyleSheetData = {\n      id: hostId,\n      styleIds: []\n    };\n    const styles = [];\n    for (const sheet of sheets) {\n      let styleId;\n      if (!this.styleMirror.has(sheet)) {\n        styleId = this.styleMirror.add(sheet);\n        styles.push({\n          styleId,\n          rules: Array.from(sheet.rules || CSSRule, (r2, index2) => ({\n            rule: stringifyRule(r2, sheet.href),\n            index: index2\n          }))\n        });\n      } else styleId = this.styleMirror.getId(sheet);\n      adoptedStyleSheetData.styleIds.push(styleId);\n    }\n    if (styles.length > 0) adoptedStyleSheetData.styles = styles;\n    this.adoptedStyleSheetCb(adoptedStyleSheetData);\n  }\n  reset() {\n    this.styleMirror.reset();\n    this.trackedLinkElements = /* @__PURE__ */ new WeakSet();\n  }\n  // TODO: take snapshot on stylesheet reload by applying event listener\n  trackStylesheetInLinkElement(_linkEl) {\n  }\n}\nclass ProcessedNodeManager {\n  constructor() {\n    __publicField(this, \"nodeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"active\", false);\n  }\n  inOtherBuffer(node2, thisBuffer) {\n    const buffers = this.nodeMap.get(node2);\n    return buffers && Array.from(buffers).some((buffer) => buffer !== thisBuffer);\n  }\n  add(node2, buffer) {\n    if (!this.active) {\n      this.active = true;\n      requestAnimationFrame(() => {\n        this.nodeMap = /* @__PURE__ */ new WeakMap();\n        this.active = false;\n      });\n    }\n    this.nodeMap.set(node2, (this.nodeMap.get(node2) || /* @__PURE__ */ new Set()).add(buffer));\n  }\n  destroy() {\n  }\n}\nlet wrappedEmit;\nlet takeFullSnapshot$1;\nlet canvasManager;\nlet recording = false;\ntry {\n  if (Array.from([1], (x2) => x2 * 2)[0] !== 2) {\n    const cleanFrame = document.createElement(\"iframe\");\n    document.body.appendChild(cleanFrame);\n    Array.from = ((_a = cleanFrame.contentWindow) == null ? void 0 : _a.Array.from) || Array.from;\n    document.body.removeChild(cleanFrame);\n  }\n} catch (err) {\n  console.debug(\"Unable to override Array.from\", err);\n}\nconst mirror = createMirror$2();\nfunction record(options = {}) {\n  const {\n    emit,\n    checkoutEveryNms,\n    checkoutEveryNth,\n    blockClass = \"rr-block\",\n    blockSelector = null,\n    ignoreClass = \"rr-ignore\",\n    ignoreSelector = null,\n    maskTextClass = \"rr-mask\",\n    maskTextSelector = null,\n    inlineStylesheet = true,\n    maskAllInputs,\n    maskInputOptions: _maskInputOptions,\n    slimDOMOptions: _slimDOMOptions,\n    maskInputFn,\n    maskTextFn,\n    hooks,\n    packFn,\n    sampling = {},\n    dataURLOptions = {},\n    mousemoveWait,\n    recordDOM = true,\n    recordCanvas = false,\n    recordCrossOriginIframes = false,\n    recordAfter = options.recordAfter === \"DOMContentLoaded\" ? options.recordAfter : \"load\",\n    userTriggeredOnInput = false,\n    collectFonts = false,\n    inlineImages = false,\n    plugins,\n    keepIframeSrcFn = () => false,\n    ignoreCSSAttributes = /* @__PURE__ */ new Set([]),\n    errorHandler: errorHandler2\n  } = options;\n  registerErrorHandler(errorHandler2);\n  const inEmittingFrame = recordCrossOriginIframes ? window.parent === window : true;\n  let passEmitsToParent = false;\n  if (!inEmittingFrame) {\n    try {\n      if (window.parent.document) {\n        passEmitsToParent = false;\n      }\n    } catch (e2) {\n      passEmitsToParent = true;\n    }\n  }\n  if (inEmittingFrame && !emit) {\n    throw new Error(\"emit function is required\");\n  }\n  if (!inEmittingFrame && !passEmitsToParent) {\n    return () => {\n    };\n  }\n  if (mousemoveWait !== void 0 && sampling.mousemove === void 0) {\n    sampling.mousemove = mousemoveWait;\n  }\n  mirror.reset();\n  const maskInputOptions = maskAllInputs === true ? {\n    color: true,\n    date: true,\n    \"datetime-local\": true,\n    email: true,\n    month: true,\n    number: true,\n    range: true,\n    search: true,\n    tel: true,\n    text: true,\n    time: true,\n    url: true,\n    week: true,\n    textarea: true,\n    select: true,\n    password: true\n  } : _maskInputOptions !== void 0 ? _maskInputOptions : { password: true };\n  const slimDOMOptions = slimDOMDefaults(_slimDOMOptions);\n  polyfill$1();\n  let lastFullSnapshotEvent;\n  let incrementalSnapshotCount = 0;\n  const eventProcessor = (e2) => {\n    for (const plugin3 of plugins || []) {\n      if (plugin3.eventProcessor) {\n        e2 = plugin3.eventProcessor(e2);\n      }\n    }\n    if (packFn && // Disable packing events which will be emitted to parent frames.\n    !passEmitsToParent) {\n      e2 = packFn(e2);\n    }\n    return e2;\n  };\n  wrappedEmit = (r2, isCheckout) => {\n    var _a2;\n    const e2 = r2;\n    e2.timestamp = nowTimestamp();\n    if (((_a2 = mutationBuffers[0]) == null ? void 0 : _a2.isFrozen()) && e2.type !== EventType.FullSnapshot && !(e2.type === EventType.IncrementalSnapshot && e2.data.source === IncrementalSource.Mutation)) {\n      mutationBuffers.forEach((buf) => buf.unfreeze());\n    }\n    if (inEmittingFrame) {\n      emit == null ? void 0 : emit(eventProcessor(e2), isCheckout);\n    } else if (passEmitsToParent) {\n      const message = {\n        type: \"rrweb\",\n        event: eventProcessor(e2),\n        origin: window.location.origin,\n        isCheckout\n      };\n      window.parent.postMessage(message, \"*\");\n    }\n    if (e2.type === EventType.FullSnapshot) {\n      lastFullSnapshotEvent = e2;\n      incrementalSnapshotCount = 0;\n    } else if (e2.type === EventType.IncrementalSnapshot) {\n      if (e2.data.source === IncrementalSource.Mutation && e2.data.isAttachIframe) {\n        return;\n      }\n      incrementalSnapshotCount++;\n      const exceedCount = checkoutEveryNth && incrementalSnapshotCount >= checkoutEveryNth;\n      const exceedTime = checkoutEveryNms && e2.timestamp - lastFullSnapshotEvent.timestamp > checkoutEveryNms;\n      if (exceedCount || exceedTime) {\n        takeFullSnapshot$1(true);\n      }\n    }\n  };\n  const wrappedMutationEmit = (m) => {\n    wrappedEmit({\n      type: EventType.IncrementalSnapshot,\n      data: {\n        source: IncrementalSource.Mutation,\n        ...m\n      }\n    });\n  };\n  const wrappedScrollEmit = (p) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.Scroll,\n      ...p\n    }\n  });\n  const wrappedCanvasMutationEmit = (p) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.CanvasMutation,\n      ...p\n    }\n  });\n  const wrappedAdoptedStyleSheetEmit = (a2) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.AdoptedStyleSheet,\n      ...a2\n    }\n  });\n  const stylesheetManager = new StylesheetManager({\n    mutationCb: wrappedMutationEmit,\n    adoptedStyleSheetCb: wrappedAdoptedStyleSheetEmit\n  });\n  const iframeManager = new IframeManager({\n    mirror,\n    mutationCb: wrappedMutationEmit,\n    stylesheetManager,\n    recordCrossOriginIframes,\n    wrappedEmit\n  });\n  for (const plugin3 of plugins || []) {\n    if (plugin3.getMirror)\n      plugin3.getMirror({\n        nodeMirror: mirror,\n        crossOriginIframeMirror: iframeManager.crossOriginIframeMirror,\n        crossOriginIframeStyleMirror: iframeManager.crossOriginIframeStyleMirror\n      });\n  }\n  const processedNodeManager = new ProcessedNodeManager();\n  canvasManager = new CanvasManager({\n    recordCanvas,\n    mutationCb: wrappedCanvasMutationEmit,\n    win: window,\n    blockClass,\n    blockSelector,\n    mirror,\n    sampling: sampling.canvas,\n    dataURLOptions\n  });\n  const shadowDomManager = new ShadowDomManager({\n    mutationCb: wrappedMutationEmit,\n    scrollCb: wrappedScrollEmit,\n    bypassOptions: {\n      blockClass,\n      blockSelector,\n      maskTextClass,\n      maskTextSelector,\n      inlineStylesheet,\n      maskInputOptions,\n      dataURLOptions,\n      maskTextFn,\n      maskInputFn,\n      recordCanvas,\n      inlineImages,\n      sampling,\n      slimDOMOptions,\n      iframeManager,\n      stylesheetManager,\n      canvasManager,\n      keepIframeSrcFn,\n      processedNodeManager\n    },\n    mirror\n  });\n  takeFullSnapshot$1 = (isCheckout = false) => {\n    if (!recordDOM) {\n      return;\n    }\n    wrappedEmit(\n      {\n        type: EventType.Meta,\n        data: {\n          href: window.location.href,\n          width: getWindowWidth(),\n          height: getWindowHeight()\n        }\n      },\n      isCheckout\n    );\n    stylesheetManager.reset();\n    shadowDomManager.init();\n    mutationBuffers.forEach((buf) => buf.lock());\n    const node2 = snapshot(document, {\n      mirror,\n      blockClass,\n      blockSelector,\n      maskTextClass,\n      maskTextSelector,\n      inlineStylesheet,\n      maskAllInputs: maskInputOptions,\n      maskTextFn,\n      maskInputFn,\n      slimDOM: slimDOMOptions,\n      dataURLOptions,\n      recordCanvas,\n      inlineImages,\n      onSerialize: (n2) => {\n        if (isSerializedIframe(n2, mirror)) {\n          iframeManager.addIframe(n2);\n        }\n        if (isSerializedStylesheet(n2, mirror)) {\n          stylesheetManager.trackLinkElement(n2);\n        }\n        if (hasShadowRoot(n2)) {\n          shadowDomManager.addShadowRoot(index.shadowRoot(n2), document);\n        }\n      },\n      onIframeLoad: (iframe, childSn) => {\n        iframeManager.attachIframe(iframe, childSn);\n        shadowDomManager.observeAttachShadow(iframe);\n      },\n      onStylesheetLoad: (linkEl, childSn) => {\n        stylesheetManager.attachLinkElement(linkEl, childSn);\n      },\n      keepIframeSrcFn\n    });\n    if (!node2) {\n      return console.warn(\"Failed to snapshot the document\");\n    }\n    wrappedEmit(\n      {\n        type: EventType.FullSnapshot,\n        data: {\n          node: node2,\n          initialOffset: getWindowScroll(window)\n        }\n      },\n      isCheckout\n    );\n    mutationBuffers.forEach((buf) => buf.unlock());\n    if (document.adoptedStyleSheets && document.adoptedStyleSheets.length > 0)\n      stylesheetManager.adoptStyleSheets(\n        document.adoptedStyleSheets,\n        mirror.getId(document)\n      );\n  };\n  try {\n    const handlers = [];\n    const observe = (doc) => {\n      var _a2;\n      return callbackWrapper(initObservers)(\n        {\n          mutationCb: wrappedMutationEmit,\n          mousemoveCb: (positions, source) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source,\n              positions\n            }\n          }),\n          mouseInteractionCb: (d) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.MouseInteraction,\n              ...d\n            }\n          }),\n          scrollCb: wrappedScrollEmit,\n          viewportResizeCb: (d) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.ViewportResize,\n              ...d\n            }\n          }),\n          inputCb: (v2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.Input,\n              ...v2\n            }\n          }),\n          mediaInteractionCb: (p) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.MediaInteraction,\n              ...p\n            }\n          }),\n          styleSheetRuleCb: (r2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.StyleSheetRule,\n              ...r2\n            }\n          }),\n          styleDeclarationCb: (r2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.StyleDeclaration,\n              ...r2\n            }\n          }),\n          canvasMutationCb: wrappedCanvasMutationEmit,\n          fontCb: (p) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.Font,\n              ...p\n            }\n          }),\n          selectionCb: (p) => {\n            wrappedEmit({\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source: IncrementalSource.Selection,\n                ...p\n              }\n            });\n          },\n          customElementCb: (c2) => {\n            wrappedEmit({\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source: IncrementalSource.CustomElement,\n                ...c2\n              }\n            });\n          },\n          blockClass,\n          ignoreClass,\n          ignoreSelector,\n          maskTextClass,\n          maskTextSelector,\n          maskInputOptions,\n          inlineStylesheet,\n          sampling,\n          recordDOM,\n          recordCanvas,\n          inlineImages,\n          userTriggeredOnInput,\n          collectFonts,\n          doc,\n          maskInputFn,\n          maskTextFn,\n          keepIframeSrcFn,\n          blockSelector,\n          slimDOMOptions,\n          dataURLOptions,\n          mirror,\n          iframeManager,\n          stylesheetManager,\n          shadowDomManager,\n          processedNodeManager,\n          canvasManager,\n          ignoreCSSAttributes,\n          plugins: ((_a2 = plugins == null ? void 0 : plugins.filter((p) => p.observer)) == null ? void 0 : _a2.map((p) => ({\n            observer: p.observer,\n            options: p.options,\n            callback: (payload) => wrappedEmit({\n              type: EventType.Plugin,\n              data: {\n                plugin: p.name,\n                payload\n              }\n            })\n          }))) || []\n        },\n        hooks\n      );\n    };\n    iframeManager.addLoadListener((iframeEl) => {\n      try {\n        handlers.push(observe(iframeEl.contentDocument));\n      } catch (error) {\n        console.warn(error);\n      }\n    });\n    const init = () => {\n      takeFullSnapshot$1();\n      handlers.push(observe(document));\n      recording = true;\n    };\n    if ([\"interactive\", \"complete\"].includes(document.readyState)) {\n      init();\n    } else {\n      handlers.push(\n        on(\"DOMContentLoaded\", () => {\n          wrappedEmit({\n            type: EventType.DomContentLoaded,\n            data: {}\n          });\n          if (recordAfter === \"DOMContentLoaded\") init();\n        })\n      );\n      handlers.push(\n        on(\n          \"load\",\n          () => {\n            wrappedEmit({\n              type: EventType.Load,\n              data: {}\n            });\n            if (recordAfter === \"load\") init();\n          },\n          window\n        )\n      );\n    }\n    return () => {\n      handlers.forEach((handler) => {\n        try {\n          handler();\n        } catch (error) {\n          const msg = String(error).toLowerCase();\n          if (!msg.includes(\"cross-origin\")) {\n            console.warn(error);\n          }\n        }\n      });\n      processedNodeManager.destroy();\n      recording = false;\n      unregisterErrorHandler();\n    };\n  } catch (error) {\n    console.warn(error);\n  }\n}\nrecord.addCustomEvent = (tag, payload) => {\n  if (!recording) {\n    throw new Error(\"please add custom event after start recording\");\n  }\n  wrappedEmit({\n    type: EventType.Custom,\n    data: {\n      tag,\n      payload\n    }\n  });\n};\nrecord.freezePage = () => {\n  mutationBuffers.forEach((buf) => buf.freeze());\n};\nrecord.takeFullSnapshot = (isCheckout) => {\n  if (!recording) {\n    throw new Error(\"please take full snapshot after start recording\");\n  }\n  takeFullSnapshot$1(isCheckout);\n};\nrecord.mirror = mirror;\nvar n;\n!function(t2) {\n  t2[t2.NotStarted = 0] = \"NotStarted\", t2[t2.Running = 1] = \"Running\", t2[t2.Stopped = 2] = \"Stopped\";\n}(n || (n = {}));\nexport {\n  record\n};\n//# sourceMappingURL=record.js.map\n","import { isMobile } from './GleapHelper';\nimport { record } from '@rrweb/record';\n\nexport default class GleapReplayRecorder {\n  startDate = undefined;\n  events = [];\n  bufferSize = 0;\n  stopFunction = undefined;\n  customOptions = {};\n\n  // GleapReplayRecorder singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapReplayRecorder();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  constructor() {}\n\n  setOptions(options) {\n    this.customOptions = options;\n  }\n\n  /**\n   * Start replays\n   * @returns\n   */\n  start() {\n    this.stop();\n\n    this.startDate = Date.now();\n    var events = this.events;\n\n    var options = {\n      inlineStylesheet: true,\n      blockClass: 'gl-block',\n      ignoreClass: 'gl-ignore',\n      maskTextClass: 'gl-mask',\n      dataURLOptions: {\n        quality: 0.7,\n      },\n      recordCanvas: false,\n      sampling: {\n        scroll: 150,\n        mouseInteraction: {\n          MouseUp: false,\n          MouseDown: false,\n          Click: true,\n          ContextMenu: true,\n          DblClick: true,\n          Focus: true,\n          Blur: true,\n          TouchStart: true,\n          TouchEnd: false,\n        },\n      },\n      collectFonts: false,\n      recordCrossOriginIframes: false,\n    };\n\n    try {\n      this.stopFunction = record({\n        ...options,\n        ...this.customOptions,\n        emit(rrwebEvent) {\n          const { event } = ensureMaxMessageSize(rrwebEvent);\n          events.push(event);\n        },\n      });\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  /**\n   * Stop replays\n   * @returns\n   */\n  stop() {\n    if (this.stopFunction) {\n      this.stopFunction();\n    }\n\n    this.startDate = undefined;\n    this.events = [];\n    this.bufferSize = 0;\n  }\n\n  /**\n   * Get the current replay data\n   * @returns {Promise<void>}\n   */\n  getReplayData() {\n    const replayResult = {\n      startDate: this.startDate,\n      events: this.events,\n      baseUrl: window.location.origin,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      isMobile: isMobile(),\n      type: 'rrweb',\n    };\n\n    return replayResult;\n  }\n}\n\nexport function ensureMaxMessageSize(data) {\n  let stringifiedData = JSON.stringify(data);\n  if (stringifiedData.length > 4000000) {\n    const dataURIRegex = /data:([\\w\\/\\-\\.]+);(\\w+),([^)\"]*)/gim;\n    const matches = stringifiedData.matchAll(dataURIRegex);\n    for (const match of matches) {\n      if (match[1].toLocaleLowerCase().slice(0, 6) === 'image/') {\n        stringifiedData = stringifiedData.replace(\n          match[0],\n          'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAQSURBVHgBAQUA+v8ABRg5/wHSAVZN1mnaAAAAAElFTkSuQmCC'\n        );\n      } else {\n        stringifiedData = stringifiedData.replace(match[0], '');\n      }\n    }\n  }\n  return { event: JSON.parse(stringifiedData), size: stringifiedData.length };\n}\n","export class ScreenDrawer {\n  rerender;\n  svgElement = null;\n  path = null;\n  strPath;\n  strokeWidth = 12;\n  strokeWidthRect = 6;\n  bufferSize = 4;\n  buffer = [];\n  startPoint = null;\n  tool = 'rect';\n  color = '#EB144C';\n  mouseDown = null;\n  mouseMove = null;\n  mouseUp = null;\n  resizeListener = null;\n  pathBuffer = [];\n\n  constructor(rerender) {\n    const self = this;\n\n    this.rerender = rerender;\n\n    this.svgElement = document.querySelector('.bb-capture-svg');\n    this.svgElement.style.minHeight = `${document.documentElement.scrollHeight}px`;\n\n    // Window resize listener.\n    this.resizeListener = function (e) {\n      self.svgElement.style.minHeight = `${document.documentElement.scrollHeight}px`;\n    };\n    window.addEventListener('resize', this.resizeListener, true);\n\n    this.mouseDown = function (e) {\n      e.preventDefault();\n\n      const colorpicker = document.querySelector('.bb-capture-toolbar-item-colorpicker');\n      if (colorpicker) {\n        colorpicker.style.display = 'none';\n      }\n\n      self.fadeOutToolbar();\n      if (self.tool === 'pen' || self.tool === 'blur') {\n        self.mouseDownPen(e);\n      }\n      if (self.tool === 'rect') {\n        self.mouseDownRect(e);\n      }\n    };\n\n    this.mouseMove = function (e) {\n      e.preventDefault();\n      if (self.tool === 'pen' || self.tool === 'blur') {\n        self.mouseMovePen(e);\n      }\n      if (self.tool === 'rect') {\n        self.mouseMoveRect(e);\n      }\n    };\n\n    this.mouseUp = function (e) {\n      e.preventDefault();\n      self.fadeInToolbar();\n      if (self.tool === 'pen' || self.tool === 'blur') {\n        self.mouseUpPen(e);\n      }\n      if (self.tool === 'rect') {\n        self.mouseUpRect(e);\n      }\n    };\n\n    this.svgElement.addEventListener('mousedown', this.mouseDown);\n    this.svgElement.addEventListener('mousemove', this.mouseMove);\n    this.svgElement.addEventListener('mouseup', this.mouseUp);\n    this.svgElement.addEventListener('touchstart', this.mouseDown, false);\n    this.svgElement.addEventListener('touchmove', this.mouseMove, false);\n    this.svgElement.addEventListener('touchend', this.mouseUp, false);\n\n    setTimeout(() => {\n      this.rerender();\n    }, 100);\n  }\n\n  clear() {\n    if (this.svgElement) {\n      while (this.svgElement.firstChild) {\n        this.svgElement.firstChild.remove();\n      }\n    }\n  }\n\n  destroy() {\n    this.svgElement.removeEventListener('mousedown', this.mouseDown);\n    this.svgElement.removeEventListener('mousemove', this.mouseMove);\n    this.svgElement.removeEventListener('mouseup', this.mouseUp);\n    this.svgElement.removeEventListener('touchstart', this.mouseDown);\n    this.svgElement.removeEventListener('touchmove', this.mouseMove);\n    this.svgElement.removeEventListener('touchend', this.mouseUp);\n    window.removeEventListener('resize', this.resizeListener);\n  }\n\n  mouseUpPen() {\n    if (this.path) {\n      this.path = null;\n    }\n  }\n\n  mouseUpRect() {\n    if (this.path) {\n      this.path = null;\n    }\n  }\n\n  mouseMovePen(e) {\n    if (this.path) {\n      this.appendToBuffer(this.getMousePosition(e));\n      this.updateSvgPath();\n    }\n  }\n\n  mouseMoveRect(e) {\n    if (this.path) {\n      var p = this.getMousePosition(e);\n      var w = Math.abs(p.x - this.startPoint.x);\n      var h = Math.abs(p.y - this.startPoint.y);\n      var x = p.x;\n      var y = p.y;\n      if (p.x > this.startPoint.x) {\n        x = this.startPoint.x;\n      }\n      if (p.y > this.startPoint.y) {\n        y = this.startPoint.y;\n      }\n\n      this.path.setAttributeNS(null, 'x', x);\n      this.path.setAttributeNS(null, 'y', y);\n      this.path.setAttributeNS(null, 'width', w);\n      this.path.setAttributeNS(null, 'height', h);\n    }\n  }\n\n  mouseDownRect(e) {\n    this.path = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n    this.path.setAttribute('fill', 'none');\n    this.path.setAttribute('stroke', this.color);\n    this.path.setAttribute('stroke-linecap', 'round');\n    this.path.setAttribute('stroke-width', this.strokeWidthRect);\n\n    this.startPoint = this.getMousePosition(e);\n    this.appendPathToSvg(this.path);\n  }\n\n  mouseDownPen(e) {\n    var color = this.color + 'AA';\n    var strokeWidth = this.strokeWidth;\n\n    if (this.tool === 'blur') {\n      color = '#000000';\n      strokeWidth = 40;\n    }\n\n    this.path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    this.path.setAttribute('fill', 'none');\n    this.path.setAttribute('stroke', color);\n    this.path.setAttribute('stroke-linecap', 'round');\n    this.path.setAttribute('stroke-width', strokeWidth);\n    this.buffer = [];\n    var pt = this.getMousePosition(e);\n    this.appendToBuffer(pt);\n    this.strPath = 'M' + pt.x + ' ' + pt.y;\n    this.path.setAttribute('d', this.strPath);\n    this.appendPathToSvg(this.path);\n  }\n\n  setTool(tool) {\n    this.tool = tool;\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  getMousePosition(e) {\n    if (e.touches && e.touches.length > 0) {\n      return {\n        x: e.touches[0].clientX,\n        y: e.touches[0].clientY,\n      };\n    }\n\n    return {\n      x: e.clientX,\n      y: e.clientY,\n    };\n  }\n\n  // Calculate the average point, starting at offset in the buffer\n  getAveragePoint(offset) {\n    var len = this.buffer.length;\n    if (len % 2 === 1 || len >= this.bufferSize) {\n      var totalX = 0;\n      var totalY = 0;\n      var pt, i;\n      var count = 0;\n      for (i = offset; i < len; i++) {\n        count++;\n        pt = this.buffer[i];\n        totalX += pt.x;\n        totalY += pt.y;\n      }\n      return {\n        x: totalX / count,\n        y: totalY / count,\n      };\n    }\n    return null;\n  }\n\n  updateSvgPath() {\n    var pt = this.getAveragePoint(0);\n\n    if (pt) {\n      // Get the smoothed part of the path that will not change\n      this.strPath += ' L' + pt.x + ' ' + pt.y;\n\n      // Get the last part of the path (close to the current mouse position)\n      // This part will change if the mouse moves again\n      var tmpPath = '';\n      for (var offset = 2; offset < this.buffer.length; offset += 2) {\n        pt = this.getAveragePoint(offset);\n        tmpPath += ' L' + pt.x + ' ' + pt.y;\n      }\n\n      // Set the complete current path coordinates\n      this.path.setAttribute('d', this.strPath + tmpPath);\n    }\n  }\n\n  appendToBuffer(pt) {\n    this.buffer.push(pt);\n    while (this.buffer.length > this.bufferSize) {\n      this.buffer.shift();\n    }\n  }\n\n  appendPathToSvg(path) {\n    this.svgElement.appendChild(path);\n    this.pathBuffer.push(path);\n    this.rerender();\n  }\n\n  removeLastAddedPathFromSvg() {\n    if (this.pathBuffer.length <= 0 || !this.svgElement) {\n      return;\n    }\n\n    this.svgElement.removeChild(this.pathBuffer[this.pathBuffer.length - 1]);\n\n    this.pathBuffer.pop();\n\n    this.rerender();\n  }\n\n  fadeOutToolbar() {\n    var fadeTarget = document.querySelector('.bb-capture-toolbar');\n    if (fadeTarget) {\n      fadeTarget.style.opacity = 0;\n      fadeTarget.style.pointerEvents = 'none';\n    }\n  }\n\n  fadeInToolbar() {\n    var fadeTarget = document.querySelector('.bb-capture-toolbar');\n    if (fadeTarget) {\n      fadeTarget.style.opacity = 1;\n      fadeTarget.style.pointerEvents = 'auto';\n    }\n  }\n}\n","export class GleapScrollStopper {\n  keys = { 37: 1, 38: 1, 39: 1, 40: 1 };\n  supportsPassive = false;\n  wheelOpt = this.supportsPassive ? { passive: false } : false;\n  wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';\n  scrollDisabled = false;\n\n  // GleapScrollStopper singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapScrollStopper();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  constructor() {\n    const self = this;\n    try {\n      window.addEventListener(\n        'test',\n        null,\n        Object.defineProperty({}, 'passive', {\n          get: function () {\n            self.supportsPassive = true;\n            self.wheelOpt = self.supportsPassive ? { passive: false } : false;\n          },\n        })\n      );\n    } catch (e) {}\n  }\n\n  preventDefault(e) {\n    e.preventDefault();\n  }\n\n  preventDefaultForScrollKeys(e) {\n    if (this.keys && this.keys[e.keyCode]) {\n      this.preventDefault(e);\n      return false;\n    }\n  }\n\n  static disableScroll() {\n    const instance = this.getInstance();\n    if (instance.scrollDisabled) {\n      return;\n    }\n\n    instance.scrollDisabled = true;\n\n    window.addEventListener('DOMMouseScroll', instance.preventDefault, false); // older FF\n    window.addEventListener(instance.wheelEvent, instance.preventDefault, instance.wheelOpt); // modern desktop\n    window.addEventListener('touchmove', instance.preventDefault, instance.wheelOpt); // mobile\n    window.addEventListener('keydown', instance.preventDefaultForScrollKeys, false);\n  }\n\n  static enableScroll() {\n    const instance = this.getInstance();\n    if (!instance.scrollDisabled) {\n      return;\n    }\n\n    instance.scrollDisabled = false;\n    window.removeEventListener('DOMMouseScroll', instance.preventDefault, false);\n    window.removeEventListener(instance.wheelEvent, instance.preventDefault, instance.wheelOpt);\n    window.removeEventListener('touchmove', instance.preventDefault, instance.wheelOpt);\n    window.removeEventListener('keydown', instance.preventDefaultForScrollKeys, false);\n  }\n}\n","import Gleap, { GleapTranslationManager, GleapFrameManager } from './Gleap';\nimport { ScreenDrawer } from './ScreenDrawer';\nimport { GleapScrollStopper } from './GleapScrollStopper';\nimport { GleapScreenRecorder } from './GleapScreenRecorder';\nimport { loadIcon } from './UI';\n\nexport default class GleapMarkerManager {\n  type = 'screenshot';\n  dragCursor = null;\n  screenRecorder = null;\n  callback = null;\n  screenDrawer = null;\n  escListener = null;\n  pageLeaveListener = null;\n  overrideLanguage = Gleap.getInstance().overrideLanguage;\n\n  constructor(type) {\n    this.type = type;\n  }\n\n  hideWidgetUI() {\n    const feedbackButton = document.querySelector('.bb-feedback-button');\n    if (feedbackButton) {\n      feedbackButton.style.display = 'none';\n    }\n\n    const dialogUI = document.querySelector('.bb-feedback-dialog-container');\n    if (dialogUI) {\n      dialogUI.style.display = 'none';\n    }\n  }\n\n  showWidgetUI() {\n    if (this.type === 'screenshot') {\n      GleapScrollStopper.enableScroll();\n    }\n\n    // Stop screenrecording.\n    if (this.screenRecorder) {\n      this.screenRecorder.stopScreenRecording();\n    }\n\n    // Unregister ESC listener\n    this.unregisterListeners();\n\n    // Cleanup mouse pointer\n    this.cleanupMousePointer();\n\n    if (this.screenDrawer) {\n      this.screenDrawer.destroy();\n    }\n\n    // Remove the toolbar UI\n    const dialog = document.querySelector('.bb-capture-toolbar');\n    if (dialog) {\n      dialog.remove();\n    }\n\n    // Capture SVG ref\n    const captureSVG = document.querySelector('.bb-capture-svg');\n    if (captureSVG) {\n      captureSVG.classList.add('bb-capture-svg--preview');\n    }\n\n    // Remove the preview UI\n    const videoPreviewContainer = document.querySelector('.bb-capture-preview');\n    if (videoPreviewContainer) {\n      videoPreviewContainer.remove();\n    }\n\n    // Feedback button\n    const feedbackButton = document.querySelector('.bb-feedback-button');\n    if (feedbackButton) {\n      feedbackButton.style.display = 'flex';\n    }\n\n    // Feedback dialog container\n    const dialogUI = document.querySelector('.bb-feedback-dialog-container');\n    if (dialogUI) {\n      dialogUI.style.display = 'block';\n    }\n\n    // Dismiss button\n    const dismissUI = document.querySelector('.bb-capture-dismiss');\n    if (dismissUI) {\n      dismissUI.style.display = 'none';\n    }\n\n    // Hide the color picker\n    const colorPicker = document.querySelector('.bb-capture-toolbar-item-colorpicker');\n    if (colorPicker) {\n      colorPicker.style.display = 'none';\n    }\n\n    // Border layer\n    const borderLayer = document.querySelector('.bb-capture-editor-borderlayer');\n    if (borderLayer) {\n      borderLayer.style.display = 'none';\n    }\n  }\n\n  clear() {\n    const captureEditor = document.querySelector('.bb-capture-editor');\n    if (captureEditor) {\n      captureEditor.remove();\n    }\n  }\n\n  setMouseMove(x, y) {\n    if (!this.dragCursor) {\n      return;\n    }\n\n    this.dragCursor.style.left = `${x + 6}px`;\n    this.dragCursor.style.top = `${y - 26}px`;\n    this.dragCursor.style.right = null;\n  }\n\n  mouseMoveEventHandler(e) {\n    const x = e.clientX;\n    const y = e.clientY;\n    this.setMouseMove(x, y);\n  }\n\n  touchMoveEventHandler(e) {\n    const x = e.touches[0].clientX;\n    const y = e.touches[0].clientY;\n    this.setMouseMove(x, y);\n  }\n\n  setupMousePointer() {\n    const self = this;\n    this.dragCursor = document.querySelector('.bb-capture-editor-drag-info');\n    const captureSVG = document.querySelector('.bb-capture-svg');\n    captureSVG.addEventListener('mouseenter', (e) => {\n      self.dragCursor.style.opacity = 1;\n    });\n\n    captureSVG.addEventListener('mouseleave', (e) => {\n      self.dragCursor.style.opacity = 0;\n    });\n\n    document.documentElement.addEventListener('mousemove', this.mouseMoveEventHandler.bind(this));\n    document.documentElement.addEventListener('touchmove', this.touchMoveEventHandler.bind(this));\n  }\n\n  cleanupMousePointer() {\n    document.documentElement.removeEventListener('mousemove', this.mouseMoveEventHandler);\n    document.documentElement.removeEventListener('touchmove', this.touchMoveEventHandler);\n\n    // Clean up toolbar drag listeners\n    const dragHandle = document.querySelector(\".bb-capture-toolbar-item[data-type='drag']\");\n    if (dragHandle) {\n      dragHandle.removeEventListener('mousedown', this.dragStart);\n      dragHandle.removeEventListener('touchstart', this.dragStart);\n      document.removeEventListener('mousemove', this.drag);\n      document.removeEventListener('touchmove', this.drag);\n      document.removeEventListener('mouseup', this.dragEnd);\n      document.removeEventListener('touchend', this.dragEnd);\n    }\n\n    if (this.dragCursor) {\n      this.dragCursor.remove();\n    }\n  }\n\n  createEditorUI() {\n    // Add HTML for drawing and recording\n    var bugReportingEditor = document.createElement('div');\n    bugReportingEditor.className = 'bb-capture-editor';\n    bugReportingEditor.innerHTML = `\n          <div class=\"bb-capture-editor-borderlayer\"></div>\n          <svg class=\"bb-capture-svg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" xml:space=\"preserve\"></svg>\n          <div class=\"bb-capture-dismiss\">${loadIcon('dismiss')}</div>\n          <div class='bb-capture-editor-drag-info'>${loadIcon('rect')}</div>\n          <div class=\"bb-capture-toolbar\">\n            <div class=\"bb-capture-toolbar-item bb-capture-item-rec bb-capture-toolbar-item-tool drag-handle-item\" data-type=\"drag\">\n              ${loadIcon('drag')}\n            </div>\n            ${\n              this.type === 'capture'\n                ? `<div class=\"bb-capture-toolbar-item bb-capture-item-rec bb-capture-toolbar-item-recording\" data-type=\"recording\">\n                  ${loadIcon('recorderon')}\n                  ${loadIcon('recorderoff')}\n                  <span class=\"bb-tooltip bb-tooltip-screen-recording\"></span>\n                </div>\n                <div class=\"bb-capture-toolbar-item bb-capture-item-rec\" data-type=\"mic\">\n                  ${loadIcon('mic')}\n                  <span class=\"bb-tooltip bb-tooltip-audio-recording\"></span>\n                </div>\n                <div class=\"bb-capture-toolbar-item-timer bb-capture-item-rec\">2:00</div>\n                <div class=\"bb-capture-toolbar-item-spacer\"></div>\n                <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem bb-capture-toolbar-item-tool\" data-type=\"pointer\">\n                  ${loadIcon('pointer')}\n                </div>`\n                : ''\n            }\n            <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem bb-capture-toolbar-item-tool bb-capture-toolbar-item--active\" data-type=\"rect\">\n              ${loadIcon('rect')}\n            </div>\n            <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem bb-capture-toolbar-item-tool\" data-type=\"pen\">\n              ${loadIcon('pen')}\n            </div>\n            <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem bb-capture-toolbar-item-tool\" data-type=\"blur\">\n              ${loadIcon('blur')}\n            </div>\n            <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem\" data-type=\"colorpicker\">\n              <div class=\"bb-capture-toolbar-item-selectedcolor\"></div>\n              <span class=\"bb-tooltip\">${GleapTranslationManager.translateText(`pickAColor`)}</span>\n            </div>\n            <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem bb-capture-toolbar-item-tool\" data-type=\"undo\">\n              ${loadIcon('undo')}\n              <span class=\"bb-tooltip\">${GleapTranslationManager.translateText(`undo`)}</span>\n            </div>\n            ${\n              this.type !== 'capture'\n                ? `<div class=\"bb-capture-button-next\">${GleapTranslationManager.translateText(`next`)}</div>`\n                : ''\n            }\n          </div>\n          <div class=\"bb-capture-toolbar-item-colorpicker\">\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#EB144C\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#FF6705\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#FDB903\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#9900EE\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#00D082\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#0A93E4\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#CCCCCC\"></div>\n          </div>\n          <div class=\"bb-capture-preview\">\n            <div class=\"bb-capture-preview-inner\">\n              <video controls muted autoplay></video>\n              <div class=\"bb-capture-preview-buttons\">\n                <div class=\"bb-capture-preview-retrybutton\">${GleapTranslationManager.translateText(`retry`)}</div>\n                <div class=\"bb-capture-preview-sendbutton\">${GleapTranslationManager.translateText(`next`)}</div>\n              </div>\n            </div>\n          </div>\n        `;\n    document.body.appendChild(bugReportingEditor);\n\n    // Set RTL layout\n    bugReportingEditor.setAttribute('dir', GleapTranslationManager.getInstance().isRTLLayout ? 'rtl' : 'ltr');\n  }\n\n  showNextStep = function () {\n    // Adapt the UI\n    this.showWidgetUI();\n\n    if (this.callback) {\n      GleapFrameManager.getInstance().sendMessage({\n        name: 'set-form-data',\n        data: {\n          formKey: 'capture',\n          data: {\n            value: this.type,\n            dirty: true,\n          },\n        },\n      });\n      this.callback(true);\n    }\n  };\n\n  unregisterListeners() {\n    if (this.escListener) {\n      document.removeEventListener('keydown', this.escListener);\n    }\n\n    if (this.pageLeaveListener) {\n      window.removeEventListener('beforeunload', this.pageLeaveListener);\n    }\n  }\n\n  registerListeners() {\n    const self = this;\n\n    // Esc listener\n    this.escListener = function (evt) {\n      evt = evt || window.event;\n      var isEscape = false;\n      var isEnter = false;\n      if ('key' in evt) {\n        isEscape = evt.key === 'Escape';\n        isEnter = evt.key === 'Enter';\n      }\n      if (isEscape) {\n        self.dismiss();\n      }\n      if (self.type === 'screenshot' && isEnter) {\n        self.showNextStep();\n      }\n    };\n    document.addEventListener('keydown', this.escListener);\n\n    // Page leave listener\n    this.pageLeaveListener = function (event) {\n      event.preventDefault();\n      event.returnValue = '';\n    };\n    window.addEventListener('beforeunload', this.pageLeaveListener);\n  }\n\n  show(callback) {\n    this.callback = callback;\n    const self = this;\n\n    // Register for listeners\n    this.registerListeners();\n\n    // Hide widget UI\n    this.hideWidgetUI();\n\n    // Create the editor UI\n    this.createEditorUI();\n\n    // Setup the mouse pointer\n    this.setupMousePointer();\n\n    // Setup screenshot data\n    if (this.type === 'screenshot') {\n      // Overwrite snapshot position\n      Gleap.getInstance().setGlobalDataItem('snapshotPosition', {\n        x: window.scrollX,\n        y: window.scrollY,\n      });\n\n      // Disable scroll\n      GleapScrollStopper.disableScroll();\n    } else {\n      // Setup screen recording\n      this.setupScreenRecording();\n    }\n\n    // Hook up the drawing.\n    this.screenDrawer = new ScreenDrawer(this.captureScreenDrawerRerender.bind(this));\n\n    this.setupColorPicker();\n    this.setupToolbar();\n  }\n\n  setupColorPicker() {\n    const self = this;\n    const selectedColor = document.querySelector('.bb-capture-toolbar-item-selectedcolor');\n    const colorItems = document.querySelectorAll('.bb-capture-toolbar-item-color');\n    const colorpicker = document.querySelector('.bb-capture-toolbar-item-colorpicker');\n\n    for (var i = 0; i < colorItems.length; i++) {\n      const colorItem = colorItems[i];\n      const hexColor = colorItem.getAttribute('data-color');\n      colorItem.style.backgroundColor = hexColor;\n      colorItem.onclick = function () {\n        if (colorItem) {\n          self.screenDrawer.setColor(hexColor);\n          if (colorpicker) {\n            colorpicker.style.display = 'none';\n          }\n          selectedColor.style.backgroundColor = colorItem.style.backgroundColor;\n          GleapMarkerManager.setPenColor(hexColor);\n        }\n      };\n    }\n  }\n\n  static setPenColor(hexColor) {\n    const penTips = document.querySelectorAll('.bb-pen-tip');\n    for (var j = 0; j < penTips.length; j++) {\n      penTips[j].style.fill = hexColor;\n    }\n  }\n\n  dismiss() {\n    this.showWidgetUI();\n\n    if (this.callback) {\n      this.callback(false);\n    }\n  }\n\n  setupToolbar() {\n    const self = this;\n    const toolbar = document.querySelector('.bb-capture-toolbar');\n    let isDragging = false;\n    let currentX;\n    let currentY;\n    let initialX;\n    let initialY;\n    let xOffset = 0;\n    let yOffset = 0;\n\n    const getTransformValues = () => {\n      const transform = window.getComputedStyle(toolbar).transform;\n      if (transform === 'none') return { x: 0, y: 0 };\n      const matrix = new DOMMatrix(transform);\n      return { x: matrix.m41, y: matrix.m42 };\n    };\n\n    this.dragStart = (e) => {\n      const { x, y } = getTransformValues();\n      xOffset = x;\n      yOffset = y;\n\n      if (e.type === 'mousedown') {\n        initialX = e.clientX - xOffset;\n        initialY = e.clientY - yOffset;\n      } else {\n        initialX = e.touches[0].clientX - xOffset;\n        initialY = e.touches[0].clientY - yOffset;\n      }\n      isDragging = true;\n    };\n\n    this.dragEnd = () => {\n      isDragging = false;\n    };\n\n    this.drag = (e) => {\n      if (isDragging) {\n        e.preventDefault();\n        if (e.type === 'mousemove') {\n          currentX = e.clientX - initialX;\n          currentY = e.clientY - initialY;\n        } else {\n          currentX = e.touches[0].clientX - initialX;\n          currentY = e.touches[0].clientY - initialY;\n        }\n\n        xOffset = currentX;\n        yOffset = currentY;\n\n        toolbar.style.transform = `translate(${currentX}px, ${currentY}px)`;\n      }\n    };\n\n    const dragHandle = document.querySelector(\".bb-capture-toolbar-item[data-type='drag']\");\n\n    dragHandle.addEventListener('mousedown', this.dragStart);\n    dragHandle.addEventListener('touchstart', this.dragStart);\n    document.addEventListener('mousemove', this.drag);\n    document.addEventListener('touchmove', this.drag);\n    document.addEventListener('mouseup', this.dragEnd);\n    document.addEventListener('touchend', this.dragEnd);\n\n    // Hook up dismiss button\n    const dismissButton = document.querySelector('.bb-capture-dismiss');\n    dismissButton.onclick = function () {\n      self.dismiss();\n    };\n\n    // Hook up send button\n    const nextButton = document.querySelector('.bb-capture-button-next');\n    if (nextButton) {\n      nextButton.onclick = this.showNextStep.bind(this);\n    }\n\n    const colorpicker = document.querySelector('.bb-capture-toolbar-item-colorpicker');\n\n    // Capture SVG ref\n    const captureSVG = document.querySelector('.bb-capture-svg');\n\n    const chooseTool = function (type, toolbarItem) {\n      const toolbarTools = document.querySelectorAll('.bb-capture-toolbar-item-tool');\n      for (let j = 0; j < toolbarTools.length; j++) {\n        toolbarTools[j].classList.remove('bb-capture-toolbar-item--active');\n      }\n      toolbarItem.classList.add('bb-capture-toolbar-item--active');\n      self.screenDrawer.setTool(type);\n      self.dragCursor.innerHTML = '';\n      if (type === 'pointer') {\n        captureSVG.style.pointerEvents = 'none';\n      } else {\n        captureSVG.style.pointerEvents = 'auto';\n        try {\n          var svgClone = toolbarItem.querySelector('svg').cloneNode(true);\n          if (svgClone && self.dragCursor) {\n            self.dragCursor.appendChild(svgClone);\n          }\n        } catch (exp) {}\n      }\n    };\n\n    // Setup toolbar items\n    var toolbarItems = document.querySelectorAll('.bb-capture-toolbar-item');\n    for (var i = 0; i < toolbarItems.length; i++) {\n      const toolbarItem = toolbarItems[i];\n      toolbarItem.onclick = function () {\n        const type = toolbarItem.getAttribute('data-type');\n        if (colorpicker && type !== 'colorpicker') {\n          colorpicker.style.display = 'none';\n        }\n\n        // Mic & recording buttons\n        if (type === 'mic') {\n          self.screenRecorder.toggleAudio();\n        }\n        if (type === 'recording') {\n          if (self.screenRecorder.isRecording) {\n            self.screenRecorder.stopScreenRecording();\n          } else {\n            self.screenRecorder.startScreenRecording();\n            chooseTool('pointer', document.querySelector(\".bb-capture-toolbar-item[data-type='pointer']\"));\n          }\n        }\n\n        // Marker buttons\n        if (self.type === 'capture' && !self.screenRecorder.isRecording) {\n          // Inactivate buttons.\n          return;\n        }\n        if (type === 'pen' || type === 'blur' || type === 'rect' || type === 'pointer') {\n          chooseTool(type, toolbarItem);\n        }\n        if (type === 'colorpicker') {\n          if (colorpicker.style.display === 'flex') {\n            colorpicker.style.display = 'none';\n          } else {\n            colorpicker.style.display = 'flex';\n          }\n        }\n        if (type === 'undo') {\n          self.screenDrawer.removeLastAddedPathFromSvg();\n        }\n      };\n    }\n  }\n\n  captureScreenDrawerRerender() {\n    if (!this.screenDrawer) {\n      return;\n    }\n\n    const itemInactiveClass = 'bb-capture-editor-item-inactive';\n    const toolbarItems = document.querySelectorAll('.bb-capture-toolbar-item');\n    for (var i = 0; i < toolbarItems.length; i++) {\n      const toolbarItem = toolbarItems[i];\n      const type = toolbarItem.getAttribute('data-type');\n      switch (type) {\n        case 'undo':\n          if (this.screenDrawer.pathBuffer != null && this.screenDrawer.pathBuffer.length > 0) {\n            toolbarItem.classList.remove(itemInactiveClass);\n          } else {\n            toolbarItem.classList.add(itemInactiveClass);\n          }\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  captureRenderer() {\n    if (!this.screenRecorder) {\n      return;\n    }\n\n    if (this.screenRecorder.file) {\n      Gleap.getInstance().setGlobalDataItem('screenRecordingData', this.screenRecorder.file);\n    }\n\n    const itemInactiveClass = 'bb-capture-editor-item-inactive';\n    const timerLabel = document.querySelector('.bb-capture-toolbar-item-timer');\n    const toolbarItems = document.querySelectorAll('.bb-capture-toolbar-item');\n    const screenRecordingTooltip = document.querySelector('.bb-tooltip-screen-recording');\n    const audioRecordingTooltip = document.querySelector('.bb-tooltip-audio-recording');\n    const captureEditor = document.querySelector('.bb-capture-editor');\n    const recordingClass = 'bb-capture-editor-recording';\n    const notRecordingClass = 'bb-capture-editor-notrecording';\n    if (this.screenRecorder.isRecording) {\n      captureEditor.classList.add(recordingClass);\n      captureEditor.classList.remove(notRecordingClass);\n    } else {\n      captureEditor.classList.add(notRecordingClass);\n      captureEditor.classList.remove(recordingClass);\n    }\n\n    // Update UI.\n    const dialog = document.querySelector('.bb-capture-toolbar');\n    const videoPreviewContainer = document.querySelector('.bb-capture-preview');\n    videoPreviewContainer.style.display = this.screenRecorder.file ? 'flex' : 'none';\n    dialog.style.display = !this.screenRecorder.file ? 'flex' : 'none';\n\n    for (var i = 0; i < toolbarItems.length; i++) {\n      const toolbarItem = toolbarItems[i];\n      const type = toolbarItem.getAttribute('data-type');\n      switch (type) {\n        case 'mic':\n          if (this.screenRecorder.audioAvailable && this.screenRecorder.available) {\n            toolbarItem.classList.remove(itemInactiveClass);\n            if (!this.screenRecorder.audioMuted) {\n              toolbarItem.classList.remove('bb-capture-toolbar-item--inactivecross');\n              audioRecordingTooltip.innerHTML = GleapTranslationManager.translateText('mute');\n            } else {\n              toolbarItem.classList.add('bb-capture-toolbar-item--inactivecross');\n              audioRecordingTooltip.innerHTML = GleapTranslationManager.translateText('unmute');\n            }\n          } else {\n            toolbarItem.classList.add(itemInactiveClass);\n            toolbarItem.classList.add('bb-capture-toolbar-item--inactivecross');\n            audioRecordingTooltip.innerHTML = GleapTranslationManager.translateText('browserNotSupported');\n          }\n          break;\n\n        case 'recording':\n          if (this.screenRecorder.available) {\n            toolbarItem.classList.remove(itemInactiveClass);\n            if (this.screenRecorder.isRecording) {\n              toolbarItem.setAttribute('data-active', 'true');\n              screenRecordingTooltip.innerHTML = GleapTranslationManager.translateText('stopRecording');\n              timerLabel.style.display = 'block';\n            } else {\n              toolbarItem.setAttribute('data-active', 'false');\n              screenRecordingTooltip.innerHTML = GleapTranslationManager.translateText('startRecording');\n              timerLabel.style.display = 'none';\n            }\n          } else {\n            // Recording is not available.\n            toolbarItem.classList.add(itemInactiveClass);\n            screenRecordingTooltip.innerHTML = GleapTranslationManager.translateText('browserNotSupported');\n          }\n          break;\n\n        default:\n          break;\n      }\n    }\n  }\n\n  setupScreenRecording() {\n    const self = this;\n\n    // Hook preview next button\n    const nextButtonPreview = document.querySelector('.bb-capture-preview-sendbutton');\n    nextButtonPreview.onclick = this.showNextStep.bind(this);\n\n    // Hook retry button\n    const retryButton = document.querySelector('.bb-capture-preview-retrybutton');\n    retryButton.onclick = function () {\n      self.screenRecorder.clearPreview();\n      if (self.screenDrawer) {\n        self.screenDrawer.clear();\n      }\n    };\n\n    // Setup screen recorder\n    this.screenRecorder = new GleapScreenRecorder(\n      this.captureRenderer.bind(this),\n      GleapTranslationManager.translateText('accessToScreenSharingDenied')\n    );\n  }\n}\n","import { GleapFrameManager, GleapFeedbackButtonManager, GleapConfigManager } from './Gleap';\n\nexport default class GleapTranslationManager {\n  overrideLanguage = '';\n  isRTLLayout = false;\n\n  // GleapTranslationManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapTranslationManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Returns the language to override the default language.\n   * @returns {string}\n   */\n  getOverrideLanguage() {\n    return this.overrideLanguage;\n  }\n\n  /**\n   * Sets the language to override the default language.\n   * @param {*} language\n   */\n  setOverrideLanguage(language) {\n    this.overrideLanguage = language;\n  }\n\n  updateRTLSupport() {\n    // Update RTL support.\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n\n    this.isRTLLayout = false;\n    if (flowConfig && flowConfig.localizationOptions && flowConfig.localizationOptions.rtl) {\n      this.isRTLLayout = true;\n    }\n\n    GleapFeedbackButtonManager.getInstance().updateFeedbackButtonState();\n    GleapFrameManager.getInstance().updateFrameStyle();\n  }\n\n  getActiveLanguage() {\n    var language = 'en';\n    if (typeof navigator !== 'undefined') {\n      language = navigator.language.toLowerCase();\n    }\n\n    // Get language from HTML lang attribute if available\n    if (typeof document !== 'undefined' && document.documentElement) {\n      const htmlLang = document.documentElement.lang;\n      if (htmlLang && htmlLang.trim() !== '') {\n        language = htmlLang.toLowerCase().trim();\n      }\n    }\n\n    if (this.overrideLanguage && this.overrideLanguage !== '') {\n      language = this.overrideLanguage.toLowerCase();\n    }\n\n    return language;\n  }\n\n  static translateText(key) {\n    if (!key) {\n      return '';\n    }\n\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n    const staticTranslation = flowConfig.staticTranslations;\n\n    if (staticTranslation && staticTranslation[key]) {\n      return staticTranslation[key];\n    }\n\n    return key;\n  }\n\n  static translateTextWithVars(key, vars) {\n    if (!key) {\n      return '';\n    }\n\n    var template = this.translateText(key);\n    if (!template) {\n      return '';\n    }\n\n    return template.replace(/{(\\w+)}/g, function (_, key) {\n      return vars[key];\n    });\n  }\n}\n","import Gleap from './Gleap';\n\nexport default class GleapShortcutListener {\n  shortCutListener = undefined;\n\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapShortcutListener();\n    }\n    return this.instance;\n  }\n\n  start() {\n    if (this.shortCutListener) {\n      return;\n    }\n\n    const charForEvent = function (event) {\n      var code;\n\n      if (event.key !== undefined) {\n        code = event.key;\n      } else if (event.keyIdentifier !== undefined) {\n        code = event.keyIdentifier;\n      } else if (event.keyCode !== undefined) {\n        code = event.keyCode;\n      }\n\n      return code;\n    };\n\n    this.shortCutListener = document.addEventListener('keyup', function (e) {\n      const char = charForEvent(e);\n      if (e.ctrlKey && (char === 'u' || char === 'U' || char === 85)) {\n        Gleap.startFeedbackFlowWithOptions('bugreporting', {\n          autostartDrawing: true,\n        });\n      }\n    });\n  }\n\n  stop() {\n    if (this.shortCutListener) {\n      document.removeEventListener('keyup', this.shortCutListener);\n      this.shortCutListener = undefined;\n    }\n  }\n}\n","export default class GleapPreFillManager {\n  formPreFill = {};\n\n  // GleapPreFillManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapPreFillManager();\n    }\n    return this.instance;\n  }\n}\n","import Gleap, {\n  GleapFeedbackButtonManager,\n  GleapConfigManager,\n  GleapSession,\n  GleapAudioManager,\n  GleapTranslationManager,\n  GleapEventManager,\n} from './Gleap';\nimport { loadFromGleapCache, saveToGleapCache } from './GleapHelper';\nimport { loadIcon } from './UI';\n\nexport default class GleapNotificationManager {\n  notificationContainer = null;\n  notifications = [];\n  unreadCount = 0;\n  unreadNotificationsKey = 'unread-notifications';\n  isTabActive = true;\n  showNotificationBadge = true;\n\n  // Keep track of the current index of news being shown\n  currentNewsIndex = 0;\n\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapNotificationManager();\n    }\n    return this.instance;\n  }\n\n  constructor() {}\n\n  updateTabBarNotificationCount() {\n    GleapEventManager.notifyEvent('unread-count-changed', this.unreadCount);\n  }\n\n  injectNotificationUI() {\n    if (this.notificationContainer) {\n      return;\n    }\n\n    var elem = document.createElement('div');\n    elem.className = 'gleap-notification-container gleap-font';\n    document.body.appendChild(elem);\n    this.notificationContainer = elem;\n\n    this.updateContainerStyle();\n    this.reloadNotificationsFromCache();\n  }\n\n  reloadNotificationsFromCache() {\n    try {\n      const notificationsFromCache = loadFromGleapCache(this.unreadNotificationsKey);\n      if (notificationsFromCache && notificationsFromCache.length > 0) {\n        let nots = notificationsFromCache.filter(\n          (notification) => new Date(notification.createdAt) > new Date(Date.now() - 1 * 60 * 60 * 1000)\n        );\n\n        if (nots.length > 2) {\n          this.notifications = nots.splice(0, nots.length - 2);\n        } else {\n          this.notifications = nots;\n        }\n        this.renderNotifications();\n      }\n    } catch (exp) {}\n  }\n\n  setNotificationCount(unreadCount) {\n    this.unreadCount = unreadCount;\n    this.updateTabBarNotificationCount();\n\n    // Update the badge counter.\n    GleapFeedbackButtonManager.getInstance().updateNotificationBadge(this.unreadCount);\n  }\n\n  showNotification(notification) {\n    if (!(this.notificationContainer && notification && notification.data)) {\n      return;\n    }\n\n    const notificationsForOutbound = this.notifications.find((e) => notification.outbound === e.outbound);\n    if (!notificationsForOutbound) {\n      this.notifications.push(notification);\n\n      // Play sound only if it's a new one\n      if (notification.sound) {\n        GleapAudioManager.ping();\n      }\n    }\n    if (this.notifications.length > 2) {\n      this.notifications.shift();\n    }\n\n    // Persist notifications.\n    saveToGleapCache(this.unreadNotificationsKey, this.notifications);\n\n    this.renderNotifications();\n  }\n\n  /**\n   * Renders notifications. For news-type notifications, only show\n   * one at a time if there are multiple, with a \"Next\" button to cycle.\n   * The \"Next\" button + pagination are placed within the news content area.\n   *\n   * - Sorts news notifications by createdAt (oldest first).\n   * - Shows \"Done\" on the last news item instead of \"Next\".\n   */\n  renderNotifications() {\n    if (!this.notificationContainer) {\n      return;\n    }\n\n    // Clear the existing notifications in the container (UI only).\n    this.clearAllNotifications(true);\n\n    // Append a close button (which clears everything).\n    const clearElem = document.createElement('div');\n    clearElem.onclick = () => {\n      this.clearAllNotifications();\n      // Reset the news index when everything is closed\n      this.currentNewsIndex = 0;\n    };\n    clearElem.className = 'gleap-notification-close';\n    clearElem.innerHTML = loadIcon('dismiss');\n    this.notificationContainer.appendChild(clearElem);\n\n    // Separate out news notifications vs. others, then sort news by date ascending\n    const newsNotifications = this.notifications\n      .filter((n) => n.data.news)\n      .sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));\n\n    const otherNotifications = this.notifications.filter((n) => !n.data.news);\n\n    // --- Render NEWS notifications (with pagination) ---\n    if (newsNotifications.length > 0) {\n      // We only show ONE news item at a time if there's more than one\n      const currentIndex = this.currentNewsIndex < newsNotifications.length ? this.currentNewsIndex : 0;\n      const currentNews = newsNotifications[currentIndex];\n\n      // Main wrapper for the news notification\n      const newsElem = document.createElement('div');\n      newsElem.className = 'gleap-notification-item-news';\n\n      // The container that holds image + content\n      const newsContainerElem = document.createElement('div');\n      newsContainerElem.className = 'gleap-notification-item-news-container';\n\n      // Create the image element (clickable)\n      if (\n        currentNews.data.coverImageUrl &&\n        currentNews.data.coverImageUrl !== '' &&\n        !currentNews.data.coverImageUrl.includes('NewsImagePlaceholder')\n      ) {\n        const newsImageElem = document.createElement('img');\n        newsImageElem.className = 'gleap-notification-item-news-image';\n        newsImageElem.src = currentNews.data.coverImageUrl;\n\n        // Only the image is clickable\n        newsImageElem.onclick = (e) => {\n          e.stopPropagation();\n          this.openNews(currentNews);\n        };\n        newsContainerElem.appendChild(newsImageElem);\n      }\n\n      // The content container\n      const newsContentElem = document.createElement('div');\n      newsContentElem.className = 'gleap-notification-item-news-content';\n\n      // Title (clickable)\n      const newsTitleElem = document.createElement('div');\n      newsTitleElem.className = 'gleap-notification-item-news-content-title';\n\n      let content = currentNews.data.text || '';\n      content = content.replaceAll('{{name}}', GleapSession.getInstance().getName());\n      newsTitleElem.innerText = content;\n\n      // Only the title is clickable\n      newsTitleElem.onclick = (e) => {\n        e.stopPropagation();\n        this.openNews(currentNews);\n      };\n\n      newsContentElem.appendChild(newsTitleElem);\n\n      // Description / Sender\n      const descHTML = this.renderDescription(currentNews);\n      if (descHTML) {\n        const descElem = document.createElement('div');\n        descElem.className = 'gleap-notification-item-news-preview';\n        descElem.innerHTML = descHTML;\n        newsContentElem.appendChild(descElem);\n      }\n\n      // If there's more than one news item, show pagination + next/done button\n      if (newsNotifications.length > 1) {\n        // Pagination container (still inside .gleap-notification-item-news-content)\n        const paginationElem = document.createElement('div');\n        paginationElem.className = 'gleap-news-pagination';\n\n        // Show current item / total\n        const pageIndicator = document.createElement('span');\n        pageIndicator.className = 'gleap-news-page-indicator';\n        pageIndicator.innerText = `${currentIndex + 1} / ${newsNotifications.length}`;\n        paginationElem.appendChild(pageIndicator);\n\n        // Next or Done button\n        const nextBtn = document.createElement('button');\n        nextBtn.className = 'gleap-news-next-button';\n\n        if (currentIndex < newsNotifications.length - 1) {\n          nextBtn.innerText = GleapTranslationManager.translateText(`next`);\n          nextBtn.onclick = (e) => {\n            e.stopPropagation(); // so we can click the button freely\n            this.currentNewsIndex++;\n            this.renderNotifications();\n          };\n        } else {\n          nextBtn.innerText = GleapTranslationManager.translateText(`done`);\n          nextBtn.onclick = (e) => {\n            e.stopPropagation();\n            this.clearAllNotifications();\n            this.currentNewsIndex = 0;\n          };\n        }\n        paginationElem.appendChild(nextBtn);\n        newsContentElem.appendChild(paginationElem);\n      }\n\n      // Append content to container\n      newsContainerElem.appendChild(newsContentElem);\n      // Append container to the main element\n      newsElem.appendChild(newsContainerElem);\n      // Finally append to the notification container\n      this.notificationContainer.appendChild(newsElem);\n    }\n\n    // --- Render OTHER notifications normally ---\n    for (let i = 0; i < otherNotifications.length; i++) {\n      const notification = otherNotifications[i];\n      let content = notification.data.text || '';\n      // Replace placeholders\n      content = content.replaceAll('{{name}}', GleapSession.getInstance().getName());\n\n      const elem = document.createElement('div');\n      elem.onclick = () => {\n        if (notification.data.conversation) {\n          Gleap.openConversation(notification.data.conversation.shareToken, true);\n        } else if (notification.data.checklist) {\n          Gleap.openChecklist(notification.data.checklist.id, true);\n        } else {\n          Gleap.open();\n        }\n      };\n\n      // Check if it's a checklist type\n      if (notification.data.checklist) {\n        let progress = Math.round((notification.data.currentStep / notification.data.totalSteps) * 100);\n        if (progress < 100) {\n          progress += 4;\n        }\n\n        elem.className = 'gleap-notification-item-checklist';\n        elem.innerHTML = `\n          <div class=\"gleap-notification-item-checklist-container\">\n            <div class=\"gleap-notification-item-checklist-content\">\n              <div class=\"gleap-notification-item-checklist-content-title\">\n                ${notification.data.text}\n              </div>\n              <div class=\"gleap-notification-item-checklist-content-progress\">\n                <div class=\"gleap-notification-item-checklist-content-progress-inner\" style=\"width: ${progress}%;\"></div>\n              </div>\n              <div class=\"gleap-notification-item-checklist-content-next\">\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"\n                  fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M4 12H20M20 12L14 6M20 12L14 18\"\n                    stroke=\"currentColor\" stroke-width=\"2\"\n                    stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                </svg>\n                ${notification.data.nextStepTitle}\n              </div>\n            </div>\n          </div>`;\n      } else {\n        // Standard non-news notification\n        elem.className = 'gleap-notification-item';\n        elem.innerHTML = `\n          ${\n            notification.data.sender &&\n            notification.data.sender.profileImageUrl &&\n            `<img src=\"${notification.data.sender.profileImageUrl}\" />`\n          }\n          <div class=\"gleap-notification-item-container\">\n            ${\n              notification.data.sender\n                ? `<div class=\"gleap-notification-item-sender\">\n                     ${notification.data.sender.name}\n                   </div>`\n                : ''\n            }\n            <div class=\"gleap-notification-item-content\">${content}</div>\n          </div>`;\n      }\n      this.notificationContainer.appendChild(elem);\n    }\n\n    const hasNotifications = newsNotifications.length > 0 || otherNotifications.length > 0;\n    if (!hasNotifications) {\n      // Clear the notification container\n      this.clearAllNotifications(true);\n    }\n  }\n\n  /**\n   * Helper to open news from a given notification.\n   */\n  openNews(notification) {\n    if (notification.data.news) {\n      Gleap.openNewsArticle(notification.data.news.id, true);\n    } else {\n      Gleap.open();\n    }\n  }\n\n  /**\n   * Helper to render preview or sender info for news notifications.\n   */\n  renderDescription(notification) {\n    const { previewText, sender } = notification.data;\n    if (previewText && previewText.length > 0) {\n      return previewText;\n    } else if (sender) {\n      // Return HTML for the sender name + optional image\n      return `\n        <div class=\"gleap-notification-item-news-sender\">\n          ${sender.profileImageUrl ? `<img src=\"${sender.profileImageUrl}\" alt=\"${sender.name}\" />` : ''}\n          ${sender.name}\n        </div>\n      `;\n    }\n    return '';\n  }\n\n  /**\n   * Clears all notifications from the container.\n   *\n   * @param {boolean} uiOnly - Whether to only clear the UI or also the notifications.\n   */\n  clearAllNotifications(uiOnly = false) {\n    if (!this.notificationContainer) {\n      return;\n    }\n\n    if (!uiOnly) {\n      this.notifications = [];\n      // Reset currentNewsIndex whenever we clear them out\n      this.currentNewsIndex = 0;\n      saveToGleapCache(this.unreadNotificationsKey, this.notifications);\n    }\n\n    while (this.notificationContainer.firstChild) {\n      this.notificationContainer.removeChild(this.notificationContainer.firstChild);\n    }\n  }\n\n  updateContainerStyle() {\n    if (!this.notificationContainer) {\n      return;\n    }\n\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n    const classLeft = 'gleap-notification-container--left';\n    const classNoButton = 'gleap-notification-container--no-button';\n    this.notificationContainer.classList.remove(classLeft);\n    this.notificationContainer.classList.remove(classNoButton);\n\n    if (\n      flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_LEFT ||\n      flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_BOTTOM_LEFT\n    ) {\n      this.notificationContainer.classList.add(classLeft);\n    }\n\n    if (GleapFeedbackButtonManager.getInstance().buttonHidden === null) {\n      if (flowConfig.feedbackButtonPosition === GleapFeedbackButtonManager.FEEDBACK_BUTTON_NONE) {\n        this.notificationContainer.classList.add(classNoButton);\n      }\n    } else {\n      if (GleapFeedbackButtonManager.getInstance().buttonHidden) {\n        this.notificationContainer.classList.add(classNoButton);\n      }\n    }\n\n    this.notificationContainer.setAttribute('dir', GleapTranslationManager.getInstance().isRTLLayout ? 'rtl' : 'ltr');\n  }\n}\n","import { GleapFrameManager, GleapConfigManager } from './Gleap';\n\nexport default class GleapAiChatbarManager {\n  aiUIContainer = null;\n  shadowRoot = null;\n  innerContainer = null;\n  quickActionsContainer = null;\n  quickActions = [];\n  animationTimeouts = new Set();\n  inputText = '';\n  inputElement = null;\n  sendButton = null;\n  manuallyHidden = false;\n  placeholder = 'Ask me anything...';\n  onMessageSend = null;\n  isHidden = true;\n  config = null;\n\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapAiChatbarManager();\n    }\n    return this.instance;\n  }\n\n  constructor() {\n    // Bind methods to ensure proper context\n    this.show = this.show.bind(this);\n    this.hide = this.hide.bind(this);\n    this.destroy = this.destroy.bind(this);\n  }\n\n  setConfig(config) {\n    this.config = config;\n\n    if (config.placeholder) {\n      this.setPlaceholder(config.placeholder);\n    }\n\n    if (config.quickActions && config.quickActions.length > 0) {\n      this.setQuickActions(config.quickActions);\n    }\n\n    if (config.enabled) {\n      this.show();\n    }\n  }\n\n  updateUIVisibility() {\n    if (!this.config?.enabled) {\n      return;\n    }\n\n    const isOpened = GleapFrameManager.getInstance().isOpened();\n    if (isOpened) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  setPlaceholder(placeholder) {\n    this.placeholder = placeholder;\n\n    if (this.inputElement) {\n      this.inputElement.placeholder = placeholder;\n    }\n  }\n\n  setOnMessageSend(callback) {\n    this.onMessageSend = callback;\n  }\n\n  arraysEqual(arr1, arr2) {\n    // Quick length check\n    if (arr1.length !== arr2.length) {\n      return false;\n    }\n\n    // Compare each element\n    for (let i = 0; i < arr1.length; i++) {\n      if (arr1[i] !== arr2[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  show() {\n    if (!this.config?.enabled) {\n      return;\n    }\n\n    if (this.manuallyHidden) {\n      return;\n    }\n\n    if (!this.aiUIContainer) {\n      return;\n    }\n\n    if (!this.isHidden) {\n      return;\n    }\n\n    if (GleapFrameManager.getInstance().isOpened()) {\n      return;\n    }\n\n    this.isHidden = false;\n    this.aiUIContainer.style.display = 'block';\n    this.aiUIContainer.setAttribute('aria-hidden', 'false');\n    // Remove fade-out from inner container and reset animation\n    if (this.innerContainer) {\n      this.innerContainer.classList.remove('fade-out');\n\n      // Get feedback button style and update positioning classes\n      const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n\n      // Remove previously added positioning classes\n      this.innerContainer.classList.remove('gleap-ai-ui-container--bottom-right');\n      this.innerContainer.classList.remove('gleap-ai-ui-container--bottom-left');\n\n      // Add the appropriate positioning class based on config\n      if (flowConfig?.feedbackButtonPosition === 'BOTTOM_RIGHT') {\n        this.innerContainer.classList.add('gleap-ai-ui-container--bottom-right');\n      } else if (flowConfig?.feedbackButtonPosition === 'BOTTOM_LEFT') {\n        this.innerContainer.classList.add('gleap-ai-ui-container--bottom-left');\n      }\n    }\n  }\n\n  hide() {\n    if (this.isHidden) {\n      return;\n    }\n\n    if (!this.aiUIContainer) {\n      return;\n    }\n\n    this.isHidden = true;\n\n    // Fade out the inner container\n    if (this.innerContainer) {\n      this.innerContainer.classList.add('fade-out');\n    }\n\n    // Hide the whole component after animation\n    const timeoutId = setTimeout(() => {\n      if (this.aiUIContainer) {\n        this.aiUIContainer.style.display = 'none';\n        this.aiUIContainer.setAttribute('aria-hidden', 'true');\n      }\n      this.animationTimeouts.delete(timeoutId);\n    }, 300);\n\n    this.animationTimeouts.add(timeoutId);\n  }\n\n  setQuickActions(quickActions) {\n    if (!Array.isArray(quickActions)) {\n      return;\n    }\n\n    // Check if they changed using array comparison\n    if (this.arraysEqual(this.quickActions, quickActions)) {\n      return;\n    }\n\n    this.quickActions = quickActions;\n    this.updateQuickActions();\n  }\n\n  updateQuickActions() {\n    if (!this.quickActionsContainer) return;\n\n    // Clear existing content\n    this.quickActionsContainer.innerHTML = '';\n\n    // Add new actions with staggered animation\n    this.quickActions.slice(0, 2).forEach((action, index) => {\n      if (typeof action !== 'string' || !action.trim()) {\n        return;\n      }\n\n      const actionElement = document.createElement('div');\n      actionElement.className = 'gleap-ai-ui-quick-action';\n      actionElement.textContent = action.trim();\n      actionElement.setAttribute('role', 'button');\n      actionElement.setAttribute('tabindex', '0');\n      actionElement.setAttribute('aria-label', `Quick action: ${action.trim()}`);\n\n      // Add click and keyboard support\n      actionElement.addEventListener('click', () => {\n        this.sendMessage(action.trim());\n      });\n\n      actionElement.addEventListener('keydown', (e) => {\n        if (e.key === 'Enter' || e.key === ' ') {\n          e.preventDefault();\n          this.sendMessage(action.trim());\n        }\n      });\n\n      this.quickActionsContainer.appendChild(actionElement);\n\n      // Trigger animation with delay\n      const timeoutId = setTimeout(\n        () => {\n          if (actionElement.parentNode) {\n            actionElement.classList.add('animate-in');\n          }\n          this.animationTimeouts.delete(timeoutId);\n        },\n        index * 150 + 500\n      );\n\n      this.animationTimeouts.add(timeoutId);\n    });\n  }\n\n  injectAIUI() {\n    if (this.aiUIContainer) {\n      return;\n    }\n\n    if (!document.body) {\n      console.error('GleapAiChatbarManager: Document body not available');\n      return;\n    }\n\n    // Create the host element (this will be in the main document)\n    const elem = document.createElement('div');\n    elem.className = 'gleap-ai-ui-widget';\n    elem.setAttribute('role', 'dialog');\n    elem.setAttribute('aria-label', 'AI Assistant');\n    elem.setAttribute('aria-hidden', 'true');\n    document.body.appendChild(elem);\n    this.aiUIContainer = elem;\n\n    // Create shadow DOM on the host element\n    this.shadowRoot = this.aiUIContainer.attachShadow({ mode: 'open' });\n\n    // Add styles to shadow DOM\n    this.addStylesToShadow();\n\n    // Create and add HTML content directly to shadow DOM\n    this.createUIInShadow();\n\n    // Update the UI visibility\n    this.updateUIVisibility();\n  }\n\n  addStylesToShadow() {\n    const style = document.createElement('style');\n    style.textContent = `\n      .gleap-font, .gleap-font * {\n        font-style: normal;\n        font-variant-caps: normal;\n        font-variant-ligatures: normal;\n        font-variant-numeric: normal;\n        font-variant-east-asian: normal;\n        font-weight: normal;\n        font-stretch: normal;\n        font-size: 100%;\n        line-height: 1;\n        font-family: system-ui, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n      }\n\n      .gleap-ai-ui-container {\n        position: fixed;\n        bottom: 20px;\n        left: 0;\n        right: 0;\n        height: 0;\n        z-index: 999999;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-end;\n        align-items: center;\n        opacity: 0;\n        white-space: normal;\n        transform: translateY(20px);\n        animation: fadeUpInContainer 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;\n      }\n      \n      .gleap-ai-ui-quick-actions {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n        margin-bottom: 12px;\n        opacity: 0;\n        transform: translateY(10px);\n        animation: fadeUpIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) 0.5s forwards;\n        max-width: 100%;\n      }\n      \n      .gleap-ai-ui-quick-action {\n        background: #fff;\n        color: #000;\n        padding: 8px 12px;\n        border-radius: 16px;\n        border-bottom-right-radius: 4px;\n        font-size: 13px;\n        cursor: pointer;\n        border: 1px solid rgba(30, 24, 24, 0.13);\n        transition: background-color 0.2s, transform 0.2s;\n        box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n        opacity: 0;\n        transform: translateY(15px) scale(0.95);\n        flex-shrink: 0;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      \n      .gleap-ai-ui-quick-action.animate-in {\n        animation: fadeUpInAction 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;\n      }\n      \n      .gleap-ai-ui-quick-action:nth-child(1).animate-in {\n        animation-delay: 0.5s;\n      }\n      \n      .gleap-ai-ui-quick-action:nth-child(2).animate-in {\n        animation-delay: 0.65s;\n      }\n      \n      .gleap-ai-ui-quick-action:hover {\n        background: #000;\n        color: #fff;\n        border: 1px solid #000000;\n        transform: translateY(-2px) scale(1.02);\n      }\n      \n      .gleap-ai-ui-input-container {\n        position: relative;\n        width: auto;\n        min-width: min(280px, calc(100vw - 40px));\n        margin: 0 auto;\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        opacity: 0;\n        transform: translateY(15px);\n        animation: fadeUpIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) 0.45s forwards;\n      }\n      \n      .gleap-ai-ui-input-container:focus-within,\n      .gleap-ai-ui-container.active .gleap-ai-ui-input-container {\n        min-width: 430px;\n      }\n\n      @media (max-width: 580px) {\n        .gleap-ai-ui-container {\n          bottom: 23px;\n          align-items: flex-start;\n          left: 20px;\n          right: 20px;\n        }\n\n        .gleap-ai-ui-quick-actions {\n          justify-content: flex-start;\n          gap: 6px;\n          margin-bottom: 10px;\n          width: 100%;\n        }\n\n        .gleap-ai-ui-quick-action {\n          max-width: calc(50% - 28px);\n        }\n\n        .gleap-ai-ui-container--bottom-right {\n          right: 78px;\n        }\n\n        .gleap-ai-ui-container--bottom-left {\n          left: 78px;\n        }\n\n        .gleap-ai-ui-input-container:focus-within,\n        .gleap-ai-ui-input-container {\n          min-width: auto !important;\n          width: 100% !important;\n          max-width: 100% !important;\n          margin: 0px !important;\n        }\n      }\n      \n      .animated-gradient-border-wrapper {\n        position: absolute;\n        overflow: hidden;\n        border-radius: 50px;\n        transition: all 0.2s ease-in-out;\n        left: -2px;\n        top: -2px;\n        right: -2px;\n        bottom: -2px;\n      }\n      \n      .animated-gradient-border-wrapper-glow {\n        position: absolute;\n        overflow: hidden;\n        border-radius: 50px;\n        filter: blur(15px);\n        left: -2px;\n        top: -2px;\n        right: -2px;\n        bottom: -2px;\n      }\n      \n      .group:hover .animated-gradient-border-wrapper,\n      .group:focus-within .animated-gradient-border-wrapper {\n        left: -4px;\n        top: -4px;\n        right: -4px;\n        bottom: -4px;\n      }\n      \n      .group:hover .animated-gradient-border-wrapper-glow,\n      .group:focus-within .animated-gradient-border-wrapper-glow {\n        left: -4px;\n        top: -4px;\n        right: -4px;\n        bottom: -4px;\n      }\n      \n      .animated-gradient-border-wrapper:before,\n      .animated-gradient-border-wrapper-glow:before {\n        content: \"\";\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 99999px;\n        height: 99999px;\n        background-repeat: no-repeat;\n        background-position: 0 0;\n        opacity: 0.4;\n        background-image: conic-gradient(\n          #0000,\n          #b6e0dc,\n          #eaef8c,\n          #fdc19e,\n          #f29be5,\n          #c4aeff,\n          #0000 95%\n        );\n        filter: blur(20px);\n        transform: translate(-50%, -50%) rotate(0deg);\n        transition: opacity 0.5s ease-in-out;\n        animation: border-spin 4s linear infinite;\n      }\n      \n      .group:hover .animated-gradient-border-wrapper-glow:before {\n        opacity: 1;\n      }\n      \n      .bg-gradient-blur {\n        position: relative;\n        background: white;\n        border-radius: 42px;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n        overflow: hidden;\n        z-index: 1;\n      }\n      \n      .gleap-ai-ui-input {\n        position: relative;\n        z-index: 1;\n        width: 100%;\n        height: 42px;\n        padding: 0px;\n        border-radius: 42px;\n      }\n\n      .gleap-ai-ui-input-content {\n        display: flex;\n        align-items: center;\n        padding: 0px;\n        height: 100%;\n      }\n      \n      .gleap-ai-ui-input input {\n        flex-grow: 1;\n        height: 100%;\n        padding-left: 16px;\n        padding-right: 8px;\n        border: none;\n        background: transparent;\n        font-size: 16px;\n        line-height: 24px;\n        font-weight: 400;\n        color: #000;\n        outline: none;\n        box-sizing: border-box;\n      }\n\n      .gleap-ai-ui-input-send-button {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 34px;\n        height: 34px;\n        border-radius: 50%;\n        background: #efefef;\n        margin-left: 0px;\n        margin-right: 4px;\n      }\n\n      .gleap-ai-ui-input-send-button svg {\n        width: 18px;\n        height: 18px;\n        flex-shrink: 0;\n        color: #666;\n        pointer-events: none;\n        z-index: 2;\n        transition: color 0.2s ease;\n      }\n\n      .gleap-ai-ui-container.active .gleap-ai-ui-input-send-button {\n        background: #000;\n        transition: background-color 0.2s ease;\n      }\n\n      .gleap-ai-ui-container.active .gleap-ai-ui-input-send-button svg {\n        color: #fff;\n      }\n      \n      .gleap-ai-ui-input input::placeholder {\n        color: rgba(0, 0, 0, 0.6);\n        transition: color 0.2s ease;\n      }\n\n      .gleap-ai-ui-container--noglow .animated-gradient-border-wrapper,\n      .gleap-ai-ui-container--noglow .animated-gradient-border-wrapper {\n        display: none !important;\n      }\n\n      .gleap-ai-ui-container--dark .bg-gradient-blur {\n        background-color: rgba(80, 80, 80, 0.68);\n        backdrop-filter: blur(24px);\n      }\n\n      .gleap-ai-ui-container--dark .gleap-ai-ui-input-send-button {\n        background-color: rgba(255, 255, 255, 0.44);\n      }\n\n      .gleap-ai-ui-container--dark .gleap-ai-ui-input-send-button svg {\n        color: rgba(0, 0, 0, 0.6);\n      }\n      \n      .gleap-ai-ui-container--dark .gleap-ai-ui-input input::placeholder {\n        color: rgba(255, 255, 255, 0.44);\n      }\n\n      .gleap-ai-ui-container--dark .gleap-ai-ui-input input {\n        color: #fff;\n      }\n\n      .gleap-ai-ui-container--dark .gleap-ai-ui-input-container:focus-within .gleap-ai-ui-input-send-button,\n      .gleap-ai-ui-container--dark.active .gleap-ai-ui-input-container .gleap-ai-ui-input-send-button {\n        background-color: #fff;\n      }\n\n      .gleap-ai-ui-container--dark .gleap-ai-ui-input-container:focus-within .gleap-ai-ui-input-send-button svg,\n      .gleap-ai-ui-container--dark.active .gleap-ai-ui-input-container .gleap-ai-ui-input-send-button svg {\n        color: #000;\n      }\n      \n      @keyframes gradient-shift {\n        0% {\n          background-position: 0% 50%;\n        }\n        50% {\n          background-position: 100% 50%;\n        }\n        100% {\n          background-position: 0% 50%;\n        }\n      }\n      \n      @keyframes border-spin {\n        0% {\n          transform: translate(-50%, -50%) rotate(0deg);\n        }\n        100% {\n          transform: translate(-50%, -50%) rotate(-360deg);\n        }\n      }\n      \n      @keyframes fadeUpIn {\n        0% {\n          opacity: 0;\n          transform: translateY(20px) scale(0.95);\n        }\n        100% {\n          opacity: 1;\n          transform: translateY(0) scale(1);\n        }\n      }\n      \n      @keyframes fadeUpInAction {\n        0% {\n          opacity: 0;\n          transform: translateY(15px) scale(0.95);\n        }\n        100% {\n          opacity: 1;\n          transform: translateY(0) scale(1);\n        }\n      }\n      \n      @keyframes fadeUpInContainer {\n        0% {\n          opacity: 0;\n          transform: translateY(20px);\n        }\n        100% {\n          opacity: 1;\n          transform: translateY(0);\n        }\n      }\n      \n      @keyframes fadeOutDownContainer {\n        0% {\n          opacity: 1;\n          transform: translateY(0);\n        }\n        100% {\n          opacity: 0;\n          transform: translateY(20px);\n        }\n      }\n      \n      .gleap-ai-ui-container.fade-out {\n        animation: fadeOutDownContainer 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards !important;\n      }      \n    `;\n    this.shadowRoot.appendChild(style);\n  }\n\n  createUIInShadow() {\n    let extraClasses = '';\n    if (this.config?.style === 'light' || this.config?.style === 'dark') {\n      extraClasses += ' gleap-ai-ui-container--noglow';\n    }\n    if (this.config?.style === 'dark' || this.config?.style === 'dark-glow') {\n      extraClasses += ' gleap-ai-ui-container--dark';\n    }\n\n    // Create the main container div inside shadow DOM\n    this.innerContainer = document.createElement('div');\n    this.innerContainer.className = 'gleap-ai-ui-container' + extraClasses;\n\n    // Create the HTML structure inside shadow DOM\n    this.innerContainer.innerHTML = `\n      <div class=\"gleap-ai-ui-quick-actions\"></div>\n      <div class=\"gleap-ai-ui-input-container\">\n        <div class=\"relative group\" style=\"--border-width: 2px; --border-width-hover: 4px;\">\n          <div class=\"animated-gradient-border-wrapper\"></div>\n          <div class=\"animated-gradient-border-wrapper animated-gradient-border-wrapper-glow\"></div>\n          <div class=\"bg-gradient-blur\">\n            <div class=\"gleap-ai-ui-input\">\n              <div class=\"gleap-ai-ui-input-content\">\n                <input name=\"AI question\" type=\"text\" placeholder=\"${this.placeholder}\" />\n                <div class=\"gleap-ai-ui-input-send-button\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 640\"><path fill=\"currentColor\" d=\"M342.6 81.4C330.1 68.9 309.8 68.9 297.3 81.4L137.3 241.4C124.8 253.9 124.8 274.2 137.3 286.7C149.8 299.2 170.1 299.2 182.6 286.7L288 181.3L288 552C288 569.7 302.3 584 320 584C337.7 584 352 569.7 352 552L352 181.3L457.4 286.7C469.9 299.2 490.2 299.2 502.7 286.7C515.2 274.2 515.2 253.9 502.7 241.4L342.7 81.4z\"/></svg>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n\n    // Append the container directly to shadow DOM\n    this.shadowRoot.appendChild(this.innerContainer);\n\n    // Get the quick actions container\n    this.quickActionsContainer = this.shadowRoot.querySelector('.gleap-ai-ui-quick-actions');\n\n    // Get input and send button elements\n    this.inputElement = this.shadowRoot.querySelector('input');\n    this.sendButton = this.shadowRoot.querySelector('.gleap-ai-ui-input-send-button');\n\n    // Add input event listener\n    this.setupInputListener();\n\n    // Update the quick actions\n    this.updateQuickActions();\n  }\n\n  setupInputListener() {\n    if (!this.inputElement || !this.sendButton) {\n      return;\n    }\n\n    this.inputElement.addEventListener('input', (e) => {\n      this.inputText = e.target.value.trim();\n      this.updateSendButtonState();\n    });\n\n    // Add Enter key listener for sending message\n    this.inputElement.addEventListener('keydown', (e) => {\n      if (e.key === 'Enter' && this.inputText.length > 0) {\n        e.preventDefault();\n        this.sendMessage(this.inputText);\n      }\n    });\n\n    // Add click listener for send button\n    this.sendButton.addEventListener('click', () => {\n      if (this.inputText.length > 0) {\n        this.sendMessage(this.inputText);\n      }\n    });\n  }\n\n  updateSendButtonState() {\n    if (!this.sendButton || !this.innerContainer) {\n      return;\n    }\n\n    if (this.inputText.length > 0) {\n      this.innerContainer.classList.add('active');\n    } else {\n      this.innerContainer.classList.remove('active');\n    }\n  }\n\n  sendMessage(question) {\n    if (!question || question.trim().length === 0) {\n      return;\n    }\n\n    // Call the callback if it exists\n    if (this.onMessageSend && typeof this.onMessageSend === 'function') {\n      this.onMessageSend(question.trim());\n    }\n\n    // Reset the input text\n    this.inputText = '';\n    if (this.inputElement) {\n      this.inputElement.value = '';\n    }\n    this.updateSendButtonState();\n  }\n\n  destroy() {\n    // Clear all pending timeouts\n    this.animationTimeouts.forEach((timeoutId) => {\n      clearTimeout(timeoutId);\n    });\n    this.animationTimeouts.clear();\n\n    // Remove DOM elements\n    if (this.aiUIContainer) {\n      this.aiUIContainer.remove();\n      this.aiUIContainer = null;\n    }\n\n    // Clear references\n    this.shadowRoot = null;\n    this.innerContainer = null;\n    this.quickActionsContainer = null;\n    this.quickActions = [];\n    this.inputElement = null;\n    this.sendButton = null;\n    this.inputText = '';\n    this.onMessageSend = null;\n\n    // Reset singleton instance\n    GleapAiChatbarManager.instance = null;\n  }\n}\n","import Gleap, { GleapFrameManager } from './Gleap';\n\nexport default class GleapBannerManager {\n  bannerUrl = 'https://outboundmedia.gleap.io';\n  bannerContainer = null;\n  bannerData = null;\n  disabled = false;\n\n  // GleapBannerManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapBannerManager();\n    }\n    return this.instance;\n  }\n\n  constructor() {\n    this.startCommunication();\n  }\n\n  setBannerUrl(url) {\n    this.bannerUrl = url;\n  }\n\n  startCommunication() {\n    // Add window message listener.\n    window.addEventListener('message', (event) => {\n      if (!this.bannerUrl?.includes(event.origin)) {\n        return;\n      }\n\n      try {\n        const data = JSON.parse(event.data);\n\n        if (data?.type !== 'BANNER') {\n          return;\n        }\n\n        if (data.name === 'banner-loaded' && this.bannerData) {\n          this.sendMessage({\n            name: 'banner-data',\n            data: this.bannerData,\n          });\n        }\n        if (data.name === 'banner-height') {\n          document.documentElement.style.setProperty('--gleap-margin-top', data.data.height + 'px');\n        }\n        if (data.name === 'banner-data-set') {\n          document.body.classList.add('gleap-b-shown');\n\n          if (this.bannerData?.format === 'floating') {\n            document.body.classList.add('gleap-b-f');\n          }\n        }\n        if (data.name === 'banner-close') {\n          this.removeBannerUI();\n        }\n        if (data.name === 'start-conversation') {\n          Gleap.startBot(data.data?.botId);\n        }\n        if (data.name === 'start-custom-action') {\n          Gleap.triggerCustomAction(data.data?.action);\n        }\n        if (data.name === 'start-product-tour') {\n          Gleap.startProductTour(data.data?.tourId, true);\n        }\n        if (data.name === 'open-url') {\n          const url = data.data;\n          const newTab = data.newTab ? true : false;\n          GleapFrameManager.getInstance().urlHandler(url, newTab);\n        }\n        if (data.name === 'show-form') {\n          Gleap.startFeedbackFlow(data.data?.formId);\n        }\n        if (data.name === 'show-survey') {\n          Gleap.showSurvey(data.data?.formId, data.data?.surveyFormat);\n        }\n        if (data.name === 'show-news-article') {\n          Gleap.openNewsArticle(data.data?.articleId);\n        }\n        if (data.name === 'show-help-article') {\n          Gleap.openHelpCenterArticle(data.data?.articleId);\n        }\n        if (data.name === 'show-checklist') {\n          Gleap.startChecklist(data.data?.checklistId, true, data.data?.sharedKey);\n        }\n      } catch (exp) {}\n    });\n  }\n\n  removeBannerUI() {\n    if (this.bannerContainer) {\n      document.body.removeChild(this.bannerContainer);\n      this.bannerContainer = null;\n    }\n\n    document.body.classList.remove('gleap-b-shown');\n    document.body.classList.remove('gleap-b-f');\n  }\n\n  disable() {\n    this.disabled = true;\n    this.removeBannerUI();\n  }\n\n  /**\n   * Injects the feedback button into the current DOM.\n   */\n  injectBannerUI(bannerData) {\n    if (!document.body) {\n      return false;\n    }\n\n    if (this.disabled) {\n      return false;\n    }\n\n    if (this.bannerContainer) {\n      this.removeBannerUI();\n    }\n\n    this.bannerData = bannerData;\n\n    var elem = document.createElement('div');\n    elem.className = 'gleap-b';\n    elem.innerHTML = `<iframe src=\"${this.bannerUrl}\" class=\"gleap-b-frame\" scrolling=\"no\" title=\"Gleap Banner\" role=\"dialog\" frameborder=\"0\"></iframe>`;\n    document.body.appendChild(elem);\n    this.bannerContainer = elem;\n  }\n\n  sendMessage(data) {\n    try {\n      const gleapBFrame = document.querySelector('.gleap-b-frame');\n      if (gleapBFrame && gleapBFrame.contentWindow) {\n        gleapBFrame.contentWindow.postMessage(\n          JSON.stringify({\n            ...data,\n            type: 'banner',\n          }),\n          '*'\n        );\n      }\n    } catch (e) {}\n  }\n\n  showBanner(bannerData) {\n    this.injectBannerUI(bannerData);\n  }\n}\n","import Gleap, { GleapConfigManager, GleapFrameManager } from './Gleap';\n\nexport default class GleapModalManager {\n  modalUrl = 'https://outboundmedia.gleap.io/modal';\n  modalContainer = null;\n  modalData = null;\n  modalBackdropClickListener = null;\n  disabled = false;\n  // singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapModalManager();\n    }\n    return this.instance;\n  }\n\n  constructor() {\n    this._listenForMessages();\n  }\n\n  setModalUrl(url) {\n    this.modalUrl = url;\n  }\n\n  disable() {\n    this.disabled = true;\n    this.hideModal();\n  }\n\n  _listenForMessages() {\n    window.addEventListener('message', (event) => {\n      if (!this.modalUrl?.includes(event.origin)) {\n        return;\n      }\n\n      try {\n        const data = JSON.parse(event.data);\n\n        if (data?.type !== 'MODAL') {\n          return;\n        }\n\n        if (data.name === 'modal-loaded' && this.modalData) {\n          const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n          const primaryColor = flowConfig.color ? flowConfig.color : '#485BFF';\n          const backgroundColor = flowConfig.backgroundColor ? flowConfig.backgroundColor : '#FFFFFF';\n\n          this._postMessage({\n            name: 'modal-data',\n            data: {\n              ...this.modalData,\n              primaryColor: primaryColor,\n              backgroundColor: backgroundColor,\n            },\n          });\n        }\n        if (data.name === 'modal-height') {\n          const height = data?.data?.height;\n          if (height) {\n            // Set the height of the modal iframe\n            const iframe = this.modalContainer.querySelector('.gleap-modal-frame');\n            if (iframe) {\n              iframe.style.height = `${height}px`;\n            }\n          }\n        }\n        if (data.name === 'modal-data-set') {\n          // TODO: Implement\n        }\n        if (data.name === 'modal-close') {\n          this.hideModal();\n        }\n        if (data.name === 'start-conversation') {\n          Gleap.startBot(data.data?.botId);\n        }\n        if (data.name === 'start-custom-action') {\n          Gleap.triggerCustomAction(data.data?.action);\n        }\n        if (data.name === 'start-product-tour') {\n          Gleap.startProductTour(data.data?.tourId, true);\n        }\n        if (data.name === 'open-url') {\n          const url = data.data;\n          const newTab = data.newTab ? true : false;\n          GleapFrameManager.getInstance().urlHandler(url, newTab);\n        }\n        if (data.name === 'show-form') {\n          Gleap.startFeedbackFlow(data.data?.formId);\n        }\n        if (data.name === 'show-survey') {\n          Gleap.showSurvey(data.data?.formId, data.data?.surveyFormat);\n        }\n        if (data.name === 'show-news-article') {\n          Gleap.openNewsArticle(data.data?.articleId);\n        }\n        if (data.name === 'show-help-article') {\n          Gleap.openHelpCenterArticle(data.data?.articleId);\n        }\n        if (data.name === 'show-checklist') {\n          Gleap.startChecklist(data.data?.checklistId, true, data.data?.sharedKey);\n        }\n      } catch (exp) {}\n    });\n  }\n\n  _injectModalUI(modalData) {\n    if (!document.body) return false;\n\n    if (this.disabled) {\n      return false;\n    }\n\n    if (this.modalContainer) {\n      this.hideModal();\n    }\n\n    this.modalData = modalData;\n\n    const wrapper = document.createElement('div');\n    wrapper.className = 'gleap-modal-wrapper';\n    wrapper.innerHTML = `\n      <div class=\"gleap-modal-backdrop\"></div>\n      <div class=\"gleap-modal\">\n        <iframe\n          src=\"${this.modalUrl}\"\n          class=\"gleap-modal-frame\"\n          scrolling=\"no\"\n          title=\"Gleap Modal\"\n          role=\"dialog\"\n          frameborder=\"0\"\n          allow=\"autoplay; encrypted-media; fullscreen; microphone *;\"\n        ></iframe>\n      </div>\n    `;\n    document.body.appendChild(wrapper);\n    this.modalContainer = wrapper;\n\n    // Add on backdrop click listener\n    this.modalBackdropClickListener = this.modalContainer\n      .querySelector('.gleap-modal-backdrop')\n      .addEventListener('click', () => {\n        if (this.modalData?.showCloseButton ?? true) {\n          this.hideModal();\n        }\n      });\n\n    // lock background scroll\n    document.body.classList.add('gleap-modal-open');\n  }\n\n  _postMessage(message) {\n    try {\n      const frame = this.modalContainer.querySelector('.gleap-modal-frame');\n      if (frame?.contentWindow) {\n        frame.contentWindow.postMessage(JSON.stringify({ ...message, type: 'modal' }), this.modalUrl);\n      }\n    } catch (err) {}\n  }\n\n  showModal(modalData) {\n    if (modalData && modalData.config) {\n      this._injectModalUI(modalData.config);\n    }\n  }\n\n  hideModal() {\n    if (!this.modalContainer) return;\n\n    if (this.modalBackdropClickListener) {\n      this.modalContainer\n        .querySelector('.gleap-modal-backdrop')\n        .removeEventListener('click', this.modalBackdropClickListener);\n    }\n\n    document.body.removeChild(this.modalContainer);\n    this.modalContainer = null;\n    document.body.classList.remove('gleap-modal-open');\n  }\n}\n","export default class GleapAudioManager {\n  static audio;\n  static settings = {\n    play: true,\n  };\n\n  static playSound(play) {\n    this.settings.play = play;\n  }\n\n  static ping() {\n    try {\n      if (!this.settings.play) {\n        return;\n      }\n\n      if (!this.audio) {\n        this.audio = new Audio('https://js.gleap.io/res/ping.mp3');\n      }\n\n      const playPromise = this.audio.play();\n      if (playPromise !== undefined) {\n        playPromise.then((_) => {}).catch((error) => {});\n      }\n    } catch (exp) {}\n  }\n}\n","export default class GleapTagManager {\n  tags = [];\n\n  // GleapTagManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapTagManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Returns the tags\n   * @returns {*}\n   */\n  getTags() {\n    return this.tags;\n  }\n\n  /**\n   * Sets the tags sent with every ticket.\n   * @param {*} tags Array of strings\n   */\n  setTags(tags) {\n    this.tags = tags;\n  }\n}\n","/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nexport function getID(el) {\n  const id = el.getAttribute('id');\n\n  if (id !== null && id !== '') {\n    // if the ID starts with a number or contains \":\" selecting with a hash will cause a DOMException\n    return id.match(/(?:^\\d|:)/) ? `[id=\"${id}\"]` : '#' + id;\n  }\n  return null;\n}\n","/**\n * Get class names for an element\n *\n * @pararm { Element } el\n * @return { Array }\n */\nexport function getClasses(el) {\n  if (!el.hasAttribute('class')) {\n    return [];\n  }\n\n  try {\n    let classList = Array.prototype.slice.call(el.classList);\n\n    // return only the valid CSS selectors based on RegEx\n    return classList.filter((item) => (!/^[a-z_-][a-z\\d_-]*$/i.test(item) ? null : item));\n  } catch (e) {\n    let className = el.getAttribute('class');\n\n    // remove duplicate and leading/trailing whitespaces\n    className = className.trim().replace(/\\s+/g, ' ');\n\n    // split into separate classnames\n    return className.split(' ');\n  }\n}\n\n/**\n * Returns the Class selectors of the element\n * @param  { Object } element\n * @return { Array }\n */\nexport function getClassSelectors(el) {\n  const classList = getClasses(el).filter(Boolean);\n  return classList.map((cl) => `.${cl}`);\n}\n","/**\n * Recursively combinate items.\n * @param  { Array } result\n * @param  { Array } items\n * @param  { Array } data\n * @param  { Number } start\n * @param  { Number } end\n * @param  { Number } index\n * @param  { Number } k\n */\nfunction kCombinations(result, items, data, start, end, index, k) {\n  if (index === k) {\n    result.push(data.slice(0, index).join(''));\n    return;\n  }\n\n  for (let i = start; i <= end && end - i + 1 >= k - index; ++i) {\n    data[index] = items[i];\n    kCombinations(result, items, data, i + 1, end, index + 1, k);\n  }\n}\n\n/**\n * Returns all the possible selector combinations\n * @param  { Array } items\n * @param  { Number } k\n * @return { Array }\n */\nexport function getCombinations(items, k) {\n  const result = [],\n    n = items.length,\n    data = [];\n\n  for (var l = 1; l <= k; ++l) {\n    kCombinations(result, items, data, 0, n - 1, 0, l);\n  }\n\n  return result;\n}\n","/**\n * Determines if the passed el is a DOM element\n */\nexport function isElement(el) {\n  let isElem;\n\n  if (typeof HTMLElement === 'object') {\n    isElem = el instanceof HTMLElement;\n  } else {\n    isElem = !!el && typeof el === 'object' && el.nodeType === 1 && typeof el.nodeName === 'string';\n  }\n  return isElem;\n}\n","import { isElement } from './isElement';\n\n/**\n * Returns the selectors based on the position of the element relative to its siblings\n * @param  { Object } element\n * @return { Array }\n */\nexport function getNthChild(element) {\n  let counter = 0;\n  let k;\n  let sibling;\n  const { parentNode } = element;\n\n  if (Boolean(parentNode)) {\n    const { childNodes } = parentNode;\n    const len = childNodes.length;\n    for (k = 0; k < len; k++) {\n      sibling = childNodes[k];\n      if (isElement(sibling)) {\n        counter++;\n        if (sibling === element) {\n          return `:nth-child(${counter})`;\n        }\n      }\n    }\n  }\n  return null;\n}\n","/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nexport function getTag(el) {\n  return el.tagName.toLowerCase().replace(/:/g, '\\\\:');\n}\n","/**\n * Checks if the selector is unique\n * @param  { Object } element\n * @param  { String } selector\n * @return { Array }\n */\nexport function isUnique(el, selector) {\n  if (!Boolean(selector)) return false;\n  const elems = el.ownerDocument.querySelectorAll(selector);\n  return elems.length === 1 && elems[0] === el;\n}\n","/**\n * Expose `unique`\n */\n\nimport { getID } from './getID';\nimport { getClassSelectors } from './getClasses';\nimport { getCombinations } from './getCombinations';\nimport { getAttributes } from './getAttributes';\nimport { getNthChild } from './getNthChild';\nimport { getTag } from './getTag';\nimport { isUnique } from './isUnique';\nimport { getParents } from './getParents';\n\n/**\n * Returns all the selectors of the elmenet\n * @param  { Object } element\n * @return { Object }\n */\nfunction getAllSelectors(el, selectors, attributesToIgnore) {\n  const funcs = {\n    Tag: getTag,\n    NthChild: getNthChild,\n    Attributes: (elem) => getAttributes(elem, attributesToIgnore),\n    Class: getClassSelectors,\n    ID: getID,\n  };\n\n  return selectors.reduce((res, next) => {\n    res[next] = funcs[next](el);\n    return res;\n  }, {});\n}\n\n/**\n * Tests uniqueNess of the element inside its parent\n * @param  { Object } element\n * @param { String } Selectors\n * @return { Boolean }\n */\nfunction testUniqueness(element, selector) {\n  try {\n    const { parentNode } = element;\n    const elements = parentNode.querySelectorAll(selector);\n    return elements.length === 1 && elements[0] === element;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tests all selectors for uniqueness and returns the first unique selector.\n * @param  { Object } element\n * @param  { Array } selectors\n * @return { String }\n */\nfunction getFirstUnique(element, selectors) {\n  return selectors.find(testUniqueness.bind(null, element));\n}\n\n/**\n * Checks all the possible selectors of an element to find one unique and return it\n * @param  { Object } element\n * @param  { Array } items\n * @param  { String } tag\n * @return { String }\n */\nfunction getUniqueCombination(element, items, tag) {\n  let combinations = getCombinations(items, 3),\n    firstUnique = getFirstUnique(element, combinations);\n\n  if (Boolean(firstUnique)) {\n    return firstUnique;\n  }\n\n  if (Boolean(tag)) {\n    combinations = combinations.map((combination) => tag + combination);\n    firstUnique = getFirstUnique(element, combinations);\n\n    if (Boolean(firstUnique)) {\n      return firstUnique;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Returns a uniqueSelector based on the passed options\n * @param  { DOM } element\n * @param  { Array } options\n * @return { String }\n */\nfunction getUniqueSelector(element, selectorTypes, attributesToIgnore, excludeRegex) {\n  let foundSelector;\n\n  const elementSelectors = getAllSelectors(element, selectorTypes, attributesToIgnore);\n\n  if (excludeRegex && excludeRegex instanceof RegExp) {\n    elementSelectors.ID = excludeRegex.test(elementSelectors.ID) ? null : elementSelectors.ID;\n    elementSelectors.Class = elementSelectors.Class.filter((className) => !excludeRegex.test(className));\n  }\n\n  for (let selectorType of selectorTypes) {\n    const { ID, Tag, Class: Classes, Attributes, NthChild } = elementSelectors;\n    switch (selectorType) {\n      case 'ID':\n        if (Boolean(ID) && testUniqueness(element, ID)) {\n          return ID;\n        }\n        break;\n\n      case 'Tag':\n        if (Boolean(Tag) && testUniqueness(element, Tag)) {\n          return Tag;\n        }\n        break;\n\n      case 'Class':\n        if (Boolean(Classes) && Classes.length) {\n          foundSelector = getUniqueCombination(element, Classes, Tag);\n          if (foundSelector) {\n            return foundSelector;\n          }\n        }\n        break;\n\n      case 'Attributes':\n        if (Boolean(Attributes) && Attributes.length) {\n          foundSelector = getUniqueCombination(element, Attributes, Tag);\n          if (foundSelector) {\n            return foundSelector;\n          }\n        }\n        break;\n\n      case 'NthChild':\n        if (Boolean(NthChild)) {\n          return NthChild;\n        }\n    }\n  }\n  return '*';\n}\n\n/**\n * Generate unique CSS selector for given DOM element\n *\n * @param {Element} el\n * @return {String}\n * @api private\n */\n\nexport default function unique(el, options = {}) {\n  const {\n    selectorTypes = ['ID', 'Class', 'Tag', 'NthChild'],\n    attributesToIgnore = ['id', 'class', 'length'],\n    excludeRegex = null,\n  } = options;\n  const allSelectors = [];\n  const parents = getParents(el);\n\n  for (let elem of parents) {\n    const selector = getUniqueSelector(elem, selectorTypes, attributesToIgnore, excludeRegex);\n    if (Boolean(selector)) {\n      allSelectors.push(selector);\n    }\n  }\n\n  const selectors = [];\n  for (let it of allSelectors) {\n    selectors.unshift(it);\n    const selector = selectors.join(' > ');\n    if (isUnique(el, selector)) {\n      return selector;\n    }\n  }\n\n  return null;\n}\n","/**\n * Returns the Attribute selectors of the element\n * @param  { DOM Element } element\n * @param  { Array } array of attributes to ignore\n * @return { Array }\n */\nexport function getAttributes(el, attributesToIgnore = ['id', 'class', 'length']) {\n  const { attributes } = el;\n  const attrs = [...attributes];\n\n  return attrs.reduce((sum, next) => {\n    if (!(attributesToIgnore.indexOf(next.nodeName) > -1)) {\n      sum.push(`[${next.nodeName}=\"${next.value}\"]`);\n    }\n    return sum;\n  }, []);\n}\n","import { isElement } from './isElement';\n\n/**\n * Returns all the element and all of its parents\n * @param { DOM Element }\n * @return { Array of DOM elements }\n */\nexport function getParents(el) {\n  const parents = [];\n  let currentElement = el;\n  while (isElement(currentElement)) {\n    parents.push(currentElement);\n    currentElement = currentElement.parentNode;\n  }\n\n  return parents;\n}\n","/**\n * Utility function to get the bounding rectangle of an element.\n * @param {HTMLElement} el - The target element.\n * @returns {Object} An object containing x, y, width, and height.\n */\nfunction getElementBounds(el) {\n  const rect = el.getBoundingClientRect();\n  return {\n    x: window.pageXOffset + rect.left,\n    y: window.pageYOffset + rect.top,\n    width: el.offsetWidth,\n    height: el.offsetHeight,\n  };\n}\n\n/**\n * Class representing an overlay element.\n */\nclass ElementOverlay {\n  /**\n   * Create an ElementOverlay.\n   * @param {Object} options - Configuration options.\n   * @param {string} [options.className] - CSS class name for the overlay.\n   * @param {Object} [options.style] - Style overrides for the overlay.\n   */\n  constructor(options) {\n    // Create and style the overlay element.\n    this.overlay = document.createElement('div');\n    this.overlay.className = options.className || '_ext-element-overlay';\n    this.overlay.style.background = (options.style && options.style.background) || 'rgba(250, 240, 202, 0.2)';\n    this.overlay.style.borderColor = (options.style && options.style.borderColor) || '#F95738';\n    this.overlay.style.borderStyle = (options.style && options.style.borderStyle) || 'solid';\n    this.overlay.style.borderRadius = (options.style && options.style.borderRadius) || '1px';\n    this.overlay.style.borderWidth = (options.style && options.style.borderWidth) || '1px';\n    this.overlay.style.boxSizing = (options.style && options.style.boxSizing) || 'border-box';\n    this.overlay.style.cursor = (options.style && options.style.cursor) || 'crosshair';\n    this.overlay.style.position = (options.style && options.style.position) || 'absolute';\n    this.overlay.style.zIndex = (options.style && options.style.zIndex) || '2147483647';\n    this.overlay.style.margin = (options.style && options.style.margin) || '0px';\n    this.overlay.style.padding = (options.style && options.style.padding) || '0px';\n\n    // Create a container that will host a Shadow DOM.\n    this.shadowContainer = document.createElement('div');\n    this.shadowContainer.className = '_ext-element-overlay-container';\n    this.shadowContainer.style.position = 'absolute';\n    this.shadowContainer.style.top = '0px';\n    this.shadowContainer.style.left = '0px';\n    this.shadowContainer.style.margin = '0px';\n    this.shadowContainer.style.padding = '0px';\n    this.shadowRoot = this.shadowContainer.attachShadow({ mode: 'open' });\n  }\n\n  /**\n   * Adds the overlay to the DOM.\n   * @param {Node} parent - The parent element.\n   * @param {boolean} useShadowDOM - Whether to use Shadow DOM.\n   */\n  addToDOM(parent, useShadowDOM) {\n    this.usingShadowDOM = useShadowDOM;\n    if (useShadowDOM) {\n      parent.insertBefore(this.shadowContainer, parent.firstChild);\n      this.shadowRoot.appendChild(this.overlay);\n    } else {\n      parent.appendChild(this.overlay);\n    }\n  }\n\n  /**\n   * Removes the overlay from the DOM.\n   */\n  removeFromDOM() {\n    this.setBounds({ x: 0, y: 0, width: 0, height: 0 });\n    if (this.overlay.remove) {\n      this.overlay.remove();\n    } else if (this.overlay.parentNode) {\n      this.overlay.parentNode.removeChild(this.overlay);\n    }\n    if (this.usingShadowDOM) {\n      if (this.shadowContainer.remove) {\n        this.shadowContainer.remove();\n      } else if (this.shadowContainer.parentNode) {\n        this.shadowContainer.parentNode.removeChild(this.shadowContainer);\n      }\n    }\n  }\n\n  /**\n   * Enables pointer events on the overlay.\n   */\n  captureCursor() {\n    this.overlay.style.pointerEvents = 'auto';\n  }\n\n  /**\n   * Disables pointer events on the overlay.\n   */\n  ignoreCursor() {\n    this.overlay.style.pointerEvents = 'none';\n  }\n\n  /**\n   * Sets the position and size of the overlay.\n   * @param {Object} bounds - The bounding box.\n   * @param {number} bounds.x - The x-coordinate.\n   * @param {number} bounds.y - The y-coordinate.\n   * @param {number} bounds.width - The width.\n   * @param {number} bounds.height - The height.\n   */\n  setBounds(bounds) {\n    const { x, y, width, height } = bounds;\n    this.overlay.style.left = x + 'px';\n    this.overlay.style.top = y + 'px';\n    this.overlay.style.width = width + 'px';\n    this.overlay.style.height = height + 'px';\n  }\n}\n\n/**\n * Class representing an element picker that uses the overlay.\n */\nclass ElementPicker {\n  /**\n   * Create an ElementPicker.\n   * @param {Object} [overlayOptions] - Options to pass to ElementOverlay.\n   */\n  constructor(overlayOptions) {\n    this.active = false;\n    this.overlay = new ElementOverlay(overlayOptions || {});\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.tick = this.tick.bind(this);\n  }\n\n  /**\n   * Starts the element picking process.\n   * @param {Object} options - Picker options.\n   * @param {Node} [options.parentElement] - Parent element to attach the overlay.\n   * @param {boolean} [options.useShadowDOM=true] - Whether to use Shadow DOM.\n   * @param {Function} [options.onClick] - Callback invoked on click.\n   * @param {Function} [options.onHover] - Callback invoked on hover.\n   * @param {Function} [options.elementFilter] - Function to filter elements.\n   * @returns {boolean} True if started successfully, false if already active.\n   */\n  start(options) {\n    if (this.active) {\n      return false;\n    }\n    this.active = true;\n    this.options = options;\n\n    document.addEventListener('mousemove', this.handleMouseMove, true);\n    document.addEventListener('click', this.handleClick, true);\n\n    const parentElement = options.parentElement || document.body;\n    const useShadowDOM = options.useShadowDOM !== undefined ? options.useShadowDOM : true;\n    this.overlay.addToDOM(parentElement, useShadowDOM);\n    this.tick();\n\n    return true;\n  }\n\n  /**\n   * Stops the element picking process.\n   */\n  stop() {\n    this.active = false;\n    this.options = undefined;\n\n    document.removeEventListener('mousemove', this.handleMouseMove, true);\n    document.removeEventListener('click', this.handleClick, true);\n\n    this.overlay.removeFromDOM();\n    this.target = undefined;\n    this.mouseX = undefined;\n    this.mouseY = undefined;\n\n    if (this.tickReq) {\n      window.cancelAnimationFrame(this.tickReq);\n    }\n  }\n\n  /**\n   * Handles mouse move events.\n   * @param {MouseEvent} event - The mousemove event.\n   */\n  handleMouseMove(event) {\n    this.mouseX = event.clientX;\n    this.mouseY = event.clientY;\n  }\n\n  /**\n   * Handles click events.\n   * @param {MouseEvent} event - The click event.\n   */\n  handleClick(event) {\n    const clickedEl = document.elementFromPoint(event.clientX, event.clientY);\n    if (this.options && this.options.elementFilter && clickedEl && !this.options.elementFilter(clickedEl)) {\n      return;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n    event.stopImmediatePropagation();\n\n    if (this.target && this.options && this.options.onClick) {\n      this.options.onClick(this.target);\n    }\n  }\n\n  /**\n   * The tick function that continuously updates the target element.\n   */\n  tick() {\n    this.updateTarget();\n    this.tickReq = window.requestAnimationFrame(this.tick);\n  }\n\n  /**\n   * Updates the target element based on the current mouse position.\n   */\n  updateTarget() {\n    if (this.mouseX === undefined || this.mouseY === undefined) {\n      return;\n    }\n\n    // Temporarily ignore the overlay's pointer events to detect the underlying element.\n    this.overlay.ignoreCursor();\n    const elAtCursor = document.elementFromPoint(this.mouseX, this.mouseY);\n    const newTarget = elAtCursor;\n    this.overlay.captureCursor();\n\n    // If the target hasn't changed, do nothing.\n    if (!newTarget || newTarget === this.target) {\n      return;\n    }\n\n    // If an element filter is provided and the new target doesn't match, clear the target.\n    if (this.options && this.options.elementFilter) {\n      if (!this.options.elementFilter(newTarget)) {\n        this.target = undefined;\n        this.overlay.setBounds({ x: 0, y: 0, width: 0, height: 0 });\n        return;\n      }\n    }\n\n    this.target = newTarget;\n    const bounds = getElementBounds(newTarget);\n    this.overlay.setBounds(bounds);\n\n    if (this.options && this.options.onHover) {\n      this.options.onHover(newTarget);\n    }\n  }\n}\n\nexport default ElementPicker;\n","import unique from './unique-selector/src/unique-selector';\nimport ElementPicker from './ElementPicker';\n\nclass GleapAdminHelper {\n  picker = null;\n  onElementPicked = null;\n\n  stopPicker = () => {\n    if (this.picker) {\n      this.picker.stop();\n      this.picker = null;\n      return;\n    }\n  };\n\n  startPicker = () => {\n    this.stopPicker();\n    var self = this;\n\n    const style = {\n      borderColor: '#2142E7',\n      background: 'transparent',\n      borderWidth: '4px',\n      borderRadius: '5px',\n    };\n    this.picker = new ElementPicker({ style });\n    this.picker.start({\n      useShadowDOM: false,\n      onClick: (el) => {\n        try {\n          let selector;\n          const tourId = el.getAttribute('data-gleap-tour');\n          if (tourId) {\n            selector = `[data-gleap-tour=\"${tourId}\"]`;\n          } else {\n            selector = unique(el);\n          }\n\n          self.onElementPicked && self.onElementPicked(selector);\n        } catch (e) {\n          console.error('Error while getting unique selector', e);\n        }\n      },\n      elementFilter: (el) => {\n        if (el.classList.contains('gleap-admin-collapse-ui') || el.closest('.gleap-admin-collapse-ui')) {\n          return false;\n        }\n        return true;\n      },\n    });\n  };\n\n  setMode = (mode) => {\n    this.mode = mode;\n    if (mode === 'navigate') {\n      this.stopPicker();\n    }\n    if (mode === 'picker') {\n      this.startPicker();\n    }\n  };\n}\n\nexport default GleapAdminHelper;\n","import { loadIcon } from './UI';\nimport GleapAdminHelper from './GleapAdminHelper';\nimport Gleap, { GleapModalManager, GleapProductTours, GleapBannerManager } from './Gleap';\n\nexport default class GleapAdminManager {\n  libraryInstance = null;\n  lastUrl = undefined;\n  injectedFrame = false;\n  gleapFrameContainer = null;\n  gleapCollapseUI = null;\n  injectedCollapseUI = false;\n  gleapFrame = null;\n  configData = null;\n  adminHelper = null;\n  status = 'navigate';\n  initialized = false;\n\n  // GleapAdminManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapAdminManager();\n    }\n\n    return this.instance;\n  }\n\n  logCurrentPage() {\n    const currentUrl = window.location.href;\n    if (currentUrl && currentUrl !== this.lastUrl) {\n      this.lastUrl = currentUrl;\n\n      this.sendMessageToTourBuilder({\n        name: 'page-changed',\n        data: {\n          page: currentUrl,\n        },\n      });\n    }\n  }\n\n  startPageListener() {\n    const self = this;\n    setInterval(function () {\n      self.logCurrentPage();\n    }, 1000);\n  }\n\n  initAdminHelper() {\n    const self = this;\n\n    // Disable product tours.\n    this.initialized = true;\n    GleapProductTours.getInstance().disable();\n    GleapBannerManager.getInstance().disable();\n    GleapModalManager.getInstance().disable();\n    Gleap.close();\n    Gleap.showFeedbackButton(false);\n\n    self.adminHelper = new GleapAdminHelper();\n\n    try {\n      self.adminHelper.onElementPicked = (selector) => {\n        self.toggleCollapseUI(true);\n        self.sendMessageToTourBuilder({\n          name: 'element-picked',\n          data: {\n            selector,\n          },\n        });\n      };\n    } catch (e) {\n      console.log(e);\n    }\n\n    self.injectFrame();\n    self.injectCollapseUI();\n    self.setFrameHeight('loading');\n  }\n\n  setFrameHeight(state) {\n    if (this.gleapFrameContainer) {\n      var height = '';\n      if (state === 'picker' || state === 'navigate') {\n        height = '65px';\n      } else if (state === 'editor') {\n        height = '100vh';\n      } else {\n        height = '0px';\n      }\n      this.gleapFrameContainer.style.height = height;\n    }\n  }\n\n  start() {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    if (window.gleapAdminDisabled) {\n      return;\n    }\n\n    var self = this;\n\n    // Add window message listener.\n    window.addEventListener('message', (event) => {\n      if (event.origin !== 'https://app.gleap.io') {\n        return;\n      }\n\n      try {\n        const data = JSON.parse(event.data);\n\n        if (data.type === 'admin') {\n          if (data.name === 'load') {\n            self.configData = data.data;\n            self.initAdminHelper();\n          }\n\n          if (data.name === 'smartlink-search-result') {\n            this.sendMessageToTourBuilder({\n              name: 'smartlink-search-result',\n              data: data.data,\n            });\n          }\n\n          if (data.name === 'translate-complete') {\n            this.sendMessageToTourBuilder({\n              name: 'translate-complete',\n              data: data.data,\n            });\n          }\n        }\n\n        if (data.type === 'tourbuilder') {\n          if (data.name === 'loaddata') {\n            this.sendMessageToTourBuilder({\n              name: 'data',\n              data: {\n                ...self.configData,\n                currentPage: window.location.href,\n              },\n            });\n          }\n\n          if (data.name === 'highlight-element') {\n            // Cleanup.\n            document.querySelectorAll('.gleap-admin-highlight').forEach((el) => {\n              el.classList.remove('gleap-admin-highlight');\n            });\n\n            // Find the element and highlight it.\n            if (data?.data?.selector) {\n              const element = document.querySelector(data?.data?.selector);\n              if (element) {\n                element.classList.add('gleap-admin-highlight');\n              }\n            }\n          }\n\n          if (data.name === 'smartlink-search') {\n            this.sendMessage({\n              name: 'smartlink-search',\n              data: data.data,\n            });\n          }\n\n          if (data.name === 'product-tour-started') {\n            this.sendMessage({\n              name: 'product-tour-started',\n              data: data.data,\n            });\n          }\n\n          if (data.name === 'translate') {\n            this.sendMessage({\n              name: 'translate',\n              data: data.data,\n            });\n          }\n\n          if (data.name === 'save') {\n            this.sendMessage({\n              name: 'save',\n              data: data.data,\n            });\n          }\n\n          if (data.name === 'update-steps') {\n            this.sendMessage({\n              name: 'update-steps',\n              data: data.data,\n            });\n          }\n\n          if (data.name === 'click') {\n            try {\n              document.querySelector(data.data.selector).click();\n            } catch (e) {\n              console.log(e);\n            }\n          }\n\n          if (data.name === 'status-changed') {\n            self.status = data.data;\n            this.setFrameHeight(self.status);\n            self.adminHelper.stopPicker();\n\n            if (self.status === 'picker') {\n              self.adminHelper.startPicker();\n            }\n          }\n        }\n      } catch (exp) {}\n    });\n\n    this.sendMessage({\n      name: 'init',\n    });\n\n    this.startPageListener();\n  }\n\n  sendMessage(data) {\n    try {\n      if (window && window.opener) {\n        window.opener.postMessage(\n          JSON.stringify({\n            ...data,\n            type: 'admin',\n          }),\n          '*'\n        );\n      }\n    } catch (e) {}\n  }\n\n  sendMessageToTourBuilder(data) {\n    try {\n      if (this.gleapFrame && this.gleapFrame.contentWindow) {\n        this.gleapFrame.contentWindow.postMessage(\n          JSON.stringify({\n            ...data,\n            type: 'tourbuilder',\n          }),\n          '*'\n        );\n      }\n    } catch (e) {}\n  }\n\n  toggleCollapseUI = (onlyIfActive = false) => {\n    const COLLAPSE_UI_ACTIVE_CLASS = 'gleap-admin-collapse-ui-active';\n    const FRAME_CONTAINER_ACTIVE_CLASS = 'gleap-admin-frame-container-active';\n\n    // Helper function to check if an element has an active class\n    const isActive = (element, activeClass) => element && element.classList.contains(activeClass);\n\n    // Check if onlyIfActive is true and if the UI elements are already inactive\n    if (\n      onlyIfActive &&\n      (!isActive(this.gleapCollapseUI, COLLAPSE_UI_ACTIVE_CLASS) ||\n        !isActive(this.gleapFrameContainer, FRAME_CONTAINER_ACTIVE_CLASS))\n    ) {\n      return; // Return early without toggling the UI\n    }\n\n    // Toggle the UI elements\n    if (this.gleapCollapseUI) {\n      this.gleapCollapseUI.classList.toggle(COLLAPSE_UI_ACTIVE_CLASS);\n    }\n    if (this.gleapFrameContainer) {\n      this.gleapFrameContainer.classList.toggle(FRAME_CONTAINER_ACTIVE_CLASS);\n    }\n  };\n\n  injectCollapseUI = () => {\n    if (this.injectedCollapseUI) {\n      return;\n    }\n    this.injectedCollapseUI = true;\n\n    // Inject widget HTML.\n    var elem = document.createElement('div');\n    elem.className = 'gleap-admin-collapse-ui';\n    elem.innerHTML = `<div class=\"gleap-admin-collapse-ui-icon\">\n    ${loadIcon('arrowdown')}\n    </div>`;\n    document.body.appendChild(elem);\n\n    this.gleapCollapseUI = elem;\n\n    elem.addEventListener('click', (e) => {\n      e.stopImmediatePropagation();\n      e.stopPropagation();\n      e.preventDefault();\n\n      this.toggleCollapseUI();\n    });\n  };\n\n  injectFrame = () => {\n    if (this.injectedFrame) {\n      return;\n    }\n    this.injectedFrame = true;\n\n    // Inject widget HTML.\n    var elem = document.createElement('div');\n    elem.className = 'gleap-admin-frame-container';\n    elem.innerHTML = `<iframe src=\"https://app.gleap.io/${\n      this?.configData?.type === 'tooltips' ? 'tooltipbuilder' : 'producttourbuilder'\n    }\" class=\"gleap-admin-frame\" scrolling=\"no\" title=\"Gleap Admin Window\" allow=\"autoplay; encrypted-media; fullscreen;\" frameborder=\"0\"></iframe>`;\n    document.body.appendChild(elem);\n\n    this.gleapFrameContainer = elem;\n    this.gleapFrame = document.querySelector('.gleap-admin-frame');\n  };\n}\n","const GleapTours = (function () {\n  'use strict';\n  let currentConfig = {};\n  function configure(config = {}) {\n    currentConfig = {\n      animate: true,\n      allowClose: true,\n      overlayOpacity: 0.7,\n      smoothScroll: false,\n      disableActiveInteraction: false,\n      showProgress: false,\n      stagePadding: 10,\n      stageRadius: 5,\n      popoverOffset: 10,\n      showButtons: ['next', 'previous', 'close'],\n      disableButtons: [],\n      overlayColor: '#000',\n      ...config,\n    };\n  }\n  function getConfig(key) {\n    return key ? currentConfig[key] : currentConfig;\n  }\n  function easeInOutQuad(elapsed, initialValue, amountOfChange, duration) {\n    if ((elapsed /= duration / 2) < 1) {\n      return (amountOfChange / 2) * elapsed * elapsed + initialValue;\n    }\n    return (-amountOfChange / 2) * (--elapsed * (elapsed - 2) - 1) + initialValue;\n  }\n  function getFocusableElements(parentEls) {\n    const focusableQuery =\n      'a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])';\n    return parentEls\n      .flatMap((parentEl) => {\n        const isParentFocusable = parentEl.matches(focusableQuery);\n        const focusableEls = Array.from(parentEl.querySelectorAll(focusableQuery));\n        return [...(isParentFocusable ? [parentEl] : []), ...focusableEls];\n      })\n      .filter((el) => {\n        return getComputedStyle(el).pointerEvents !== 'none' && isElementVisible(el);\n      });\n  }\n  function bringInView(element) {\n    if (!element || isElementInView(element)) {\n      return;\n    }\n    const shouldSmoothScroll = getConfig('smoothScroll');\n    element.scrollIntoView({\n      // Removing the smooth scrolling for elements which exist inside the scrollable parent\n      // This was causing the highlight to not properly render\n      behavior: !shouldSmoothScroll || hasScrollableParent(element) ? 'auto' : 'smooth',\n      inline: 'center',\n      block: 'center',\n    });\n  }\n  function hasScrollableParent(e) {\n    if (!e || !e.parentElement) {\n      return;\n    }\n    const parent = e.parentElement;\n    return parent.scrollHeight > parent.clientHeight;\n  }\n  function isElementInView(element) {\n    const rect = element.getBoundingClientRect();\n    return (\n      rect.top >= 0 &&\n      rect.left >= 0 &&\n      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n    );\n  }\n  function isElementVisible(el) {\n    return !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n  }\n  let currentState = {};\n  function setState(key, value) {\n    currentState[key] = value;\n  }\n  function getState(key) {\n    return key ? currentState[key] : currentState;\n  }\n  function resetState() {\n    currentState = {};\n  }\n  let registeredListeners = {};\n  function listen(hook, callback) {\n    registeredListeners[hook] = callback;\n  }\n  function emit(hook) {\n    var _a;\n    (_a = registeredListeners[hook]) == null ? void 0 : _a.call(registeredListeners);\n  }\n  function destroyEmitter() {\n    registeredListeners = {};\n  }\n  function transitionStage(elapsed, duration, from, to) {\n    let activeStagePosition = getState('__activeStagePosition');\n    const fromDefinition = activeStagePosition ? activeStagePosition : from.getBoundingClientRect();\n    const toDefinition = to.getBoundingClientRect();\n    const x = easeInOutQuad(elapsed, fromDefinition.x, toDefinition.x - fromDefinition.x, duration);\n    const y = easeInOutQuad(elapsed, fromDefinition.y, toDefinition.y - fromDefinition.y, duration);\n    const width = easeInOutQuad(elapsed, fromDefinition.width, toDefinition.width - fromDefinition.width, duration);\n    const height = easeInOutQuad(elapsed, fromDefinition.height, toDefinition.height - fromDefinition.height, duration);\n    activeStagePosition = {\n      x,\n      y,\n      width,\n      height,\n    };\n    renderOverlay(activeStagePosition);\n    setState('__activeStagePosition', activeStagePosition);\n  }\n  function trackActiveElement(element) {\n    if (!element) {\n      return;\n    }\n    const definition = element.getBoundingClientRect();\n    const activeStagePosition = {\n      x: definition.x,\n      y: definition.y,\n      width: definition.width,\n      height: definition.height,\n    };\n    setState('__activeStagePosition', activeStagePosition);\n    renderOverlay(activeStagePosition);\n  }\n  function refreshOverlay() {\n    const activeStagePosition = getState('__activeStagePosition');\n    const overlaySvg = getState('__overlaySvg');\n    if (!activeStagePosition) {\n      return;\n    }\n    if (!overlaySvg) {\n      console.warn('No stage svg found.');\n      return;\n    }\n    const windowX = window.innerWidth;\n    const windowY = window.innerHeight;\n    overlaySvg.setAttribute('viewBox', `0 0 ${windowX} ${windowY}`);\n  }\n  function mountOverlay(stagePosition) {\n    const overlaySvg = createOverlaySvg(stagePosition);\n    document.body.appendChild(overlaySvg);\n    onDriverClick(overlaySvg, (e) => {\n      const target = e.target;\n      if (target.tagName !== 'path') {\n        return;\n      }\n      emit('overlayClick');\n    });\n    setState('__overlaySvg', overlaySvg);\n  }\n  function renderOverlay(stagePosition) {\n    const overlaySvg = getState('__overlaySvg');\n    if (!overlaySvg) {\n      mountOverlay(stagePosition);\n      return;\n    }\n    const pathElement = overlaySvg.firstElementChild;\n    if ((pathElement == null ? void 0 : pathElement.tagName) !== 'path') {\n      throw new Error('no path element found in stage svg');\n    }\n    pathElement.setAttribute('d', generateStageSvgPathString(stagePosition));\n  }\n  function createOverlaySvg(stage) {\n    const windowX = window.innerWidth;\n    const windowY = window.innerHeight;\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.classList.add('gleap-tour-overlay', 'gleap-tour-overlay-animated');\n    svg.setAttribute('viewBox', `0 0 ${windowX} ${windowY}`);\n    svg.setAttribute('xmlSpace', 'preserve');\n    svg.setAttribute('xmlnsXlink', 'http://www.w3.org/1999/xlink');\n    svg.setAttribute('version', '1.1');\n    svg.setAttribute('preserveAspectRatio', 'xMinYMin slice');\n    svg.style.fillRule = 'evenodd';\n    svg.style.clipRule = 'evenodd';\n    svg.style.strokeLinejoin = 'round';\n    svg.style.strokeMiterlimit = '2';\n    svg.style.zIndex = '10000';\n    svg.style.position = 'fixed';\n    svg.style.top = '0';\n    svg.style.left = '0';\n    svg.style.width = '100%';\n    svg.style.height = '100%';\n    const stagePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    stagePath.setAttribute('d', generateStageSvgPathString(stage));\n    stagePath.style.fill = getConfig('overlayColor') || 'rgb(0,0,0)';\n    stagePath.style.opacity = `${getConfig('overlayOpacity')}`;\n    stagePath.style.pointerEvents = 'auto';\n    stagePath.style.cursor = 'auto';\n    svg.appendChild(stagePath);\n    return svg;\n  }\n  function generateStageSvgPathString(stage) {\n    const windowX = window.innerWidth;\n    const windowY = window.innerHeight;\n    const stagePadding = getConfig('stagePadding') || 0;\n    const stageRadius = getConfig('stageRadius') || 0;\n    const stageWidth = stage.width + stagePadding * 2;\n    const stageHeight = stage.height + stagePadding * 2;\n    const limitedRadius = Math.min(stageRadius, stageWidth / 2, stageHeight / 2);\n    const normalizedRadius = Math.floor(Math.max(limitedRadius, 0));\n    const highlightBoxX = stage.x - stagePadding + normalizedRadius;\n    const highlightBoxY = stage.y - stagePadding;\n    const highlightBoxWidth = stageWidth - normalizedRadius * 2;\n    const highlightBoxHeight = stageHeight - normalizedRadius * 2;\n    return `M${windowX},0L0,0L0,${windowY}L${windowX},${windowY}L${windowX},0Z\n    M${highlightBoxX},${highlightBoxY} h${highlightBoxWidth} a${normalizedRadius},${normalizedRadius} 0 0 1 ${normalizedRadius},${normalizedRadius} v${highlightBoxHeight} a${normalizedRadius},${normalizedRadius} 0 0 1 -${normalizedRadius},${normalizedRadius} h-${highlightBoxWidth} a${normalizedRadius},${normalizedRadius} 0 0 1 -${normalizedRadius},-${normalizedRadius} v-${highlightBoxHeight} a${normalizedRadius},${normalizedRadius} 0 0 1 ${normalizedRadius},-${normalizedRadius} z`;\n  }\n  function destroyOverlay() {\n    const overlaySvg = getState('__overlaySvg');\n    if (overlaySvg) {\n      overlaySvg.remove();\n    }\n  }\n  function mountDummyElement() {\n    const existingDummy = document.getElementById('gleap-tour-dummy-element');\n    if (existingDummy) {\n      return existingDummy;\n    }\n    let element = document.createElement('div');\n    element.id = 'gleap-tour-dummy-element';\n    element.style.width = '0';\n    element.style.height = '0';\n    element.style.pointerEvents = 'none';\n    element.style.opacity = '0';\n    element.style.position = 'fixed';\n    element.style.top = '50%';\n    element.style.left = '50%';\n    document.body.appendChild(element);\n    return element;\n  }\n  function highlight(step, attemptTime = 5000) {\n    const { element } = step;\n    let elemObj = element;\n    if (typeof elemObj === 'string') {\n      try {\n        elemObj = document.querySelector(element);\n      } catch (error) {\n        // This will escape colons within IDs but not affect pseudo-classes or other valid uses of colons\n        let refactoredElement = element.replace(/(#[^#\\s]+)/g, function (match) {\n          return match.replace(/:/g, '\\\\:');\n        });\n        elemObj = document.querySelector(refactoredElement);\n      }\n    }\n    if (element && !elemObj && attemptTime >= 0) {\n      setTimeout(() => {\n        hidePopover();\n        highlight(step, attemptTime - 100);\n      }, 100);\n\n      return;\n    }\n\n    if (!elemObj) {\n      if (step.mode === 'INPUT' || step.mode === 'CLICK') {\n        return getConfig('onElementNotFound')(step);\n      }\n    }\n\n    if (!elemObj) {\n      elemObj = mountDummyElement();\n    }\n\n    transferHighlight(elemObj, step);\n  }\n  function refreshActiveHighlight() {\n    const activeHighlight = getState('__activeElement');\n    const activeStep = getState('__activeStep');\n    if (!activeHighlight) {\n      return;\n    }\n    trackActiveElement(activeHighlight);\n    refreshOverlay();\n    repositionPopover(activeHighlight, activeStep);\n  }\n  function transferHighlight(toElement, toStep) {\n    const duration = 400;\n    const start = Date.now();\n    const fromStep = getState('__activeStep');\n    const fromElement = getState('__activeElement') || toElement;\n    const isFirstHighlight = !fromElement || fromElement === toElement;\n    const isToDummyElement = toElement.id === 'gleap-tour-dummy-element';\n    const isFromDummyElement = fromElement.id === 'gleap-tour-dummy-element';\n    const isAnimatedTour = getConfig('animate');\n    const highlightStartedHook = toStep.onHighlightStarted || getConfig('onHighlightStarted');\n    const highlightedHook = (toStep == null ? void 0 : toStep.onHighlighted) || getConfig('onHighlighted');\n    const deselectedHook = (fromStep == null ? void 0 : fromStep.onDeselected) || getConfig('onDeselected');\n    const config = getConfig();\n    const state = getState();\n    if (!isFirstHighlight && deselectedHook) {\n      deselectedHook(isFromDummyElement ? void 0 : fromElement, fromStep, {\n        config,\n        state,\n      });\n    }\n    if (highlightStartedHook) {\n      highlightStartedHook(isToDummyElement ? void 0 : toElement, toStep, {\n        config,\n        state,\n      });\n    }\n    const hasDelayedPopover = !isFirstHighlight && isAnimatedTour;\n    let isPopoverRendered = false;\n    hidePopover();\n    setState('previousStep', fromStep);\n    setState('previousElement', fromElement);\n    setState('activeStep', toStep);\n    setState('activeElement', toElement);\n    const animate = () => {\n      const transitionCallback = getState('__transitionCallback');\n      if (transitionCallback !== animate) {\n        return;\n      }\n      const elapsed = Date.now() - start;\n      const timeRemaining = duration - elapsed;\n      const isHalfwayThrough = timeRemaining <= duration / 2;\n      if (toStep.popover && isHalfwayThrough && !isPopoverRendered && hasDelayedPopover) {\n        renderPopover(toElement, toStep);\n        isPopoverRendered = true;\n      }\n      if (getConfig('animate') && elapsed < duration) {\n        transitionStage(elapsed, duration, fromElement, toElement);\n      } else {\n        trackActiveElement(toElement);\n        if (highlightedHook) {\n          highlightedHook(isToDummyElement ? void 0 : toElement, toStep, {\n            config: getConfig(),\n            state: getState(),\n          });\n        }\n        setState('__transitionCallback', void 0);\n        setState('__previousStep', fromStep);\n        setState('__previousElement', fromElement);\n        setState('__activeStep', toStep);\n        setState('__activeElement', toElement);\n      }\n      window.requestAnimationFrame(animate);\n    };\n    setState('__transitionCallback', animate);\n    window.requestAnimationFrame(animate);\n    bringInView(toElement);\n    if (!hasDelayedPopover && toStep.popover) {\n      renderPopover(toElement, toStep);\n    }\n    fromElement.classList.remove('gleap-tour-active-element', 'gleap-tour-no-interaction');\n    fromElement.removeAttribute('aria-haspopup');\n    fromElement.removeAttribute('aria-expanded');\n    fromElement.removeAttribute('aria-controls');\n    const disableActiveInteraction = toStep.disableActiveInteraction ?? getConfig('disableActiveInteraction') ?? false;\n    if (disableActiveInteraction) {\n      toElement.classList.add('gleap-tour-no-interaction');\n    }\n    toElement.classList.add('gleap-tour-active-element');\n    toElement.setAttribute('aria-haspopup', 'dialog');\n    toElement.setAttribute('aria-expanded', 'true');\n    toElement.setAttribute('aria-controls', 'gleap-tour-popover-content');\n  }\n  function destroyHighlight() {\n    var _a;\n    (_a = document.getElementById('gleap-tour-dummy-element')) == null ? void 0 : _a.remove();\n    document.querySelectorAll('.gleap-tour-active-element').forEach((element) => {\n      element.classList.remove('gleap-tour-active-element', 'gleap-tour-no-interaction');\n      element.removeAttribute('aria-haspopup');\n      element.removeAttribute('aria-expanded');\n      element.removeAttribute('aria-controls');\n    });\n  }\n  function requireRefresh() {\n    const resizeTimeout = getState('__resizeTimeout');\n    if (resizeTimeout) {\n      window.cancelAnimationFrame(resizeTimeout);\n    }\n    setState('__resizeTimeout', window.requestAnimationFrame(refreshActiveHighlight));\n  }\n  function trapFocus(e) {\n    var _a;\n    const isActivated = getState('isInitialized');\n    if (!isActivated) {\n      return;\n    }\n    const isTabKey = e.key === 'Tab' || e.keyCode === 9;\n    if (!isTabKey) {\n      return;\n    }\n    const activeElement = getState('__activeElement');\n    const popoverEl = (_a = getState('popover')) == null ? void 0 : _a.wrapper;\n    const focusableEls = getFocusableElements([\n      ...(popoverEl ? [popoverEl] : []),\n      ...(activeElement ? [activeElement] : []),\n    ]);\n    const firstFocusableEl = focusableEls[0];\n    const lastFocusableEl = focusableEls[focusableEls.length - 1];\n    e.preventDefault();\n    if (e.shiftKey) {\n      const previousFocusableEl = focusableEls[focusableEls.indexOf(document.activeElement) - 1] || lastFocusableEl;\n      previousFocusableEl == null ? void 0 : previousFocusableEl.focus();\n    } else {\n      const nextFocusableEl = focusableEls[focusableEls.indexOf(document.activeElement) + 1] || firstFocusableEl;\n      nextFocusableEl == null ? void 0 : nextFocusableEl.focus();\n    }\n  }\n  function onKeyup(e) {\n    var _a;\n    const allowKeyboardControl = (_a = getConfig('allowKeyboardControl')) != null ? _a : true;\n    if (!allowKeyboardControl) {\n      return;\n    }\n    if (e.key === 'Escape') {\n      emit('escapePress');\n    } else if (e.key === 'ArrowRight') {\n      emit('arrowRightPress');\n    } else if (e.key === 'ArrowLeft') {\n      emit('arrowLeftPress');\n    }\n  }\n  function onDriverClick(element, listener, shouldPreventDefault) {\n    const listenerWrapper = (e, listener2) => {\n      const target = e.target;\n      if (!element.contains(target)) {\n        return;\n      }\n      if (!shouldPreventDefault || shouldPreventDefault(target)) {\n        e.preventDefault();\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n      }\n      listener2 == null ? void 0 : listener2(e);\n    };\n    const useCapture = true;\n    document.addEventListener('pointerdown', listenerWrapper, useCapture);\n    document.addEventListener('mousedown', listenerWrapper, useCapture);\n    document.addEventListener('pointerup', listenerWrapper, useCapture);\n    document.addEventListener('mouseup', listenerWrapper, useCapture);\n    document.addEventListener(\n      'click',\n      (e) => {\n        listenerWrapper(e, listener);\n      },\n      useCapture\n    );\n  }\n  function initEvents() {\n    window.addEventListener('keyup', onKeyup, false);\n    window.addEventListener('keydown', trapFocus, false);\n    window.addEventListener('resize', requireRefresh);\n    window.addEventListener('scroll', requireRefresh);\n  }\n  function destroyEvents() {\n    window.removeEventListener('keyup', onKeyup);\n    window.removeEventListener('resize', requireRefresh);\n    window.removeEventListener('scroll', requireRefresh);\n  }\n  function hidePopover() {\n    const popover = getState('popover');\n    if (!popover) {\n      return;\n    }\n    popover.wrapper.style.display = 'none';\n  }\n  function renderPopover(element, step) {\n    var _a, _b;\n    let popover = getState('popover');\n    if (popover) {\n      document.body.removeChild(popover.wrapper);\n    }\n    popover = createPopover();\n    document.body.appendChild(popover.wrapper);\n    const {\n      title,\n      description,\n      showButtons,\n      disableButtons,\n      showProgress,\n      nextBtnText = getConfig('nextBtnText') || 'Next',\n      prevBtnText = getConfig('prevBtnText') || 'Previous',\n      progressText = getConfig('progressText') || '{current} of {total}',\n    } = step.popover || {};\n    popover.nextButton.innerHTML = nextBtnText;\n    popover.previousButton.innerHTML = prevBtnText;\n    popover.progress.innerHTML = progressText;\n    if (title) {\n      popover.title.innerHTML = title;\n      popover.title.style.display = 'block';\n    } else {\n      popover.title.style.display = 'none';\n    }\n    if (description) {\n      popover.description.innerHTML = description;\n      popover.description.style.display = 'block';\n    } else {\n      popover.description.style.display = 'none';\n    }\n    const showButtonsConfig = showButtons || getConfig('showButtons');\n    const showProgressConfig = showProgress || getConfig('showProgress') || false;\n    const showFooter =\n      (showButtonsConfig == null ? void 0 : showButtonsConfig.includes('next')) ||\n      (showButtonsConfig == null ? void 0 : showButtonsConfig.includes('previous')) ||\n      showProgressConfig;\n    popover.closeButton.style.display = showButtonsConfig.includes('close') ? 'block' : 'none';\n    if (showFooter) {\n      popover.footer.style.display = 'flex';\n      popover.progress.style.display = showProgressConfig ? 'block' : 'none';\n      popover.nextButton.style.display = showButtonsConfig.includes('next') ? 'block' : 'none';\n      popover.previousButton.style.display = showButtonsConfig.includes('previous') ? 'block' : 'none';\n    } else {\n      popover.footer.style.display = 'none';\n    }\n    const disabledButtonsConfig = disableButtons || getConfig('disableButtons') || [];\n    if (disabledButtonsConfig == null ? void 0 : disabledButtonsConfig.includes('next')) {\n      popover.nextButton.disabled = true;\n      popover.nextButton.classList.add('gleap-tour-popover-btn-disabled');\n    }\n    if (disabledButtonsConfig == null ? void 0 : disabledButtonsConfig.includes('previous')) {\n      popover.previousButton.disabled = true;\n      popover.previousButton.classList.add('gleap-tour-popover-btn-disabled');\n    }\n    if (disabledButtonsConfig == null ? void 0 : disabledButtonsConfig.includes('close')) {\n      popover.closeButton.disabled = true;\n      popover.closeButton.classList.add('gleap-tour-popover-btn-disabled');\n    }\n    const popoverWrapper = popover.wrapper;\n    popoverWrapper.style.display = 'block';\n    popoverWrapper.style.left = '';\n    popoverWrapper.style.top = '';\n    popoverWrapper.style.bottom = '';\n    popoverWrapper.style.right = '';\n    popoverWrapper.id = 'gleap-tour-popover-content';\n    popoverWrapper.setAttribute('role', 'dialog');\n    popoverWrapper.setAttribute('aria-labelledby', 'gleap-tour-popover-title');\n    popoverWrapper.setAttribute('aria-describedby', 'gleap-tour-popover-description');\n    const popoverArrow = popover.arrow;\n    popoverArrow.className = 'gleap-tour-popover-arrow';\n    const customPopoverClass = ((_a = step.popover) == null ? void 0 : _a.popoverClass) || getConfig('popoverClass') || '';\n    popoverWrapper.className = `gleap-tour-popover ${customPopoverClass}`.trim();\n    onDriverClick(\n      popover.wrapper,\n      (e) => {\n        var _a2, _b2, _c;\n        const target = e.target;\n        const onNextClick = ((_a2 = step.popover) == null ? void 0 : _a2.onNextClick) || getConfig('onNextClick');\n        const onPrevClick = ((_b2 = step.popover) == null ? void 0 : _b2.onPrevClick) || getConfig('onPrevClick');\n        const onCloseClick = ((_c = step.popover) == null ? void 0 : _c.onCloseClick) || getConfig('onCloseClick');\n        if (target.classList.contains('gleap-tour-popover-next-btn')) {\n          if (onNextClick) {\n            return onNextClick(element, step, {\n              config: getConfig(),\n              state: getState(),\n            });\n          } else {\n            return emit('nextClick');\n          }\n        }\n        if (target.classList.contains('gleap-tour-popover-prev-btn')) {\n          if (onPrevClick) {\n            return onPrevClick(element, step, {\n              config: getConfig(),\n              state: getState(),\n            });\n          } else {\n            return emit('prevClick');\n          }\n        }\n        if (target.classList.contains('gleap-tour-popover-close-btn')) {\n          if (onCloseClick) {\n            return onCloseClick(element, step, {\n              config: getConfig(),\n              state: getState(),\n            });\n          } else {\n            return emit('closeClick');\n          }\n        }\n        return void 0;\n      },\n      (target) => {\n        return (\n          !(popover == null ? void 0 : popover.description.contains(target)) &&\n          !(popover == null ? void 0 : popover.title.contains(target)) &&\n          typeof target.className === 'string' &&\n          target.className.includes('gleap-tour-popover')\n        );\n      }\n    );\n    setState('popover', popover);\n    const onPopoverRender = ((_b = step.popover) == null ? void 0 : _b.onPopoverRender) || getConfig('onPopoverRender');\n    if (onPopoverRender) {\n      onPopoverRender(popover, {\n        config: getConfig(),\n        state: getState(),\n      });\n    }\n    repositionPopover(element, step);\n    bringInView(popoverWrapper);\n    const isToDummyElement = element.classList.contains('gleap-tour-dummy-element');\n    const focusableElement = getFocusableElements([popoverWrapper, ...(isToDummyElement ? [] : [element])]);\n    if (focusableElement.length > 0) {\n      focusableElement[0].focus();\n    }\n  }\n  function getPopoverDimensions() {\n    const popover = getState('popover');\n    if (!(popover == null ? void 0 : popover.wrapper)) {\n      return;\n    }\n    const boundingClientRect = popover.wrapper.getBoundingClientRect();\n    const stagePadding = getConfig('stagePadding') || 0;\n    const popoverOffset = getConfig('popoverOffset') || 0;\n    return {\n      width: boundingClientRect.width + stagePadding + popoverOffset,\n      height: boundingClientRect.height + stagePadding + popoverOffset,\n      realWidth: boundingClientRect.width,\n      realHeight: boundingClientRect.height,\n    };\n  }\n  function calculateTopForLeftRight(alignment, config) {\n    const { elementDimensions, popoverDimensions, popoverPadding, popoverArrowDimensions } = config;\n    if (alignment === 'start') {\n      return Math.max(\n        Math.min(\n          elementDimensions.top - popoverPadding,\n          window.innerHeight - popoverDimensions.realHeight - popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    if (alignment === 'end') {\n      return Math.max(\n        Math.min(\n          elementDimensions.top -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realHeight) +\n            elementDimensions.height +\n            popoverPadding,\n          window.innerHeight -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realHeight) -\n            popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    if (alignment === 'center') {\n      return Math.max(\n        Math.min(\n          elementDimensions.top +\n            elementDimensions.height / 2 -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realHeight) / 2,\n          window.innerHeight -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realHeight) -\n            popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    return 0;\n  }\n  function calculateLeftForTopBottom(alignment, config) {\n    const { elementDimensions, popoverDimensions, popoverPadding, popoverArrowDimensions } = config;\n    if (alignment === 'start') {\n      return Math.max(\n        Math.min(\n          elementDimensions.left - popoverPadding,\n          window.innerWidth - popoverDimensions.realWidth - popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    if (alignment === 'end') {\n      return Math.max(\n        Math.min(\n          elementDimensions.left -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) +\n            elementDimensions.width +\n            popoverPadding,\n          window.innerWidth -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) -\n            popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    if (alignment === 'center') {\n      return Math.max(\n        Math.min(\n          elementDimensions.left +\n            elementDimensions.width / 2 -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) / 2,\n          window.innerWidth -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) -\n            popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    return 0;\n  }\n  function repositionPopover(element, step) {\n    const popover = getState('popover');\n    if (!popover) {\n      return;\n    }\n    const { align = 'start', side = 'left' } = (step == null ? void 0 : step.popover) || {};\n    const requiredAlignment = align;\n    const requiredSide = element.id === 'gleap-tour-dummy-element' ? 'over' : side;\n    const popoverPadding = getConfig('stagePadding') || 0;\n    const popoverDimensions = getPopoverDimensions();\n    const popoverArrowDimensions = popover.arrow.getBoundingClientRect();\n    const elementDimensions = element.getBoundingClientRect();\n    const topValue = elementDimensions.top - popoverDimensions.height;\n    let isTopOptimal = topValue >= 0;\n    const bottomValue = window.innerHeight - (elementDimensions.bottom + popoverDimensions.height);\n    let isBottomOptimal = bottomValue >= 0;\n    const leftValue = elementDimensions.left - popoverDimensions.width;\n    let isLeftOptimal = leftValue >= 0;\n    const rightValue = window.innerWidth - (elementDimensions.right + popoverDimensions.width);\n    let isRightOptimal = rightValue >= 0;\n    const noneOptimal = !isTopOptimal && !isBottomOptimal && !isLeftOptimal && !isRightOptimal;\n    let popoverRenderedSide = requiredSide;\n    if (requiredSide === 'top' && isTopOptimal) {\n      isRightOptimal = isLeftOptimal = isBottomOptimal = false;\n    } else if (requiredSide === 'bottom' && isBottomOptimal) {\n      isRightOptimal = isLeftOptimal = isTopOptimal = false;\n    } else if (requiredSide === 'left' && isLeftOptimal) {\n      isRightOptimal = isTopOptimal = isBottomOptimal = false;\n    } else if (requiredSide === 'right' && isRightOptimal) {\n      isLeftOptimal = isTopOptimal = isBottomOptimal = false;\n    }\n    if (requiredSide === 'over') {\n      const leftToSet = window.innerWidth / 2 - popoverDimensions.realWidth / 2;\n      const topToSet = window.innerHeight / 2 - popoverDimensions.realHeight / 2;\n      popover.wrapper.style.left = `${leftToSet}px`;\n      popover.wrapper.style.right = `auto`;\n      popover.wrapper.style.top = `${topToSet}px`;\n      popover.wrapper.style.bottom = `auto`;\n    } else if (noneOptimal) {\n      const leftValue2 = window.innerWidth / 2 - (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) / 2;\n      const bottomValue2 = 10;\n      popover.wrapper.style.left = `${leftValue2}px`;\n      popover.wrapper.style.right = `auto`;\n      popover.wrapper.style.bottom = `${bottomValue2}px`;\n      popover.wrapper.style.top = `auto`;\n    } else if (isLeftOptimal) {\n      const leftToSet = Math.min(\n        leftValue,\n        window.innerWidth - (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) - popoverArrowDimensions.width\n      );\n      const topToSet = calculateTopForLeftRight(requiredAlignment, {\n        elementDimensions,\n        popoverDimensions,\n        popoverPadding,\n        popoverArrowDimensions,\n      });\n      popover.wrapper.style.left = `${leftToSet}px`;\n      popover.wrapper.style.top = `${topToSet}px`;\n      popover.wrapper.style.bottom = `auto`;\n      popover.wrapper.style.right = 'auto';\n      popoverRenderedSide = 'left';\n    } else if (isRightOptimal) {\n      const rightToSet = Math.min(\n        rightValue,\n        window.innerWidth - (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) - popoverArrowDimensions.width\n      );\n      const topToSet = calculateTopForLeftRight(requiredAlignment, {\n        elementDimensions,\n        popoverDimensions,\n        popoverPadding,\n        popoverArrowDimensions,\n      });\n      popover.wrapper.style.right = `${rightToSet}px`;\n      popover.wrapper.style.top = `${topToSet}px`;\n      popover.wrapper.style.bottom = `auto`;\n      popover.wrapper.style.left = 'auto';\n      popoverRenderedSide = 'right';\n    } else if (isTopOptimal) {\n      const topToSet = Math.min(topValue, window.innerHeight - popoverDimensions.realHeight - popoverArrowDimensions.width);\n      let leftToSet = calculateLeftForTopBottom(requiredAlignment, {\n        elementDimensions,\n        popoverDimensions,\n        popoverPadding,\n        popoverArrowDimensions,\n      });\n      popover.wrapper.style.top = `${topToSet}px`;\n      popover.wrapper.style.left = `${leftToSet}px`;\n      popover.wrapper.style.bottom = `auto`;\n      popover.wrapper.style.right = 'auto';\n      popoverRenderedSide = 'top';\n    } else if (isBottomOptimal) {\n      const bottomToSet = Math.min(\n        bottomValue,\n        window.innerHeight -\n          (popoverDimensions == null ? void 0 : popoverDimensions.realHeight) -\n          popoverArrowDimensions.width\n      );\n      let leftToSet = calculateLeftForTopBottom(requiredAlignment, {\n        elementDimensions,\n        popoverDimensions,\n        popoverPadding,\n        popoverArrowDimensions,\n      });\n      popover.wrapper.style.left = `${leftToSet}px`;\n      popover.wrapper.style.bottom = `${bottomToSet}px`;\n      popover.wrapper.style.top = `auto`;\n      popover.wrapper.style.right = 'auto';\n      popoverRenderedSide = 'bottom';\n    }\n    if (!noneOptimal) {\n      renderPopoverArrow(requiredAlignment, popoverRenderedSide, element);\n    } else {\n      popover.arrow.classList.add('gleap-tour-popover-arrow-none');\n    }\n  }\n  function renderPopoverArrow(alignment, side, element) {\n    const popover = getState('popover');\n    if (!popover) {\n      return;\n    }\n    const elementDimensions = element.getBoundingClientRect();\n    const popoverDimensions = getPopoverDimensions();\n    const popoverArrow = popover.arrow;\n    const popoverWidth = popoverDimensions.width;\n    const windowWidth = window.innerWidth;\n    const elementWidth = elementDimensions.width;\n    const elementLeft = elementDimensions.left;\n    const popoverHeight = popoverDimensions.height;\n    const windowHeight = window.innerHeight;\n    const elementTop = elementDimensions.top;\n    const elementHeight = elementDimensions.height;\n    popoverArrow.className = 'gleap-tour-popover-arrow';\n    let arrowSide = side;\n    let arrowAlignment = alignment;\n    if (side === 'top') {\n      if (elementLeft + elementWidth <= 0) {\n        arrowSide = 'right';\n        arrowAlignment = 'end';\n      } else if (elementLeft + elementWidth - popoverWidth <= 0) {\n        arrowSide = 'top';\n        arrowAlignment = 'start';\n      }\n      if (elementLeft >= windowWidth) {\n        arrowSide = 'left';\n        arrowAlignment = 'end';\n      } else if (elementLeft + popoverWidth >= windowWidth) {\n        arrowSide = 'top';\n        arrowAlignment = 'end';\n      }\n    } else if (side === 'bottom') {\n      if (elementLeft + elementWidth <= 0) {\n        arrowSide = 'right';\n        arrowAlignment = 'start';\n      } else if (elementLeft + elementWidth - popoverWidth <= 0) {\n        arrowSide = 'bottom';\n        arrowAlignment = 'start';\n      }\n      if (elementLeft >= windowWidth) {\n        arrowSide = 'left';\n        arrowAlignment = 'start';\n      } else if (elementLeft + popoverWidth >= windowWidth) {\n        arrowSide = 'bottom';\n        arrowAlignment = 'end';\n      }\n    } else if (side === 'left') {\n      if (elementTop + elementHeight <= 0) {\n        arrowSide = 'bottom';\n        arrowAlignment = 'end';\n      } else if (elementTop + elementHeight - popoverHeight <= 0) {\n        arrowSide = 'left';\n        arrowAlignment = 'start';\n      }\n      if (elementTop >= windowHeight) {\n        arrowSide = 'top';\n        arrowAlignment = 'end';\n      } else if (elementTop + popoverHeight >= windowHeight) {\n        arrowSide = 'left';\n        arrowAlignment = 'end';\n      }\n    } else if (side === 'right') {\n      if (elementTop + elementHeight <= 0) {\n        arrowSide = 'bottom';\n        arrowAlignment = 'start';\n      } else if (elementTop + elementHeight - popoverHeight <= 0) {\n        arrowSide = 'right';\n        arrowAlignment = 'start';\n      }\n      if (elementTop >= windowHeight) {\n        arrowSide = 'top';\n        arrowAlignment = 'start';\n      } else if (elementTop + popoverHeight >= windowHeight) {\n        arrowSide = 'right';\n        arrowAlignment = 'end';\n      }\n    } else;\n    if (!arrowSide) {\n      popoverArrow.classList.add('gleap-tour-popover-arrow-none');\n    } else {\n      popoverArrow.classList.add(`gleap-tour-popover-arrow-side-${arrowSide}`);\n      popoverArrow.classList.add(`gleap-tour-popover-arrow-align-${arrowAlignment}`);\n    }\n  }\n  function createPopover() {\n    const wrapper = document.createElement('div');\n    wrapper.classList.add('gleap-tour-popover');\n    const arrow = document.createElement('div');\n    arrow.classList.add('gleap-tour-popover-arrow');\n    const title = document.createElement('div');\n    title.id = 'gleap-tour-popover-title';\n    title.classList.add('gleap-tour-popover-title');\n    title.style.display = 'none';\n    title.innerText = 'Popover Title';\n    const description = document.createElement('div');\n    description.id = 'gleap-tour-popover-description';\n    description.classList.add('gleap-tour-popover-description');\n    description.style.display = 'none';\n    description.innerText = 'Popover description is here';\n    const closeButton = document.createElement('button');\n    closeButton.type = 'button';\n    closeButton.classList.add('gleap-tour-popover-close-btn');\n    closeButton.setAttribute('aria-label', 'Close');\n    closeButton.innerHTML = '&times;';\n    const footer = document.createElement('div');\n    footer.classList.add('gleap-tour-popover-footer');\n    const progress = document.createElement('span');\n    progress.classList.add('gleap-tour-popover-progress-text');\n    progress.innerText = '';\n    const footerButtons = document.createElement('span');\n    footerButtons.classList.add('gleap-tour-popover-navigation-btns');\n    const previousButton = document.createElement('button');\n    previousButton.type = 'button';\n    previousButton.classList.add('gleap-tour-popover-prev-btn');\n    previousButton.innerHTML = '&larr; Previous';\n    const nextButton = document.createElement('button');\n    nextButton.type = 'button';\n    nextButton.classList.add('gleap-tour-popover-next-btn');\n    nextButton.innerHTML = 'Next &rarr;';\n    footerButtons.appendChild(previousButton);\n    footerButtons.appendChild(nextButton);\n    footer.appendChild(progress);\n    footer.appendChild(footerButtons);\n    wrapper.appendChild(closeButton);\n    wrapper.appendChild(arrow);\n    wrapper.appendChild(title);\n    wrapper.appendChild(description);\n    wrapper.appendChild(footer);\n    return {\n      wrapper,\n      arrow,\n      title,\n      description,\n      footer,\n      previousButton,\n      nextButton,\n      closeButton,\n      footerButtons,\n      progress,\n    };\n  }\n  function destroyPopover() {\n    var _a;\n    const popover = getState('popover');\n    if (!popover) {\n      return;\n    }\n    (_a = popover.wrapper.parentElement) == null ? void 0 : _a.removeChild(popover.wrapper);\n  }\n  function driver(options = {}) {\n    configure(options);\n    function handleClose() {\n      if (!getConfig('allowClose')) {\n        return;\n      }\n      destroy();\n    }\n    function moveNext() {\n      const activeIndex = getState('activeIndex');\n      const steps = getConfig('steps') || [];\n      if (typeof activeIndex === 'undefined') {\n        return;\n      }\n      const nextStepIndex = activeIndex + 1;\n      if (steps[nextStepIndex]) {\n        drive(nextStepIndex);\n      } else {\n        destroy();\n      }\n    }\n    function movePrevious() {\n      const activeIndex = getState('activeIndex');\n      const steps = getConfig('steps') || [];\n      if (typeof activeIndex === 'undefined') {\n        return;\n      }\n      const previousStepIndex = activeIndex - 1;\n      if (steps[previousStepIndex]) {\n        drive(previousStepIndex);\n      } else {\n        destroy();\n      }\n    }\n    function moveTo(index) {\n      const steps = getConfig('steps') || [];\n      if (steps[index]) {\n        drive(index);\n      } else {\n        destroy();\n      }\n    }\n    function handleArrowLeft() {\n      var _a;\n      const isTransitioning = getState('__transitionCallback');\n      if (isTransitioning) {\n        return;\n      }\n      const activeIndex = getState('activeIndex');\n      const activeStep = getState('__activeStep');\n      const activeElement = getState('__activeElement');\n\n      if (activeStep.mode === 'CLICK') {\n        return;\n      }\n      if (typeof activeIndex === 'undefined' || typeof activeStep === 'undefined') {\n        return;\n      }\n      const currentStepIndex = getState('activeIndex');\n      if (typeof currentStepIndex === 'undefined') {\n        return;\n      }\n      const onPrevClick = ((_a = activeStep.popover) == null ? void 0 : _a.onPrevClick) || getConfig('onPrevClick');\n      if (onPrevClick) {\n        return onPrevClick(activeElement, activeStep, {\n          config: getConfig(),\n          state: getState(),\n        });\n      }\n      movePrevious();\n    }\n    function handleArrowRight() {\n      var _a;\n      const isTransitioning = getState('__transitionCallback');\n      if (isTransitioning) {\n        return;\n      }\n      const activeIndex = getState('activeIndex');\n      const activeStep = getState('__activeStep');\n      const activeElement = getState('__activeElement');\n\n      if (activeStep.mode === 'CLICK') {\n        return;\n      }\n      if (typeof activeIndex === 'undefined' || typeof activeStep === 'undefined') {\n        return;\n      }\n      const onNextClick = ((_a = activeStep.popover) == null ? void 0 : _a.onNextClick) || getConfig('onNextClick');\n      if (onNextClick) {\n        return onNextClick(activeElement, activeStep, {\n          config: getConfig(),\n          state: getState(),\n        });\n      }\n      moveNext();\n    }\n    function init() {\n      if (getState('isInitialized')) {\n        return;\n      }\n      setState('isInitialized', true);\n      document.body.classList.add('gleap-tour-active', getConfig('animate') ? 'gleap-tour-fade' : 'gleap-tour-simple');\n      initEvents();\n      listen('overlayClick', handleClose);\n      listen('escapePress', handleClose);\n      listen('arrowLeftPress', handleArrowLeft);\n      listen('arrowRightPress', handleArrowRight);\n    }\n    function drive(stepIndex = 0) {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      const steps = getConfig('steps');\n      if (!steps) {\n        console.error('No steps to drive through');\n        destroy();\n        return;\n      }\n      if (!steps[stepIndex]) {\n        destroy();\n        return;\n      }\n      setState('__activeOnDestroyed', document.activeElement);\n      setState('activeIndex', stepIndex);\n      const currentStep = steps[stepIndex];\n      const hasNextStep = steps[stepIndex + 1];\n      const hasPreviousStep = steps[stepIndex - 1];\n      const doneBtnText =\n        ((_a = currentStep.popover) == null ? void 0 : _a.doneBtnText) || getConfig('doneBtnText') || 'Done';\n      const allowsClosing = getConfig('allowClose');\n      const showProgress =\n        typeof ((_b = currentStep.popover) == null ? void 0 : _b.showProgress) !== 'undefined'\n          ? (_c = currentStep.popover) == null\n            ? void 0\n            : _c.showProgress\n          : getConfig('showProgress');\n      const progressText =\n        ((_d = currentStep.popover) == null ? void 0 : _d.progressText) ||\n        getConfig('progressText') ||\n        '{{current}} of {{total}}';\n      const progressTextReplaced = progressText\n        .replace('{{current}}', `${stepIndex + 1}`)\n        .replace('{{total}}', `${steps.length}`);\n      const configuredButtons = ((_e = currentStep.popover) == null ? void 0 : _e.showButtons) || getConfig('showButtons');\n      const calculatedButtons = ['next', 'previous', ...(allowsClosing ? ['close'] : [])].filter((b) => {\n        return !(configuredButtons == null ? void 0 : configuredButtons.length) || configuredButtons.includes(b);\n      });\n      const onNextClick = ((_f = currentStep.popover) == null ? void 0 : _f.onNextClick) || getConfig('onNextClick');\n      const onPrevClick = ((_g = currentStep.popover) == null ? void 0 : _g.onPrevClick) || getConfig('onPrevClick');\n      const onCloseClick = ((_h = currentStep.popover) == null ? void 0 : _h.onCloseClick) || getConfig('onCloseClick');\n      highlight({\n        ...currentStep,\n        popover: {\n          showButtons: calculatedButtons,\n          nextBtnText: !hasNextStep ? doneBtnText : void 0,\n          disableButtons: [...(!hasPreviousStep ? ['previous'] : [])],\n          showProgress,\n          progressText: progressTextReplaced,\n          onNextClick: onNextClick\n            ? onNextClick\n            : () => {\n                if (!hasNextStep) {\n                  destroy();\n                } else {\n                  drive(stepIndex + 1);\n                }\n              },\n          onPrevClick: onPrevClick\n            ? onPrevClick\n            : () => {\n                drive(stepIndex - 1);\n              },\n          onCloseClick: onCloseClick\n            ? onCloseClick\n            : () => {\n                destroy();\n              },\n          ...((currentStep == null ? void 0 : currentStep.popover) || {}),\n        },\n      });\n    }\n    function destroy(withOnDestroyStartedHook = true) {\n      const activeElement = getState('__activeElement');\n      const activeStep = getState('__activeStep');\n      const activeOnDestroyed = getState('__activeOnDestroyed');\n      const onDestroyStarted = getConfig('onDestroyStarted');\n      if (withOnDestroyStartedHook && onDestroyStarted) {\n        const isActiveDummyElement =\n          !activeElement || (activeElement == null ? void 0 : activeElement.id) === 'gleap-tour-dummy-element';\n        onDestroyStarted(isActiveDummyElement ? void 0 : activeElement, activeStep, {\n          config: getConfig(),\n          state: getState(),\n        });\n        return;\n      }\n      const onDeselected = (activeStep == null ? void 0 : activeStep.onDeselected) || getConfig('onDeselected');\n      const onDestroyed = getConfig('onDestroyed');\n      document.body.classList.remove('gleap-tour-active', 'gleap-tour-fade', 'gleap-tour-simple');\n      destroyEvents();\n      destroyPopover();\n      destroyHighlight();\n      destroyOverlay();\n      destroyEmitter();\n      resetState();\n      if (activeElement && activeStep) {\n        const isActiveDummyElement = activeElement.id === 'gleap-tour-dummy-element';\n        if (onDeselected) {\n          onDeselected(isActiveDummyElement ? void 0 : activeElement, activeStep, {\n            config: getConfig(),\n            state: getState(),\n          });\n        }\n        if (onDestroyed) {\n          onDestroyed(isActiveDummyElement ? void 0 : activeElement, activeStep, {\n            config: getConfig(),\n            state: getState(),\n          });\n        }\n      }\n      if (activeOnDestroyed) {\n        activeOnDestroyed.focus();\n      }\n    }\n    return {\n      isActive: () => getState('isInitialized') || false,\n      refresh: requireRefresh,\n      drive: (stepIndex = 0) => {\n        init();\n        drive(stepIndex);\n      },\n      setConfig: configure,\n      setSteps: (steps) => {\n        resetState();\n        configure({\n          ...getConfig(),\n          steps,\n        });\n      },\n      getConfig,\n      getState,\n      getActiveIndex: () => getState('activeIndex'),\n      isFirstStep: () => getState('activeIndex') === 0,\n      isLastStep: () => {\n        const steps = getConfig('steps') || [];\n        const activeIndex = getState('activeIndex');\n        return activeIndex !== void 0 && activeIndex === steps.length - 1;\n      },\n      getActiveStep: () => getState('activeStep'),\n      getActiveElement: () => getState('activeElement'),\n      getPreviousElement: () => getState('previousElement'),\n      getPreviousStep: () => getState('previousStep'),\n      moveNext,\n      movePrevious,\n      moveTo,\n      hasNextStep: () => {\n        const steps = getConfig('steps') || [];\n        const activeIndex = getState('activeIndex');\n        return activeIndex !== void 0 && steps[activeIndex + 1];\n      },\n      hasPreviousStep: () => {\n        const steps = getConfig('steps') || [];\n        const activeIndex = getState('activeIndex');\n        return activeIndex !== void 0 && steps[activeIndex - 1];\n      },\n      highlight: (step) => {\n        init();\n        highlight({\n          ...step,\n          popover: step.popover\n            ? {\n                showButtons: [],\n                showProgress: false,\n                progressText: '',\n                ...step.popover,\n              }\n            : void 0,\n        });\n      },\n      destroy: () => {\n        destroy(false);\n      },\n    };\n  }\n  return driver;\n})({});\n\nexport default GleapTours;\n","import { GleapConfigManager, GleapTranslationManager } from './Gleap';\nimport { calculateContrast, loadIcon } from './UI';\n\nconst localStorageKey = 'gleap-tour-data';\nconst pointerContainerId = 'copilot-pointer-container';\nconst styleId = 'copilot-tour-styles';\nconst copilotJoinedContainerId = 'copilot-joined-container';\n\nfunction estimateReadTime(text) {\n  if (typeof window === 'undefined') return;\n\n  const wordsPerSecond = 3.6; // Average reading speed\n  const wordCount = text.split(/\\s+/).filter((word) => word.length > 0).length;\n  const readTimeInSeconds = Math.ceil(wordCount / wordsPerSecond);\n  return readTimeInSeconds + 1;\n}\n\nfunction htmlToPlainText(html) {\n  if (typeof window === 'undefined') return;\n\n  const tempDiv = document.createElement('div');\n  tempDiv.innerHTML = html;\n  return tempDiv.textContent || '';\n}\n\nfunction scrollToElement(element) {\n  if (typeof window === 'undefined') return;\n\n  if (element) {\n    element.scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n      inline: 'center',\n    });\n  }\n}\n\nfunction performClickAnimation(posX, posY) {\n  if (typeof window === 'undefined') return;\n\n  const wave = document.createElement('div');\n  wave.className = 'click-wave';\n  wave.style.left = `${posX - 17}px`;\n  wave.style.top = `${posY - 17}px`;\n  document.body.appendChild(wave);\n  setTimeout(() => {\n    wave.remove();\n  }, 800);\n}\n\nfunction waitForElement(selector, timeout = 5000) {\n  if (typeof window === 'undefined') return;\n\n  const pollInterval = 100;\n  const maxAttempts = timeout / pollInterval;\n  let attempts = 0;\n  return new Promise((resolve, reject) => {\n    const interval = setInterval(() => {\n      const element = document.querySelector(selector);\n      if (element) {\n        clearInterval(interval);\n        resolve(element);\n      } else if (attempts >= maxAttempts) {\n        clearInterval(interval);\n        reject(new Error(`Element not found for selector: ${selector}`));\n      }\n      attempts++;\n    }, pollInterval);\n  });\n}\n\nfunction smoothScrollToY(yPosition) {\n  if (typeof window === 'undefined') return;\n\n  const viewportHeight = window.innerHeight;\n  const targetScrollPosition = yPosition - viewportHeight / 2;\n  window.scrollTo({\n    top: targetScrollPosition,\n    behavior: 'smooth',\n  });\n}\n\nasync function canPlayAudio() {\n  if (typeof window === 'undefined') return;\n\n  const audio = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAABCxAgAEABAAZGF0YQAAAAA=');\n  try {\n    await audio.play();\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n\n// Helper: Check if an element is fully visible in the viewport.\nfunction isElementFullyVisible(el) {\n  if (typeof window === 'undefined') return;\n\n  const rect = el.getBoundingClientRect();\n  return rect.top >= 0 && rect.left >= 0 && rect.bottom <= window.innerHeight && rect.right <= window.innerWidth;\n}\n\n// Helper: Get scrollable ancestors of an element.\nfunction getScrollableAncestors(el) {\n  if (typeof window === 'undefined') return;\n\n  let ancestors = [];\n  let current = el.parentElement;\n  while (current) {\n    const style = window.getComputedStyle(current);\n    if ((style.overflowY === 'auto' || style.overflowY === 'scroll') && current.scrollHeight > current.clientHeight) {\n      ancestors.push(current);\n    }\n    current = current.parentElement;\n  }\n  return ancestors;\n}\n\nexport default class GleapCopilotTours {\n  productTourData = undefined;\n  productTourId = undefined;\n  currentActiveIndex = undefined;\n  lastArrowPositionX = undefined;\n  lastArrowPositionY = undefined;\n  onCompleteCallback = undefined;\n  audioMuted = false;\n  currentAudio = undefined;\n\n  // Cached pointer container.\n  _pointerContainer = null;\n  // For scroll handling.\n  _scrollListeners = [];\n  _currentAnchor = null;\n  _currentStep = null;\n  _scrollDebounceTimer = null;\n\n  // GleapReplayRecorder singleton.\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapCopilotTours();\n    }\n    return this.instance;\n  }\n\n  constructor() {\n    const self = this;\n\n    if (typeof window !== 'undefined') {\n      this._scrollListeners = [];\n      this._currentAnchor = null;\n      this._currentStep = null;\n      this._scrollDebounceTimer = null;\n\n      window.addEventListener('resize', () => {\n        if (self.productTourId && self.currentActiveIndex >= 0 && self.productTourData && self.productTourData.steps) {\n          const steps = self.productTourData.steps;\n          const currentStep = steps[self.currentActiveIndex];\n          if (currentStep && currentStep.selector && currentStep.selector !== '') {\n            self.updatePointerPosition(document.querySelector(currentStep.selector), currentStep);\n          }\n        }\n      });\n    }\n  }\n\n  disable() {\n    this.disabled = true;\n\n    this.cleanup();\n  }\n\n  startWithConfig(tourId, config, onCompleteCallback = undefined) {\n    if (typeof window === 'undefined') return;\n    if (this.productTourId) return;\n    if (this.disabled) return;\n\n    this.productTourId = tourId;\n    this.productTourData = config;\n    this.currentActiveIndex = 0;\n    this.onCompleteCallback = onCompleteCallback;\n    this.start();\n  }\n\n  storeUncompletedTour() {\n    if (typeof window === 'undefined') return;\n    if (this.productTourId && this.productTourData) {\n      try {\n        let data = JSON.parse(\n          JSON.stringify({\n            tourData: this.productTourData,\n            tourId: this.productTourId,\n          })\n        );\n        data.tourData.steps = data.tourData.steps.slice(this.currentActiveIndex || 0, data.tourData.steps.length);\n        localStorage.setItem(localStorageKey, JSON.stringify(data));\n      } catch (e) {\n        // Optionally log error in development mode.\n      }\n    } else {\n      localStorage.removeItem(localStorageKey);\n    }\n  }\n\n  // Attach scroll listeners with a debounce to update the pointer position after scrolling stops.\n  attachScrollListeners(anchor, currentStep) {\n    if (typeof window === 'undefined') return;\n    if (!anchor) return;\n    const scrollableAncestors = getScrollableAncestors(anchor);\n    // Also include window.\n    scrollableAncestors.push(window);\n    scrollableAncestors.forEach((el) => {\n      const handler = () => {\n        clearTimeout(this._scrollDebounceTimer);\n        this._scrollDebounceTimer = setTimeout(() => {\n          this.updatePointerPosition(anchor, currentStep);\n        }, 150);\n      };\n      el.addEventListener('scroll', handler, { passive: true });\n      this._scrollListeners.push({ el, handler });\n    });\n  }\n\n  // Remove scroll listeners and clear debounce timer.\n  removeScrollListeners() {\n    if (typeof window === 'undefined') return;\n    if (this._scrollListeners && this._scrollListeners.length > 0) {\n      this._scrollListeners.forEach(({ el, handler }) => {\n        el.removeEventListener('scroll', handler);\n      });\n      this._scrollListeners = [];\n    }\n    if (this._scrollDebounceTimer) {\n      clearTimeout(this._scrollDebounceTimer);\n      this._scrollDebounceTimer = null;\n    }\n  }\n\n  // Updated pointer position:\n  // 1. Scroll the element into view.\n  // 2. After the element is fully visible (or after a maximum delay), update the pointer position to point towards the element.\n  updatePointerPosition(anchor, currentStep) {\n    if (typeof window === 'undefined') return;\n    try {\n      const container = this._pointerContainer || document.getElementById(pointerContainerId);\n      if (!container) return;\n\n      if (!anchor) {\n        container.style.position = 'fixed';\n        container.style.left = '50%';\n        container.style.top = '50%';\n        container.style.transform = 'translate(-50%, -50%)';\n        smoothScrollToY(window.innerHeight / 2);\n        this.removeScrollListeners();\n        this._currentAnchor = null;\n        this._currentStep = null;\n        return;\n      }\n\n      // Step 1: Scroll the element into view.\n      scrollToElement(anchor);\n\n      // Step 2: Poll until the element is fully visible (or after maximum polls).\n      const pollInterval = 100;\n      const maxPolls = 20;\n      let pollCount = 0;\n      const updateFinalPosition = () => {\n        if (isElementFullyVisible(anchor) || pollCount >= maxPolls) {\n          // Compute final target coordinates.\n          const anchorRect = anchor.getBoundingClientRect();\n          const targetX = anchorRect.left + anchorRect.width / 2;\n          const targetY = anchorRect.top + anchorRect.height / 2 + 10; // 10px downward offset.\n          container.style.position = 'fixed';\n          container.style.left = `${targetX}px`;\n          container.style.top = `${targetY}px`;\n          container.style.transform = 'translate(-50%, -50%)';\n\n          // Adjust container if too far right.\n          let containerWidthSpace = 350;\n          if (containerWidthSpace > window.innerWidth - 40) {\n            containerWidthSpace = window.innerWidth - 40;\n          }\n          if (targetX + containerWidthSpace > window.innerWidth - 20) {\n            container.classList.add('copilot-pointer-container-right');\n          } else {\n            container.classList.remove('copilot-pointer-container-right');\n          }\n\n          // Reattach scroll listeners if the target or step has changed.\n          if (this._currentAnchor !== anchor || this._currentStep !== currentStep) {\n            this.removeScrollListeners();\n            this._currentAnchor = anchor;\n            this._currentStep = currentStep;\n            this.attachScrollListeners(anchor, currentStep);\n          }\n        } else {\n          pollCount++;\n          setTimeout(updateFinalPosition, pollInterval);\n        }\n      };\n      updateFinalPosition();\n    } catch (e) {\n      // Optionally log errors.\n    }\n  }\n\n  cleanup() {\n    if (typeof window === 'undefined') return;\n    document.body.classList.add('gl-copilot-fade-out');\n    if (this.currentAudio) {\n      this.currentAudio.pause();\n    }\n    setTimeout(() => {\n      if (this._pointerContainer) {\n        this._pointerContainer.remove();\n        this._pointerContainer = null;\n      } else {\n        const container = document.getElementById(pointerContainerId);\n        if (container) container.remove();\n      }\n      const copilotInfoContainer = document.getElementById(copilotJoinedContainerId);\n      if (copilotInfoContainer) copilotInfoContainer.remove();\n      const styleNode = document.getElementById(styleId);\n      if (styleNode) styleNode.remove();\n      document.body.classList.remove('gl-copilot-fade-out');\n    }, 800);\n\n    this.productTourId = undefined;\n    this.productTourData = undefined;\n\n    this.removeScrollListeners();\n  }\n\n  toggleAudio(muted = false) {\n    this.audioMuted = muted;\n    if (this.currentAudio) {\n      this.currentAudio.muted = this.audioMuted;\n    }\n    document.querySelector(`.${copilotJoinedContainerId}-mute`).innerHTML = loadIcon(this.audioMuted ? 'unmute' : 'mute');\n  }\n\n  setupCopilotTour() {\n    if (typeof window === 'undefined') return;\n\n    const primaryColor = GleapConfigManager.getInstance().flowConfig?.color ?? '#485BFF';\n    const contrastColor = calculateContrast(primaryColor);\n\n    let styleNode = document.getElementById(styleId);\n    if (!styleNode) {\n      styleNode = document.createElement('style');\n      styleNode.id = styleId;\n      styleNode.type = 'text/css';\n      styleNode.textContent = `\n        #${pointerContainerId} {\n          position: absolute;\n          top: 0;\n          left: 0;\n          display: flex;\n          align-items: flex-start;\n          pointer-events: none;\n          z-index: 2147483610;\n          transition: all 0.5s ease;\n        }\n        .${pointerContainerId}-clickmode {\n          cursor: pointer;\n          pointer-events: all !important;\n        }\n        .${pointerContainerId}-clickmode #copilot-info-bubble-content {\n          display: flex !important;\n        }\n        .${pointerContainerId}-clickmode svg {\n          display: none !important;\n        }\n        #${pointerContainerId} svg {\n          width: 20px;\n          height: auto;\n          fill: none;\n        }\n        #copilot-info-bubble {\n          position: relative;\n        }\n        #copilot-info-bubble-content-container {\n          position: absolute;\n          top: 0px;\n          left: 0px;\n          min-width: min(300px, 80vw);\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n        }\n        .${pointerContainerId}-right #copilot-info-bubble-content-container {\n          left: auto !important;\n          right: 0px !important;\n          align-items: flex-end;\n        }\n        .${pointerContainerId}-right .copilot-info-bubble-content {\n          margin-right: 5px;\n        }\n        .${pointerContainerId}-right svg {\n          transform: scaleX(-1);\n        }\n        #copilot-info-bubble-content svg {\n          width: 16px;\n          height: 16px;\n          display: inline-block !important;\n          margin-left: 5px;\n        }\n        #copilot-info-bubble-content {\n          margin-top: 18px;\n          margin-left: 5px;\n          padding: 10px 15px;\n          border-radius: 20px;\n          background-color: black;\n          color: white;\n          font-family: Arial, sans-serif;\n          font-size: 14px;\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n          max-width: 100%;\n          white-space: normal;\n          overflow-wrap: break-word;\n          word-break: normal;\n          hyphens: none;\n        }\n        .${pointerContainerId}-right #copilot-info-bubble-content {\n          margin-top: 30px;\n          margin-left: 0px;\n          margin-right: 5px;\n        }\n        .click-wave {\n          position: absolute;\n          width: 34px;\n          height: 34px;\n          border-radius: 50%;\n          background-color: rgba(0, 0, 0, 0.5);\n          pointer-events: none;\n          z-index: 2147483611;\n          animation: click-wave-animation 0.8s ease forwards;\n        }\n        @keyframes click-wave-animation {\n          0% {\n            transform: scale(0.2);\n            opacity: 1;\n          }\n          100% {\n            transform: scale(2);\n            opacity: 0;\n          }\n        }\n        @keyframes slideInFromTop {\n          0% {\n            transform: translateY(-100%);\n            opacity: 0;\n          }\n          100% {\n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n        .${copilotJoinedContainerId} {\n          position: fixed;\n          top: 20px;\n          right: 20px;\n          z-index: 2147483610;\n          background: #fff;\n          padding: 6px;\n          border-radius: 10px;\n          box-shadow: 0 0 20px 0 #C294F2;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          border: 1px solid rgba(192, 146, 242, 0.5);\n          animation: slideInFromTop 0.5s ease-out forwards;\n        }\n        .${copilotJoinedContainerId} span {\n          font-size: 13px;\n          color: #000;\n          font-family: sans-serif;\n        }\n        .${copilotJoinedContainerId}-avatar {\n          width: 24px;\n          height: 24px;\n          flex-shrink: 0;\n          border-radius: 6px;\n        }\n        .${copilotJoinedContainerId}-mute {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        .${copilotJoinedContainerId}-mute svg {\n          width: 20px;\n          height: auto;\n          cursor: pointer;\n          animation: pulsate 2s infinite;\n        }\n        .${copilotJoinedContainerId}-mute svg:hover {\n          opacity: 0.8;\n        }\n        .${copilotJoinedContainerId}-dismiss {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding-right: 3px;\n        }\n        .${copilotJoinedContainerId}-dismiss svg {\n          width: 15px;\n          height: auto;\n          cursor: pointer;\n        }\n        .${copilotJoinedContainerId}-dismiss svg:hover {\n          opacity: 0.8;\n        }\n        @keyframes pulsate {\n          0% {\n            transform: scale(1);\n            opacity: 1;\n          }\n          50% {\n            transform: scale(1.1);\n            opacity: 0.8;\n          }\n          100% {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n        @keyframes glCoFadeIn {\n          0% {\n            opacity: 0;\n          }\n          100% {\n            opacity: 1;\n          }\n        }\n        @keyframes glCoFadeOut {\n          0% {\n            opacity: 1;\n          }\n          100% {\n            opacity: 0;\n          }\n        }\n\n        .gleap-audio-unmute-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100vw;\n          height: 100vh;\n          background-color: rgba(0, 0, 0, 0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 2147483620;\n        }\n\n        .gleap-audio-unmute-modal {\n          background-color: #fff;\n          padding: 20px;\n          border-radius: 8px;\n          box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n          text-align: center;\n          max-width: 90%;\n          width: 400px;\n        }\n\n        .gleap-audio-unmute-modal p {\n          margin-bottom: 20px;\n          font-size: 16px;\n          line-height: 22px;\n          font-weight: normal;\n        }\n\n        .gleap-audio-unmute-button {\n          background: ${primaryColor};\n          color: ${contrastColor};\n          outline: none;\n          border: none;\n          padding: 10px 14px;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: bold;\n          cursor: pointer;\n        }\n\n        .gleap-audio-unmute-button:hover {\n          opacity: 0.8;\n        }\n\n        .gleap-tour-continue-button {\n          color: ${primaryColor};\n          text-decoration: none;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: bold;\n          border: none;\n          background: none;\n          padding: 0;\n          margin: 0;\n          margin-left: 20px;\n        }\n\n        .gleap-tour-continue-button:hover {\n          opacity: 0.8;\n        }\n\n        body.gl-copilot-fade-out::before,\n        body.gl-copilot-fade-out::after,\n        body.gl-copilot-fade-out #${copilotJoinedContainerId} {\n          animation: glCoFadeOut 0.8s ease-out forwards;\n        }\n        ${\n          (this.productTourData?.playVoice ?? true)\n            ? ''\n            : `\n          .${copilotJoinedContainerId}-mute {\n            display: none;\n          }\n        `\n        }\n        ${\n          this.productTourData.gradient\n            ? `body::before {\n          content: \"\";\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100vw;\n          height: 100vh;\n          pointer-events: all;\n          z-index: 2147483609;\n          box-sizing: border-box;\n          border: 18px solid transparent;\n          filter: blur(25px);\n          border-image-slice: 1;\n          border-image-source: linear-gradient(45deg, #ED5587, #FBE6A9, #a6e3f8, #C294F2);\n          animation: glCoFadeIn 1.5s ease-out forwards;\n        }\n  \n        body::after {\n          content: \"\";\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100vw;\n          height: 100vh;\n          pointer-events: all;\n          z-index: 2147483609;\n          opacity: 0.5;\n          box-sizing: border-box;\n          border: 3px solid transparent;\n          border-image-slice: 1;\n          border-image-source: linear-gradient(45deg, #ED5587, #FBE6A9, #a6e3f8, #C294F2);\n          animation: glCoFadeIn 1.5s ease-out forwards;\n        }`\n            : `body::after {\n          content: \"\";\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100vw;\n          height: 100vh;\n          pointer-events: all;\n          z-index: 2147483609;\n          opacity: 0;\n        }`\n        }\n      `;\n      document.head.appendChild(styleNode);\n    }\n\n    const container = document.createElement('div');\n    container.id = pointerContainerId;\n    container.style.opacity = 0;\n    // Cache the pointer container.\n    this._pointerContainer = container;\n\n    const svgMouse = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgMouse.setAttribute('viewBox', '0 0 380 476');\n    svgMouse.innerHTML =\n      '<path d=\"M352.595 268.315L352.581 268.302L352.566 268.29L78.6092 24.7278C71.6245 18.433 62.5487 15 53.2 15C32.1157 15 15 32.1157 15 53.2V424C15 444.34 31.4714 461 52 461C62.6797 461 72.8089 456.467 79.8863 448.38C79.8871 448.379 79.8879 448.378 79.8886 448.378L180.804 333.1H327.9C348.384 333.1 365 316.484 365 296C365 285.404 360.46 275.344 352.595 268.315Z\" fill=\"black\" stroke=\"white\" stroke-width=\"30\"/>';\n\n    const infoBubble = document.createElement('div');\n    infoBubble.id = 'copilot-info-bubble';\n    infoBubble.innerHTML = `<div id='copilot-info-bubble-content-container'><div id='copilot-info-bubble-content'></div></div>`;\n\n    const copilotInfoContainer = document.createElement('div');\n    copilotInfoContainer.id = copilotJoinedContainerId;\n    copilotInfoContainer.classList.add(copilotJoinedContainerId);\n    copilotInfoContainer.innerHTML = `\n      <img class=\"${copilotJoinedContainerId}-avatar\" src=\"${this.productTourData?.kaiAvatar}\" />\n      <span>${this.productTourData?.kaiSlug}</span>\n      <div class=\"${copilotJoinedContainerId}-mute\">\n        ${loadIcon(this.audioMuted ? 'unmute' : 'mute')}\n      </div>\n      ${\n        this.productTourData?.allowClose\n          ? `<div class=\"${copilotJoinedContainerId}-dismiss\">\n               ${loadIcon('dismiss')}\n             </div>`\n          : ''\n      }\n    `;\n    document.body.appendChild(copilotInfoContainer);\n\n    const self = this;\n\n    document.querySelector(`.${copilotJoinedContainerId}-mute`).addEventListener('click', () => {\n      this.toggleAudio(!this.audioMuted);\n    });\n\n    if (this.productTourData?.allowClose) {\n      document.querySelector(`.${copilotJoinedContainerId}-dismiss`).addEventListener('click', () => {\n        this.completeTour(false);\n      });\n    }\n\n    container.appendChild(svgMouse);\n    container.appendChild(infoBubble);\n    document.body.appendChild(container);\n  }\n\n  start() {\n    if (typeof window === 'undefined') return;\n    if (this.disabled) return;\n\n    const config = this.productTourData;\n    if (!config) return;\n    canPlayAudio().then((supported) => {\n      this.audioMuted = !supported;\n      this.setupCopilotTour();\n\n      if (this.audioMuted && config?.showUnmuteModal) {\n        this.showAudioUnmuteModal();\n      } else {\n        setTimeout(() => {\n          this.renderNextStep();\n        }, 1500);\n      }\n    });\n  }\n\n  showAudioUnmuteModal() {\n    // Create the overlay element\n    const modalOverlay = document.createElement('div');\n    modalOverlay.classList.add('gleap-audio-unmute-modal-overlay');\n\n    // Create the modal container element\n    const modal = document.createElement('div');\n    modal.classList.add('gleap-audio-unmute-modal');\n\n    // Create and add the modal message\n    const message = document.createElement('p');\n    message.textContent = this.productTourData?.unmuteModalTitle;\n    modal.appendChild(message);\n\n    // Create the \"Unmute Audio\" button\n    const unmuteButton = document.createElement('button');\n    unmuteButton.classList.add('gleap-audio-unmute-button');\n    unmuteButton.textContent = this.productTourData?.unmuteModalButton;\n    unmuteButton.addEventListener('click', () => {\n      this.toggleAudio(false);\n      if (modalOverlay.parentNode) {\n        modalOverlay.parentNode.removeChild(modalOverlay);\n      }\n      setTimeout(() => {\n        this.renderNextStep();\n      }, 1000);\n    });\n    modal.appendChild(unmuteButton);\n\n    // Create the \"Start Anyway\" button\n    const startAnywayButton = document.createElement('button');\n    startAnywayButton.classList.add('gleap-tour-continue-button');\n    startAnywayButton.textContent = this.productTourData?.unmuteModalContinue;\n    startAnywayButton.addEventListener('click', () => {\n      if (modalOverlay.parentNode) {\n        modalOverlay.parentNode.removeChild(modalOverlay);\n      }\n      setTimeout(() => {\n        this.renderNextStep();\n      }, 1000);\n    });\n    modal.appendChild(startAnywayButton);\n\n    // Build the modal and attach it to the DOM\n    modalOverlay.appendChild(modal);\n    document.body.appendChild(modalOverlay);\n  }\n\n  completeTour(success = true) {\n    if (typeof window === 'undefined') return;\n    this.cleanup();\n    if (this.onCompleteCallback) {\n      this.onCompleteCallback(success);\n    }\n  }\n\n  renderNextStep() {\n    if (typeof window === 'undefined') return;\n    if (this.disabled) return;\n\n    const self = this;\n    const config = this.productTourData;\n    const steps = config.steps;\n    if (this.currentActiveIndex >= steps.length) {\n      setTimeout(() => {\n        this.completeTour();\n      }, 500);\n      return;\n    }\n    const currentStep = steps[this.currentActiveIndex];\n    const handleStep = (element) => {\n      this._pointerContainer.style.display = 'flex';\n      if (currentStep.selector && currentStep.selector.length > 0 && !element) {\n        this.completeTour(false);\n        return;\n      }\n      const gotToNextStep = () => {\n        if (currentStep.mode === 'INPUT' && element) {\n          function proceedClickmode() {\n            document.querySelector(`#${pointerContainerId}`).classList.remove('copilot-pointer-container-clickmode');\n            element.classList.remove('gleap-input-highlight');\n            document.getElementById(pointerContainerId).style.display = 'none';\n            self.currentActiveIndex++;\n            self.storeUncompletedTour();\n            self.renderNextStep();\n          }\n          const inputModeType = currentStep.inputType ?? 'default';\n          if (inputModeType === 'default') {\n            function handleInputEvent(e) {\n              if (e?.target?.value?.length === 0) return;\n              const cursor = document.getElementById(`copilot-info-bubble-content`);\n              if (!cursor) return;\n              cursor.innerHTML = `${GleapTranslationManager.translateText(\n                'next'\n              )} <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\n  <path fill=\"currentColor\" d=\"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z\"/>\n</svg>`;\n              cursor.addEventListener('click', proceedClickmode, {\n                once: true,\n              });\n              element.classList.add('gleap-input-highlight');\n              document.querySelector(`#${pointerContainerId}`).classList.add('copilot-pointer-container-clickmode');\n              element.removeEventListener('input', handleInputEvent);\n            }\n            element.addEventListener('input', handleInputEvent, {\n              once: false,\n            });\n            if (element.hasAttribute('contenteditable')) {\n              element.addEventListener('keyup', handleInputEvent, {\n                once: false,\n              });\n            }\n            element.addEventListener(\n              'blur',\n              () => {\n                element.focus();\n              },\n              { once: true }\n            );\n            element.focus();\n          } else {\n            const inputValue = currentStep.inputValue ?? '';\n            let index = 0;\n            function typeCharacter() {\n              if (index < inputValue.length) {\n                element.value += inputValue[index];\n                index++;\n                setTimeout(typeCharacter, 100);\n              } else {\n                setTimeout(() => {\n                  proceedClickmode();\n                }, 1200);\n              }\n            }\n            typeCharacter();\n          }\n          return;\n        }\n        self.currentActiveIndex++;\n        self.storeUncompletedTour();\n        if (currentStep.mode === 'CLICK' && element) {\n          const rect = element.getBoundingClientRect();\n          const scrollX = window.scrollX || 0;\n          const scrollY = window.scrollY || 0;\n          performClickAnimation(rect.left + rect.width / 2 + scrollX, rect.top + rect.height / 2 + scrollY);\n          element.click();\n        }\n        self.renderNextStep();\n      };\n\n      this.updatePointerPosition(element, currentStep);\n      const message = currentStep?.message ? htmlToPlainText(currentStep.message) : '';\n      document.getElementById(`copilot-info-bubble-content`).textContent = message;\n      this._pointerContainer.style.opacity = 1;\n      const readTime = estimateReadTime(message);\n      const continueWithNoAudio = () => {\n        this.currentAudio = undefined;\n        setTimeout(() => {\n          gotToNextStep();\n        }, readTime * 1000);\n      };\n      if (currentStep.voice && currentStep.voice.length > 0) {\n        this.currentAudio = new Audio(currentStep.voice);\n        if (this.audioMuted) {\n          this.currentAudio.muted = true;\n        }\n        this.currentAudio.addEventListener('ended', () => {\n          setTimeout(() => {\n            gotToNextStep();\n          }, 1000);\n        });\n        this.currentAudio\n          .play()\n          .then(() => {})\n          .catch((error) => {\n            continueWithNoAudio();\n          });\n      } else {\n        continueWithNoAudio();\n      }\n    };\n\n    const elementPromise = currentStep.selector ? waitForElement(currentStep.selector) : Promise.resolve(null);\n    elementPromise.then(handleStep).catch(() => handleStep(null));\n  }\n}\n","import { loadIcon } from './UI';\nimport GleapTours from './GleapTours';\nimport Gleap, { GleapEventManager, GleapSession } from './Gleap';\nimport GleapCopilotTours from './GleapCopilotTours';\n\nconst localStorageKey = 'gleap-tour-data';\n\nexport default class GleapProductTours {\n  productTourData = undefined;\n  productTourId = undefined;\n  unmuted = false;\n  currentActiveIndex = undefined;\n  gleapTourObj = undefined;\n  disabled = false;\n\n  // GleapReplayRecorder singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapProductTours();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  disable() {\n    if (this.gleapTourObj) {\n      this.gleapTourObj.destroy();\n    }\n\n    // Disable copilot tours.\n    GleapCopilotTours.getInstance().disable();\n\n    this.gleapTourObj = undefined;\n    this.disabled = true;\n  }\n\n  constructor() {\n    const self = this;\n\n    if (typeof window !== 'undefined') {\n      const beforeUnloadListener = (event) => {\n        if (\n          !self?.disabled &&\n          self?.productTourId &&\n          self?.productTourData &&\n          self?.productTourData?.tourType !== 'cobrowse'\n        ) {\n          self.storeUncompletedTour();\n        }\n      };\n\n      if (typeof window !== 'undefined') {\n        window.addEventListener('beforeunload', beforeUnloadListener);\n      }\n    }\n  }\n\n  startWithConfig(tourId, config, delay = 0, manually = false) {\n    // Prevent multiple tours from being started.\n    if (this.productTourId || this.disabled) {\n      return;\n    }\n\n    this.productTourId = tourId;\n    this.productTourData = config;\n    this.currentActiveIndex = 0;\n\n    if (manually) {\n      this.start();\n    } else {\n      const self = this;\n\n      // Validate product tour.\n      GleapSession.getInstance()\n        .validateProductTour(tourId)\n        .then(() => {\n          if (delay > 0) {\n            return setTimeout(() => {\n              self.start();\n            }, delay);\n          } else {\n            return this.start();\n          }\n        })\n        .catch((error) => {\n          console.log('Product tour is not live. Cleaning up...');\n          console.error(error);\n\n          self.onComplete(false);\n        });\n    }\n  }\n\n  onComplete(success = true) {\n    const comData = {\n      tourId: this.productTourId,\n    };\n\n    if (success) {\n      GleapEventManager.notifyEvent('productTourCompleted', comData);\n      Gleap.trackEvent(`tour-${this.productTourId}-completed`, comData);\n    } else {\n      GleapEventManager.notifyEvent('productTourQuit', comData);\n      Gleap.trackEvent(`tour-${this.productTourId}-quit`, comData);\n    }\n\n    // Clear data.\n    if (this.gleapTourObj) {\n      this.gleapTourObj.destroy();\n    }\n\n    this.gleapTourObj = undefined;\n    this.productTourData = undefined;\n    this.productTourId = undefined;\n    this.currentActiveIndex = undefined;\n    this.clearUncompletedTour();\n  }\n\n  loadUncompletedTour() {\n    try {\n      const data = JSON.parse(localStorage.getItem(localStorageKey));\n      if (data?.tourData && data?.tourId) {\n        return data;\n      }\n    } catch (e) {}\n\n    return null;\n  }\n\n  storeUncompletedTour() {\n    if (this.productTourId && this.productTourData) {\n      try {\n        let data = JSON.parse(\n          JSON.stringify({\n            tourData: this.productTourData,\n            tourId: this.productTourId,\n          })\n        );\n\n        data.tourData.steps = data.tourData.steps.slice(this.currentActiveIndex || 0, data.tourData.steps.length);\n\n        localStorage.setItem(localStorageKey, JSON.stringify(data));\n      } catch (e) {}\n    } else {\n      this.clearUncompletedTour();\n    }\n  }\n\n  clearUncompletedTour() {\n    try {\n      localStorage.removeItem(localStorageKey);\n    } catch (e) {}\n  }\n\n  start() {\n    const config = this.productTourData;\n    if (!config) {\n      return;\n    }\n\n    if (config.tourType === 'cobrowse') {\n      return GleapCopilotTours.getInstance().startWithConfig(this.productTourId, config, (success) => {\n        this.onComplete(success);\n      });\n    }\n\n    this.unmuted = false;\n    const steps = config.steps;\n    const self = this;\n\n    var driverSteps = [];\n\n    for (let i = 0; i < steps.length; i++) {\n      const step = steps[i];\n\n      const isClickMode = step.mode === 'CLICK';\n      const isInputMode = step.mode === 'INPUT';\n      const isInteractionMode = step.mode === 'INTERACTION';\n\n      var message = '';\n      var hasSender = false;\n\n      if (step.type === 'video-pointer') {\n        message = `<div class=\"gleap-tour-video\">\n              <video class=\"gleap-tour-video-obj\" muted autoplay>\n                <source src=\"${step.videoUrl}\" type=\"video/mp4\">\n              </video>\n              <div class=\"gleap-tour-video-playpause\">${loadIcon('unmute')}</div>\n            </div>`;\n      } else {\n        var senderHTML = ``;\n\n        if (config.sender && config.sender.firstName) {\n          hasSender = true;\n          senderHTML = `<div class=\"gleap-tour-sender\">\n                <div class=\"gleap-tour-sender-image\" style=\"background-image: url('${config.sender.profileImageUrl}');\"></div>\n                <div class=\"gleap-tour-sender-name\">${config.sender.firstName}</div>\n              </div>`;\n        }\n\n        message = `${senderHTML}<div class=\"gleap-tour-message\">${step.message}</div>`;\n      }\n\n      const disableInteraction = !isClickMode && !isInputMode && !isInteractionMode;\n\n      var driverStep = {\n        disableActiveInteraction: disableInteraction,\n        mode: step.mode,\n        popover: {\n          description: message,\n          popoverClass: `gleap-tour-popover-${step.type} ${\n            !hasSender && 'gleap-tour-popover-no-sender'\n          } ${config.allowClose && 'gleap-tour-popover-can-close'}`,\n          ...(isClickMode\n            ? {\n                showButtons: [],\n              }\n            : {}),\n        },\n      };\n      if (step.selector && step.selector.length > 0) {\n        driverStep.element = step.selector;\n      }\n      driverSteps.push(driverStep);\n    }\n\n    var buttons = ['next', 'close'];\n\n    if (config.backButton) {\n      buttons.push('previous');\n    }\n\n    function onDocumentClick(evnt) {\n      try {\n        var gleapTourPopover = document.querySelector('.gleap-tour-popover');\n        if (gleapTourPopover && !gleapTourPopover.contains(evnt.target)) {\n          const stepIndex = self.gleapTourObj.getActiveIndex();\n          const step = steps[stepIndex];\n          const element = self.gleapTourObj.getActiveElement();\n\n          if (step?.mode === 'CLICK' && evnt?.target !== element) {\n            const isInsideElement = element.contains(evnt?.target);\n            if (!isInsideElement) {\n              // Ignore clicks outside of the actual element.\n              return;\n            }\n          }\n\n          // Store next step index.\n          self.currentActiveIndex = (self.currentActiveIndex || 0) + 1;\n          self.storeUncompletedTour();\n\n          if (\n            (element && element.tagName === 'INPUT') ||\n            step.mode === 'INPUT' ||\n            step.mode === 'INTERACTION' ||\n            evnt?.target?.id.includes('tooltip-svg')\n          ) {\n            // Prevent.\n          } else {\n            self.gleapTourObj.moveNext();\n          }\n        }\n      } catch (e) {}\n    }\n\n    this.gleapTourObj = GleapTours({\n      showProgress: true,\n      allowKeyboardControl: false,\n      steps: driverSteps,\n      showProgress: steps.length > 1,\n      allowClose: config.allowClose,\n      nextBtnText: config.nextText,\n      doneBtnText: config.doneText,\n      prevBtnText: config.prevText,\n      showButtons: buttons,\n      onHighlightStarted: (element, step, config) => {\n        this.currentActiveIndex = config?.state?.activeIndex;\n        this.storeUncompletedTour();\n      },\n      onElementNotFound: (step) => {\n        document.removeEventListener('click', onDocumentClick);\n\n        this.onComplete(false);\n      },\n      onDestroyStarted: () => {\n        if (!this.gleapTourObj.hasNextStep()) {\n          // Mark as completed.\n          this.onComplete(true);\n        } else {\n          // Mark as quit.\n          this.onComplete(false);\n        }\n\n        document.removeEventListener('click', onDocumentClick);\n      },\n      onPopoverRender: (popoverElement) => {\n        // Fix for images and videos.\n        if (popoverElement) {\n          const mediaElements = document.querySelectorAll(\n            '.gleap-tour-popover-description img, .gleap-tour-popover-description video'\n          );\n\n          const performRequentialRefresh = () => {\n            setTimeout(() => {\n              this.gleapTourObj.refresh();\n            }, 500);\n            setTimeout(() => {\n              this.gleapTourObj.refresh();\n            }, 750);\n          };\n\n          for (let i = 0; i < mediaElements.length; i++) {\n            const mediaElement = mediaElements[i];\n            if (mediaElement.tagName === 'IMG') {\n              mediaElement.addEventListener('load', () => {\n                performRequentialRefresh();\n              });\n              mediaElement.addEventListener('error', () => {\n                performRequentialRefresh();\n              });\n            } else if (mediaElement.tagName === 'VIDEO') {\n              mediaElement.addEventListener('canplaythrough', () => {\n                performRequentialRefresh();\n              });\n              mediaElement.addEventListener('error', () => {\n                performRequentialRefresh();\n              });\n            }\n          }\n        }\n\n        const playingClass = 'gleap-tour-video--playing';\n        const playPauseContainer = document.querySelector('.gleap-tour-video-playpause');\n\n        const videoElement = document.querySelector('.gleap-tour-video-obj');\n        if (videoElement) {\n          const videoContainer = videoElement.closest('.gleap-tour-video');\n\n          if (self.unmuted) {\n            if (videoElement) {\n              videoElement.pause();\n              videoElement.muted = false;\n              videoElement.play();\n              videoContainer.classList.add(playingClass);\n            }\n          }\n\n          videoElement.addEventListener('ended', function () {\n            playPauseContainer.innerHTML = loadIcon('replay');\n            playPauseContainer.classList.add('gleap-tour-video-svg--fullscreen');\n            videoContainer.classList.remove(playingClass);\n          });\n\n          videoElement.addEventListener('play', function () {\n            playPauseContainer.classList.remove('gleap-tour-video-svg--fullscreen');\n          });\n\n          if (playPauseContainer) {\n            playPauseContainer.addEventListener('click', () => clickVideo());\n          }\n\n          const clickVideo = () => {\n            if (videoElement.muted) {\n              self.unmuted = true;\n\n              videoElement.pause();\n              videoElement.currentTime = 0;\n              videoElement.muted = false;\n              videoElement.play();\n\n              playPauseContainer.innerHTML = loadIcon('mute');\n              videoContainer.classList.add(playingClass);\n            } else if (videoElement.paused) {\n              videoElement.muted = false;\n              videoElement.play();\n\n              playPauseContainer.innerHTML = loadIcon('mute');\n              videoContainer.classList.add(playingClass);\n            } else {\n              videoElement.pause();\n              playPauseContainer.innerHTML = loadIcon('unmute');\n              videoContainer.classList.remove(playingClass);\n            }\n          };\n        }\n      },\n    });\n    this.gleapTourObj.drive();\n\n    document.addEventListener('click', onDocumentClick, true);\n  }\n}\n","import { injectStyledCSS } from './UI';\nimport GleapNetworkIntercepter from './GleapNetworkIntercepter';\nimport { fixGleapHeight, gleapDataParser, runFunctionWhenDomIsReady } from './GleapHelper';\nimport GleapSession from './GleapSession';\nimport GleapStreamedEvent from './GleapStreamedEvent';\nimport GleapConfigManager from './GleapConfigManager';\nimport GleapFeedback from './GleapFeedback';\nimport GleapFrameManager from './GleapFrameManager';\nimport GleapMetaDataManager from './GleapMetaDataManager';\nimport GleapConsoleLogManager from './GleapConsoleLogManager';\nimport GleapClickListener from './GleapClickListener';\nimport GleapFeedbackButtonManager from './GleapFeedbackButtonManager';\nimport GleapCustomDataManager from './GleapCustomDataManager';\nimport GleapEventManager from './GleapEventManager';\nimport GleapCustomActionManager from './GleapCustomActionManager';\nimport GleapReplayRecorder from './GleapReplayRecorder';\nimport GleapMarkerManager from './GleapMarkerManager';\nimport GleapTranslationManager from './GleapTranslationManager';\nimport GleapShortcutListener from './GleapShortcutListener';\nimport GleapPreFillManager from './GleapPreFillManager';\nimport GleapNotificationManager from './GleapNotificationManager';\nimport GleapAiChatbarManager from './GleapAiChatbarManager';\nimport GleapBannerManager from './GleapBannerManager';\nimport GleapModalManager from './GleapModalManager';\nimport GleapAudioManager from './GleapAudioManager';\nimport GleapTagManager from './GleapTagManager';\nimport GleapAdminManager from './GleapAdminManager';\nimport GleapProductTours from './GleapProductTours';\nimport { checkPageFilter } from './GleapPageFilter';\nimport { registerGleapChecklist } from './GleapChecklist';\nimport ChecklistNetworkManager from './ChecklistNetworkManager';\n\nif (\n  typeof window !== 'undefined' &&\n  typeof HTMLCanvasElement !== 'undefined' &&\n  HTMLCanvasElement.prototype &&\n  HTMLCanvasElement.prototype.__originalGetContext === undefined\n) {\n  HTMLCanvasElement.prototype.__originalGetContext = HTMLCanvasElement.prototype.getContext;\n  HTMLCanvasElement.prototype.getContext = function (type, options) {\n    return this.__originalGetContext(type, {\n      ...options,\n      preserveDrawingBuffer: true,\n    });\n  };\n}\n\nif (typeof customElements !== 'undefined' && typeof HTMLElement !== 'undefined' && typeof window !== 'undefined') {\n  registerGleapChecklist();\n}\n\nclass Gleap {\n  static invoked = true;\n  static silentCrashReportSent = false;\n  initialized = false;\n  offlineMode = false;\n  disablePageTracking = false;\n  disableInAppNotifications = false;\n  disableQueryParams = false;\n\n  // Global data\n  globalData = {\n    screenRecordingData: null,\n    webReplay: null,\n    snapshotPosition: {\n      x: 0,\n      y: 0,\n    },\n  };\n\n  // Gleap singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new Gleap();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  /**\n   * Main constructor\n   */\n  constructor() {\n    if (typeof window !== 'undefined') {\n      // Make sure all instances are ready.\n      GleapMetaDataManager.getInstance();\n      GleapConsoleLogManager.getInstance().start();\n      GleapClickListener.getInstance().start();\n      GleapAdminManager.getInstance().start();\n      GleapAiChatbarManager.getInstance().setOnMessageSend((question) => {\n        Gleap.askAI(question, true);\n      });\n    }\n  }\n\n  /**\n   * Sets the development environment\n   * @param {*} environment\n   */\n  static setEnvironment(environment) {\n    GleapMetaDataManager.getInstance().environment = environment;\n  }\n\n  /**\n   * Set tags to be submitted with each ticket.\n   * @param {*} tags\n   */\n  static setTags(tags) {\n    GleapTagManager.getInstance().setTags(tags);\n  }\n\n  /**\n   * Sets a custom URL handler.\n   * @param {*} urlHandler\n   */\n  static setUrlHandler(urlHandler) {\n    GleapFrameManager.getInstance().setUrlHandler(urlHandler);\n  }\n\n  /**\n   * Active the Gleap offline mode.\n   * @param {*} offlineMode\n   */\n  static setOfflineMode(offlineMode) {\n    const instance = this.getInstance();\n    instance.offlineMode = offlineMode;\n  }\n\n  /**\n   * Disable the in-app notifications.\n   * @param {*} disableInAppNotifications\n   */\n  static setDisableInAppNotifications(disableInAppNotifications) {\n    const instance = this.getInstance();\n    instance.disableInAppNotifications = disableInAppNotifications;\n  }\n\n  /**\n   * Disable the default page tracking.\n   * @param {*} disablePageTracking\n   */\n  static setDisablePageTracking(disablePageTracking) {\n    const instance = this.getInstance();\n    instance.disablePageTracking = disablePageTracking;\n  }\n\n  /**\n   * Revert console log overwrite.\n   */\n  static disableConsoleLogOverwrite() {\n    GleapConsoleLogManager.getInstance().stop();\n  }\n\n  /**\n   * Set the AI tools.\n   * @param {*} tools\n   */\n  static setAiTools(tools) {\n    GleapConfigManager.getInstance().setAiTools(tools);\n    GleapFrameManager.getInstance().sendConfigUpdate();\n  }\n\n  /**\n   * Attaches external network logs.\n   */\n  static attachNetworkLogs(networkLogs) {\n    GleapNetworkIntercepter.getInstance().externalRequests = gleapDataParser(networkLogs);\n  }\n\n  /**\n   * Add entry to logs.\n   * @param {*} message\n   * @param {*} logLevel\n   * @returns\n   */\n  static log(message, logLevel = 'INFO') {\n    GleapConsoleLogManager.getInstance().addLog(message, logLevel);\n  }\n\n  /**\n   * Initializes the SDK\n   * @param {*} sdkKey\n   */\n  static initialize(sdkKey) {\n    const instance = this.getInstance();\n    if (instance.initialized) {\n      console.warn('Gleap already initialized.');\n      return;\n    }\n\n    instance.initialized = true;\n\n    try {\n      fixGleapHeight();\n    } catch (error) {}\n\n    // Start session\n    const sessionInstance = GleapSession.getInstance();\n    sessionInstance.sdkKey = sdkKey;\n    sessionInstance.setOnSessionReady(() => {\n      // Run auto configuration.\n      setTimeout(() => {\n        GleapConfigManager.getInstance()\n          .start()\n          .then(() => {\n            GleapStreamedEvent.getInstance().start();\n\n            runFunctionWhenDomIsReady(() => {\n              // Inject the widget buttons\n              GleapFeedbackButtonManager.getInstance().injectFeedbackButton();\n\n              // Inject the notification container\n              GleapNotificationManager.getInstance().injectNotificationUI();\n\n              // Inject the AI UI container\n              GleapAiChatbarManager.getInstance().injectAIUI();\n\n              // Check for uncompleted tour.\n              Gleap.checkForUncompletedTour();\n\n              // Check for URL params.\n              Gleap.checkForUrlParams();\n\n              // Notify event.\n              GleapEventManager.notifyEvent('initialized');\n            });\n          })\n          .catch(function (err) {\n            console.warn('Failed to initialize Gleap.');\n          });\n      }, 0);\n    });\n    sessionInstance.startSession();\n  }\n\n  static openURL(url, newTab = false) {\n    GleapFrameManager.getInstance().urlHandler(url, newTab);\n  }\n\n  static disableQueryParams(disableQueryParams = true) {\n    this.getInstance().disableQueryParams = disableQueryParams;\n  }\n\n  static checkForUrlParams() {\n    if (this.getInstance().disableQueryParams) {\n      console.log('Query params are disabled.');\n      return;\n    }\n\n    if (typeof window === 'undefined' || !window.location.search) {\n      return;\n    }\n\n    try {\n      const urlParams = new URLSearchParams(window.location.search);\n\n      const widget = urlParams.get('gleap_widget');\n      if (widget && widget.length > 0) {\n        Gleap.open();\n      }\n\n      const conversationFlow = urlParams.get('gleap_conversation');\n      if (conversationFlow && conversationFlow.length > 0) {\n        if (conversationFlow === 'true') {\n          Gleap.startConversation(true);\n        } else {\n          Gleap.startBot(conversationFlow, true);\n        }\n      }\n\n      const feedbackFlow = urlParams.get('gleap_feedback');\n      if (feedbackFlow && feedbackFlow.length > 0) {\n        Gleap.startFeedbackFlow(feedbackFlow);\n      }\n      const surveyFlow = urlParams.get('gleap_survey');\n      const surveyFlowFormat = urlParams.get('gleap_survey_format');\n      if (surveyFlow && surveyFlow.length > 0) {\n        Gleap.showSurvey(surveyFlow, surveyFlowFormat === 'survey_full' ? 'survey_full' : 'survey');\n      }\n      const tourId = urlParams.get('gleap_tour');\n      if (tourId && tourId.length > 0) {\n        var tourDelay = parseInt(urlParams.get('gleap_tour_delay'));\n        if (isNaN(tourDelay)) {\n          tourDelay = 2;\n        }\n\n        setTimeout(() => {\n          Gleap.startProductTour(tourId);\n        }, tourDelay * 1000);\n      }\n    } catch (exp) {}\n  }\n\n  /**\n   * Destroy\n   * @returns\n   */\n  static destroy() {\n    GleapReplayRecorder.getInstance().stop();\n    GleapStreamedEvent.getInstance().stop();\n    GleapFrameManager.getInstance().destroy();\n    GleapFeedbackButtonManager.getInstance().destroy();\n    GleapNotificationManager.getInstance().clearAllNotifications(true);\n    GleapAiChatbarManager.getInstance().destroy();\n    GleapSession.getInstance().clearSession(0, false);\n    GleapBannerManager.getInstance().removeBannerUI();\n\n    // Reset the initialized flag and clear the instance\n    this.instance = null;\n  }\n\n  /**\n   * Close any open banner.\n   */\n  static closeBanner() {\n    GleapBannerManager.getInstance().removeBannerUI();\n  }\n\n  /**\n   * Close any open modal.\n   */\n  static closeModal() {\n    GleapModalManager.getInstance().hideModal();\n  }\n\n  /**\n   * Show the AI bar.\n   */\n  static showAiChatbar() {\n    GleapAiChatbarManager.getInstance().manuallyHidden = false;\n    GleapAiChatbarManager.getInstance().show();\n  }\n\n  /**\n   * Hide the AI search.\n   */\n  static hideAiChatbar() {\n    GleapAiChatbarManager.getInstance().manuallyHidden = true;\n    GleapAiChatbarManager.getInstance().hide();\n  }\n\n  /**\n   * Set the AI quick actions.\n   * @param {Array<string>} quickActions\n   */\n  static setAiChatbarQuickActions(quickActions) {\n    GleapAiChatbarManager.getInstance().setQuickActions(quickActions);\n  }\n\n  /**\n   * Set the AI chatbar placeholder.\n   * @param {string} placeholder\n   */\n  static setAiChatbarPlaceholder(placeholder) {\n    GleapAiChatbarManager.getInstance().setPlaceholder(placeholder);\n  }\n\n  /**\n   * Enable or disable Gleap session tracking through cookies.\n   * @param {*} useCookies\n   */\n  static setUseCookies(useCookies) {\n    GleapSession.getInstance().useCookies = useCookies;\n  }\n\n  /**\n   * Indentifies the user session\n   * @param {string} userId\n   * @param {*} userData\n   */\n  static identify(userId, userData, userHash) {\n    return GleapSession.getInstance().identifySession(userId, gleapDataParser(userData), userHash);\n  }\n\n  /**\n   * Updates the contact data.\n   * @param {*} userData\n   */\n  static updateContact(userData) {\n    return GleapSession.getInstance().updateSession(gleapDataParser(userData));\n  }\n\n  /**\n   * Clears the current contact.\n   */\n  static clearIdentity() {\n    GleapSession.getInstance().clearSession();\n  }\n\n  /**\n   * Returns the current user session\n   */\n  static getIdentity() {\n    return GleapSession.getInstance().getSession();\n  }\n\n  /**\n   * Returns whether the user is identified or not.\n   */\n  static isUserIdentified() {\n    const session = GleapSession.getInstance().session;\n    if (session && session.userId && session.userId.length > 0) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Widget opened status\n   * @returns {boolean} isOpened\n   */\n  static isOpened() {\n    return GleapFrameManager.getInstance().isOpened();\n  }\n\n  /**\n   * Hides any open Gleap dialogs.\n   */\n  static hide() {\n    GleapFrameManager.getInstance().hideWidget();\n  }\n\n  /**\n   * Sets the maximum network request count.\n   */\n  static setMaxNetworkRequests(maxRequests) {\n    GleapNetworkIntercepter.getInstance().setMaxRequests(maxRequests);\n  }\n\n  /**\n   * Sets the maximum network request count.\n   */\n  static startNetworkLogger() {\n    GleapNetworkIntercepter.getInstance().start();\n  }\n\n  /**\n   * Sets the network logger blacklist.\n   * @param {Array} networkLogBlacklist\n   */\n  static setNetworkLogsBlacklist(networkLogBlacklist) {\n    GleapNetworkIntercepter.getInstance().setBlacklist(networkLogBlacklist);\n  }\n\n  /**\n   * Sets the network logger props to ignore.\n   * @param {Array} filters\n   */\n  static setNetworkLogPropsToIgnore(filters) {\n    GleapNetworkIntercepter.getInstance().setFilters(filters);\n  }\n\n  /**\n   * Set custom replay options.\n   * @param {*} options\n   */\n  static setReplayOptions(options) {\n    GleapReplayRecorder.getInstance().setOptions(options);\n  }\n\n  /**\n   * Closes any open Gleap dialogs.\n   * @param {boolean} resetRoutes\n   */\n  static close(resetRoutes = false) {\n    GleapFrameManager.getInstance().hideWidget(resetRoutes);\n  }\n\n  /**\n   * Starts the Gleap flow.\n   */\n  static open() {\n    GleapFrameManager.getInstance().setAppMode('widget');\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Track a custom event\n   * @param {string} name\n   * @param {any} data\n   */\n  static trackEvent(name, data) {\n    GleapStreamedEvent.getInstance().logEvent(name, data);\n  }\n\n  /**\n   * Logs a custom event\n   * @param {string} name\n   * @param {any} data\n   * @deprecated Please use trackEvent instead.\n   */\n  static logEvent(name, data) {\n    GleapStreamedEvent.getInstance().logEvent(name, data);\n  }\n\n  /**\n   * Prefills a specific form field.\n   * @param {*} key\n   * @param {*} value\n   */\n  static preFillForm(data) {\n    const cleanedData = gleapDataParser(data);\n    GleapPreFillManager.getInstance().formPreFill = cleanedData;\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'prefill-form-data',\n        data: cleanedData,\n      },\n      true\n    );\n  }\n\n  /**\n   * Register events for Gleap.\n   * @param {*} eventName\n   * @param {*} callback\n   */\n  static on(eventName, callback) {\n    GleapEventManager.on(eventName, callback);\n  }\n\n  /**\n   * Enable or disable shortcuts\n   * @param {boolean} enabled\n   */\n  static enableShortcuts(enabled) {\n    if (enabled) {\n      GleapShortcutListener.getInstance().start();\n    } else {\n      GleapShortcutListener.getInstance().stop();\n    }\n  }\n\n  /**\n   * Show or hide the feedback button\n   * @param {*} show\n   * @returns\n   */\n  static showFeedbackButton(show) {\n    GleapFeedbackButtonManager.getInstance().toggleFeedbackButton(show);\n  }\n\n  /**\n   * Sets the app version code.\n   * @param {string} appVersionCode\n   */\n  static setAppVersionCode(appVersionCode) {\n    GleapMetaDataManager.setAppVersionCode(appVersionCode);\n  }\n\n  /**\n   * Sets the app version code.\n   * @param {string} appVersionCode\n   */\n  static setAppBuildNumber(appBuildNumber) {\n    GleapMetaDataManager.setAppBuildNumber(appBuildNumber);\n  }\n\n  /**\n   * Set a custom ws api url.\n   * @param {string} wsApiUrl\n   */\n  static setWSApiUrl(wsApiUrl) {\n    GleapSession.getInstance().wsApiUrl = wsApiUrl;\n  }\n\n  /**\n   * Set a custom api url.\n   * @param {string} apiUrl\n   */\n  static setApiUrl(apiUrl) {\n    GleapSession.getInstance().apiUrl = apiUrl;\n  }\n\n  /**\n   * Set a custom banner url.\n   * @param {string} bannerUrl\n   */\n  static setBannerUrl(bannerUrl) {\n    GleapBannerManager.getInstance().setBannerUrl(bannerUrl);\n  }\n\n  /**\n   * Set a custom modal url.\n   * @param {string} modalUrl\n   */\n  static setModalUrl(modalUrl) {\n    GleapModalManager.getInstance().setModalUrl(modalUrl);\n  }\n\n  /**\n   * Set a custom frame api url.\n   * @param {string} frameUrl\n   */\n  static setFrameUrl(frameUrl) {\n    GleapFrameManager.getInstance().frameUrl = frameUrl;\n  }\n\n  /**\n   * This method is used to set ticket attributes programmatically.\n   * @param {*} key The key of the attribute you want to add.\n   * @param {*} value The value to set.\n   */\n  static setTicketAttribute(key, value) {\n    GleapCustomDataManager.getInstance().setTicketAttribute(key, value);\n  }\n\n  /**\n   * This method is used to unset ticket attributes programmatically.\n   * @param {*} key The key of the attribute you want to unset.\n   */\n  static unsetTicketAttribute(key) {\n    GleapCustomDataManager.getInstance().unsetTicketAttribute(key);\n  }\n\n  /**\n   * This method is used to clear ticket attributes programmatically.\n   */\n  static clearTicketAttributes() {\n    GleapCustomDataManager.getInstance().clearTicketAttributes();\n  }\n\n  /**\n   * Set custom data that will be attached to the bug-report.\n   * @param {*} data\n   */\n  static attachCustomData(data) {\n    GleapCustomDataManager.getInstance().attachCustomData(data);\n  }\n\n  /**\n   * Add one key value pair to the custom data object\n   * @param {*} key The key of the custom data entry you want to add.\n   * @param {*} value The custom data you want to add.\n   */\n  static setCustomData(key, value) {\n    GleapCustomDataManager.getInstance().setCustomData(key, value);\n  }\n\n  /**\n   * Remove one key value pair of the custom data object\n   * @param {*} key The key of the custom data entry you want to remove.\n   */\n  static removeCustomData(key) {\n    GleapCustomDataManager.getInstance().removeCustomData(key);\n  }\n\n  /**\n   * Clear the custom data\n   */\n  static clearCustomData() {\n    GleapCustomDataManager.getInstance().clearCustomData();\n  }\n\n  /**\n   * Play or mute the sound.\n   * @param {*} play\n   */\n  static playSound(play) {\n    GleapAudioManager.playSound(play);\n  }\n\n  /**\n   * Show or hide the notification badge count.\n   * @param {boolean} showNotificationBadge show or hide the notification badge\n   *\n   */\n  static showTabNotificationBadge(showNotificationBadge) {\n    const notificationInstance = GleapNotificationManager.getInstance();\n    notificationInstance.showNotificationBadge = showNotificationBadge;\n    notificationInstance.updateTabBarNotificationCount();\n  }\n\n  /**\n   * Override the browser language.\n   * @param {string} language country code with two letters\n   */\n  static setLanguage(language) {\n    GleapTranslationManager.getInstance().setOverrideLanguage(language);\n\n    if (Gleap.getInstance().initialized) {\n      setTimeout(() => {\n        Gleap.getInstance().softReInitialize();\n\n        // Update language for contact.\n        Gleap.updateContact({\n          lang: language,\n        });\n      }, 1000);\n    }\n  }\n\n  /**\n   * Register custom action\n   * @param {*} action\n   */\n  static registerCustomAction(customAction) {\n    GleapCustomActionManager.registerCustomAction(customAction);\n  }\n\n  /**\n   * Triggers a custom action\n   * @param {*} actionName\n   */\n  static triggerCustomAction(name) {\n    GleapCustomActionManager.triggerCustomAction(name);\n  }\n\n  /**\n   * Sets a custom color scheme.\n   * @param {string} primaryColor\n   */\n  static setStyles(\n    primaryColor,\n    headerColor,\n    buttonColor,\n    backgroundColor = '#ffffff',\n    borderRadius = 20,\n    buttonX = 20,\n    buttonY = 20,\n    buttonStyle = GleapFeedbackButtonManager.FEEDBACK_BUTTON_BOTTOM_LEFT\n  ) {\n    runFunctionWhenDomIsReady(() => {\n      injectStyledCSS(primaryColor, headerColor, buttonColor, borderRadius, backgroundColor, buttonX, buttonY, buttonStyle);\n    });\n  }\n\n  /**\n   * Sends a silent feedback report\n   * @param {*} formData\n   * @param {*} priority\n   * @param {*} excludeData\n   */\n  static sendSilentCrashReport(\n    description = '',\n    priority = 'MEDIUM',\n    excludeData = {\n      screenshot: true,\n      replays: true,\n      attachments: true,\n    }\n  ) {\n    return Gleap.sendSilentCrashReportWithFormData(\n      {\n        description,\n      },\n      priority,\n      excludeData\n    );\n  }\n\n  /**\n   * Sends a silent feedback report\n   * @param {*} formData\n   * @param {*} priority\n   * @param {*} excludeData\n   */\n  static sendSilentCrashReportWithFormData(\n    formData,\n    priority = 'MEDIUM',\n    excludeData = {\n      screenshot: true,\n      replays: true,\n      attachments: true,\n    }\n  ) {\n    if (this.silentCrashReportSent) {\n      return;\n    }\n\n    this.silentCrashReportSent = true;\n    setTimeout(() => {\n      this.silentCrashReportSent = false;\n    }, 10000);\n\n    const excludeDataCleaned = excludeData ? gleapDataParser(excludeData) : {};\n    const sessionInstance = GleapSession.getInstance();\n    if (!sessionInstance.ready) {\n      return;\n    }\n\n    var newFormData = formData ? formData : {};\n    if (sessionInstance.session.email) {\n      newFormData.reportedBy = sessionInstance.session.email;\n    }\n\n    const feedback = new GleapFeedback('CRASH', priority, newFormData, true, excludeDataCleaned);\n    feedback\n      .sendFeedback()\n      .then(() => {})\n      .catch((error) => {});\n  }\n\n  /**\n   * Shows a survey manually.\n   * @param {*} actionType\n   * @param {*} format\n   */\n  static showSurvey(actionType, format = 'survey') {\n    Gleap.startFeedbackFlowWithOptions(\n      actionType,\n      {\n        hideBackButton: true,\n        format,\n      },\n      true\n    );\n  }\n\n  /**\n   * Starts a classic feedback form.\n   */\n  static startClassicForm(formId, showBackButton) {\n    Gleap.startFeedbackFlowWithOptions(formId, {\n      hideBackButton: !showBackButton,\n    });\n  }\n\n  /**\n   * Starts the bug reporting flow.\n   */\n  static startFeedbackFlow(feedbackFlow, showBackButton) {\n    Gleap.startFeedbackFlowWithOptions(feedbackFlow, {\n      hideBackButton: !showBackButton,\n    });\n  }\n\n  /**\n   * Starts the bug reporting flow.\n   */\n  static startFeedbackFlowWithOptions(feedbackFlow, options = {}, isSurvey = false) {\n    const { autostartDrawing, hideBackButton, format } = options;\n    const sessionInstance = GleapSession.getInstance();\n    if (!sessionInstance.ready) {\n      return;\n    }\n\n    // Initially set scroll position\n    Gleap.getInstance().setGlobalDataItem('snapshotPosition', {\n      x: window.scrollX,\n      y: window.scrollY,\n    });\n\n    var action = 'start-feedbackflow';\n    if (isSurvey) {\n      action = 'start-survey';\n    }\n\n    GleapFrameManager.getInstance().setAppMode(isSurvey ? format : 'widget');\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: action,\n        data: {\n          flow: feedbackFlow,\n          hideBackButton: hideBackButton,\n          format,\n        },\n      },\n      true\n    );\n\n    if (autostartDrawing) {\n      GleapFrameManager.getInstance().showDrawingScreen('screenshot');\n    } else {\n      GleapFrameManager.getInstance().showWidget();\n    }\n  }\n\n  /**\n   * Opens the conversations overview.\n   */\n  static openConversations(showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode('widget');\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'open-conversations',\n        data: {\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens a conversation\n   */\n  static openConversation(shareToken, showBackButton = true) {\n    if (!shareToken) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode('widget');\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'open-conversation',\n        data: {\n          shareToken,\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Starts a new conversation\n   */\n  static startConversation(showBackButton = true) {\n    Gleap.startBot('', showBackButton);\n  }\n\n  /**\n   * Starts a new conversation and attaches the bot with the given id.\n   */\n  static startBot(botId, showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode('widget');\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'start-bot',\n        data: {\n          botId: botId ? botId : '',\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Starts a new conversation and attaches the bot with the given id.\n   */\n  static askAI(question, showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode('widget');\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'ask-ai',\n        data: {\n          question,\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens a help center collection\n   */\n  static openHelpCenterCollection(collectionId, showBackButton = true) {\n    if (!collectionId) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode('widget');\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'open-help-collection',\n        data: {\n          collectionId,\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens a help article\n   */\n  static openHelpCenterArticle(articleId, showBackButton = true) {\n    if (!articleId) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode('widget');\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'open-help-article',\n        data: {\n          articleId,\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens the help center.\n   */\n  static openHelpCenter(showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode('widget');\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'open-helpcenter',\n        data: {\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Search for news articles in the help center\n   */\n  static searchHelpCenter(term, showBackButton = true) {\n    if (!term) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode('widget');\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'open-helpcenter-search',\n        data: {\n          term,\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens a news article\n   */\n  static openNewsArticle(id, showBackButton = true) {\n    if (!id) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode('widget');\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'open-news-article',\n        data: {\n          id,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Open the checklists overview.\n   */\n  static openChecklists(showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode('widget');\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'open-checklists',\n        data: {},\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Starts a new checklist and opens it.\n   */\n  static startChecklist(outboundId, showBackButton = true, sharedKey = undefined) {\n    if (!outboundId) {\n      return false;\n    }\n\n    GleapFrameManager.getInstance().setAppMode('widget');\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'start-checklist',\n        data: {\n          outboundId: outboundId,\n          hideBackButton: !showBackButton,\n          ...(sharedKey ? { sharedKey: sharedKey } : {}),\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n\n    return true;\n  }\n\n  /**\n   * Open an existing checklist.\n   */\n  static openChecklist(checklistId, showBackButton = true) {\n    if (!checklistId) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode('widget');\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'open-checklist',\n        data: {\n          id: checklistId,\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Gets the full checklist data by validating the outbound ID and fetching the data.\n   * @param {string} outboundId - The outbound checklist ID to get data for.\n   * @param {string} [sharedKey] - Optional shared key for the checklist.\n   * @returns {Promise<object>} A promise that resolves with the full checklist data.\n   *\n   * Available events for checklist updates (use Gleap.on() to listen):\n   * - 'checklist-loaded': Fired when a checklist is initially loaded\n   * - 'checklist-update': Fired when checklist data is updated\n   * - 'checklist-step-completed': Fired when a step is marked as completed\n   * - 'checklist-completed': Fired when the entire checklist is completed\n   */\n  static getChecklistData(outboundId, sharedKey) {\n    if (!outboundId) {\n      return Promise.reject(new Error('outboundId is required'));\n    }\n\n    const networkManager = ChecklistNetworkManager.getInstance();\n\n    // First validate the checklist to get the internal ID\n    return networkManager.validateChecklist(outboundId, sharedKey).then((internalId) => {\n      // Then fetch the full checklist data\n      return networkManager.fetchChecklist(internalId);\n    });\n  }\n\n  /**\n   * Opens the news overview.\n   */\n  static openNews(showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode('widget');\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'open-news',\n        data: {\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens the feature requests overview.\n   */\n  static openFeatureRequests(showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode('widget');\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: 'open-feature-requests',\n        data: {},\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  isLiveMode() {\n    if (this.offlineMode === true) {\n      return false;\n    }\n\n    var hostname = window.location.hostname;\n    const isLocalHost =\n      ['localhost', '127.0.0.1', '0.0.0.0', '', '::1'].includes(hostname) ||\n      hostname.startsWith('192.168.') ||\n      hostname.startsWith('10.0.') ||\n      hostname.endsWith('.local') ||\n      !hostname.includes('.');\n    return !isLocalHost;\n  }\n\n  softReInitialize() {\n    GleapFrameManager.getInstance().destroy();\n    GleapConfigManager.getInstance()\n      .start()\n      .then(() => {\n        // Update the feedback button.\n        GleapFeedbackButtonManager.getInstance().refresh();\n\n        // Inject the notification container\n        GleapNotificationManager.getInstance().injectNotificationUI();\n\n        // Inject the AI UI container\n        GleapAiChatbarManager.getInstance().injectAIUI();\n      })\n      .catch(function (err) {\n        console.warn('Failed to initialize Gleap.');\n      });\n  }\n\n  /**\n   * Performs an action.\n   * @param {*} action\n   */\n  performActions(actions) {\n    for (let i = 0; i < actions.length; i++) {\n      const action = actions[i];\n      if (action && action.actionType) {\n        if (action.pageFilter && window && window.location) {\n          const passed = checkPageFilter(window.location.href, action.pageFilter, action.pageFilterType);\n\n          if (!passed) {\n            continue;\n          }\n        }\n\n        if (action.actionType === 'notification') {\n          if (action?.data?.checklist?.popupType === 'widget') {\n            Gleap.openChecklist(action.data.checklist.id, true);\n          } else {\n            if (!this.disableInAppNotifications) {\n              Gleap.showNotification(action);\n            }\n          }\n        } else if (action.actionType === 'banner') {\n          Gleap.showBanner(action);\n        } else if (action.actionType === 'modal') {\n          Gleap.showModal(action);\n        } else if (action.actionType === 'tour') {\n          Gleap.startProductTourWithConfig(action.outbound, action.data, false);\n        } else {\n          Gleap.showSurvey(action.actionType, action.format);\n        }\n      }\n    }\n  }\n\n  static startProductTour(tourId, checkStartUrl = false) {\n    const self = this;\n    GleapSession.getInstance()\n      .startProductTourConfig(tourId)\n      .then((config) => {\n        if (checkStartUrl && config?.startURL && !window?.location?.href?.includes(config?.baseURL)) {\n          window.location.href = `${config.startURL}?gleap_tour=${tourId}&gleap_tour_delay=1`;\n          return;\n        }\n\n        self.startProductTourWithConfig(tourId, config, true);\n      })\n      .catch((error) => {});\n  }\n\n  static checkForUncompletedTour() {\n    const tourData = GleapProductTours.getInstance().loadUncompletedTour();\n    if (tourData) {\n      GleapProductTours.getInstance().startWithConfig(tourData.tourId, tourData.tourData, 500);\n    }\n  }\n\n  static startProductTourWithConfig(tourId, config, manually = false) {\n    GleapProductTours.getInstance().startWithConfig(tourId, config, 0, manually);\n  }\n\n  static showBanner(data) {\n    try {\n      GleapBannerManager.getInstance().showBanner(data);\n    } catch (e) {}\n  }\n\n  static showModal(data) {\n    try {\n      GleapModalManager.getInstance().showModal(data);\n    } catch (e) {}\n  }\n\n  static showNotification(data) {\n    GleapNotificationManager.getInstance().showNotification(data);\n  }\n\n  /**\n   * Sets a global data value\n   * @param {*} key\n   * @param {*} value\n   */\n  setGlobalDataItem(key, value) {\n    this.globalData[key] = value;\n  }\n\n  /**\n   * Gets a global data value\n   * @param {*} key\n   * @returns\n   */\n  getGlobalDataItem(key) {\n    return this.globalData[key];\n  }\n\n  /**\n   * Takes the current replay and assigns it to the global data array.\n   */\n  takeCurrentReplay() {\n    const replayData = GleapReplayRecorder.getInstance().getReplayData();\n    this.setGlobalDataItem('webReplay', replayData);\n  }\n}\n\n// Check for unperformed Gleap actions.\nif (typeof window !== 'undefined') {\n  const GleapActions = window.GleapActions;\n  if (GleapActions && GleapActions.length > 0) {\n    for (var i = 0; i < GleapActions.length; i++) {\n      const GLAction = GleapActions[i];\n      if (GLAction && GLAction.e && Gleap[GLAction.e]) {\n        Gleap[GLAction.e].apply(Gleap, GLAction.a);\n      }\n    }\n  }\n}\n\nconst handleGleapLink = (href) => {\n  try {\n    const urlParts = href.split('/');\n    const type = urlParts[2];\n    if (type === 'article') {\n      const identifier = urlParts[3];\n      Gleap.openHelpCenterArticle(identifier, true);\n    }\n\n    if (type === 'collection') {\n      const identifier = urlParts[3];\n      Gleap.openHelpCenterCollection(identifier, true);\n    }\n\n    if (type === 'flow') {\n      const identifier = urlParts[3];\n      Gleap.startFeedbackFlow(identifier, true);\n    }\n\n    if (type === 'survey') {\n      const identifier = urlParts[3];\n      Gleap.showSurvey(identifier);\n    }\n\n    if (type === 'bot') {\n      const identifier = urlParts[3];\n      Gleap.startBot(identifier, true);\n    }\n\n    if (type === 'news') {\n      const identifier = urlParts[3];\n      Gleap.openNewsArticle(identifier, true);\n    }\n\n    if (type === 'checklist') {\n      const identifier = urlParts[3];\n      Gleap.startChecklist(identifier, true, urlParts[4]);\n    }\n\n    if (type === 'tour') {\n      const identifier = urlParts[3];\n      Gleap.startProductTour(identifier);\n    }\n  } catch (e) {\n    console.error('Failed to handle Gleap link: ', href);\n  }\n};\n\nexport {\n  GleapNetworkIntercepter,\n  GleapAudioManager,\n  GleapNotificationManager,\n  GleapAiChatbarManager,\n  GleapBannerManager,\n  GleapModalManager,\n  GleapPreFillManager,\n  GleapShortcutListener,\n  GleapMarkerManager,\n  GleapTranslationManager,\n  GleapReplayRecorder,\n  GleapFeedback,\n  GleapConsoleLogManager,\n  GleapCustomActionManager,\n  GleapEventManager,\n  GleapCustomDataManager,\n  GleapFeedbackButtonManager,\n  GleapClickListener,\n  GleapSession,\n  GleapStreamedEvent,\n  GleapConfigManager,\n  GleapFrameManager,\n  GleapMetaDataManager,\n  GleapTagManager,\n  GleapProductTours,\n  GleapAdminManager,\n  handleGleapLink,\n};\n\nexport default Gleap;\n","/**\n * Gleap Checklist Web Component\n *\n * Displays an interactive checklist fetched from the Gleap API.\n * Allows users to view steps, mark them as done, trigger actions,\n * and automatically updates based on external events. Includes localization support\n * via GleapTranslationManager.\n *\n * Waits for a Gleap session to be available before initializing and\n * reloads when the session changes (via 'session-updated' event).\n *\n * @element gleap-checklist\n *\n * @attr {string} checklistId - The outbound ID of the checklist to display. Required.\n * @attr {boolean} [info=true] - Whether to display the info section (title, description, sender).\n * @attr {boolean} [progressbar=true] - Whether to display the progress bar.\n * @attr {boolean} [dark=false] - Apply dark mode styling.\n * @attr {boolean} [floating=false] - When set to \"true\", shows a small bubble that expands on click.\n *\n * @cssprop --color-bg - Background color.\n * @cssprop --color-font-title - Title text color.\n * @cssprop --color-font-text - Body text color.\n * @cssprop --color-font-light - Lighter text color.\n * @cssprop --color-primary - Primary accent color.\n * @cssprop --color-primary-light - Light primary color shade.\n * @cssprop --color-primary-contrast - Text color for primary buttons.\n * @cssprop --color-border - Border color.\n * @cssprop --color-gray-light - Light gray background/border color.\n * @cssprop --color-gray-lighter - Even lighter gray background.\n * @cssprop --color-gray-dark - Darker gray text/icon color.\n * @cssprop --color-success - Success color (e.g., for completed items).\n * @cssprop --color-success-light - Contrast color for success elements.\n * @cssprop --radius-sm - Small border radius.\n * @cssprop --radius-lg - Large border radius.\n * @cssprop --radius-full - Full (pill) border radius.\n * @cssprop --shadow-sm - Small box shadow.\n * @cssprop --shadow-md - Medium box shadow.\n * @cssprop --animation-duration - Duration for animations (e.g., accordion).\n * @cssprop --animation-timing - Timing function for animations.\n */\nimport ChecklistNetworkManager from './ChecklistNetworkManager';\nimport Gleap, { GleapConfigManager, GleapSession, GleapTranslationManager, GleapEventManager } from './Gleap';\n\nexport const registerGleapChecklist = () => {\n  if (typeof customElements !== 'undefined' && typeof HTMLElement !== 'undefined' && typeof window !== 'undefined') {\n    class GleapChecklist extends HTMLElement {\n      /** @private {number} */\n      activeStep = -1;\n      /** @private {object|null} */\n      checklistData = null;\n      /** @private {boolean} */\n      _isInitialLoad = false;\n      /** @private {boolean} */\n      _initialActiveSet = false;\n      /** @private {boolean} Flag indicating if the component has loaded data at least once. */\n      _hasLoaded = false;\n      /** @private {boolean} Flag indicating if a Gleap session is currently considered active by the component. */\n      _isSessionReady = false;\n\n      /** @private {Function} */\n      _boundHandleChecklistUpdate = this.handleChecklistUpdate.bind(this);\n      /** @private {Function} */\n      _boundHandleSessionUpdate = this.handleSessionUpdate.bind(this);\n\n      constructor() {\n        super();\n        this.attachShadow({ mode: 'open' });\n        // Ensure NetworkManager instance is created only if Gleap is available\n        try {\n          if (typeof GleapSession !== 'undefined' && typeof ChecklistNetworkManager !== 'undefined') {\n            this._networkManager = ChecklistNetworkManager.getInstance();\n          } else {\n            this._networkManager = null;\n          }\n        } catch (e) {\n          this._networkManager = null;\n        }\n        // Bind click handlers for floating mode.\n        this._boundFloatingLauncherClick = this.handleFloatingLauncherClick.bind(this);\n        this._boundFloatingCloseClick = this.handleFloatingCloseClick.bind(this);\n        this._floatingHideTimeout = null;\n      }\n\n      // --- Observed Attributes ---\n      static get observedAttributes() {\n        return ['checklistId', 'info', 'progressbar', 'dark', 'floating', 'sharedKey'];\n      }\n\n      // --- Lifecycle Callbacks ---\n      connectedCallback() {\n        window.addEventListener('checkListUpdate', this._boundHandleChecklistUpdate);\n        window.addEventListener('session-updated', this._boundHandleSessionUpdate);\n        window.addEventListener('resize', (this._boundResizeHandler = this.handleResize.bind(this)));\n        this._checkSessionAndLoad();\n      }\n\n      disconnectedCallback() {\n        window.removeEventListener('checkListUpdate', this._boundHandleChecklistUpdate);\n        window.removeEventListener('session-updated', this._boundHandleSessionUpdate);\n        window.removeEventListener('resize', this._boundResizeHandler);\n        this.removeFloatingClickListeners();\n        if (this._floatingHideTimeout) {\n          clearTimeout(this._floatingHideTimeout);\n          this._floatingHideTimeout = null;\n        }\n        this.checklistData = null;\n        this.activeStep = -1;\n        this._hasLoaded = false;\n        this._isSessionReady = false;\n        this._initialActiveSet = false;\n        this.renderResponse();\n      }\n\n      handleResize() {\n        this.updateActiveTaskMaxHeight();\n      }\n\n      attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue !== newValue) {\n          if (name === 'checklistId' && this._isSessionReady) {\n            this.loadChecklist();\n          } else if (name !== 'checklistId' && this._hasLoaded) {\n            if (this.checklistData) {\n              this.renderChecklist(this.checklistData);\n            }\n          }\n        }\n      }\n\n      // --- Session Handling ---\n      _checkSessionAndLoad() {\n        const gleapSessionInstance = this._getGleapSessionInstance();\n        const hasChecklistId = this.getAttribute('checklistId');\n\n        if (gleapSessionInstance.ready && hasChecklistId) {\n          this._isSessionReady = true;\n          this._networkManager = ChecklistNetworkManager.getInstance();\n          this.loadChecklist();\n        } else {\n          this._isSessionReady = false;\n          this._hasLoaded = false;\n          this.checklistData = null;\n          this.activeStep = -1;\n          this._initialActiveSet = false;\n          this.renderResponse();\n        }\n      }\n\n      handleSessionUpdate() {\n        this._checkSessionAndLoad();\n      }\n\n      _getGleapSessionInstance() {\n        try {\n          return typeof GleapSession !== 'undefined' ? GleapSession.getInstance() : null;\n        } catch (e) {\n          return null;\n        }\n      }\n\n      // --- Getters for Configuration ---\n      get infoEnabled() {\n        const attr = this.getAttribute('info');\n        return attr === null || attr.toLowerCase() !== 'false';\n      }\n\n      get progressbarEnabled() {\n        const attr = this.getAttribute('progressbar');\n        return attr === null || attr.toLowerCase() !== 'false';\n      }\n\n      get floatingEnabled() {\n        return this.getAttribute('floating') === 'true';\n      }\n\n      // --- Translation Helpers ---\n      _translate(key, defaultValue = '') {\n        return GleapTranslationManager.translateText(key) || defaultValue;\n      }\n\n      _translateWithVars(key, vars, defaultValue = '') {\n        return GleapTranslationManager.translateTextWithVars(key, vars) || defaultValue;\n      }\n\n      // --- SVG Icons ---\n      getCheckIcon() {\n        return `<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style=\"display: block;\">\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L9.70711 17.7071C9.31658 18.0976 8.68342 18.0976 8.29289 17.7071L3.29289 12.7071C2.90237 12.3166 2.90237 11.6834 3.29289 11.2929C3.68342 10.9024 4.31658 10.9024 4.70711 11.2929L9 15.5858L19.2929 5.29289C19.6834 4.90237 20.3166 4.90237 20.7071 5.29289Z\" fill=\"currentColor\"/>\n                  </svg>`;\n      }\n\n      // --- Data Loading and Handling ---\n      loadChecklist() {\n        if (!this._isSessionReady || !this._networkManager) {\n          return;\n        }\n        const checklistId = this.getAttribute('checklistId');\n        if (checklistId) {\n          this.activeStep = -1;\n          this._initialActiveSet = false;\n          this.validateChecklist(checklistId);\n        } else {\n          this.renderResponse();\n          this.checklistData = null;\n          this._hasLoaded = false;\n        }\n      }\n\n      getQueryParams() {\n        const gleapSessionInstance = this._getGleapSessionInstance();\n        if (!gleapSessionInstance?.session) {\n          return '';\n        }\n        const session = gleapSessionInstance.session;\n        let lang = 'en';\n        try {\n          if (typeof GleapTranslationManager !== 'undefined') {\n            lang = GleapTranslationManager.getInstance().getActiveLanguage() || 'en';\n          }\n        } catch (e) {}\n        return `gleapId=${session.gleapId || ''}&gleapHash=${session.gleapHash || ''}&lang=${lang}`;\n      }\n\n      makeRequest(method, url, data, callback) {\n        const gleapSessionInstance = this._getGleapSessionInstance();\n        if (!gleapSessionInstance?.session) {\n          const mockXhr = {\n            readyState: 4,\n            status: 0,\n            responseText: 'Session unavailable',\n            _isMock: true,\n          };\n          callback(mockXhr);\n          return;\n        }\n        const xhr = new XMLHttpRequest();\n        xhr.open(method, url);\n        try {\n          gleapSessionInstance.injectSession(xhr);\n        } catch (e) {}\n        if (data) {\n          xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n        }\n        xhr.onreadystatechange = () => {\n          if (xhr.readyState === 4) {\n            callback(xhr);\n          }\n        };\n        xhr.onerror = () => {\n          callback(xhr);\n        };\n        xhr.send(data ? JSON.stringify(data) : null);\n      }\n\n      validateChecklist(outboundId) {\n        if (!this._isSessionReady || !this._networkManager) {\n          return;\n        }\n        this.checklistData = null;\n        this._hasLoaded = false;\n        this.renderResponse();\n        const sharedKey = this.getAttribute('sharedKey');\n\n        this._networkManager\n          .validateChecklist(outboundId, sharedKey)\n          .then((internalId) => {\n            if (!this.isConnected || !this._isSessionReady || !internalId) {\n              return;\n            }\n            this.fetchChecklist(internalId);\n          })\n          .catch((error) => {\n            this.renderResponse();\n            this.checklistData = null;\n            this._hasLoaded = false;\n          });\n      }\n\n      fetchChecklist(checklistId) {\n        if (!this._isSessionReady || !this._networkManager) {\n          return;\n        }\n        this._isInitialLoad = !this._hasLoaded;\n        this._networkManager\n          .fetchChecklist(checklistId)\n          .then((data) => {\n            if (!this.isConnected || !this._isSessionReady || !data) {\n              this._hasLoaded = false;\n              this.checklistData = null;\n              this._checkSessionAndLoad();\n              return;\n            }\n            this.checklistData = data;\n            this._hasLoaded = true;\n            if (data.status === 'done') {\n              this.renderResponse();\n              return;\n            }\n            if (this._isInitialLoad && !this._initialActiveSet) {\n              const steps = data.outbound?.config?.steps || [];\n              const completedSteps = data.completedSteps || [];\n              const firstIncompleteIndex = steps.findIndex((step) => !completedSteps.includes(step.id));\n              this.activeStep = firstIncompleteIndex >= 0 ? firstIncompleteIndex : -1;\n              if (this.activeStep !== -1) {\n                this._initialActiveSet = true;\n              }\n            }\n            this.renderChecklist(this.checklistData);\n\n            // Notify external listeners about the initial checklist load\n            GleapEventManager.notifyEvent('checklist-loaded', {\n              checklistId: this.checklistData.id,\n              outboundId: this.checklistData.outbound?.id,\n              completedSteps: this.checklistData.completedSteps,\n              status: this.checklistData.status,\n              data: this.checklistData,\n            });\n          })\n          .catch((error) => {\n            this.renderResponse();\n            this.checklistData = null;\n            this._hasLoaded = false;\n          });\n      }\n\n      updateChecklist(id, data) {\n        const gleapSessionInstance = this._getGleapSessionInstance();\n        if (!gleapSessionInstance?.session) {\n          return;\n        }\n        const apiUrl = gleapSessionInstance.apiUrl;\n        if (!apiUrl) {\n          return;\n        }\n        const session = gleapSessionInstance.session;\n        const gleapId = session?.gleapId ?? '';\n        const gleapHash = session?.gleapHash ?? '';\n        let lang = 'en';\n        try {\n          if (typeof GleapTranslationManager !== 'undefined') {\n            lang = GleapTranslationManager.getInstance().getActiveLanguage() || 'en';\n          }\n        } catch (e) {}\n        let url = `${apiUrl}/outbound/checklists/${id}`;\n        if (data.checkedStep) {\n          url += `/increment/${data.checkedStep}`;\n        }\n        url += `?gleapId=${gleapId}&gleapHash=${gleapHash}&lang=${lang}`;\n        this.makeRequest('PUT', url, data, (xhr) => {\n          if (xhr._isMock) return;\n          if (!(xhr.status === 200 || xhr.status === 204)) {\n            // Update failed\n          }\n        });\n      }\n\n      // --- External Update Handling ---\n      handleChecklistUpdate(event) {\n        if (!this._hasLoaded || !this.checklistData) {\n          return;\n        }\n        const updateData = event.detail;\n        if (!updateData || updateData.id !== this.checklistData.id) {\n          return;\n        }\n        const previousCompletedSteps = [...(this.checklistData.completedSteps || [])];\n        let dataChanged = false;\n        let activeStepCompleted = false;\n        const currentlyActiveStepIndex = this.activeStep;\n        if (\n          updateData.completedSteps &&\n          JSON.stringify(updateData.completedSteps) !== JSON.stringify(previousCompletedSteps)\n        ) {\n          this.checklistData.completedSteps = [...updateData.completedSteps];\n          dataChanged = true;\n          if (currentlyActiveStepIndex !== -1) {\n            const activeStepId = this.checklistData.outbound?.config?.steps?.[currentlyActiveStepIndex]?.id;\n            if (\n              activeStepId &&\n              this.checklistData.completedSteps.includes(activeStepId) &&\n              !previousCompletedSteps.includes(activeStepId)\n            ) {\n              activeStepCompleted = true;\n            }\n          }\n        }\n        if (updateData.status && updateData.status !== this.checklistData.status) {\n          this.checklistData.status = updateData.status;\n          dataChanged = true;\n        }\n        if (activeStepCompleted) {\n          const steps = this.checklistData.outbound?.config?.steps || [];\n          let nextActiveStep = -1;\n          for (let i = currentlyActiveStepIndex + 1; i < steps.length; i++) {\n            if (!this.checklistData.completedSteps.includes(steps[i].id)) {\n              nextActiveStep = i;\n              break;\n            }\n          }\n          if (this.activeStep !== nextActiveStep) {\n            this.setActiveStep(nextActiveStep);\n          }\n          dataChanged = true;\n        }\n        if (dataChanged) {\n          this.renderChecklist(this.checklistData);\n\n          // Notify external listeners about the checklist update\n          GleapEventManager.notifyEvent('checklist-update', {\n            checklistId: this.checklistData.id,\n            outboundId: this.checklistData.outbound?.id,\n            completedSteps: this.checklistData.completedSteps,\n            status: this.checklistData.status,\n            data: this.checklistData,\n          });\n        }\n      }\n\n      // --- Floating (Click-based) Listeners ---\n      handleFloatingLauncherClick(event) {\n        event.stopPropagation();\n\n        if (this.checklistData.status === 'done') {\n          return;\n        }\n\n        const tasks = this.shadowRoot.querySelector('.checklist-tasks');\n        if (tasks) {\n          tasks.style.display = tasks.style.display === 'block' ? 'none' : 'block';\n        }\n      }\n\n      handleFloatingCloseClick(event) {\n        event.stopPropagation();\n        const tasks = this.shadowRoot.querySelector('.checklist-tasks');\n        if (tasks) {\n          tasks.style.display = 'none';\n        }\n      }\n\n      addFloatingClickListeners() {\n        const launcher = this.shadowRoot.querySelector('.checklist-floating-launcher');\n        if (launcher) {\n          launcher.addEventListener('click', this._boundFloatingLauncherClick);\n        }\n        const header = this.shadowRoot.querySelector('.checklist-floating-header');\n        if (header) {\n          header.addEventListener('click', this._boundFloatingCloseClick);\n        }\n      }\n\n      removeFloatingClickListeners() {\n        const launcher = this.shadowRoot.querySelector('.checklist-floating-launcher');\n        if (launcher) {\n          launcher.removeEventListener('click', this._boundFloatingLauncherClick);\n        }\n        const header = this.shadowRoot.querySelector('.checklist-floating-header');\n        if (header) {\n          header.removeEventListener('click', this._boundFloatingCloseClick);\n        }\n      }\n\n      // --- Rendering Logic ---\n      renderResponse() {\n        this.shadowRoot.innerHTML = '';\n      }\n\n      /**\n       * Renders the floating launcher. When called with the default class (\"checklist-floating\")\n       * it shows a chevron icon; when called with \"checklist-floating-header\" it shows a close icon.\n       */\n      renderFloatingLauncher(outbound, className = 'checklist-floating', renderDoneState = false) {\n        const steps = outbound.config?.steps || [];\n        const completedSteps = this.checklistData?.completedSteps || [];\n        let progress = 0;\n        if (this.progressbarEnabled && steps.length > 0) {\n          const totalSteps = steps.length;\n          const doneSteps = completedSteps.length;\n          progress = totalSteps > 0 ? (doneSteps / totalSteps) * 100 : 0;\n        }\n\n        // Determine the next incomplete step\n        const nextIncompleteStep = steps.find((step) => !completedSteps.includes(step.id));\n        let titleText =\n          steps.length > 0\n            ? nextIncompleteStep\n              ? nextIncompleteStep.title ||\n                this._translateWithVars(\n                  'stepDefaultTitle',\n                  { index: steps.indexOf(nextIncompleteStep) + 1 },\n                  `Step ${steps.indexOf(nextIncompleteStep) + 1}`\n                )\n              : ''\n            : outbound.subject || '';\n\n        let subtitleText =\n          steps.length > 0 ? (nextIncompleteStep ? nextIncompleteStep.description || '' : '') : outbound.message || '';\n\n        if (renderDoneState) {\n          titleText = outbound.config?.successTitle || '';\n          subtitleText = outbound.config?.successMessage || '';\n          progress = 100;\n        }\n\n        const circumference = 2 * Math.PI * 7;\n        const computedOffset = circumference - (progress / 100) * circumference;\n\n        const isHeader = className === 'checklist-floating-header';\n        const icon = isHeader\n          ? `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n               <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n               <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n             </svg>`\n          : `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n               <polyline points=\"6 9 12 15 18 9\"></polyline>\n             </svg>`;\n\n        return `\n          <div part=\"${className}\" class=\"${\n            isHeader ? 'checklist-floating-header' : 'checklist-floating-launcher'\n          } ${renderDoneState ? 'checklist-floating-launcher--done' : ''}\">\n            <div class=\"floating-header\">\n              <div class=\"floating-circular-progress\">\n                <svg viewBox=\"0 0 20 20\">\n                  <circle class=\"track\" cx=\"10\" cy=\"10\" r=\"7\"></circle>\n                  <circle class=\"progress\" cx=\"10\" cy=\"10\" r=\"7\" stroke-dasharray=\"${circumference.toFixed(\n                    2\n                  )}\" stroke-dashoffset=\"${computedOffset.toFixed(2)}\"></circle>\n                </svg>\n              </div>\n              <div class=\"floating-title\">${titleText}</div>\n              ${renderDoneState ? '' : `<span class=\"floating-icon\">${icon}</span>`}\n            </div>\n            <div class=\"floating-subtitle\">${subtitleText}</div>\n          </div>\n        `;\n      }\n\n      renderInfoSection(outbound) {\n        if (!this.infoEnabled || !outbound) return '';\n        const subject = outbound.subject || this._translate('checklistDefaultTitle', 'Checklist');\n        const message = outbound.message || '';\n        let senderHtml = '';\n        if (outbound.sender?.profileImageUrl) {\n          senderHtml = `\n            <div part=\"sender\" class=\"checklists-sender\">\n              <img part=\"sender-image\" src=\"${outbound.sender.profileImageUrl}\" alt=\"${\n                outbound.sender.firstName || 'Sender'\n              }'s profile picture\" style=\"object-fit: cover;\" />\n              <span part=\"sender-name\">${outbound.sender.firstName || ''}</span>\n            </div>`;\n        }\n        return `\n          <div part=\"info\" class=\"checklists-info\">\n            ${subject ? `<div part=\"info-title\" class=\"checklists-title\">${subject}</div>` : ''}\n            ${message ? `<div part=\"info-description\" class=\"checklists-description\">${message}</div>` : ''}\n            ${senderHtml}\n          </div>`;\n      }\n\n      renderProgressSection(steps = [], completedSteps = []) {\n        if (!this.progressbarEnabled || !steps.length) return '';\n        const totalSteps = steps.length;\n        const doneSteps = completedSteps.length;\n        const progress = totalSteps > 0 ? (doneSteps / totalSteps) * 100 : 0;\n        let duration = 0;\n        steps.forEach((step) => {\n          if (!completedSteps.includes(step.id) && step.duration > 0) {\n            duration += step.duration;\n          }\n        });\n        const progressLabel = this._translateWithVars(\n          'taskProgress',\n          { a: doneSteps, b: totalSteps },\n          `${doneSteps} of ${totalSteps} done`\n        );\n        const durationLabel =\n          duration > 0 ? this._translateWithVars('aboutMinutes', { a: duration }, `About ${duration} min left`) : '';\n        return `\n          <div part=\"progress-labels\" class=\"checklist-progress-labels\">\n            <div part=\"progress-label-primary\" class=\"checklist-progress-label\">${progressLabel}</div>\n            ${\n              durationLabel\n                ? `<div part=\"progress-label-secondary\" class=\"checklist-progress-label\">${durationLabel}</div>`\n                : ''\n            }\n          </div>\n          <div part=\"progress-bar\" class=\"checklist-progress-bar\">\n            <div part=\"progress-bar-progress\" class=\"checklist-progress-bar-progress\" style=\"width: ${progress}%;\"></div>\n          </div>`;\n      }\n\n      renderTasks(steps = [], completedSteps = []) {\n        if (!steps || steps.length === 0) return `<p>${this._translate('noStepsDefined', 'No steps defined.')}</p>`;\n        return steps\n          .map((step, index) => {\n            const isTaskDone = completedSteps.includes(step.id);\n            const isActive = this.activeStep === index;\n            const badge = isTaskDone\n              ? `<span part=\"task-badge\" class=\"checklist-task-header--badge checklist-task-header--badge-done\">${this.getCheckIcon()}</span>`\n              : `<span part=\"task-badge\" class=\"checklist-task-header--badge\">${index + 1}</span>`;\n            const stepTitle =\n              step.title || this._translateWithVars('stepDefaultTitle', { index: index + 1 }, `Step ${index + 1}`);\n            const stepDescription = step.description || '';\n            const actionButtonText = step.actionTitle || this._translate('actionDefaultTitle', 'Action');\n            const actionHtml =\n              step.action && step.action !== 'none'\n                ? `<div part=\"task-action\" class=\"checklist-task-body-action\" data-action-index=\"${index}\">\n                      <button type=\"button\" class=\"action-button form-send-button\">${actionButtonText}</button>\n                   </div>`\n                : '';\n            const markDoneLabel = this._translate('markAsDone', 'Mark as done');\n            const markDoneHtml =\n              step.allowMarkDone && !isTaskDone\n                ? `<div part=\"task-mark-done\" class=\"checklist-task-body-markdone\" data-markdone-index=\"${index}\">\n                      ${this.getCheckIcon()}\n                      <div class=\"checklist-task-body-markdone-label\">${markDoneLabel}</div>\n                   </div>`\n                : '';\n            const taskClasses = [\n              'checklist-task',\n              isTaskDone ? 'checklist-task--done' : '',\n              isActive ? 'checklist-task--active' : '',\n            ]\n              .filter(Boolean)\n              .join(' ');\n            return `\n              <div part=\"task\" class=\"${taskClasses}\" data-task-index=\"${index}\">\n                <div part=\"task-header\" class=\"checklist-task-header\" role=\"button\" aria-expanded=\"${isActive}\" aria-controls=\"task-body-${index}\">\n                  ${badge}\n                  <div part=\"task-header-title\" class=\"checklist-task-header--title\">${stepTitle}</div>\n                  <span part=\"task-header-chevron\" class=\"checklist-task-header--chevron\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                      <polyline points=\"6 9 12 15 18 9\"></polyline>\n                    </svg>\n                  </span>\n                </div>\n                <div part=\"task-body\" class=\"checklist-task-body\" id=\"task-body-${index}\">\n                  <div part=\"task-body-inner\" class=\"checklist-task-body-inner\">\n                    ${\n                      stepDescription\n                        ? `<div part=\"task-body-content\" class=\"checklist-task-body-content\">${stepDescription}</div>`\n                        : ''\n                    }\n                    ${actionHtml}\n                    ${markDoneHtml}\n                  </div>\n                </div>\n              </div>`;\n          })\n          .join('');\n      }\n\n      renderChecklist(data) {\n        if (!this._hasLoaded || !data || !data.outbound) {\n          this._checkSessionAndLoad();\n          return;\n        }\n        const { outbound } = data;\n        const steps = outbound.config?.steps || [];\n        const completedSteps = data.completedSteps || [];\n        const isDone = data.status === 'done' || (steps.length > 0 && completedSteps.length >= steps.length);\n        let content = '';\n        if (isDone) {\n          const successTitle = outbound.config?.successTitle || '';\n          const successMessage = outbound.config?.successMessage || '';\n          if (this.floatingEnabled) {\n            content = this.renderFloatingLauncher(outbound, 'checklist-floating-launcher', true);\n          } else {\n            content = `\n              <div part=\"content\" class=\"checklists-content checklists-content--done\">\n                <div part=\"success-icon\" class=\"checklists-success-icon\">\n                  <span part=\"success-icon-circle\" class=\"checklists-success-icon--circle\">${this.getCheckIcon()}</span>\n                </div>\n                <div part=\"success-title\" class=\"checklists-title\">${successTitle}</div>\n                <div part=\"success-description\" class=\"checklists-description\">${successMessage}</div>\n              </div>`;\n          }\n          if (this.activeStep !== -1) this.activeStep = -1;\n        } else {\n          content = `\n            <div part=\"content\" class=\"checklists-content\">\n              ${!this.floatingEnabled ? this.renderInfoSection(outbound) : ''}\n              ${!this.floatingEnabled ? this.renderProgressSection(steps, completedSteps) : ''}\n              ${this.floatingEnabled ? this.renderFloatingLauncher(outbound) : ''}\n              <div part=\"tasks\" class=\"checklist-tasks\">\n                ${this.floatingEnabled ? this.renderFloatingLauncher(outbound, 'checklist-floating-header') : ''}\n                ${this.renderTasks(steps, completedSteps)}\n              </div>\n            </div>`;\n        }\n\n        const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n        const primaryColor = flowConfig.color ? flowConfig.color : '#485BFF';\n\n        const styles = `\n          <style>\n            :host {\n              display: block;\n              --color-bg: #ffffff;\n              --color-font-title: #1f2937;\n              --color-font-text: #4b5563;\n              --color-font-light: #6b7280;\n              --color-primary: ${primaryColor};\n              --color-primary-light: ${primaryColor}22;\n              --color-primary-contrast: #ffffff;\n              --color-border: #e5e7eb;\n              --color-gray-light: #f3f4f6;\n              --color-gray-lighter: #f9fafb;\n              --color-gray-dark: #6b7280;\n              --color-success: #10b981;\n              --color-success-light: #ffffff;\n              --radius-sm: 4px;\n              --radius-lg: 12px;\n              --radius-full: 9999px;\n              --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n              --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -2px rgba(0, 0, 0, 0.08);\n              --shadow-lg: rgba(0, 0, 0, 0.2) 0px 7px 29px 0px;\n              --animation-duration: 0.2s;\n              --animation-timing: ease-in-out;\n              font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n              box-sizing: border-box;\n            }\n            :host([dark]) {\n              --color-bg: #1f2937;\n              --color-font-title: #f9fafb;\n              --color-font-text: #d1d5db;\n              --color-font-light: #9ca3af;\n              --color-primary: ${primaryColor};\n              --color-primary-light: ${primaryColor}22;\n              --color-primary-contrast: #ffffff;\n              --color-border: #374151;\n              --color-gray-light: #374151;\n              --color-gray-lighter: #111827;\n              --color-gray-dark: #9ca3af;\n              --color-success: #34d399;\n              --color-success-light: #1f2937;\n            }\n            *, *:before, *:after { box-sizing: inherit; }\n            .checklists-content { color: var(--color-font-text); }\n            .checklists-content--done { text-align: center; }\n            .checklists-info { margin-bottom: 24px; text-align: center; }\n            .checklists-title { font-size: 1.25rem; font-weight: 600; margin-bottom: 8px; color: var(--color-font-title); }\n            .checklists-description { font-size: 0.9rem; margin-bottom: 16px; color: var(--color-font-text); line-height: 1.5; }\n            .checklists-sender { display: flex; align-items: center; justify-content: center; gap: 8px; }\n            .checklists-sender img { width: 28px; height: 28px; border-radius: var(--radius-full); object-fit: cover; }\n            .checklists-sender span { font-size: 0.875rem; color: var(--color-font-light); font-weight: 500; }\n            .checklists-success-icon { margin-bottom: 16px; line-height: 0; }\n            .checklists-success-icon--circle { display: inline-flex; align-items: center; justify-content: center; width: 44px; height: 44px; border-radius: var(--radius-full); background-color: var(--color-success); color: var(--color-success-light); font-size: 22px; }\n            .checklist-progress-labels { display: flex; justify-content: space-between; margin-bottom: 8px; }\n            .checklist-progress-label { font-size: 0.75rem; color: var(--color-font-light); font-weight: 500; }\n            .checklist-progress-bar { width: 100%; height: 6px; background-color: var(--color-gray-light); border-radius: var(--radius-full); overflow: hidden; margin-bottom: 20px; }\n            .checklist-progress-bar-progress { height: 100%; background-color: var(--color-primary); transition: width var(--animation-duration) var(--animation-timing); border-radius: var(--radius-full); }\n            .checklist-tasks { display: flex; flex-direction: column; gap: 12px; }\n            .checklist-task { border: 1px solid var(--color-border); border-radius: var(--radius-lg); background-color: var(--color-bg); box-shadow: var(--shadow-sm); overflow: hidden; transition: background-color var(--animation-duration) var(--animation-timing), border-color var(--animation-duration) var(--animation-timing); }\n            .checklist-task-header { display: flex; align-items: center; padding: 15px 20px; cursor: pointer; gap: 12px; position: relative; }\n            .checklist-task-header:hover { background: var(--color-gray-lighter); }\n            .checklist-task-header:hover .checklist-task-header--chevron {\n              color: var(--color-font-title);\n            }\n            .checklist-task-header--badge { display: flex; align-items: center; justify-content: center; width: 28px; height: 28px; border-radius: var(--radius-full); background-color: var(--color-primary-light); color: var(--color-primary); font-size: 0.875rem; font-weight: 600; flex-shrink: 0; transition: background-color var(--animation-duration) var(--animation-timing), color var(--animation-duration) var(--animation-timing); line-height: 1; }\n            .checklist-task-header--badge svg { width: 16px; height: 16px; }\n            .checklist-task-header--title { flex-grow: 1; font-size: 0.9rem; font-weight: 500; color: var(--color-font-title); transition: font-weight var(--animation-duration) var(--animation-timing), color var(--animation-duration) var(--animation-timing), text-decoration var(--animation-duration) var(--animation-timing); }\n            .checklist-task-header--chevron { color: var(--color-font-light); transition: transform var(--animation-duration) var(--animation-timing); flex-shrink: 0; margin-left: auto; }\n            .checklist-task-header--chevron svg { display: block; width: 18px; height: 18px; }\n            .checklist-task-body {\n              overflow: hidden;\n              transition: max-height var(--animation-duration) var(--animation-timing), opacity var(--animation-duration) var(--animation-timing);\n              max-height: 0;\n              opacity: 0;\n            }\n            .checklist-task--active .checklist-task-body {\n              max-height: var(--task-body-active-height, 200px);\n              opacity: 1;\n            }\n            .checklist-task-body-inner { padding: 4px 16px 20px 60px; font-size: 0.875rem; color: var(--color-font-text); line-height: 1.5; }\n            .checklist-task-body-content { margin-bottom: 16px; }\n            .checklist-task-body-content p:first-child { margin-top: 0; }\n            .checklist-task-body-content p:last-child { margin-bottom: 0; }\n            .checklist-task-body-content iframe { width: 100%; height: 315px; object-fit: contain; border: none; }\n            .checklist-task-body-action { margin-top: 16px; }\n            .action-button { display: inline-flex; align-items: center; justify-content: center; background-color: var(--color-primary); color: var(--color-primary-contrast); padding: 10px 18px; font-size: 0.875rem; font-weight: 500; border-radius: var(--radius-lg); border: none; text-align: center; cursor: pointer; transition: background-color var(--animation-duration) var(--animation-timing), box-shadow var(--animation-duration) var(--animation-timing); box-shadow: var(--shadow-sm); }\n            .action-button:hover { background-color: color-mix(in srgb, var(--color-primary) 90%, black); box-shadow: var(--shadow-md); }\n            .action-button:focus { outline: 2px solid color-mix(in srgb, var(--color-primary) 50%, transparent); outline-offset: 2px; }\n            .checklist-task-body-markdone { margin-top: 20px; border-top: 1px solid var(--color-border); padding: 16px 0 0px 0; display: flex; align-items: center; cursor: pointer; color: var(--color-primary); transition: color var(--animation-duration) var(--animation-timing); }\n            .checklist-task-body-markdone:hover { color: color-mix(in srgb, var(--color-primary) 80%, black); }\n            .checklist-task-body-markdone svg { width: 18px; height: 18px; margin-right: 6px; flex-shrink: 0; font-size: 18px; }\n            .checklist-task-body-markdone-label { font-size: 0.875rem; font-weight: 500; line-height: 1; }\n            .checklist-task--active .checklist-task-header--title { font-weight: 600; }\n            .checklist-task--active .checklist-task-header--chevron { transform: rotate(180deg); }\n            .checklist-task--active .checklist-task-header:hover { background: linear-gradient(180deg, var(--color-gray-lighter), transparent); }\n            .checklist-task--done { background-color: var(--color-gray-lighter); border-color: var(--color-gray-light); box-shadow: none; }\n            .checklist-task--done .checklist-task-header--badge { background-color: var(--color-success); color: var(--color-success-light); }\n            .checklist-task--done .checklist-task-header--title { color: var(--color-font-light); }\n            .checklist-task--done .checklist-task-body-inner { color: var(--color-font-light); }\n            .checklist-task--done .checklist-task-header--title {\n              text-decoration: line-through;\n            }\n  \n            /* -------------------------\n               Floating style addition\n               Only applies if floating=\"true\"\n               ------------------------- */\n            :host([floating=\"true\"]) .checklists-content {\n              position: relative;\n            }\n            :host([floating=\"true\"]) .checklist-tasks {\n              position: absolute;\n              bottom: 0;\n              left: 0;\n              z-index: 1000;\n              max-height: 90vh;\n              display: none;\n              padding: 0px;\n              min-width: min(380px, 90vw);\n              background-color: var(--color-bg);\n              border-radius: var(--radius-lg);\n              box-shadow: var(--shadow-lg);\n              overflow: hidden;\n            }\n            :host([floating=\"true\"]) .checklist-task {\n              border-radius: 0px;\n              border: none;\n              box-shadow: none;\n              border-bottom: 1px solid var(--color-border);\n            }\n            :host([floating=\"true\"]) .checklist-task:last-child {\n              border-bottom: none;\n            }\n            :host([floating=\"true\"]) .checklist-task--done {\n              background-color: transparent;\n            }\n            :host([floating=\"true\"]) .checklist-task-header:hover {\n              background: linear-gradient(180deg, var(--color-gray-lighter), transparent);\n            }\n  \n            /* -------------------------\n               Floating Launcher Styles\n               ------------------------- */\n            .checklist-floating-launcher {\n              padding: 12px;\n              background-color: var(--color-bg);\n              border: 1px solid var(--color-border);\n              border-radius: var(--radius-lg);\n              box-shadow: var(--shadow-md);\n              transition: transform 0.3s ease;\n              cursor: pointer;\n            }\n            .checklist-floating-launcher--done {\n              cursor: default !important;\n            }\n            .checklist-floating-header {\n              padding: 20px;\n              padding-bottom: 16px;\n              border-bottom: 1px solid var(--color-border);\n              cursor: pointer;\n            }\n            .checklist-floating-header:hover .floating-icon,\n            .checklist-floating-launcher:hover .floating-icon {\n              color: var(--color-font-title);\n            }\n            .floating-header {\n              display: flex;\n              align-items: center;\n              justify-content: flex-start;\n            }\n            .floating-title {\n              font-size: 0.875rem;\n              font-weight: 600;\n              color: var(--color-font-title);\n              max-width: calc(100% - 32px);\n              display: -webkit-box;\n              -webkit-line-clamp: 1;\n              -webkit-box-orient: vertical;\n              overflow: hidden;\n            }\n            .floating-subtitle {\n              font-size: 0.875rem;\n              color: var(--color-font-text);\n              margin-top: 8px;\n              max-width: 100%;\n              display: -webkit-box;\n              -webkit-line-clamp: 1;\n              -webkit-box-orient: vertical;\n              overflow: hidden;\n            }\n            .floating-circular-progress {\n              width: 26px;\n              height: 26px;\n              margin-right: 6px;\n            }\n            .floating-circular-progress svg {\n              width: 100%;\n              height: 100%;\n              transform: rotate(-90deg);\n            }\n            .floating-circular-progress .track {\n              fill: none;\n              stroke: var(--color-gray-light);\n              stroke-width: 3;\n            }\n            .floating-circular-progress .progress {\n              fill: none;\n              stroke: var(--color-primary);\n              stroke-width: 3;\n              stroke-linecap: round;\n              transition: stroke-dashoffset var(--animation-duration) var(--animation-timing);\n            }\n            .checklist-floating-launcher--done .floating-circular-progress .progress {\n              stroke: var(--color-success);\n            }\n            .floating-icon {\n              margin-left: auto;\n              color: var(--color-font-light);\n            }\n          </style>\n        `;\n        this.shadowRoot.innerHTML = styles + content;\n        this.addTaskEventListeners();\n        if (this.floatingEnabled) {\n          this.addFloatingClickListeners();\n        }\n        if (this.activeStep !== -1) {\n          this.toggleTask(this.activeStep, true);\n        }\n      }\n\n      updateActiveTaskMaxHeight() {\n        if (this.activeStep !== -1) {\n          const taskBodyInner = this.shadowRoot.querySelector(\n            `.checklist-task[data-task-index=\"${this.activeStep}\"] .checklist-task-body-inner`\n          );\n          const container = this.shadowRoot.querySelector(\n            `.checklist-task[data-task-index=\"${this.activeStep}\"] .checklist-task-body`\n          );\n          if (taskBodyInner && container) {\n            const height = taskBodyInner.offsetHeight;\n            container.style.setProperty('--task-body-active-height', `${height}px`);\n          }\n        }\n      }\n\n      // --- Event Listener Setup ---\n      addTaskEventListeners() {\n        const tasks = this.shadowRoot.querySelectorAll('.checklist-task');\n        tasks.forEach((task) => {\n          const header = task.querySelector('.checklist-task-header');\n          const index = parseInt(task.getAttribute('data-task-index'), 10);\n          if (header) {\n            header.addEventListener('click', () => {\n              const newActiveStep = this.activeStep === index ? -1 : index;\n              this.setActiveStep(newActiveStep);\n            });\n          }\n          const markDoneBtn = task.querySelector('.checklist-task-body-markdone');\n          if (markDoneBtn) {\n            markDoneBtn.addEventListener('click', (e) => {\n              e.stopPropagation();\n              if (!this.checklistData?.outbound?.config?.steps) return;\n              const step = this.checklistData.outbound.config.steps[index];\n              if (!step) return;\n              const previouslyActiveStep = this.activeStep;\n              if (!this.checklistData.completedSteps) this.checklistData.completedSteps = [];\n              if (!this.checklistData.completedSteps.includes(step.id)) {\n                this.checklistData.completedSteps.push(step.id);\n                const allSteps = this.checklistData.outbound.config.steps;\n                let nextActiveStep = -1;\n                if (previouslyActiveStep === index) {\n                  for (let i = index + 1; i < allSteps.length; i++) {\n                    if (!this.checklistData.completedSteps.includes(allSteps[i].id)) {\n                      nextActiveStep = i;\n                      break;\n                    }\n                  }\n                  this.setActiveStep(nextActiveStep);\n                }\n                // Preserve the state of the floating modal.\n                setTimeout(() => {\n                  let isModalOpen = false;\n                  if (this.floatingEnabled) {\n                    const tasksModal = this.shadowRoot.querySelector('.checklist-tasks');\n                    isModalOpen = tasksModal && tasksModal.style.display === 'block';\n                  }\n                  this.renderChecklist(this.checklistData);\n                  if (this.floatingEnabled && isModalOpen) {\n                    const tasksModal = this.shadowRoot.querySelector('.checklist-tasks');\n                    if (tasksModal) tasksModal.style.display = 'block';\n                  }\n                }, 300);\n                const updateData = { checkedStep: step.id };\n                if (allSteps.length > 0 && this.checklistData.completedSteps.length >= allSteps.length) {\n                  this.checklistData.status = 'done';\n                  updateData.status = 'done';\n                }\n                this.updateChecklist(this.checklistData.id, updateData);\n              }\n            });\n          }\n          const actionBtn = task.querySelector('.checklist-task-body-action .action-button');\n          if (actionBtn) {\n            actionBtn.addEventListener('click', (e) => {\n              e.stopPropagation();\n              if (!this.checklistData?.outbound?.config?.steps || typeof Gleap === 'undefined') return;\n              const step = this.checklistData.outbound.config.steps[index];\n              if (!step || !step.action || step.action === 'none') return;\n              try {\n                if (step.action === 'BOT') Gleap.startBot(step.botId);\n                else if (step.action === 'CUSTOM_ACTION') Gleap.triggerCustomAction(step.actionBody);\n                else if (step.action === 'REDIRECT_URL') {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  e.stopImmediatePropagation();\n                  Gleap.openURL(step.actionBody, !!step.actionOpenInNewTab);\n                } else if (step.action === 'FEEDBACK_FLOW') Gleap.startFeedbackFlow(step.formId);\n                else if (step.action === 'NEWS_ARTICLE') Gleap.openNewsArticle(step.articleId);\n                else if (step.action === 'HELP_ARTICLE') Gleap.openHelpCenterArticle(step.articleId);\n                else if (step.action === 'CHECKLIST') Gleap.startChecklist(step.outboundId, true, step?.sharedKey);\n                else if (step.action === 'PRODUCT_TOUR') Gleap.startProductTour(step.productTourId, true);\n              } catch (gleapError) {}\n            });\n          }\n        });\n      }\n\n      // --- Animation and State Management ---\n      setActiveStep(index) {\n        const previousActiveStep = this.activeStep;\n        this.activeStep = index;\n        const tasksToToggle = [];\n        if (previousActiveStep !== -1 && previousActiveStep !== this.activeStep) {\n          tasksToToggle.push({ index: previousActiveStep, open: false });\n        }\n        if (this.activeStep !== -1 && this.activeStep !== previousActiveStep) {\n          tasksToToggle.push({ index: this.activeStep, open: true });\n        }\n        tasksToToggle.forEach(({ index, open }) => {\n          this.toggleTask(index, open);\n        });\n      }\n\n      toggleTask(index, forceOpen = null) {\n        const taskElement = this.shadowRoot.querySelector(`.checklist-task[data-task-index=\"${index}\"]`);\n        if (!taskElement) return;\n        const header = taskElement.querySelector('.checklist-task-header');\n        if (!header) return;\n        const isOpen = taskElement.classList.contains('checklist-task--active');\n        const shouldOpen = forceOpen !== null ? forceOpen : !isOpen;\n        if (shouldOpen) {\n          if (!isOpen) {\n            taskElement.classList.add('checklist-task--active');\n            header.setAttribute('aria-expanded', 'true');\n          }\n          const taskBodyInner = taskElement.querySelector('.checklist-task-body-inner');\n          if (taskBodyInner) {\n            const height = taskBodyInner.offsetHeight;\n            const taskBody = taskElement.querySelector('.checklist-task-body');\n            if (taskBody) {\n              taskBody.style.setProperty('--task-body-active-height', `${height}px`);\n            }\n          }\n          // Recalculate height when iframes finish loading\n          const iframes = taskElement.querySelectorAll('iframe');\n          iframes.forEach((iframe) => {\n            if (!iframe._heightListenerAdded) {\n              iframe._heightListenerAdded = true;\n              iframe.addEventListener('load', () => {\n                if (this.activeStep === index) {\n                  this.updateActiveTaskMaxHeight();\n                }\n              });\n            }\n          });\n        } else if (!shouldOpen && isOpen) {\n          taskElement.classList.remove('checklist-task--active');\n          header.setAttribute('aria-expanded', 'false');\n        }\n      }\n    }\n\n    if (typeof customElements !== 'undefined' && !customElements.get('gleap-checklist')) {\n      customElements.define('gleap-checklist', GleapChecklist);\n    }\n  }\n};\n","import Gleap from './Gleap';\n\nexport default Gleap;\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","GleapFeedbackButtonManager","_classCallCheck","_defineProperty","value","instance","feedbackButton","remove","buttonHidden","lastButtonIcon","injectedFeedbackButton","show","getInstance","updateFeedbackButtonState","GleapNotificationManager","updateContainerStyle","frameManager","GleapFrameManager","isOpened","redDotClass","existingDot","querySelector","concat","dot","document","createElement","className","appendChild","hideWidget","updateRedDot","showingRedDot","setAppMode","showWidget","_this","elem","addEventListener","feedbackButtonPressed","body","count","notificationBadge","notificationHiddenClass","classList","innerText","add","updateFeedbackButtonText","injectFeedbackButton","flowConfig","GleapConfigManager","getFlowConfig","feedbackButtonPosition","FEEDBACK_BUTTON_CLASSIC","FEEDBACK_BUTTON_CLASSIC_BOTTOM","FEEDBACK_BUTTON_CLASSIC_LEFT","widgetButtonText","GleapAiChatbarManager","updateUIVisibility","buttonIcon","buttonLogo","loadIcon","setAttribute","GleapTranslationManager","isRTLLayout","innerHTML","hideButton","FEEDBACK_BUTTON_NONE","FEEDBACK_BUTTON_BOTTOM_LEFT","appMode","hideForGuests","GleapSession","isUser","calculateShadeColor","col","amt","replace","length","_col$match2","_slicedToArray","match","r","g","b","_ref","parseInt","Math","max","min","toString","rr","gg","bb","calculateContrast","hex","substr","name","color","GleapNetworkIntercepter","Date","now","loadAllResources","contentType","toLocaleLowerCase","supportedContentTypes","i","includes","requests","JSON","parse","stringify","values","externalRequests","filters","request","headers","j","payload","payloadObj","e","response","responseText","data","window","performance","resources","getEntriesByType","resource","indexOf","initiatorType","find","url","push","type","date","startTimestamp","startTime","duration","round","exp","blacklist","defaultBlacklist","filter","maxRequests","stopped","keys","keysToRemove","slice","bbRequestId","startDate","getTime","text","size","TextEncoder","encode","encodeURI","s","split","Blob","getTextContentSize","undefined","TextDecoder","_typeof","ArrayBuffer","isView","decode","payloadText","cleanupPayload","cleanupContentSize","initialized","self","interceptNetworkRequests","onFetch","params","fromEntries","entries","method","preparePayload","cleanRequests","onFetchLoad","req","status","statusText","calcRequestTime","isContentTypeSupported","then","err","onFetchFailed","onOpen","args","onSend","requestHeaders","onError","currentTarget","onLoad","target","responseType","callback","originalFetch","open","XMLHttpRequest","send","gleapSetRequestHeader","setRequestHeader","header","requestId","arguments","bind","apply","fetch","clone","blob","Promise","resolve","reject","fr","FileReader","onload","evt","result","onerror","readAsText","resizeImage","base64Str","maxWidth","maxHeight","isJPEG","img","Image","src","canvas","MAX_WIDTH","MAX_HEIGHT","width","height","getContext","drawImage","toDataURL","MOBILE_UA_REGEX","getDeviceType","isMobile","nav","navigator","userAgentData","mobile","test","userAgent","vendor","maxTouchPoints","matchMedia","coarsePointer","matches","gleapDataParser","String","truncateString","str","num","removeSubDomain","v","parts","is2ndLevelDomain","secondLevel","join","loadFromGleapCache","cachedData","localStorage","getItem","saveToGleapCache","k","setItem","removeItem","runFunctionWhenDomIsReady","readyState","RequestStatus","ChecklistNetworkManager","Map","validationCache","clear","fetchCache","validationRequests","fetchRequests","gleapSessionInstance","session","lang","getActiveLanguage","gleapId","gleapHash","apiUrl","xhr","injectSession","onreadystatechange","responseData","error","outboundId","sharedKey","cacheKey","_createCacheKey","cachedResult","internalId","has","_getApiUrl","Error","set","_getQueryParams","requestPromise","_makeRequest","id","_this2","floor","createCoords","x","y","oppositeSideMap","left","right","bottom","top","oppositeAlignmentMap","start","end","clamp","param","placement","axis","getAxisLength","yAxisSides","Set","getAlignmentAxis","alignment","lrPlacement","rlPlacement","tbPlacement","btPlacement","getOppositeAxisPlacements","flipAlignment","direction","rtl","list","side","isStart","getSideList","map","getOppositePlacement","padding","expandPaddingObject","rect","computeCoordsFromPlacement","reference","floating","sideAxis","alignmentAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","async","detectOverflow","state","options","_await$platform$isEle","platform","rects","elements","strategy","boundary","rootBoundary","elementContext","altBoundary","paddingObject","element","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","offsetParent","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","originSides","hasWindow","getNodeName","node","isNode","nodeName","toLowerCase","getWindow","_node$ownerDocument","ownerDocument","defaultView","documentElement","Node","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","invalidOverflowDisplayValues","isOverflowElement","overflow","overflowX","overflowY","display","tableElements","isTableElement","topLayerSelectors","isTopLayer","some","selector","_e","transformProperties","willChangeValues","containValues","isContainingBlock","elementOrCss","webkit","isWebKit","css","containerType","backdropFilter","willChange","contain","CSS","supports","lastTraversableNodeNames","isLastTraversableNode","getComputedStyle","getNodeScroll","scrollLeft","scrollTop","scrollX","scrollY","getParentNode","assignedSlot","parentNode","host","getNearestOverflowAncestor","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","frameElement","getFrameElement","visualViewport","parent","getPrototypeOf","getCssDimensions","parseFloat","hasOffset","offsetWidth","offsetHeight","shouldFallback","$","unwrapElement","domElement","getBoundingClientRect","Number","isFinite","noOffsets","getVisualOffsets","offsetLeft","offsetTop","includeScale","isFixedStrategy","clientRect","scale","visualOffsets","isFixed","floatingOffsetParent","shouldAddVisualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","getWindowScrollBarX","leftScroll","getHTMLOffset","scroll","htmlRect","SCROLLBAR_MAX","absoluteOrFixed","getClientRectFromClippingAncestor","clippingAncestor","html","clientWidth","clientHeight","visualViewportBased","windowScrollbarX","doc","bodyStyles","bodyMarginInline","compatMode","marginLeft","marginRight","clippingStableScrollbarWidth","abs","getViewportRect","scrollWidth","scrollHeight","getDocumentRect","getInnerBoundingClientRect","hasFixedPositionAncestor","stopNode","position","getRectRelativeToOffsetParent","isOffsetParentAnElement","offsets","setLeftRTLScrollbarOffset","offsetRect","htmlOffset","isStaticPositioned","getTrueOffsetParent","polyfill","rawOffsetParent","svgOffsetParent","currentNode","getContainingBlock","topLayer","elementClippingAncestors","cache","el","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","ancestor","getClippingElementAncestors","_c","clippingAncestors","firstClippingAncestor","clippingRect","reduce","accRect","getElementRects","getOffsetParentFn","getDimensionsFn","getDimensions","floatingDimensions","getClientRects","Array","from","isRTL","rectsAreEqual","a","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","IntersectionObserver","animationFrame","referenceEl","ancestors","forEach","passive","cleanupIo","onMove","timeoutId","io","cleanup","_io","clearTimeout","disconnect","refresh","skip","threshold","elementRectForRootMargin","rootMargin","isFirstUpdate","handleObserve","ratio","intersectionRatio","setTimeout","observe","observeMove","frameId","reobserveFrame","resizeObserver","firstEntry","unobserve","cancelAnimationFrame","requestAnimationFrame","_resizeObserver","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","removeEventListener","fn","_middlewareData$offse","_middlewareData$arrow","middlewareData","diffCoords","mainAxisMulti","crossAxisMulti","rawValue","mainAxis","crossAxis","convertValueToCoords","offset","arrow","alignmentOffset","checkMainAxis","checkCrossAxis","limiter","detectOverflowOptions","mainAxisCoord","crossAxisCoord","maxSide","limitedCoords","enabled","_middlewareData$flip","initialPlacement","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","initialSideAxis","isBasePlacement","oppositePlacement","getExpandedPlacements","hasFallbackAxisSideDirection","placements","overflows","overflowsData","flip","sides","mainAlignmentSide","every","_middlewareData$flip2","_overflowsData$filter","nextIndex","index","nextPlacement","d","reset","resetPlacement","sort","_overflowsData$filter2","currentSideAxis","acc","arrowDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","shouldAddOffset","centerOffset","mergedOptions","platformWithCache","config","middleware","validMiddleware","Boolean","statefulPlacement","resetCount","_platform$detectOverf","nextX","nextY","computePosition","checkPageFilter","currentUrl","pageFilter","pageFilterType","removeTrailingSlash","isMatchingUrl","regex","startsWith","substring","regexPattern","RegExp","generateRegex","matched","endsWith","GleapTooltipManager","WeakMap","tooltip","hasAttribute","nextId","tooltipElem","mode","hotspotContainer","canEmbed","firstChild","insertBefore","nextSibling","hotspot","icon","animated","repositionHotspot","elementToTooltipMap","floatingUIInstance","createTooltip","elementToFloatingUIMap","filteredTooltips","getFilteredTooltips","checkForTooltips","tooltips","location","href","page","pageType","querySelectorAll","linkTooltip","sessionInstance","http","sdkKey","console","updateFilteredTooltips","nodeType","ELEMENT_NODE","checkNodeTooltip","childNodes","childNode","processNodeInsertion","_this3","_this4","time","timeout","handleResizeThrottled","updateHotspotPositions","context","_toConsumableArray","observer","MutationObserver","mutations","lastUrl","mutation","addedNodes","removedNodes","floatingUI","childList","subtree","attributes","attributeFilter","_this5","tooltipText","tooltipData","hideTimeout","arrowEl","posX","shift","assign","style","arrowPos","transform","visibility","opacity","pointerEvents","hide","voidElements","tagName","resizeListener","anchor","removeAttribute","tooltipId","getAttribute","posY","offsetX","offsetY","elementRect","range","createRange","selectNodeContents","fixedWidth","anchorRect","tooltipSize","email","userId","phone","onSessionReady","ready","onSessionReadyListener","attemp","retry","GleapEventManager","notifyEvent","useCookies","cookie","eraseGleapCookie","sendMessage","clearAllNotifications","setNotificationCount","GleapBannerManager","removeBannerUI","GleapModalManager","hideModal","isNaN","newTimeout","pow","startSession","_this$session","sessionChanged","days","expires","setTime","toUTCString","setGleapCookie","encodeURIComponent","clearCache","GleapStreamedEvent","restart","tooltipManager","destroy","load","dispatchEvent","CustomEvent","notifySessionReady","sessionCookie","nameEQ","ca","c","charAt","getGleapCookie","sessionData","decodeURIComponent","validateSession","cachedSession","clearSession","deviceType","userData","checkIfSessionDataNeedsUpdate","userDataKeys","userDataKey","customData","setOnSessionReady","_objectSpread","sdkVersion","SDK_VERSION","ws","userHash","checkIfSessionNeedsUpdate","dataToSend","tourId","tourData","_window","passedPageFilter","sendSessionUpdate","streamEvents","mainLoopTimeout","runEventStreamLoop","streamingEvents","errorCount","streamedEventArray","socket","OPEN","sessionDuration","GleapMetaDataManager","getSessionDuration","events","opened","handleOpenBound","handleOpen","handleErrorBound","handleError","handleMessageBound","handleMessage","handleCloseBound","handleClose","connectionTimeout","pingWS","clearInterval","close","cleanupWebSocket","connectedWebSocketGleapId","WebSocket","wsApiUrl","event","setInterval","processMessage","initWebSocket","message","GleapAdminManager","_ai$e","_message$data","u","ai","listOfActionsWhereIgnoreOpened","filteredActions","action","_action$actionType","actionType","Gleap","performActions","setConfig","placeholder","p","quickActions","_checklistData$comple","_checklistData$comple2","checklistData","completedSteps","completedStepsBefore","_loop","_checklistData$steps","step","steps","stepIndex","checklistId","stepId","detail","eventArray","cleanupMainLoop","trackInitialEvents","startPageListener","resetErrorCountLoop","logEvent","logCurrentPage","disablePageTracking","log","eventMaxLength","parseIntWithDefault","val","def","parsed","onConfigLoaded","onConfigLoadedListener","aiTools","sendConfigUpdate","cachedConfig","applyConfig","loadConfigFromServer","_unused","clearGleapCache","setStyles","headerColor","buttonColor","backgroundColor","borderRadius","buttonX","buttonY","applyStylesFromConfig","enableWebReplays","GleapReplayRecorder","stop","enableNetworkLogs","setLoadAllResources","sendNetworkResources","networkLogPropsToIgnore","setFilters","networkLogBlacklist","setBlacklist","updateRTLSupport","enableShortcuts","aiBar","notifyConfigLoaded","_regeneratorRuntime","t","n","Symbol","iterator","asyncIterator","toStringTag","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","l","f","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","done","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","reverse","pop","prev","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","_next","_throw","info","_asyncToGenerator","documentToHTML","doctype","publicId","systemId","outerHTML","loadCSSUrlResources","basePath","remote","asyncFn","matchedData","matchedUrl","replaceAll","resourcePath","URL","fetchCSSResource","resourceData","promises","_len","_key","promise","all","reader","onloadend","readAsDataURL","fetchItemResource","isBlacklisted","warn","progressResource","replaceStyleNodes","styleSheet","cssTextContent","styleId","cloneTargetNode","ownerNode","replacementNode","head","styleNode","cssText","createTextNode","linkNode","rel","media","getTextContentFromStyleSheet","cssRules","rules","cssRuleItem","downloadAllCSSUrlResources","basePathURL","styleSheets","mediaText","baseTags","getElementsByTagName","origin","lastIndexOf","replacedStyle","styletext","stylesheet","results","prepareRemoteData","dom","imgItems","imgItemsPromises","item","downloadAllImages","handleAdoptedStyleSheets","shadowNodeId","adoptedStyleSheets","shadowStyleNode","firstElementChild","extractFinalCSSState","getAnimations","animations","finalCSSState","animation","_animation$effect","keyframes","effect","getKeyframes","finalKeyframe","property","deepClone","_callee3","cloneNode","fragment","clonedHead","_context3","_ref2","_callee2","shadowRoot","walkTree","webAnimations","boundingRect","resizedImage","_boundingRect","rootShadowNodeId","_context2","_ref3","_callee","nextn","nextp","innerShadowRoot","_context","nextElementSibling","_x5","_x6","_x7","HTMLCanvasElement","t0","toUpperCase","contains","checked","_x2","_x3","_x4","createDocumentFragment","_x","prepareScreenshotData","_ref4","_callee4","styleTags","linkImportElems","referenceNode","scriptElems","existingBasePath","baseElems","baseUrl","newBaseUrl","baseNode","dialogElems","bbElems","_context4","innerWidth","innerHeight","_x8","_x9","_createForOfIteratorHelper","allowArrayLike","it","isArray","minLen","_arrayLikeToArray","_unsupportedIterableToArray","F","normalCompletion","didErr","_e2","arr","len","arr2","_defineProperties","props","descriptor","_toPropertyKey","toPrimitive","_toPrimitive","GleapScreenRecorder","rerender","permissionErrorText","Constructor","MAX_RECORD_TIME","mediaDevices","getDisplayMedia","available","RERENDER_DELAY","protoProps","staticProps","_uploadScreenRecording","_startAudioRecording","_startScreenRecording","_step","_iterator","MIME_TYPES","MediaRecorder","isTypeSupported","stream","getTracks","track","_","tracks","validTracks","MediaStream","videoTracks","getVideoTracks","audioTracks","getAudioTracks","displayStream","composed","isRecording","video","ideal","screen","frameRate","IDEAL_FRAME_RATE","MAX_FRAME_RATE","displaySurface","audio","selfBrowserSurface","_displayStream","_displayVideoTrack","getFirstVideoTrack","audioMuted","startAudioRecording","audioAvailable","createMediaStream","handleRecord","alert","mediaRecorder","recordingTimer","stopStreamTracks","_micStream","voiceStream","micTrack","_composed","getUserMedia","echoCancellation","noiseSuppression","autoGainControl","getFirstAudioTrack","videoEl","SELECTORS","PREVIEW_VIDEO","file","recordedChunks","mimeType","getSupportedMimeType","recordTime","timerLabel","TIMER_LABEL","remainingTime","maxRecordTime","formatTime","stopScreenRecording","TIMER_UPDATE_INTERVAL","ondataavailable","videoTrack","onended","prepareRecording","onstop","CHUNK_INTERVAL","completeBlob","extension","File","previewVideoElement","createObjectURL","screenRecordingData","formData","FormData","append","fileUrl","GleapFeedback","priority","isSilent","excludeData","spamToken","gleapInstance","GleapCustomDataManager","getCustomData","metaData","getMetaData","consoleLog","GleapConsoleLogManager","getLogs","networkLogs","getRequests","customEventLog","getEventArray","ticketAttributes","getTicketAttributes","dataPromises","webReplay","getGlobalDataItem","isLiveSite","recordingUrlPromise","uploadScreenRecording","recordingUrl","screenRecordingUrl","screenshot","screenshotDataPromise","isLiveMode","screenshotData","snapshotPosition","feedbackData","outbound","tags","GleapTagManager","getTags","keysToExclude","keyToExclude","takeSnapshot","getData","feedback","newTab","newWindow","focus","cmp_block_ignoredomains","injectedFrame","autoWhiteListCookieManager","frameUrl","gleapFrameContainer","gleapFrame","updateFrameStyle","showFrameContainer","closeElement","surveyStyle","extendedStyle","surveyFullStyle","classicStyle","classicStyleLeft","modernStyleLeft","noButtonStyleLeft","allStyles","styleToApply","startCommunication","appHeight","setProperty","handler","urlHandler","innerContainer","escListener","widgetOpened","markerManager","showLoader","loadingClass","disableBGFade","disableBGGradient","updateUI","workThroughQueue","setGlobalDataItem","updateWidgetStatus","registerEscListener","isSurvey","updateNotificationBadge","runWidgetShouldOpenCallback","injectFrame","isWidgetOpen","resetRoutes","hideMarkerManager","reloadNotificationsFromCache","unregisterEscListener","queue","comReady","contentWindow","postMessage","getSession","getAiTools","overrideLanguage","getOverrideLanguage","GleapMarkerManager","success","workQueue","_this6","addMessageListener","GleapAudioManager","ping","showImage","ticketData","frameHeight","_data$data","startProductTour","GleapCustomActionManager","triggerCustomAction","shareToken","_checklistData$outbou","_checklistData$outbou2","_data$data2","_checklistData2$outbo","sendingFeedback","feedbackType","sendFeedback","reportedBy","trackEvent","showDrawingScreen","bannerUrl","listeners","appVersionCode","appBuildNumber","sessionStart","nameOffset","verOffset","ix","nAgt","browserName","appName","fullVersion","appVersion","majorVersion","OSName","browser","systemName","buildVersionNumber","releaseVersionNumber","devicePixelRatio","screenWidth","screenHeight","language","userLanguage","sdkType","environment","logArray","disabled","originalConsoleLog","logLevel","logMaxLength","addLog","origConsole","addLogWithArgs","GleapClickListener","protocol","preventDefault","handleGleapLink","elementId","elementClass","elemId","elemClass","elementTag","htmlPre","htmlPost","getDOMElementDescription","takeCurrentReplay","eventListeners","eventListener","eventName","customAction","customActionCallbacks","_a","__defProp","__publicField","__defNormalProp","__defProp$1","__publicField$1","__defNormalProp$1","NodeType$3","NodeType2","testableAccessors$1","testableMethods$1","untaintedBasePrototype$1","isAngularZonePresent$1","globalThis","Zone","getUntaintedPrototype$1","defaultObj","defaultPrototype","accessorNames","isUntaintedAccessors","accessor","_a2","_b","getOwnPropertyDescriptor","methodNames","isUntaintedMethods","iframeEl","untaintedObject","removeChild","untaintedAccessorCache$1","getUntaintedAccessor$1","untaintedPrototype","untaintedAccessor","untaintedMethodCache$1","getUntaintedMethod$1","untaintedMethod","index$1","n2","parentElement","textContent","other","getRootNode","selectors","mutationObserver","patch","source","replacement","original","wrapped","defineProperties","__rrweb_original__","hostEl","isNativeShadowDom","shadowRoot2","stringifyStylesheet","s2","rules2","sheetHref","baseURI","stringifiedRules","rule2","stringifyRule","isCSSImportRule","importStringified","statement","layerName","supportsText","escapeImportStatement","absolutifyURLs","ruleStringified","isCSSStyleRule","selectorText","cssStringified","fixSafariColons","Mirror","getId","getMeta","getNode","idNodeMap","getIds","nodeMetaMap","removeNodeFromMap","delete","hasNode","node2","meta","oldNode","maskInputValue","maskInputOptions","maskInputFn","actualType","repeat","ORIGINAL_ATTRIBUTE_NAME","getInputType","extractFileExtension","path","baseURL","pathname","URL_IN_CSS_REF","URL_PROTOCOL_MATCH","URL_WWW_MATCH","DATA_URI","quote1","path1","quote2","path2","path3","filePath","maybeQuote","extractOrigin","stack","part","normalizeCssString","_testNoPxNorm","markCssSplits","childNodes2","splits","iterCount","cssTextNorm","normFactor","i2","textContentNorm","jLimit","startSubstring","cssNormSplits","splitNorm","prevTextContent","prevMinLength","normPart","splitCssText","_id","tagNameRegex","IGNORED_NODE","genId","canvasService","canvasCtx","SRCSET_NOT_SPACES","SRCSET_COMMAS_OR_SPACES","cachedDocument","absoluteToDoc","attributeValue","trim","getHref","isSVGElement","ownerSVGElement","customHref","a2","transformAttribute","pos","collectCharacters","regEx","chars2","exec","output","descriptorsStr","inParens","c2","getAbsoluteSrcsetString","ignoreAttribute","_value","classMatchesRegex","checkAncestors","eIndex","needMaskingText","maskTextClass","maskTextSelector","closest","e2","serializeNode","mirror","mirror2","blockClass","blockSelector","needsMask","inlineStylesheet","maskTextFn","dataURLOptions","inlineImages","recordCanvas","keepIframeSrcFn","newlyAddedElement","cssCaptured","rootId","docId","getRootId","DOCUMENT_NODE","Document","DOCUMENT_TYPE_NODE","DocumentType","needBlock","_isBlockedElement","HTMLFormElement","processedTagName","getValidTagName$1","attr","_cssText","sheet","selected","rr_open_mode","__context","ctx","x2","getImageData","originalGetImageData","Uint32Array","buffer","pixel","is2DCanvasBlank","rr_dataURL","quality","canvasDataURL","blankCanvas","image","imageSrc","currentSrc","priorCrossOrigin","crossOrigin","recordInlineImage","naturalWidth","naturalHeight","mediaAttributes","rr_mediaState","paused","rr_mediaCurrentTime","currentTime","rr_mediaPlaybackRate","playbackRate","rr_mediaMuted","muted","rr_mediaLoop","loop","rr_mediaVolume","volume","rr_scrollLeft","rr_scrollTop","class","rr_width","rr_height","contentDocument","rr_src","isCustomElement","customElements","isSVG","isCustom","serializeElementNode","TEXT_NODE","parentTagName","textContent2","isStyle","isScript","Text","serializeTextNode","CDATA_SECTION_NODE","CDATA","COMMENT_NODE","Comment","lowerIfExists","maybeAttr","slimDOMDefaults","_slimDOMOptions","script","comment","headFavicon","headWhitespace","headMetaSocial","headMetaRobots","headMetaHttpEquiv","headMetaVerification","headMetaAuthorship","headMetaDescKeywords","headTitleMutations","serializeNodeWithId","skipChild","slimDOMOptions","onSerialize","onIframeLoad","iframeLoadTimeout","onStylesheetLoad","stylesheetLoadTimeout","preserveWhiteSpace","_serializedNode","sn","as","slimDOMExcluded","serializedNode","recordChild","shadowRootEl","isShadowHost","bypassOptions","childN","serializedChildNode","isShadow","listener","fired","timer","blankUrl","onceIframeLoaded","iframeDoc","serializedIframeNode","link","styleSheetLoadTimeout","styleSheetLoaded","onceStylesheetLoaded","serializedLinkNode","getDefaultExportFromCjs$1","__esModule","getAugmentedNamespace$1","f2","default","a22","Reflect","construct","picocolors_browser$1","x$1","create$1","isColorSupported","bold","dim","italic","underline","inverse","hidden","strikethrough","black","red","green","yellow","blue","magenta","cyan","white","gray","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","createColors","picocolors_browserExports$1","require$$2$1","freeze","pico$1","terminalHighlight$1$1","CssSyntaxError$3$1","CssSyntaxError","line","column","plugin22","super","reason","plugin","endLine","endColumn","setMessage","captureStackTrace","showSourceCode","aside","lines","index2","number","gutter","spacing","code","cssSyntaxError$1","symbols$1","isClean","my","DEFAULT_RAW$1","after","beforeClose","beforeComment","beforeDecl","beforeOpen","beforeRule","colon","commentLeft","commentRight","emptyBody","indent","semicolon","Stringifier$2$1","builder","atrule","raws","afterName","nodes","block","between","beforeAfter","detect","raw","buf","depth","last","child","before","decl","string","important","own","first","root2","rawCache","walk","rawBeforeClose","rawBeforeComment","walkComments","rawBeforeDecl","walkDecls","rawBeforeOpen","rawBeforeRule","rawColon","rawEmptyBody","rawIndent","rawSemicolon","rule","ownSemicolon","stringifier$1","Stringifier$1$1","stringify$4$1","stringify_1$1","isClean$2$1","my$2$1","CssSyntaxError$2$1","Stringifier2$1","stringify$3$1","cloneNode$1","cloned","Node$4$1","defaults","addToError","postcssNode","input","insertAfter","overrides","cleanRaws","keepBetween","cloneAfter","cloneBefore","opts","rangeBy","getProxyProcessor","toProxy","markDirty","positionBy","stringRepresentation","positionInside","word","endIndex","defaultType","replaceWith","bookmark","foundSelf","result2","toJSON","inputs","fixed","emitInputs","inputsNextIndex","inputId","input2","proxyCache","Proxy","stringifier2","proxyOf","node$1","Node$3$1","Declaration$4$1","variable","declaration$1","nonSecure$1","nanoid","random","customAlphabet","alphabet","defaultSize","SourceMapConsumer","SourceMapConsumer$2$1","SourceMapGenerator","SourceMapGenerator$2$1","existsSync","existsSync$1","readFileSync","readFileSync$1","dirname","dirname$1$1","join$1","PreviousMap$2$1","loadAnnotation","inline","startWith","annotation","loadMap","mapFile","consumer","consumerCache","decodeInline","lastMatch","Buffer","atob","encoding","getAnnotationURL","sourceMapString","isMap","mappings","_mappings","sections","comments","loadFile","fromSourceMap","prevPath","withContent","sourcesContent","previousMap$1","SourceMapConsumer$1$1","SourceMapGenerator$1$1","fileURLToPath","fileURLToPath$1","pathToFileURL","pathToFileURL$1$1","isAbsolute","isAbsolute$1","resolve$1$1","nanoid$2","terminalHighlight$2","CssSyntaxError$1$1","PreviousMap$1$1","fromOffsetCache$1","sourceMapAvailable$1$1","pathAvailable$1$1","Input$4$1","hasBOM","mapResolve","fromOffset","lastLine","lineToIndex","prevIndex","l2","mid","sourceRoot","to","fromUrl","originalPositionFor","sourceContentFor","json","input$1","registerInput","SourceMapConsumer$3","SourceMapGenerator$3","dirname$2","relative","relative$1","resolve$2","sep","sep$1","pathToFileURL$2","Input$3$1","sourceMapAvailable$2","pathAvailable$2","mapGenerator$1","stringify2","cssString","mapOpts","originalCSS","usesFileUrls","absolute","memoizedFileURLs","memoizedPaths","memoizedURLs","addAnnotation","content","isInline","toBase64","outputFile","eol","applyPrevMaps","previous","toUrl","applySourceMap","clearAnnotation","generate","generateMap","generateString","ignoreInvalidMapping","addMapping","generated","isSourcesContent","setSourcesContent","isAnnotation","noSource","mapping","sourcePath","charCodeAt","cached","previousMaps","already","toFileUrl","setSourceContent","btoa","unescape","fileURL","Node$2$1","Comment$4$1","comment$1","parse$4$1","Rule$4$1","AtRule$4$1","Root$6$1","isClean$1$1","my$1$1","Declaration$3$1","Comment$3$1","Node$1$1","cleanSource$1","markDirtyUp$1","Container$7$1","Container","children","normalize","each","getIterator","indexes","condition","lastEach","cb","exist","existIndex","splice","sample","rebuild","prepend","unshift","removeAll","replaceValues","pattern","fast","walkAtRules","walkRules","registerParse","dependant","registerRule","registerAtRule","registerRoot","container$1","LazyResult$4$1","Processor$3$1","Container$6$1","Document$3$1","toResult","registerLazyResult","registerProcessor","document$1$1","Warning$2$1","opt","warning$1","Warning$1$1","Result$3$1","processor2","processor","messages","lastPlugin","postcssPlugin","warning2","warnings","result$1","SINGLE_QUOTE$1","DOUBLE_QUOTE$1","BACKSLASH$1","SLASH$1","NEWLINE$1","SPACE$1","FEED$1","TAB$1","CR$1","OPEN_SQUARE$1","CLOSE_SQUARE$1","OPEN_PARENTHESES$1","CLOSE_PARENTHESES$1","OPEN_CURLY$1","CLOSE_CURLY$1","SEMICOLON$1","ASTERISK$1","COLON$1","AT$1","RE_AT_END$1","RE_WORD_END$1","RE_BAD_BRACKET$1","RE_HEX_ESCAPE$1","Container$5$1","AtRule$3$1","atRule$1","LazyResult$3$1","Processor$2$1","Container$4$1","Root$5$1","ignore","root$1","list$2$1","comma","space","separators","array","current","func","inQuote","prevQuote","escape","letter","list_1$1","Container$3$1","list$1$1","Rule$3$1","sep2","rule$1","Declaration$2$1","tokenizer2$1","quote","escaped","escapePos","currentToken","valueOf","ignoreErrors","returned","unclosed","what","back","token","endOfFile","nextToken","ignoreUnclosed","controlChar","fromCharCode","lastIndex","Comment$2$1","AtRule$2$1","Root$4$1","Rule$2$1","SAFE_COMMENT_NEIGHBOR$1","empty","parser$1","spaces","createTokenizer","unnamedAtrule","init","brackets","tokenizer","getPosition","spacesAndCommentsFromEnd","spacesAndCommentsFromStart","checkMissedSemicolon","tokens","founded","doubleColon","customProperty","findLastWithPosition$1","unknownWord","firstSpaces","precheckMissedSemicolon","stringFrom","spacesFromEnd","emptyRule","unexpectedClose","endFile","unclosedBlock","freeSemicolon","bracket","unclosedBracket","clean","lastTokenType","Container$2$1","Parser2$1","Input$2$1","parse$3$1","parser2","parse_1$1","isClean$3","my$3","MapGenerator$1$1","stringify$2$1","Container$1$1","Document$2$1","Result$2$1","parse$2$1","Root$3$1","TYPE_TO_CLASS_NAME$1","PLUGIN_PROPS$1","AtRule","AtRuleExit","CommentExit","Declaration","DeclarationExit","DocumentExit","Once","OnceExit","prepare","Root","RootExit","Rule","RuleExit","NOT_VISITORS$1","CHILDREN$1","isPromise$1","getEvents$1","toStack$1","eventIndex","visitorIndex","visitors","cleanMarks$1","postcss$2$1","LazyResult$2$1","LazyResult","stringified","processed","syntax","parser","helpers","postcss","plugins","processing","runAsync","onRejected","catch","onFinally","getAsyncError","postcssVersion","prepareVisitors","version","hasListener","runOnRoot","visitTick","visitor","roots","subRoot","sync","stringifier","walkSync","visitSync","onFulfilled","visit2","registerPostcss","lazyResult$1","MapGenerator2$1","stringify$1$1","parse$1$1","Result$1$1","NoWorkResult$1$1","_processor","_css","_opts","_map","generatedCSS","generatedMap","_root","noWorkResult$1","NoWorkResult2$1","LazyResult$1$1","Document$1$1","Root$2$1","Processor$1$1","normalized","process","use","processor$1","Declaration$1$1","PreviousMap2$1","Comment$1$1","AtRule$1$1","Input$1$1","Root$1$1","Rule$1$1","fromJSON$1$1","ownInputs","inputHydrated","fromJSON_1$1","CssSyntaxError2$1","Declaration2$1","LazyResult2$1","Container2$1","Processor2$1","stringify$5","fromJSON$2","Document22","Warning2$1","Comment2$1","AtRule2$1","Result2$1","Input2$1","parse$5","list$3","Rule2$1","Root2$1","Node2$1","postcss$3","initializer","warningPrinted","creator","env","LANG","transformer","processOpts","pluginOpts","fromJSON","atRule","Processor","Warning","Result","Input","postcss_1$1","postcss$1$1","__defProp2","__publicField2","__defNormalProp2","getDefaultExportFromCjs","getAugmentedNamespace","picocolors_browser","picocolors_browserExports","require$$2","pico","terminalHighlight$1","CssSyntaxError$3","CssSyntaxError2","cssSyntaxError","symbols","DEFAULT_RAW","Stringifier$2","Stringifier$1","stringify$4","stringify_1","isClean$2","my$2","CssSyntaxError$2","Stringifier22","stringify$3","Node$4","Node$3","Declaration$4","declaration","nonSecure","SourceMapConsumer$2","SourceMapGenerator$2","dirname$1","PreviousMap$2","previousMap","SourceMapConsumer$1","SourceMapGenerator$1","pathToFileURL$1","resolve$1","terminalHighlight","CssSyntaxError$1","PreviousMap$1","fromOffsetCache","sourceMapAvailable$1","pathAvailable$1","Input$4","Input$3","sourceMapAvailable","pathAvailable","mapGenerator","Node$2","Comment$4","parse$4","Rule$4","AtRule$4","Root$6","isClean$1","my$1","Declaration$3","Comment$3","Node$1","cleanSource","markDirtyUp","Container$7","Container2","container","LazyResult$4","Processor$3","Container$6","Document$3","document$1","Warning$2","warning","Warning$1","Result$3","SINGLE_QUOTE","DOUBLE_QUOTE","BACKSLASH","SLASH","NEWLINE","SPACE","FEED","TAB","CR","OPEN_SQUARE","CLOSE_SQUARE","OPEN_PARENTHESES","CLOSE_PARENTHESES","OPEN_CURLY","CLOSE_CURLY","SEMICOLON","ASTERISK","COLON","AT","RE_AT_END","RE_WORD_END","RE_BAD_BRACKET","RE_HEX_ESCAPE","Container$5","AtRule$3","LazyResult$3","Processor$2","Container$4","Root$5","list$2","list_1","Container$3","list$1","Rule$3","Declaration$2","tokenizer22","Comment$2","AtRule$2","Root$4","Rule$2","SAFE_COMMENT_NEIGHBOR","findLastWithPosition","Container$2","Parser22","Input$2","parse$3","parse_1","MapGenerator$1","stringify$2","Container$1","Document$2","Result$2","parse$2","Root$3","TYPE_TO_CLASS_NAME","PLUGIN_PROPS","NOT_VISITORS","CHILDREN","isPromise","getEvents","toStack","cleanMarks","postcss$2","LazyResult$2","LazyResult2","lazyResult","MapGenerator22","stringify$1","parse$1","Result$1","NoWorkResult$1","noWorkResult","NoWorkResult22","LazyResult$1","Document$1","Root$2","Processor$1","Declaration$1","PreviousMap22","Comment$1","AtRule$1","Input$1","Root$1","Rule$1","fromJSON$1","fromJSON_1","CssSyntaxError22","Declaration22","LazyResult22","Container22","Processor22","Document222","Warning22","Comment22","AtRule22","Result22","Input22","Rule22","Root22","Node22","postcss_1","postcss$1","BaseRRNode","_args","childIterator","_newChild","_refChild","_node","testableAccessors","testableMethods","untaintedBasePrototype","isAngularZonePresent","getUntaintedPrototype","untaintedAccessorCache","getUntaintedAccessor","untaintedMethodCache","getUntaintedMethod","mutationObserverCtor","on","capture","DEPARTED_MIRROR_ACCESS_WARNING","_mirror","throttle","wait","leading","remaining","trailing","hookSetter","isRevoked","receiver","nowTimestamp","getWindowScroll","_d","scrollingElement","pageXOffset","pageYOffset","getWindowHeight","getWindowWidth","closestElementOfNode","isBlocked","isIgnored","isAncestorRemoved","legacy_isTouchEvent","changedTouches","isSerializedIframe","isSerializedStylesheet","hasShadowRoot","StyleSheetMirror","styleIDMap","newId","idStyleMap","getStyle","generateId","getShadowHost","shadowHost","DOCUMENT_FRAGMENT_NODE","shadowHostInDom","rootShadowHost","getRootShadowHost","inDom","EventType","EventType2","IncrementalSource","IncrementalSource2","MouseInteractions","MouseInteractions2","PointerTypes","PointerTypes2","CanvasContext","CanvasContext2","MediaInteractions","MediaInteractions2","NodeType","isNodeInLinkedList","DoubleLinkedList","addNode","__ln","previousSibling","tail","removeNode","moveKey","parentId","MutationBuffer","processMutation","emit","frozen","locked","adds","addedIds","addList","getNextId","ns","pushAdd","parentTag","addedSet","currentN","iframeManager","addIframe","stylesheetManager","trackLinkElement","shadowDomManager","addShadowRoot","iframe","childSn","attachIframe","observeAttachShadow","attachLinkElement","mapRemoves","movedSet","isParentRemoved","removesSubTreeCache","isAncestorInSet","droppedSet","candidate","tailNode","unhandledNode","texts","genTextAreaValueMutation","attribute","diffAsStr","styleDiff","unchangedAsStr","_unchangedStyles","removes","attributeMap","movedMap","mutationCb","textarea","cn","m","oldValue","attributeName","unattachedDoc","implementation","createHTMLDocument","old","pname","newValue","getPropertyValue","newPriority","getPropertyPriority","genAdds","nodeId","isSerialized","deepDelete","n22","processRemoves","processedNodeManager","inOtherBuffer","targetId","canvasManager","unfreeze","isFrozen","lock","unlock","addsSet","_mirror2","_isParentRemoved","_isAncestorInSet","errorHandler","callbackWrapper","rest","mutationBuffers","getEventTarget","composedPath","initMutationObserver","rootEl","mutationBuffer","processMutations","attributeOldValue","characterData","characterDataOldValue","initMouseInteractionObserver","mouseInteractionCb","sampling","mouseInteraction","disableMap","handlers","currentPointerType","eventKey","pointerType","thisEventKey","Mouse","Touch","Pen","MouseDown","MouseUp","Click","clientX","clientY","getHandler","PointerEvent","TouchStart","TouchEnd","initScrollObserver","scrollCb","scrollLeftTop","INPUT_TAGS","lastInputValueMap","getNestedCSSRulePositions","childRule","hasNestedCSSRule","parentRule","CSSGroupingRule","CSSMediaRule","CSSSupportsRule","CSSConditionRule","parentStyleSheet","recurse","getIdAndStyleId","styleMirror","initAdoptedStyleSheetObserver","host2","hostId","patchTarget","originalPropertyDescriptor","_a3","sheets","adoptStyleSheets","initObservers","o2","hooks","currentWindow","mousemoveCb","viewportResizeCb","inputCb","mediaInteractionCb","styleSheetRuleCb","styleDeclarationCb","canvasMutationCb","fontCb","selectionCb","customElementCb","mousemove","viewportResize","mediaInteaction","styleSheetRule","styleDeclaration","canvasMutation","font","selection","customElement","mergeHooks","recordDOM","mousemoveHandler","callbackThreshold","mousemoveCallback","timeBaseline","positions","wrappedCb","totalOffset","timeOffset","updatePosition","DragEvent","Drag","MouseEvent","MouseMove","TouchMove","initMoveObserver","mouseInteractionHandler","scrollHandler","viewportResizeHandler","lastH","lastW","initViewportResizeObserver","inputHandler","ignoreClass","ignoreSelector","userTriggeredOnInput","eventHandler","userTriggered","isTrusted","isChecked","cbWithDedup","text2","v2","lastInputValue","propertyDescriptor","HTMLInputElement","hookProperties","HTMLSelectElement","HTMLTextAreaElement","HTMLOptionElement","initInputObserver","mediaInteractionHandler","Play","Pause","Seeked","VolumeChange","RateChange","initMediaInteractionObserver","styleSheetObserver","adoptedStyleSheetObserver","styleDeclarationObserver","fontObserver","CSSStyleSheet","insertRule","thisArg","argumentsList","addRule","styleBlock","deleteRule","replaceSync","removeRule","supportedNestedCSSRuleTypes","canMonkeyPatchNestedCSSRule","unmodifiedFunctions","typeKey","initStyleSheetObserver","ignoreCSSAttributes","CSSStyleDeclaration","removeProperty","initStyleDeclarationObserver","collectFonts","fontMap","originalFontFace","FontFace","family","descriptors","fontFace","fontSource","Uint8Array","restoreHandler","fonts","initFontObserver","selectionObserver","collapsed","updateSelection","getSelection","isCollapsed","ranges","rangeCount","getRangeAt","startContainer","startOffset","endContainer","endOffset","initSelectionObserver","customElementObserver","initCustomElementObserver","pluginHandlers","plugin3","CrossOriginIframeMirror","generateIdFn","remoteId","idToRemoteMap","remoteToIdMap","idToRemoteIdMap","getIdToRemoteIdMap","remoteIdToIdMap","getRemoteIdToIdMap","getRemoteId","getRemoteIds","ids","iframeIdToRemoteIdMap","iframeRemoteIdToIdMap","IframeManager","wrappedEmit","recordCrossOriginIframes","crossOriginIframeStyleMirror","iframes","crossOriginIframeMap","addLoadListener","loadListener","isAttachIframe","crossOriginMessageEvent","transformedEvent","transformCrossOriginEvent","isCheckout","FullSnapshot","crossOriginIframeMirror","replaceIdOnNode","crossOriginIframeRootIdMap","patchRootIdOnNode","timestamp","IncrementalSnapshot","Mutation","Meta","Load","DomContentLoaded","Plugin","Custom","replaceIds","ViewportResize","MediaInteraction","MouseInteraction","Scroll","CanvasMutation","StyleSheetRule","StyleDeclaration","replaceStyleIds","Font","Selection","AdoptedStyleSheet","styles","iframeMirror","ShadowDomManager","WeakSet","patchAttachShadow","shadowDoms","restoreHandlers","iframeElement","manager","option","sRoot","chars","lookup","i$1","canvasVarMap","saveWebGLVar","isInstanceOfWebGLObject","list2","ctor","contextMap","variableListFor$1","serializeArg","Float32Array","Float64Array","Int32Array","Uint16Array","Int16Array","Int8Array","Uint8ClampedArray","rr_type","base64","arraybuffer","bytes","DataView","byteOffset","byteLength","HTMLImageElement","ImageData","serializeArgs","supportedWebGLConstructorNames","initCanvasContextObserver","setPreserveDrawingBufferToTrue","contextType","ctxName","getNormalizedContextName","contextAttributes","preserveDrawingBuffer","patchGLPrototype","getOwnPropertyNames","recordArgs","hookHandler","setter","encodedJs","WorkerWrapper","objURL","webkitURL","worker","Worker","revokeObjectURL","CanvasManager","latestId","invokeId","rafStamps","pendingCanvasMutations","initCanvasMutationObserver","initCanvasFPSObserver","resetObservers","fps","canvasContextReset","snapshotInProgressMap","onmessage","commands","timeBetweenSnapshots","rafId","lastSnapshotTime","takeCanvasSnapshots","matchedCanvas","getCanvas","getContextAttributes","COLOR_BUFFER_BIT","bitmap","createImageBitmap","startRAFTimestamping","startPendingCanvasMutationFlusher","canvas2DReset","props2D","CanvasRenderingContext2D","initCanvas2DMutationObserver","canvasWebGL1and2Reset","WebGLRenderingContext","WebGL","WebGL2RenderingContext","WebGL2","initCanvasWebGLMutationObserver","flushPendingCanvasMutations","setLatestRAFTimestamp","_values","flushPendingCanvasMutationFor","valuesWithType","type2","StylesheetManager","adoptedStyleSheetCb","linkEl","trackedLinkElements","trackStylesheetInLinkElement","adoptedStyleSheetData","styleIds","CSSRule","r2","_linkEl","ProcessedNodeManager","thisBuffer","buffers","nodeMap","active","takeFullSnapshot$1","recording","cleanFrame","debug","record","checkoutEveryNms","checkoutEveryNth","maskAllInputs","_maskInputOptions","packFn","mousemoveWait","recordAfter","errorHandler2","inEmittingFrame","passEmitsToParent","month","search","tel","week","select","password","lastFullSnapshotEvent","NodeList","DOMTokenList","polyfill$1","incrementalSnapshotCount","eventProcessor","exceedCount","exceedTime","wrappedMutationEmit","wrappedScrollEmit","wrappedCanvasMutationEmit","getMirror","nodeMirror","slimDOM","snapshot","initialOffset","CustomElement","t2","addCustomEvent","tag","freezePage","takeFullSnapshot","NotStarted","Running","Stopped","customOptions","stopFunction","ContextMenu","DblClick","Focus","Blur","rrwebEvent","stringifiedData","dataURIRegex","matchAll","ensureMaxMessageSize","bufferSize","ScreenDrawer","svgElement","minHeight","mouseDown","colorpicker","fadeOutToolbar","tool","mouseDownPen","mouseDownRect","mouseMove","mouseMovePen","mouseMoveRect","mouseUp","fadeInToolbar","mouseUpPen","mouseUpRect","appendToBuffer","getMousePosition","updateSvgPath","w","startPoint","setAttributeNS","createElementNS","strokeWidthRect","appendPathToSvg","strokeWidth","pt","strPath","touches","totalX","totalY","getAveragePoint","tmpPath","pathBuffer","fadeTarget","GleapScrollStopper","supportsPassive","wheelOpt","scrollDisabled","wheelEvent","preventDefaultForScrollKeys","keyCode","showWidgetUI","formKey","dirty","dialogUI","enableScroll","screenRecorder","unregisterListeners","cleanupMousePointer","screenDrawer","dialog","captureSVG","videoPreviewContainer","dismissUI","colorPicker","borderLayer","captureEditor","dragCursor","setMouseMove","mouseMoveEventHandler","touchMoveEventHandler","dragHandle","dragStart","drag","dragEnd","bugReportingEditor","translateText","pageLeaveListener","isEscape","isEnter","dismiss","showNextStep","returnValue","registerListeners","hideWidgetUI","createEditorUI","setupMousePointer","disableScroll","setupScreenRecording","captureScreenDrawerRerender","setupColorPicker","setupToolbar","selectedColor","colorItems","colorItem","hexColor","onclick","setColor","setPenColor","currentX","currentY","initialX","initialY","toolbar","isDragging","xOffset","yOffset","_getTransformValues","matrix","DOMMatrix","m41","m42","getTransformValues","nextButton","chooseTool","toolbarItem","toolbarTools","setTool","svgClone","toolbarItems","_loop2","toggleAudio","startScreenRecording","removeLastAddedPathFromSvg","itemInactiveClass","screenRecordingTooltip","audioRecordingTooltip","recordingClass","notRecordingClass","clearPreview","captureRenderer","penTips","fill","staticTranslation","staticTranslations","vars","template","localizationOptions","htmlLang","GleapShortcutListener","shortCutListener","char","keyIdentifier","ctrlKey","startFeedbackFlowWithOptions","autostartDrawing","GleapPreFillManager","unreadCount","notificationContainer","notificationsFromCache","unreadNotificationsKey","nots","notification","createdAt","notifications","renderNotifications","updateTabBarNotificationCount","sound","clearElem","currentNewsIndex","newsNotifications","news","otherNotifications","currentIndex","currentNews","newsElem","newsContainerElem","coverImageUrl","newsImageElem","stopPropagation","openNews","newsContentElem","newsTitleElem","getName","descHTML","renderDescription","descElem","paginationElem","pageIndicator","nextBtn","conversation","openConversation","checklist","openChecklist","progress","currentStep","totalSteps","nextStepTitle","sender","profileImageUrl","openNewsArticle","_notification$data","previewText","uiOnly","classLeft","classNoButton","setPlaceholder","setQuickActions","_this$config","inputElement","onMessageSend","arr1","_this$config2","manuallyHidden","aiUIContainer","isHidden","animationTimeouts","arraysEqual","updateQuickActions","quickActionsContainer","actionElement","attachShadow","addStylesToShadow","createUIInShadow","_this$config3","_this$config4","_this$config5","_this$config6","extraClasses","sendButton","setupInputListener","inputText","updateSendButtonState","question","_this$bannerUrl","_this$bannerData","_data$data3","_data$data4","_data$data5","_data$data6","_data$data7","_data$data8","_data$data9","_data$data10","bannerData","format","startBot","botId","startFeedbackFlow","formId","showSurvey","surveyFormat","articleId","openHelpCenterArticle","startChecklist","bannerContainer","gleapBFrame","injectBannerUI","_listenForMessages","modalUrl","_this$modalUrl","_data$data11","modalData","primaryColor","_postMessage","modalContainer","wrapper","modalBackdropClickListener","_this2$modalData$show","_this2$modalData","showCloseButton","frame","_injectModalUI","play","settings","Audio","playPromise","getID","getClassSelectors","getClasses","cl","kCombinations","items","getNthChild","sibling","counter","getTag","isUnique","elems","getAllSelectors","attributesToIgnore","funcs","Tag","NthChild","Attributes","sum","getAttributes","Class","ID","res","testUniqueness","getFirstUnique","getUniqueCombination","combinations","getCombinations","firstUnique","combination","getUniqueSelector","selectorTypes","excludeRegex","foundSelector","elementSelectors","selectorType","Classes","unique","_step2","_options$selectorType","_options$attributesTo","_options$excludeRegex","allSelectors","parents","currentElement","getParents","_iterator2","_i","_allSelectors","ElementOverlay","overlay","background","borderColor","borderStyle","borderWidth","boxSizing","cursor","zIndex","margin","shadowContainer","_createClass","useShadowDOM","usingShadowDOM","setBounds","bounds","ElementPicker","overlayOptions","handleMouseMove","handleClick","tick","addToDOM","removeFromDOM","mouseX","mouseY","tickReq","clickedEl","elementFromPoint","elementFilter","stopImmediatePropagation","onClick","updateTarget","ignoreCursor","newTarget","captureCursor","onHover","GleapAdminHelper","picker","stopPicker","onElementPicked","startPicker","COLLAPSE_UI_ACTIVE_CLASS","FRAME_CONTAINER_ACTIVE_CLASS","isActive","activeClass","gleapCollapseUI","toggle","injectedCollapseUI","toggleCollapseUI","_this$configData","configData","sendMessageToTourBuilder","GleapProductTours","disable","showFeedbackButton","adminHelper","injectCollapseUI","setFrameHeight","gleapAdminDisabled","initAdminHelper","currentPage","click","opener","GleapTours","currentConfig","configure","animate","allowClose","overlayOpacity","smoothScroll","disableActiveInteraction","showProgress","stagePadding","stageRadius","popoverOffset","showButtons","disableButtons","overlayColor","getConfig","easeInOutQuad","elapsed","initialValue","amountOfChange","getFocusableElements","parentEls","focusableQuery","flatMap","parentEl","isParentFocusable","focusableEls","isElementVisible","bringInView","isElementInView","shouldSmoothScroll","scrollIntoView","behavior","hasScrollableParent","currentState","setState","getState","resetState","registeredListeners","listen","hook","trackActiveElement","activeStagePosition","renderOverlay","mountOverlay","stagePosition","overlaySvg","stage","windowX","windowY","svg","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","stagePath","generateStageSvgPathString","createOverlaySvg","onDriverClick","pathElement","stageWidth","stageHeight","limitedRadius","normalizedRadius","highlightBoxX","highlightBoxY","highlightBoxWidth","highlightBoxHeight","highlight","attemptTime","elemObj","refactoredElement","hidePopover","existingDummy","getElementById","mountDummyElement","toElement","toStep","_toStep$disableActive","fromStep","fromElement","isFirstHighlight","isToDummyElement","isFromDummyElement","isAnimatedTour","highlightStartedHook","onHighlightStarted","highlightedHook","onHighlighted","deselectedHook","onDeselected","hasDelayedPopover","isPopoverRendered","isHalfwayThrough","popover","renderPopover","fromDefinition","toDefinition","transitionStage","transferHighlight","refreshActiveHighlight","activeHighlight","activeStep","refreshOverlay","repositionPopover","requireRefresh","resizeTimeout","trapFocus","activeElement","popoverEl","firstFocusableEl","lastFocusableEl","shiftKey","previousFocusableEl","nextFocusableEl","onKeyup","shouldPreventDefault","listenerWrapper","listener2","useCapture","title","description","closeButton","footer","footerButtons","previousButton","createPopover","_ref2$nextBtnText","nextBtnText","_ref2$prevBtnText","prevBtnText","_ref2$progressText","progressText","showButtonsConfig","showProgressConfig","showFooter","disabledButtonsConfig","popoverWrapper","customPopoverClass","popoverClass","_b2","onNextClick","onPrevClick","onCloseClick","onPopoverRender","focusableElement","getPopoverDimensions","boundingClientRect","realWidth","realHeight","calculateTopForLeftRight","elementDimensions","popoverDimensions","popoverPadding","popoverArrowDimensions","calculateLeftForTopBottom","_ref3$align","align","_ref3$side","requiredAlignment","requiredSide","topValue","isTopOptimal","bottomValue","isBottomOptimal","leftValue","isLeftOptimal","rightValue","isRightOptimal","noneOptimal","popoverRenderedSide","leftToSet","topToSet","leftValue2","rightToSet","bottomToSet","popoverArrow","popoverWidth","windowWidth","elementWidth","elementLeft","popoverHeight","windowHeight","elementTop","elementHeight","arrowSide","arrowAlignment","renderPopoverArrow","moveNext","activeIndex","nextStepIndex","drive","movePrevious","previousStepIndex","handleArrowLeft","handleArrowRight","_f","_g","_h","hasNextStep","hasPreviousStep","doneBtnText","allowsClosing","progressTextReplaced","configuredButtons","calculatedButtons","withOnDestroyStartedHook","activeOnDestroyed","onDestroyStarted","onDestroyed","destroyPopover","destroyHighlight","isActiveDummyElement","setSteps","getActiveIndex","isFirstStep","isLastStep","getActiveStep","getActiveElement","getPreviousElement","getPreviousStep","moveTo","localStorageKey","pointerContainerId","copilotJoinedContainerId","_canPlayAudio","GleapCopilotTours","_scrollListeners","_currentAnchor","_currentStep","_scrollDebounceTimer","productTourId","currentActiveIndex","productTourData","updatePointerPosition","onCompleteCallback","scrollableAncestors","getScrollableAncestors","_pointerContainer","yPosition","targetScrollPosition","scrollTo","smoothScrollToY","removeScrollListeners","pollCount","updateFinalPosition","isElementFullyVisible","targetX","targetY","containerWidthSpace","attachScrollListeners","currentAudio","pause","copilotInfoContainer","_GleapConfigManager$g","_GleapConfigManager$g2","_this$productTourData3","_this$productTourData4","_this$productTourData5","_this$productTourData6","_this$productTourData","_this$productTourData2","contrastColor","playVoice","gradient","svgMouse","infoBubble","kaiAvatar","kaiSlug","completeTour","canPlayAudio","supported","setupCopilotTour","showUnmuteModal","showAudioUnmuteModal","renderNextStep","_this$productTourData7","_this$productTourData8","_this$productTourData9","modalOverlay","modal","unmuteModalTitle","unmuteButton","unmuteModalButton","startAnywayButton","unmuteModalContinue","_this7","handleStep","gotToNextStep","_currentStep$inputTyp","proceedClickmode","storeUncompletedTour","inputType","handleInputEvent","_e$target","once","_currentStep$inputVal","inputValue","typeCharacter","wave","performClickAnimation","tempDiv","htmlToPlainText","readTime","wordCount","ceil","estimateReadTime","continueWithNoAudio","voice","elementPromise","maxAttempts","attempts","interval","waitForElement","_self$productTourData","tourType","gleapTourObj","delay","manually","validateProductTour","onComplete","comData","clearUncompletedTour","startWithConfig","unmuted","driverSteps","isClickMode","isInputMode","isInteractionMode","hasSender","videoUrl","senderHTML","firstName","driverStep","buttons","backButton","allowKeyboardControl","nextText","doneText","prevText","_config$state","onDocumentClick","popoverElement","mediaElements","performRequentialRefresh","mediaElement","playingClass","playPauseContainer","videoElement","videoContainer","clickVideo","evnt","gleapTourPopover","_evnt$target","__originalGetContext","GleapChecklist","_HTMLElement","_assertThisInitialized","_callSuper","handleChecklistUpdate","handleSessionUpdate","_networkManager","_boundFloatingLauncherClick","handleFloatingLauncherClick","_boundFloatingCloseClick","handleFloatingCloseClick","_floatingHideTimeout","_inherits","_boundHandleChecklistUpdate","_boundHandleSessionUpdate","_boundResizeHandler","handleResize","_checkSessionAndLoad","removeFloatingClickListeners","_hasLoaded","_isSessionReady","_initialActiveSet","renderResponse","updateActiveTaskMaxHeight","loadChecklist","renderChecklist","_getGleapSessionInstance","hasChecklistId","defaultValue","translateTextWithVars","validateChecklist","_isMock","isConnected","fetchChecklist","_isInitialLoad","_this3$checklistData$","_data$outbound","firstIncompleteIndex","findIndex","_session$gleapId","_session$gleapHash","checkedStep","makeRequest","updateData","_this$checklistData$o3","previousCompletedSteps","dataChanged","activeStepCompleted","currentlyActiveStepIndex","_this$checklistData$o","activeStepId","_this$checklistData$o2","nextActiveStep","setActiveStep","tasks","launcher","_outbound$config","_this$checklistData","renderDoneState","progressbarEnabled","doneSteps","_outbound$config2","_outbound$config3","nextIncompleteStep","titleText","_translateWithVars","subject","subtitleText","successTitle","successMessage","circumference","PI","computedOffset","isHeader","toFixed","_outbound$sender","infoEnabled","_translate","senderHtml","progressLabel","durationLabel","isTaskDone","badge","getCheckIcon","stepTitle","stepDescription","actionButtonText","actionTitle","actionHtml","markDoneLabel","markDoneHtml","allowMarkDone","taskClasses","_outbound$config4","_outbound$config5","_outbound$config6","floatingEnabled","renderFloatingLauncher","renderInfoSection","renderProgressSection","renderTasks","addTaskEventListeners","addFloatingClickListeners","toggleTask","taskBodyInner","task","newActiveStep","markDoneBtn","_this5$checklistData","previouslyActiveStep","allSteps","isModalOpen","tasksModal","updateChecklist","actionBtn","_this5$checklistData2","actionBody","openURL","actionOpenInNewTab","gleapError","previousActiveStep","tasksToToggle","forceOpen","taskElement","isOpen","shouldOpen","taskBody","_heightListenerAdded","_wrapNativeSuper","registerGleapChecklist","setOnMessageSend","askAI","offlineMode","hostname","injectNotificationUI","injectAIUI","actions","_action$data","popupType","disableInAppNotifications","showNotification","showBanner","showModal","startProductTourWithConfig","globalData","replayData","getReplayData","setTags","setUrlHandler","tools","setAiTools","updateContainerHeight","initialHeight","fixGleapHeight","checkForUncompletedTour","checkForUrlParams","disableQueryParams","urlParams","URLSearchParams","widget","conversationFlow","startConversation","feedbackFlow","surveyFlow","surveyFlowFormat","tourDelay","identifySession","updateSession","setMaxRequests","setOptions","cleanedData","formPreFill","toggleFeedbackButton","setAppVersionCode","setAppBuildNumber","setBannerUrl","setModalUrl","setTicketAttribute","unsetTicketAttribute","clearTicketAttributes","attachCustomData","setCustomData","removeCustomData","clearCustomData","playSound","showNotificationBadge","notificationInstance","setOverrideLanguage","softReInitialize","updateContact","registerCustomAction","buttonStyle","contrastButtonColor","contrastBackgroundColor","contrastHeaderColor","isDarkMode","headerDarkColor","subTextColor","backgroundColorHover","hoverHoverColor","buttonBorderRadius","containerRadius","chatRadius","formItemBorderRadius","formItemSmallBorderRadius","bottomInfoOffset","colorStyleSheet","zIndexBase","injectStyledCSS","replays","attachments","sendSilentCrashReportWithFormData","silentCrashReportSent","excludeDataCleaned","newFormData","hideBackButton","showBackButton","flow","collectionId","term","networkManager","checkStartUrl","startProductTourConfig","startURL","loadUncompletedTour","GleapActions","GLAction","urlParts","identifier","openHelpCenterCollection"],"sourceRoot":""}