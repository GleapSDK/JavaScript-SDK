{"version":3,"file":"index.js","mappings":"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","sources":["webpack://Gleap/webpack/universalModuleDefinition","webpack://Gleap/webpack/bootstrap","webpack://Gleap/webpack/runtime/define property getters","webpack://Gleap/webpack/runtime/hasOwnProperty shorthand","webpack://Gleap/./src/GleapFeedbackButtonManager.js","webpack://Gleap/./src/UI.js","webpack://Gleap/./src/GleapNetworkIntercepter.js","webpack://Gleap/./src/GleapHelper.js","webpack://Gleap/./src/ChecklistNetworkManager.js","webpack://Gleap/./node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","webpack://Gleap/./node_modules/@floating-ui/core/dist/floating-ui.core.mjs","webpack://Gleap/./node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","webpack://Gleap/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","webpack://Gleap/./src/GleapPageFilter.js","webpack://Gleap/./src/GleapTooltipManager.js","webpack://Gleap/./src/GleapSession.js","webpack://Gleap/./src/GleapStreamedEvent.js","webpack://Gleap/./src/GleapConfigManager.js","webpack://Gleap/./src/ScreenCapture.js","webpack://Gleap/./src/ResourceExclusionList.js","webpack://Gleap/./src/GleapScreenRecorder.js","webpack://Gleap/./src/GleapFeedback.js","webpack://Gleap/./src/GleapFrameManager.js","webpack://Gleap/./src/GleapMetaDataManager.js","webpack://Gleap/./src/GleapConsoleLogManager.js","webpack://Gleap/./src/GleapClickListener.js","webpack://Gleap/./src/GleapCustomDataManager.js","webpack://Gleap/./src/GleapEventManager.js","webpack://Gleap/./src/GleapCustomActionManager.js","webpack://Gleap/./node_modules/@rrweb/record/dist/record.js","webpack://Gleap/./src/GleapReplayRecorder.js","webpack://Gleap/./src/ScreenDrawer.js","webpack://Gleap/./src/GleapScrollStopper.js","webpack://Gleap/./src/GleapMarkerManager.js","webpack://Gleap/./src/GleapTranslationManager.js","webpack://Gleap/./src/GleapShortcutListener.js","webpack://Gleap/./src/GleapPreFillManager.js","webpack://Gleap/./src/GleapNotificationManager.js","webpack://Gleap/./src/GleapAiChatbarManager.js","webpack://Gleap/./src/GleapBannerManager.js","webpack://Gleap/./src/GleapModalManager.js","webpack://Gleap/./src/GleapAudioManager.js","webpack://Gleap/./src/GleapTagManager.js","webpack://Gleap/./src/unique-selector/src/getID.js","webpack://Gleap/./src/unique-selector/src/getClasses.js","webpack://Gleap/./src/unique-selector/src/getCombinations.js","webpack://Gleap/./src/unique-selector/src/isElement.js","webpack://Gleap/./src/unique-selector/src/getNthChild.js","webpack://Gleap/./src/unique-selector/src/getTag.js","webpack://Gleap/./src/unique-selector/src/isUnique.js","webpack://Gleap/./src/unique-selector/src/unique-selector.js","webpack://Gleap/./src/unique-selector/src/getAttributes.js","webpack://Gleap/./src/unique-selector/src/getParents.js","webpack://Gleap/./src/ElementPicker.js","webpack://Gleap/./src/GleapAdminHelper.js","webpack://Gleap/./src/GleapAdminManager.js","webpack://Gleap/./src/GleapTours.js","webpack://Gleap/./src/GleapCopilotTours.js","webpack://Gleap/./src/GleapProductTours.js","webpack://Gleap/./src/Gleap.js","webpack://Gleap/./src/GleapChecklist.js","webpack://Gleap/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Gleap\"] = factory();\n\telse\n\t\troot[\"Gleap\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import {\n  GleapFrameManager,\n  GleapConfigManager,\n  GleapNotificationManager,\n  GleapTranslationManager,\n  GleapAiChatbarManager,\n  GleapSession,\n} from \"./Gleap\";\nimport { loadIcon } from \"./UI\";\n\nexport default class GleapFeedbackButtonManager {\n  feedbackButton = null;\n  injectedFeedbackButton = false;\n  buttonHidden = null;\n  lastButtonIcon = null;\n\n  // Feedback button types\n  static FEEDBACK_BUTTON_BOTTOM_RIGHT = \"BOTTOM_RIGHT\";\n  static FEEDBACK_BUTTON_BOTTOM_LEFT = \"BOTTOM_LEFT\";\n  static FEEDBACK_BUTTON_CLASSIC = \"BUTTON_CLASSIC\";\n  static FEEDBACK_BUTTON_CLASSIC_LEFT = \"BUTTON_CLASSIC_LEFT\";\n  static FEEDBACK_BUTTON_CLASSIC_BOTTOM = \"BUTTON_CLASSIC_BOTTOM\";\n  static FEEDBACK_BUTTON_NONE = \"BUTTON_NONE\";\n\n  // GleapFeedbackButtonManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapFeedbackButtonManager();\n    }\n    return this.instance;\n  }\n\n  destroy() {\n    if (this.feedbackButton) {\n      this.feedbackButton.remove();\n      this.feedbackButton = null;\n    }\n\n    this.buttonHidden = null;\n    this.lastButtonIcon = null;\n    this.injectedFeedbackButton = false;\n    this.instance = null;\n  }\n\n  /**\n   * Toggles the feedback button visibility.\n   * @param {*} show\n   * @returns\n   */\n  toggleFeedbackButton(show) {\n    this.buttonHidden = !show;\n\n    GleapFeedbackButtonManager.getInstance().updateFeedbackButtonState();\n    GleapNotificationManager.getInstance().updateContainerStyle();\n  }\n\n  feedbackButtonPressed() {\n    var frameManager = GleapFrameManager.getInstance();\n    if (frameManager.isOpened()) {\n      frameManager.hideWidget();\n    } else {\n      frameManager.setAppMode(\"widget\");\n      frameManager.showWidget();\n    }\n  }\n\n  /**\n   * Injects the feedback button into the current DOM.\n   */\n  injectFeedbackButton() {\n    if (this.injectedFeedbackButton) {\n      return;\n    }\n    this.injectedFeedbackButton = true;\n\n    var elem = document.createElement(\"div\");\n    elem.addEventListener(\"click\", () => {\n      this.feedbackButtonPressed();\n    });\n    document.body.appendChild(elem);\n    this.feedbackButton = elem;\n\n    this.updateFeedbackButtonState();\n  }\n\n  updateNotificationBadge(count) {\n    const notificationBadge = document.querySelector(\".bb-notification-bubble\");\n    if (!notificationBadge) {\n      return;\n    }\n\n    const notificationHiddenClass = \"bb-notification-bubble--hidden\";\n    if (count > 0 && !GleapFrameManager.getInstance().isOpened()) {\n      notificationBadge.classList.remove(notificationHiddenClass);\n      notificationBadge.innerText = count;\n    } else {\n      notificationBadge.classList.add(notificationHiddenClass);\n    }\n  }\n\n  refresh() {\n    const feedbackButton = document.querySelector(\".bb-feedback-button\");\n    if (feedbackButton) {\n      this.updateFeedbackButtonText();\n      this.updateFeedbackButtonState();\n    } else {\n      this.injectedFeedbackButton = false;\n      this.feedbackButton = null;\n      this.buttonHidden = null;\n      this.lastButtonIcon = null;\n      this.injectFeedbackButton();\n    }\n  }\n\n  updateFeedbackButtonText() {\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n\n    if (\n      !(\n        flowConfig.feedbackButtonPosition ===\n        GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC ||\n        flowConfig.feedbackButtonPosition ===\n        GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_BOTTOM ||\n        flowConfig.feedbackButtonPosition ===\n        GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_LEFT\n      )\n    ) {\n      return;\n    }\n\n    const feedbackButton = document.querySelector(\n      \".bb-feedback-button-classic\"\n    );\n    if (!feedbackButton) {\n      return;\n    }\n\n    feedbackButton.innerText = flowConfig.widgetButtonText;\n  }\n\n  /**\n   * Updates the feedback button state\n   * @returns\n   */\n  updateFeedbackButtonState() {\n    GleapAiChatbarManager.getInstance().updateUIVisibility();\n\n    if (this.feedbackButton === null) {\n      return;\n    }\n\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n\n    var buttonIcon = \"\";\n    if (flowConfig.buttonLogo) {\n      buttonIcon = `<img class=\"bb-logo-logo\" src=\"${flowConfig.buttonLogo}\" alt=\"Feedback Button\" />`;\n    } else {\n      buttonIcon = loadIcon(\"button\", \"#fff\");\n    }\n\n    this.feedbackButton.className = \"bb-feedback-button gleap-font gl-block\";\n    this.feedbackButton.setAttribute(\n      \"dir\",\n      GleapTranslationManager.getInstance().isRTLLayout ? \"rtl\" : \"ltr\"\n    );\n\n    if (\n      flowConfig.feedbackButtonPosition ===\n      GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC ||\n      flowConfig.feedbackButtonPosition ===\n      GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_BOTTOM ||\n      flowConfig.feedbackButtonPosition ===\n      GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_LEFT\n    ) {\n      this.feedbackButton.classList.add(\n        \"bb-feedback-button--classic-button-style\"\n      );\n\n      this.feedbackButton.innerHTML = `<div class=\"bb-feedback-button-classic ${flowConfig.feedbackButtonPosition ===\n          GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_LEFT\n          ? \"bb-feedback-button-classic--left\"\n          : \"\"\n        }${flowConfig.feedbackButtonPosition ===\n          GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_BOTTOM\n          ? \"bb-feedback-button-classic--bottom\"\n          : \"\"\n        }\">${flowConfig.widgetButtonText}</div>`;\n    } else {\n      if (buttonIcon !== this.lastButtonIcon) {\n        this.feedbackButton.innerHTML = `<div class=\"bb-feedback-button-icon\">${buttonIcon}${loadIcon(\n          \"arrowdown\",\n          \"#fff\"\n        )}</div><div class=\"bb-notification-bubble bb-notification-bubble--hidden\"></div>`;\n      }\n    }\n\n    // Prevent dom update if not needed.\n    this.lastButtonIcon = buttonIcon;\n\n    var hideButton = false;\n    if (GleapFeedbackButtonManager.getInstance().buttonHidden === null) {\n      if (\n        flowConfig.feedbackButtonPosition ===\n        GleapFeedbackButtonManager.FEEDBACK_BUTTON_NONE\n      ) {\n        hideButton = true;\n      }\n    } else {\n      if (GleapFeedbackButtonManager.getInstance().buttonHidden) {\n        hideButton = true;\n      }\n    }\n    if (hideButton) {\n      this.feedbackButton.classList.add(\"bb-feedback-button--disabled\");\n    }\n\n    if (\n      flowConfig.feedbackButtonPosition ===\n      GleapFeedbackButtonManager.FEEDBACK_BUTTON_BOTTOM_LEFT\n    ) {\n      this.feedbackButton.classList.add(\"bb-feedback-button--bottomleft\");\n    }\n\n    if (GleapFrameManager.getInstance().isOpened()) {\n      this.feedbackButton.classList.add(\"bb-feedback-button--open\");\n    }\n\n    const appMode = GleapFrameManager.getInstance().appMode;\n    if (\n      appMode === \"survey\" ||\n      appMode === \"survey_full\" ||\n      appMode === \"survey_web\"\n    ) {\n      this.feedbackButton.classList.add(\"bb-feedback-button--survey\");\n    }\n\n    if (\n      flowConfig.hideForGuests === true &&\n      !GleapSession.getInstance().isUser()\n    ) {\n      this.feedbackButton.classList.add(\"bb-feedback-button--hidden\");\n    }\n  }\n}\n","import GleapFeedbackButtonManager from \"./GleapFeedbackButtonManager\";\n\nconst calculateShadeColor = function (col, amt) {\n  col = col.replace(/^#/, \"\");\n  if (col.length === 3)\n    col = col[0] + col[0] + col[1] + col[1] + col[2] + col[2];\n\n  let [r, g, b] = col.match(/.{2}/g);\n  [r, g, b] = [\n    parseInt(r, 16) + amt,\n    parseInt(g, 16) + amt,\n    parseInt(b, 16) + amt,\n  ];\n\n  r = Math.max(Math.min(255, r), 0).toString(16);\n  g = Math.max(Math.min(255, g), 0).toString(16);\n  b = Math.max(Math.min(255, b), 0).toString(16);\n\n  const rr = (r.length < 2 ? \"0\" : \"\") + r;\n  const gg = (g.length < 2 ? \"0\" : \"\") + g;\n  const bb = (b.length < 2 ? \"0\" : \"\") + b;\n\n  return `#${rr}${gg}${bb}`;\n};\n\nexport const calculateContrast = (hex) => {\n  var r = parseInt(hex.substr(1, 2), 16),\n    g = parseInt(hex.substr(3, 2), 16),\n    b = parseInt(hex.substr(5, 2), 16),\n    yiq = (r * 299 + g * 587 + b * 114) / 1000;\n  return yiq >= 160 ? \"#000000\" : \"#ffffff\";\n};\n\nexport const widgetMaxHeight = 700;\n\nexport const injectStyledCSS = (\n  primaryColor,\n  headerColor,\n  buttonColor,\n  borderRadius,\n  backgroundColor,\n  buttonX,\n  buttonY,\n  buttonStyle\n) => {\n  const contrastColor = calculateContrast(primaryColor);\n  const contrastButtonColor = calculateContrast(buttonColor);\n  const contrastBackgroundColor = calculateContrast(backgroundColor);\n  const contrastHeaderColor = calculateContrast(headerColor);\n  const isDarkMode = contrastBackgroundColor === \"#ffffff\";\n  const headerDarkColor = calculateShadeColor(\n    headerColor,\n    contrastHeaderColor === \"#ffffff\" ? -35 : -15\n  );\n  const subTextColor = isDarkMode\n    ? calculateShadeColor(backgroundColor, 100)\n    : calculateShadeColor(backgroundColor, -120);\n  const backgroundColorHover = isDarkMode\n    ? calculateShadeColor(backgroundColor, 30)\n    : calculateShadeColor(backgroundColor, -12);\n  const hoverHoverColor = isDarkMode\n    ? calculateShadeColor(backgroundColor, 80)\n    : calculateShadeColor(backgroundColor, -30);\n\n  var borderRadius = parseInt(borderRadius, 10);\n  const buttonBorderRadius = Math.round(borderRadius * 1.05);\n  const containerRadius = Math.round(borderRadius * 0.8);\n  const chatRadius = Math.round(borderRadius * 0.6);\n  const formItemBorderRadius = Math.round(borderRadius * 0.4);\n  const formItemSmallBorderRadius = Math.round(borderRadius * 0.25);\n  const zIndexBase = 2147483600;\n\n  var bottomInfoOffset = 57 + buttonY;\n  if (\n    buttonStyle === GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_BOTTOM\n  ) {\n    bottomInfoOffset = buttonY + 15;\n  } else if (buttonStyle && buttonStyle.includes(\"CLASSIC\")) {\n    bottomInfoOffset = buttonY;\n  } else if (buttonStyle === GleapFeedbackButtonManager.FEEDBACK_BUTTON_NONE) {\n    bottomInfoOffset = buttonY;\n  }\n\n  const colorStyleSheet = `\n    .gleap-font, .gleap-font * {\n      font-style: normal;\n      font-variant-caps: normal;\n      font-variant-ligatures: normal;\n      font-variant-numeric: normal;\n      font-variant-east-asian: normal;\n      font-weight: normal;\n      font-stretch: normal;\n      font-size: 100%;\n      line-height: 1;\n      font-family: system-ui, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n    }\n    .gleap-ai-ui-widget {\n      display: none;\n    }\n    .gleap-input-highlight {\n      box-shadow: 0 0 0 3px ${primaryColor} !important;\n    }\n    .gleap-frame-container {\n      right: ${buttonX}px;\n      bottom: ${61 + buttonY}px;\n      width: calc(100% - 40px);\n      max-width: 410px;\n      position: fixed;\n      z-index: ${zIndexBase + 31};\n      visibility: visible;\n      box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.16);\n      border-radius: ${containerRadius}px;\n      overflow: hidden;\n      animation-duration: .3s;\n      animation-fill-mode: both;\n      animation-name: gleapFadeInUp;\n      user-select: none;\n      pointer-events: none;\n      transition: max-width 0.3s ease-out;\n    }\n\n    .gleap-admin-highlight {\n      box-shadow: 0px 0px 0px 4px red;\n    }\n\n    :root {\n      --gleap-margin-top: 50px;\n    }\n\n    .gleap-tooltip-anchor {\n      position: relative;\n      display: inline-block;\n      float: left;\n      max-width: 0px;\n      width: 17px;\n    }\n\n    .gleap-tooltip-hotspot {\n      position: absolute;\n      display: block;\n      width: 17px;\n      height: 17px;\n      cursor: pointer;\n      top: 0px;\n      left: 0px;\n    }\n\n    @keyframes gleap-pulse {\n      0% {\n        transform: scale(0);\n        opacity: 0.25;\n      }\n      45% {\n        transform: scale(2.5);\n        opacity: 0;\n      }\n      100% {\n        transform: scale(0);\n        opacity: 0;\n      }\n    }\n\n    .gleap-tooltip-hotspot-animation {\n      position: absolute;\n      border-radius: 17px;\n      opacity: 0.25;\n      display: block;\n      width: 17px;\n      height: 17px;\n      cursor: pointer;\n      top: 0px;\n      left: 0px;\n      animation: gleap-pulse 5s infinite;\n    }\n\n    .gleap-tooltip-hotspot svg {\n      width: 17px;\n      height: 17px;\n      object-fit: contain;\n      display: block;\n    }\n\n    .gleap-tooltip-inner {\n      position: relative;\n      overflow: visible;\n      font-size: 14px;\n      font-weight: normal;\n      color: #000;\n      line-height: 1.3;\n    }\n\n    .gleap-tooltip {\n      position: absolute;\n      background-color: #fff;\n      color: #000;\n      font-size: 15px;\n      line-height: 18px;\n      padding: 16px;\n      padding-top: 8px;\n      padding-bottom: 8px;\n      border-radius: 4px;\n      max-width: min(350px, 80vw);\n      box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.2);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.2s, visibility 0.2s;\n      z-index: ${zIndexBase + 100};\n    }\n\n    .gleap-tooltip a {\n      color: ${primaryColor};\n      text-decoration: underline;\n      display: inline !important;\n      margin: 0px !important;\n      padding: 0px !important;\n      word-break: break-word;\n    }\n\n    .gleap-tooltip ul {\n      padding-left: 16px;\n    }\n\n    .gleap-tooltip b {\n      font-weight: 600;\n    }\n\n    .gleap-tooltip h2 {\n      font-size: 18px;\n      line-height: 20px;\n      font-weight: 600;\n      margin-top: 8px;\n      margin-bottom: 8px;\n    }\n\n    .gleap-tooltip h3 {\n      font-size: 16px;\n      line-height: 18px;\n      font-weight: 600;\n      margin-top: 8px;\n      margin-bottom: 8px;\n    }\n\n    .gleap-tooltip p {\n      padding: 0px;\n      margin-top: 8px;\n      margin-bottom: 8px;\n    }\n\n    .gleap-tooltip img {\n      max-width: 100%;\n      max-height: 300px;\n      width: 100%;\n      height: auto;\n      object-fit: cover;\n      margin-top: 8px;\n      margin-bottom: 8px;\n      border-radius: 4px;\n    }\n\n    .gleap-tooltip iframe,\n    .gleap-tooltip video {\n      max-width: 100%;\n      width: 100%;\n      height: auto;\n      min-height: 200px;\n      display: block;\n      border: none;\n      outline: none;\n      padding: 0px;\n      margin-top: 8px;\n      margin-bottom: 8px;\n      border-radius: 4px;\n    }\n\n    .gleap-tooltip-arrow {\n      position: absolute;\n      width: 20px;\n      height: 20px;\n    }\n\n    .gleap-tooltip-arrow svg {\n      width: 20px;\n      height: 20px;\n      object-fit: contain;\n    }\n\n    .gleap-b-frame {\n      width: 100%;\n      height: 100%;\n      border: none;\n      pointer-events: auto;\n      padding: 0px;\n      margin: 0px;\n    }\n\n    .gleap-b-shown {\n      transition: margin 0.3s ease-out;\n      margin-top: var(--gleap-margin-top);\n      position: relative;\n      z-index: 10000;\n    }\n\n    .gleap-b-f {\n      margin-top: 0px;\n    }\n\n    .gleap-b {\n      display: none;\n      position: absolute;\n      top: calc(-1 * var(--gleap-margin-top));\n      left: 0px;\n      width: 100vw;\n      height: var(--gleap-margin-top);\n      z-index: ${zIndexBase + 99};\n    }\n\n    @keyframes gleapSlideIn {\n      from {\n          top: calc(-1 * var(--gleap-margin-top));\n      }\n      to {\n          top: 10px;\n      }\n    }\n\n    .gleap-b-f .gleap-b {\n      position: fixed;\n      top: 10px;\n      animation: gleapSlideIn .25s ease-out forwards;\n      max-width: 800px;\n      width: calc(100% - 20px);\n      left: 50%;\n      z-index: ${zIndexBase + 99};\n      transform: translateX(-50%);\n      border-radius: ${formItemBorderRadius}px;\n      overflow: hidden;\n      box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.15), 0px 5px 5px rgba(0, 0, 0, 0.05);\n    }\n\n    .gleap-b-shown .gleap-b {\n      display: block;\n    }\n\n    .gleap-image-view {\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      width: 100vw;\n      height: 100vh;\n      z-index: ${zIndexBase + 99};\n      background-color: ${contrastBackgroundColor}cc;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .gleap-image-view-image {\n      width: 90%;\n      height: auto;\n      max-width: 90%;\n      max-height: 90%;\n      object-fit: contain;\n    }\n\n    .gleap-image-view-close {\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      width: 32px;\n      height: 32px;\n      opacity: 0.8;\n      z-index: ${zIndexBase + 140};\n      box-shadow: 0px 5px 18px rgba(0, 0, 0, 0.16);\n      cursor: pointer;\n    }\n\n    .gleap-image-view-close:hover {\n      opacity: 1;\n    }\n\n    .gleap-image-view-close svg path {\n      fill: ${backgroundColor};\n    }\n\n    [dir=rtl].gleap-frame-container {\n      right: auto;\n      left: ${buttonX}px;\n      bottom: ${61 + buttonY}px;\n    }\n\n    .gleap-frame-container--loading iframe {\n      opacity: 0;\n    }\n\n    .gleap-frame-container--loading::before {\n      content: \" \";\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      right: 0px;\n      height: 100%;\n      max-height: 380px;\n      background: linear-gradient(\n        130deg,\n        ${headerDarkColor} 0%,\n        ${headerColor} 100%\n      );\n    }\n    \n    .gleap-frame-container--loading::after {\n      content: \" \";\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      right: 0px;\n      height: 100%;\n      height: 100%;\n      max-height: 380px;\n      background: linear-gradient(\n        180deg,\n        transparent 60%,\n        ${backgroundColor}1A 70%,\n        ${backgroundColor} 100%\n      );\n    }\n\n    .gleap-frame-container--loading-nogradient::before {\n      max-height: 340px;\n      background: ${headerColor} !important;\n    }\n\n    .gleap-frame-container--loading-nofade::after {\n      display: none !important;\n    }\n\n    .gleap-frame-container--survey {\n      bottom: ${buttonY}px !important;\n    }\n\n    .gleap-frame-container--extended {\n      max-width: 690px !important;\n    }\n\n    .gleap-frame-container--survey-full {\n      position: fixed;\n      top: 0 !important;\n      left: 0 !important;\n      bottom: 0 !important;\n      right: 0 !important;\n      width: 100vw !important;\n      max-width: 100vw !important;\n      height: 100vh;\n      height: 100dvh !important;\n      background-color: rgba(0, 0, 0, 0.5);\n      backdrop-filter: blur(6px);\n      display: flex !important;\n      justify-content: center !important;\n      align-items: center !important;\n      max-height: 100vh;\n      max-height: 100dvh !important;\n      border-radius: 0 !important;\n      animation-name: none !important;\n    }\n\n    .gleap-frame-container--survey-full .gleap-frame-container-inner {\n      max-width: 640px !important;\n      width: calc(100% - 24px);\n      border-radius: ${containerRadius}px;\n      overflow: hidden;\n    }\n\n    .gleap-frame-container--classic {\n      right: ${buttonX}px;\n      bottom: ${buttonY}px;\n    }\n\n    [dir=rtl].gleap-frame-container--classic {\n      right: auto;\n      left: ${buttonX}px;\n      bottom: ${buttonY}px;\n    }\n\n    .gleap-frame-container--no-button {\n      bottom: ${buttonY}px;\n    }\n\n    [dir=rtl].gleap-frame-container--classic-left {\n      bottom: ${buttonY}px;\n    }\n\n    .gleap-frame-container--classic-left {\n      right: auto;\n      left: ${buttonX}px;\n      bottom: ${buttonY}px;\n    }\n\n    [dir=rtl].gleap-frame-container--classic-left {\n      left: auto;\n      right: ${buttonX}px;\n      bottom: ${buttonY}px;\n    }\n\n    .gleap-frame-container--modern-left {\n      right: auto;\n      left: ${buttonX}px;\n      bottom: ${61 + buttonY}px;\n    }\n\n    [dir=rtl].gleap-frame-container--modern-left {\n      left: auto;\n      right: ${buttonX}px;\n      bottom: ${61 + buttonY}px;\n    }\n\n    .gleap-frame-container--animate {\n      pointer-events: auto !important;\n    }\n\n    @keyframes gleapFadeInUp {\n      from {\n          opacity: 0;\n          transform: translate3d(0, 100%, 0);\n      }\n      to {\n          opacity: 1;\n          transform: translate3d(0, 0, 0);\n      }\n    }\n\n    @keyframes gleapFadeInUpMobile {\n      from {\n          opacity: 0;\n          transform: translate3d(0, 10%, 0);\n      }\n      to {\n          opacity: 1;\n          transform: translate3d(0, 0, 0);\n      }\n    }\n\n    .gleap-notification-container {\n      position: fixed;\n      bottom: ${bottomInfoOffset}px;\n      right: ${buttonX}px;\n      z-index: ${zIndexBase + 30};\n      display: flex;\n      flex-direction: column;\n      align-items: flex-end;\n      width: 100%;\n      max-width: min(340px, 80vw);\n    }\n\n    .gleap-notification-container--left {\n      left: ${4 + buttonX}px;\n      right: initial !important;\n    }\n\n    [dir=rtl].gleap-notification-container {\n      left: ${4 + buttonX}px;\n      right: initial !important;\n    }\n\n    [dir=rtl].gleap-notification-container--left {\n      left: initial !important;\n      right: ${buttonX}px !important;\n      align-items: flex-start !important;\n    }\n\n    .gleap-notification-container--no-button {\n      bottom: ${buttonY}px;\n    }\n\n    .gleap-notification-item {\n      animation-duration: 0.7s;\n      animation-fill-mode: both;\n      animation-name: bbFadeInOpacity;\n    }\n\n    .gleap-notification-close {\n      border-radius: 100%;\n      width: 28px;\n      height: 28px;\n      background-color: ${subTextColor};\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin-bottom: 8px;\n      cursor: pointer;\n      visibility: hidden;\n      pointer-events: none;\n    }\n\n    .gleap-notification-container:hover .gleap-notification-close {\n      visibility: visible;\n      pointer-events: auto;\n      animation-duration: 0.7s;\n      animation-fill-mode: both;\n      animation-name: bbFadeInOpacity;\n    }\n\n    @media only screen and (max-width: 450px) {\n      .gleap-notification-close {\n        visibility: visible;\n        pointer-events: auto;\n        animation-duration: 0.7s;\n        animation-fill-mode: both;\n        animation-name: bbFadeInOpacity;\n      }\n    }\n\n    .gleap-notification-close svg {\n      width: 45%;\n      height: 45%;\n      object-fit: contain;\n      fill: ${backgroundColor};\n    }\n\n    .gleap-notification-item-checklist-container {\n      display: flex;\n      animation: fadeIn;\n      animation-duration: .45s;\n      background-color: ${backgroundColor};\n      border-radius: ${subTextColor};\n      box-sizing: border-box;\n      cursor: pointer;\n      flex-direction: column;\n      overflow: hidden;\n      box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.2);\n      border-radius: ${chatRadius}px;\n      margin-bottom: 12px;\n    }\n\n    .gleap-notification-item-checklist-content {\n      align-items: flex-start;\n      display: flex;\n      flex-direction: column;\n      padding: 15px;\n      width: 100%;\n      width: min(310px, 70vw);\n      max-width: min(310px, 70vw);\n    }\n\n    .gleap-notification-item-checklist-content-title {\n      color: ${contrastBackgroundColor};\n      font-size: 15px;\n      font-weight: 500;\n      line-height: 21px;\n      margin-bottom: 10px;\n      max-width: 100%;\n      -webkit-line-clamp: 3;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n    }\n\n    .gleap-notification-item-checklist-content-progress {\n      width: 100%;\n      height: 8px;\n      border-radius: 8px;\n      background-color: ${backgroundColorHover};\n    }\n\n    .gleap-notification-item-checklist-content-progress-inner {\n      height: 100%;\n      border-radius: 8px;\n      background-color: ${primaryColor};\n    }\n\n    .gleap-notification-item-checklist-content-next {\n      color: ${subTextColor};\n      font-size: 15px;\n      font-weight: normal;\n      line-height: 21px;\n      margin-top: 10px;\n      max-width: 100%;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      display: flex;\n      align-items: center;\n    }\n\n    .gleap-notification-item-checklist-content-next svg {\n      height: 18px;\n      margin-right: 5px;\n      width: auto;\n    }\n\n    .gleap-notification-item-checklist-content-next b {\n      font-size: 15px;\n      font-weight: normal;\n      color: ${contrastBackgroundColor};\n    }\n\n    .gleap-notification-item-news {\n      width: 100%;\n    }\n\n    .gleap-news-pagination {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-top: 10px;\n      width: 100%;\n    }\n\n    .gleap-news-page-indicator {\n      font-size: 12px;\n      color: ${subTextColor};\n    }\n\n    .gleap-news-next-button {\n      background-color: ${primaryColor};\n      color: ${contrastColor};\n      border-radius: ${formItemSmallBorderRadius}px;\n      box-sizing: border-box;\n      padding: 5px 10px;\n      font-size: 14px;\n      font-weight: bold;\n      line-height: 21px;\n      border: none;\n      text-align: center;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      box-shadow: none !important;\n      outline: none !important;^\n    }\n\n    .gleap-notification-item-news-content {\n      align-items: flex-start;\n      display: flex;\n      flex-direction: column;\n      padding: 15px;\n    }\n\n    .gleap-notification-item-news-preview {\n      color: ${subTextColor};\n      font-size: 14px;\n      line-height: 21px;\n      font-weight: 400;\n      overflow-wrap: break-word;\n      word-break: break-word;\n      display: block;\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n    }\n\n    .gleap-notification-item-news-sender {\n      display: flex;\n      align-items: center;\n      color: ${subTextColor};\n      font-size: 15px;\n      line-height: 21px;\n      font-weight: 400;\n    }\n    \n    .gleap-notification-item-news-content-title {\n      color: ${contrastBackgroundColor};\n      font-size: 15px;\n      font-weight: 500;\n      line-height: 21px;\n      margin-bottom: 6px;\n      max-width: 100%;\n      -webkit-line-clamp: 3;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      cursor: pointer;\n    }\n\n    .gleap-notification-item-news-sender img {\n      border-radius: 100%;\n      height: 20px;\n      margin-right: 8px;\n      object-fit: cover;\n      width: 20px;\n    }\n\n    [dir=rtl] .gleap-notification-item-news-sender img {\n      margin-left: 8px;\n      margin-right: 0px !important;\n    }\n\n    .gleap-notification-item-news-container {\n      display: flex;\n      animation: fadeIn;\n      animation-duration: .45s;\n      background-color: ${backgroundColor};\n      border-radius: ${subTextColor};\n      box-sizing: border-box;\n      flex-direction: column;\n      overflow: hidden;\n      box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.2);\n      border-radius: ${chatRadius}px;\n      margin-bottom: 12px;\n    }\n\n    .gleap-notification-item-news-image {\n      background-color: ${subTextColor};\n      height: 170px;\n      max-height: 170px;\n      object-fit: cover;\n      width: 100%;\n      cursor: pointer;\n    }\n      \n    .gleap-notification-item-news-content-title:hover {\n      color: ${primaryColor};\n    }\n\n    .gleap-notification-item {\n      display: flex;\n      align-items: flex-end;\n      cursor: pointer;\n    }\n\n    .gleap-notification-item img {\n      width: 32px;\n      height: 32px;\n      min-width: 32px;\n      border-radius: 100%;\n      object-fit: cover;\n      margin-right: 8px;\n      margin-bottom: 12px;\n      cursor: pointer;\n    }\n\n    [dir=rtl] .gleap-notification-item img {\n      margin-left: 8px;\n      margin-right: 0px !important;\n    }\n\n    .gleap-notification-item-container {\n      box-shadow: 0px 5px 30px rgba(0, 0, 0, 0.2);\n      border-radius: ${chatRadius}px;\n      border-bottom-left-radius: 0px;\n      padding: 20px;\n      background-color: ${backgroundColor};\n      margin-bottom: 12px;\n      cursor: pointer;\n      font-size: 15px;\n      line-height: 21px;\n      color: ${contrastBackgroundColor};\n      position: relative;\n    }\n\n    .gleap-notification-item-container::after {\n      content: \" \";\n      position: absolute;\n      bottom: 0px;\n      width: 0px;\n      height: 0px;\n      left: -6px;\n      border-style: solid;\n      border-width: 0px 0px 10px 6px;\n      border-color: transparent transparent ${backgroundColor};\n    }\n\n    .gleap-notification-item-sender {\n      color: ${subTextColor};\n      line-height: 20px;\n    }\n\n    .gleap-notification-item-content {\n      line-height: 20px;\n      color: ${contrastBackgroundColor};\n      margin-top: 4px;\n      min-width: min(200px, 50vw);\n      word-wrap: break-word;\n      word-break: break-word;\n    }\n\n    .gleap-frame-container-inner {\n      position: relative;\n      width: 100%;\n      height: calc(100vh - ${84 + buttonY}px);\n      max-height: ${widgetMaxHeight}px;\n    }\n\n    .gleap-frame-container--survey .gleap-frame-container-inner {\n      height: calc(100vh - 40px);\n    }\n    \n    .gleap-frame-container-inner:before {\n      content: \" \";\n      position: absolute;\n      width: 100%;\n      height: calc(100% - ${containerRadius}px);\n      top: ${containerRadius}px;\n      background-color: ${backgroundColor};\n      z-index: -1;\n    }\n    \n    .gleap-frame-container iframe {\n      height: 100% !important;\n      width: 100% !important;\n      max-width: 100% !important;\n      display: block !important;\n      pointer-events: auto !important;\n    }\n    \n    .gleap-frame-container--hidden {\n      display: none !important;\n      pointer-events: none;\n      animation: none !important;\n    }\n    \n    .bb-feedback-button {\n      margin: 0px;\n      position: fixed;\n      bottom: ${buttonY}px;\n      right: ${buttonX}px;\n      border-radius: 30px;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      background-color: transparent;\n      color: #000000;\n      z-index: ${zIndexBase + 30};\n      box-sizing: border-box;\n      display: flex;\n      align-items: center;\n      padding: 0px;\n    }\n\n    [dir=rtl].bb-feedback-button {\n      bottom: ${buttonY}px;\n      right: auto;\n      left: ${buttonX}px;\n    }\n    \n    .bb-feedback-button--bottomleft {\n      bottom: ${buttonY}px;\n      right: auto;\n      left: ${buttonX}px;\n    }\n\n    [dir=rtl].bb-feedback-button--bottomleft {\n      bottom: ${buttonY}px;\n      right: ${buttonX}px;\n      left: auto;\n    }\n    \n    .bb-feedback-button--disabled {\n      display: none !important;\n    }\n\n    .bb-feedback-button--hidden {\n      display: none !important;\n    }\n    \n    .bb-feedback-button-text {\n      padding: 8px 12px;\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n      justify-content: center;\n      background-color: #fff;\n      border-radius: 8px;\n      box-shadow: 0px 0px 14px 0px rgba(0, 0, 0, 0.15);\n      position: relative;\n      z-index: 99;\n    }\n    \n    .bb-feedback-button-text:before {\n      content: \"\";\n      position: absolute;\n      box-shadow: rgba(0, 0, 0, 0.04) 6px 6px 5px;\n      transform: rotate(315deg);\n      bottom: 16px;\n      right: -4px;\n      border-width: 10px;\n      border-style: solid;\n      border-color: transparent #fff #fff transparent;\n    }\n    \n    .bb-feedback-button--bottomleft .bb-feedback-button-text:before {\n      display: none;\n    }\n    \n    .bb-feedback-button-text:after {\n      content: \"\";\n      position: absolute;\n      bottom: 12px;\n      right: 0px;\n      background-color: #fff;\n      width: 5px;\n      height: 30px;\n    }\n    \n    .bb-feedback-button-text-title {\n      font-family: sans-serif;\n      font-size: 14px;\n      color: #666;\n      line-height: 18px;\n      max-width: 220px;\n    }\n    \n    .bb-feedback-button-text-title b {\n      color: #000000;\n      font-weight: 600;\n    }\n\n    .bb-notification-bubble {\n      position: absolute;\n      top: -5px;\n      right: -5px;\n      min-width: 12px;\n      padding: 0px 4px;\n      height: 20px;\n      min-width: 20px;\n      border-radius: 20px;\n      background-color: red;\n      color: #fff;\n      font-size: 11px;\n      font-family: sans-serif;\n      text-align: center;\n      line-height: 20px;\n    }\n\n    .bb-notification-bubble--hidden {\n      display: none;\n    }\n    \n    .bb-feedback-button-icon {\n      width: 48px;\n      height: 48px;\n      border-radius: 48px;\n      background-color: #485bff;\n      transition: box-shadow, transform 0.2s ease-in-out;\n      box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.15), 0px 0px 20px rgba(0, 0, 0, 0.1);\n      position: relative;\n    }\n    \n    .bb-feedback-button-classic {\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      top: 50%;\n      right: 0px;\n      position: fixed;\n      transform: rotate(-90deg) translate(50%, -50%);\n      transform-origin: 100% 50%;\n      padding: 9px 20px;\n      text-align: center;\n      background-color: #485bff;\n      border-top-left-radius: 8px;\n      border-top-right-radius: 8px;\n      font-family: sans-serif;\n      font-size: 16px;\n      color: #fff;\n      box-shadow: 0px 0px 14px 0px rgba(0, 0, 0, 0.25);\n    }\n\n    [dir=rtl].bb-feedback-button .bb-feedback-button-classic {\n      top: 50%;\n      left: 0px;\n      right: auto;\n      transform: rotate(90deg) translate(-50%, -100%);\n      transform-origin: 0% 0%;\n    }\n    \n    .bb-feedback-button-classic--left {\n      top: 50%;\n      left: 0px;\n      right: auto;\n      transform: rotate(90deg) translate(-50%, -100%);\n      transform-origin: 0% 0%;\n    }\n\n    [dir=rtl].bb-feedback-button .bb-feedback-button-classic--left {\n      top: 50%;\n      right: 0px;\n      left: auto;\n      transform: rotate(-90deg) translate(50%, -50%);\n      transform-origin: 100% 50%;\n    }\n    \n    .bb-feedback-button-classic--bottom {\n      top: auto;\n      bottom: 0px;\n      transform: none;\n      right: ${buttonX}px;\n      left: auto;\n    }\n    \n    [dir=rtl].bb-feedback-button .bb-feedback-button-classic--bottom {\n      top: auto;\n      bottom: 0px;\n      transform: none;\n      left: ${buttonX}px;\n      right: auto;\n    }\n\n    .bb-feedback-button--classic-button-style {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-name: bbFadeInOpacity;\n    }\n    \n    .bb-feedback-button--open.bb-feedback-button--classic-button-style {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-name: bbFadeOutRight;\n    }\n    \n    .bb-feedback-button .bb-logo-logo {\n      position: absolute;\n      width: 30px;\n      height: 30px;\n      top: 9px;\n      left: 9px;\n      object-fit: contain;\n      animation-duration: 0.3s;\n      animation-fill-mode: both;\n      animation-name: bbZoomIn;\n    }\n    \n    .bb-feedback-button .bb-logo-arrowdown {\n      position: absolute;\n      width: 14px;\n      height: 14px;\n      top: 17px;\n      left: 17px;\n      object-fit: contain;\n      animation-duration: 0.3s;\n      animation-fill-mode: both;\n    }\n    \n    .bb-feedback-button .bb-logo-arrowdown {\n      animation-name: bbZoomOut;\n    }\n    \n    .bb-feedback-button--open .bb-logo-arrowdown {\n      animation-name: bbZoomIn;\n    }\n    \n    .bb-feedback-button--open .bb-logo-logo {\n      animation-name: bbZoomOut;\n    }\n    \n    .bb-feedback-button-icon:hover {\n      box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.25), 0px 0px 20px rgba(0, 0, 0, 0.2);\n      transform: scale(1.1);\n    }\n    \n    .bb-feedback-button--open .bb-feedback-button-text {\n      animation-name: bbFadeOutDown;\n    }\n    \n    .bb-feedback-button--open .bb-feedback-button-icon {\n      display: flex;\n    }\n    \n    .bb-capture-svg {\n      position: fixed;\n      z-index: ${zIndexBase + 14};\n      top: 0px;\n      left: 0px;\n      right: 0px;\n      width: 100%;\n      height: 100%;\n      padding: 0px;\n      margin: 0px;\n      cursor: crosshair;\n    }\n\n    .bb-capture-svg--preview {\n      cursor: auto !important;\n    }\n    \n    .bb-rec-on-circle {\n      animation-name: bbRecIconFade;\n      animation-duration: 2s;\n      animation-iteration-count: infinite;\n      animation-direction: alternate;\n    }\n    \n    .bb-rec-on-cont {\n      animation-name: bbRecIconContFade;\n      animation-duration: 2s;\n      animation-iteration-count: infinite;\n      animation-direction: alternate;\n    }\n    \n    .bb-capture-editor-drag-info {\n      position: fixed;\n      top: -200px;\n      left: 0px;\n      z-index: ${zIndexBase + 16};\n      transition: opacity 0.3s ease-in-out;\n    }\n    \n    .bb-capture-editor-drag-info svg {\n      width: 24px;\n      height: 24px;\n    }\n    \n    .bb-capture-editor-borderlayer {\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      width: 100vw;\n      height: 100vh;\n      border: 4px solid ${primaryColor};\n      cursor: crosshair;\n      z-index: ${zIndexBase + 10};\n      box-sizing: border-box;\n      pointer-events: none;\n    }\n    \n    .bb-capture-editor-notrecording .bb-capture-editor-borderlayer {\n      background-color: rgba(0, 0, 0, 0.8);\n    }\n\n    .bb-capture-editor-recording .bb-capture-editor-borderlayer {\n      border: 4px solid #eb144c !important;\n    }\n    \n    .bb-capture-editor-recording .bb-capture-dismiss {\n      display: none;\n    }\n    \n    .bb-capture-editor-item-inactive {\n      opacity: 0.3;\n      cursor: not-allowed !important;\n    }\n    \n    .bb-capture-editor-notrecording .bb-capture-toolbar-drawingitem {\n      opacity: 0.3;\n      cursor: not-allowed !important;\n    }\n    \n    .bb-capture-editor-notrecording .bb-capture-editor-drag-info {\n      display: none;\n    }\n    \n    .bb-capture-editor-notrecording .bb-capture-svg {\n      pointer-events: none !important;\n    }\n    \n    .bb-capture-toolbar {\n      position: fixed;\n      top: 20px;\n      left: 50%;\n      transform: translateX(-50%);\n      z-index: ${zIndexBase + 18};\n      background-color: #fff;\n      padding: 5px;\n      display: flex;\n      align-items: center;\n      border-radius: 8px;\n      box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.15), 0px 0px 20px rgba(0, 0, 0, 0.1);\n      transition: opacity 0.3s ease-in-out;\n    }\n    \n    .bb-capture-dismiss {\n      position: fixed;\n      top: 0px;\n      right: 0px;\n      z-index: ${zIndexBase + 18};\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      width: 36px;\n      height: 36px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background-color: ${primaryColor};\n      border-bottom-left-radius: ${formItemSmallBorderRadius}px;\n    }\n\n    [dir=rtl] .bb-capture-dismiss {\n      top: 0px;\n      left: 0px;\n      right: auto;\n      border-bottom-left-radius: 0px !important;\n      border-bottom-right-radius: ${formItemSmallBorderRadius}px;\n    }\n    \n    .bb-capture-dismiss svg path {\n      fill: ${contrastColor};\n    }\n    \n    .bb-capture-dismiss svg {\n      width: 20px;\n      height: 20px;\n      object-fit: contain;\n    }\n    \n    .bb-capture-button-next {\n      font-family: sans-serif;\n      box-sizing: border-box;\n      font-weight: 600;\n      text-align: center;\n      width: auto;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      margin: 0px;\n      line-height: 36px;\n      padding: 0px 12px;\n      font-size: 15px;\n      margin-left: 12px;\n    }\n\n    [dir=rtl].bb-capture-editor .bb-capture-button-next {\n      margin-left: auto;\n      margin-right: 12px;\n    }\n    \n    .bb-capture-toolbar-item-spacer {\n      width: 1px;\n      height: 38px;\n      min-width: 1px;\n      margin: 0px 5px;\n    }\n    \n    .bb-capture-toolbar-item {\n      width: 42px;\n      height: 38px;\n      min-width: 42px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      position: relative;\n      margin-right: 5px;\n    }\n\n    .drag-handle-item {\n      cursor: grab !important;\n      width: 34px;\n      min-width: 34px;\n    }\n\n    .drag-handle-item svg {\n      width: 18px !important;\n      height: 18px !important;\n    }\n    \n    .bb-capture-toolbar-item svg {\n      width: 23px;\n      height: 23px;\n      object-fit: contain;\n    }\n    \n    .bb-capture-toolbar-item-selectedcolor {\n      border-radius: 100%;\n      width: 20px;\n      height: 20px;\n      background-color: #db4035;\n    }\n    \n    .bb-capture-toolbar-item[data-type=\"undo\"] svg {\n      width: 18px;\n      height: 18px;\n    }\n    \n    .bb-capture-toolbar-item[data-active=\"true\"] {\n      position: relative;\n    }\n    \n    .bb-capture-preview {\n      display: none;\n      background-color: rgba(0, 0, 0, 0.6);\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      width: 100vw;\n      height: 100vh;\n      justify-content: center;\n      align-items: center;\n      z-index: ${zIndexBase + 20};\n    }\n    \n    .bb-capture-preview-inner {\n      background-color: #fff;\n      padding: 0px;\n      box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.15), 0px 0px 20px rgba(0, 0, 0, 0.1);\n      border-radius: 8px;\n      flex-direction: column;\n      max-width: 640px;\n      width: 100%;\n      margin: 20px;\n    }\n    \n    .bb-capture-preview-inner video {\n      border-radius: 8px 8px 0px 0px;\n      display: block;\n      border: 0px;\n      outline: none;\n      width: 100%;\n      max-height: 60vh;\n    }\n    \n    .bb-capture-preview-buttons {\n      display: flex;\n      justify-content: space-between;\n      padding: 14px;\n    }\n    \n    .bb-capture-preview-retrybutton {\n      font-family: sans-serif;\n      border-radius: 21px;\n      box-sizing: border-box;\n      padding: 12px 26px;\n      font-size: 16px;\n      line-height: 19px;\n      font-weight: 600;\n      text-align: center;\n      margin-top: 0px;\n      margin-bottom: 0px;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n    }\n    \n    .bb-capture-preview-sendbutton {\n      font-family: sans-serif;\n      border-radius: 21px;\n      box-sizing: border-box;\n      padding: 12px 26px;\n      font-size: 16px;\n      line-height: 19px;\n      font-weight: 600;\n      text-align: center;\n      margin-top: 0px;\n      margin-bottom: 0px;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n    }\n    \n    .bb-capture-preview-retrybutton:hover,\n    .bb-capture-preview-sendbutton:hover {\n      opacity: 0.9;\n    }\n    \n    .bb-capture-toolbar-item-recording {\n      margin-right: 0px;\n    }\n    \n    .bb-capture-toolbar-item-recording svg {\n      width: 33px;\n      height: 33px;\n    }\n    \n    .bb-capture-toolbar-item-colorpicker {\n      position: fixed;\n      top: 70px;\n      left: 50%;\n      transform: translateX(-50%);\n      z-index: ${zIndexBase + 18};\n      background-color: #fff;\n      display: none;\n      padding: 10px;\n      box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.15), 0px 0px 20px rgba(0, 0, 0, 0.1);\n      border-radius: 8px;\n    }\n    \n    .bb-capture-toolbar-item-color {\n      width: 20px;\n      height: 20px;\n      border-radius: 100%;\n      margin-right: 12px;\n      box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.15);\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n    }\n    \n    .bb-capture-toolbar-item-color:hover {\n      box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.25);\n    }\n    \n    .bb-capture-toolbar-item-color:last-of-type {\n      margin-right: 0px;\n    }\n    \n    [dir=rtl].bb-capture-editor .bb-capture-toolbar-item-color {\n      margin-right: auto;\n      margin-left: 12px;\n    }\n    \n    [dir=rtl].bb-capture-editor .bb-capture-toolbar-item-color:last-of-type {\n      margin-right: auto;\n      margin-left: 0px;\n    }\n    \n    .bb-capture-toolbar-item-recording[data-active=\"true\"] svg:first-of-type {\n      display: none;\n    }\n    \n    .bb-capture-toolbar-item-recording[data-active=\"true\"] svg:nth-of-type(2) {\n      display: block;\n    }\n    \n    .bb-capture-toolbar-item-recording[data-active=\"false\"] svg:first-of-type {\n      display: block;\n    }\n    \n    .bb-capture-toolbar-item-recording[data-active=\"false\"] svg:nth-of-type(2) {\n      display: none;\n    }\n    \n    .bb-capture-toolbar-item--active {\n      background-color: #eee;\n    }\n    \n    .bb-capture-toolbar-item:hover svg {\n      opacity: 1;\n    }\n    \n    .bb-capture-toolbar-item--active {\n      background-color: #f8f8f8;\n    }\n    \n    .bb-capture-toolbar-item--active svg {\n      opacity: 1;\n    }\n    \n    .bb-capture-toolbar-item--inactivecross::before {\n      content: \"\";\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      height: 3px;\n      width: 26px;\n      margin: auto;\n      border-radius: 4px;\n      background-color: #e80000;\n      transform: rotate(45deg);\n    }\n    \n    .bb-capture-toolbar-item--inactivecross svg {\n      fill: #eee;\n    }\n    \n    .bb-capture-toolbar-item-timer {\n      text-align: left;\n      line-height: 32px;\n      font-size: 14px;\n      font-family: sans-serif;\n      margin: 5px;\n      min-width: 40px;\n      display: none;\n    }\n    \n    .bb-capture-toolbar-item .bb-tooltip {\n      background-color: #555;\n      color: #fff;\n      visibility: hidden;\n      font-size: 14px;\n      font-family: sans-serif;\n      text-align: center;\n      padding: 5px 10px;\n      position: absolute;\n      z-index: 1;\n      top: 45px;\n      left: 0px;\n      transform: translateX(calc(-50% + 21px));\n      opacity: 0;\n      transition: opacity 0.3s;\n      white-space: nowrap;\n    }\n    \n    .bb-capture-toolbar-item .bb-tooltip::after {\n      content: \"\";\n      position: absolute;\n      bottom: 100%;\n      left: 50%;\n      margin-left: -5px;\n      border-width: 5px;\n      border-style: solid;\n      transform: rotate(180deg);\n      border-color: #555 transparent transparent transparent;\n    }\n    \n    .bb-capture-toolbar-item:hover .bb-tooltip {\n      visibility: visible;\n      opacity: 1;\n    }\n    \n    .bb-capture-options {\n      display: none;\n    }\n    \n    .bb-capture-options--active {\n      display: flex;\n    }\n\n    @keyframes bbFadeOutRight {\n      from {\n        opacity: 1;\n      }\n    \n      to {\n        opacity: 0;\n      }\n    }\n    \n    @keyframes bbFadeOutDown {\n      from {\n        opacity: 1;\n      }\n    \n      to {\n        opacity: 0;\n        transform: translate3d(0, 100%, 0);\n      }\n    }\n    \n    @keyframes bbFadeInOpacity {\n      from {\n        opacity: 0;\n      }\n    \n      to {\n        opacity: 1;\n      }\n    }\n    \n    @keyframes bbZoomOut {\n      from {\n        opacity: 1;\n      }\n    \n      50% {\n        opacity: 0;\n        transform: scale3d(0.3, 0.3, 0.3);\n      }\n    \n      to {\n        opacity: 0;\n      }\n    }\n    \n    @keyframes bbZoomIn {\n      from {\n        opacity: 0;\n        transform: scale3d(0.3, 0.3, 0.3);\n      }\n    \n      50% {\n        opacity: 1;\n      }\n    }\n    \n    @keyframes bbRecIconContFade {\n      0% {\n        fill: #b10802;\n      }\n      50% {\n        fill: #ff0000;\n      }\n      100% {\n        fill: #b10802;\n      }\n    }  \n    .bb-capture-preview-retrybutton {\n      color: ${contrastBackgroundColor};\n      border-radius: ${buttonBorderRadius}px;\n      background-color: ${backgroundColorHover};\n    }\n    .bb-capture-preview-retrybutton:hover {\n      background-color: ${hoverHoverColor};\n    }\n    @keyframes bb-suc-fill {\n      100% {\n        box-shadow: inset 0px 0px 0px 30px ${primaryColor};\n      }\n    }\n    .bb-capture-toolbar-item-spacer {\n      background-color: ${backgroundColorHover};\n    }\n    .bb-tooltip {\n      border-radius: ${formItemBorderRadius}px;\n    }\n    @keyframes bbRecIconFade {\n      0% {\n        fill: transparent;\n      }\n      50% {\n        fill: ${hoverHoverColor};\n      }\n      100% {\n        fill: transparent;\n      }\n    }\n    .bb-capture-preview-sendbutton {\n      color: ${contrastColor};\n      background-color: ${primaryColor};\n      border-radius: ${buttonBorderRadius}px;\n    }\n    .bb-capture-button-next {\n      color: ${contrastColor};\n      background-color: ${primaryColor};\n      border-radius: ${formItemSmallBorderRadius}px;\n    }\n    .bb-capture-preview-inner {\n      background-color: ${backgroundColor};\n      border-radius: ${formItemBorderRadius}px;\n    }\n    .bb-capture-toolbar-item-timer {\n      color: ${subTextColor};\n    }\n    .bb-svg-path {\n      fill: ${contrastBackgroundColor};\n    }\n    .bb-capture-toolbar-item {\n      border-radius: ${formItemBorderRadius}px;\n    }\n    .bb-capture-toolbar {\n      background-color: ${backgroundColor};\n      border-radius: ${formItemBorderRadius}px;\n    }\n    .bb-capture-toolbar-item-colorpicker {\n      background-color: ${backgroundColor};\n    }\n    .bb-capture-toolbar-item--active {\n      background-color: ${backgroundColorHover};\n    }\n    .bb-feedback-button-classic {\n      border-top-left-radius: ${formItemBorderRadius}px;\n      border-top-right-radius: ${formItemBorderRadius}px;\n    }\n    .bb-logo-logo--default path {\n      fill: ${contrastButtonColor};\n    }\n    .bb-logo-arrowdown {\n      fill: ${contrastButtonColor};\n    }\n    .bb-feedback-button-icon {\n        background-color: ${buttonColor};\n    }\n    .bb-feedback-button-classic {\n      background-color: ${buttonColor};\n      color: ${contrastButtonColor};\n    }\n\n    @media only screen and (max-width: 450px) {\n      [dir=rtl].gleap-frame-container,\n      .gleap-frame-container {\n        left: 0px;\n        right: 0px;\n        width: 100vw;\n        max-width: 100vw;\n        min-height: 100vh;\n        max-height: 100vh;\n        min-height: 100dvh !important;\n        max-height: 100dvh !important;\n        top: 0px;\n        bottom: 0px;\n        border-radius: 0px;\n        animation-name: gleapFadeInUpMobile;\n      }\n\n      .gleap-frame-container-inner {\n        width: 100vw;\n        height: 100%;\n      }\n\n      .gleap-frame-container:not(.gleap-frame-container--survey):not(.gleap-frame-container--survey-full) .gleap-frame-container-inner {\n        max-height: calc(var(--glvh, 1vh) * 100) !important;\n      }\n\n      .gleap-frame-container--survey {\n        height: auto !important;\n        top: initial !important;\n        bottom: 0px !important;\n        min-height: initial !important;\n      }\n\n      .gleap-frame-container--survey .gleap-frame-container-inner {\n        height: 100vh !important;\n      }\n\n      .bb-tooltip {\n        display: none !important;\n      }\n    \n      .bb-capture-toolbar-item-colorpicker {\n        top: 75px;\n      }\n    \n      .bb-capture-button-next {\n        margin-left: auto;\n      }\n    \n      .bb-capture-dismiss {\n        display: none;\n      }\n    \n      .bb-capture-toolbar {\n        top: 15px;\n        right: 15px;\n        left: 15px;\n        width: auto;\n        transform: none;\n      }\n\n      .bb-capture-editor-drag-info {\n        display: none;\n      }\n    \n      .bb-capture-editor-borderlayer {\n        border-width: 4px;\n      }\n    }\n    \n    @media print {\n      .bb-feedback-button {\n        display: none !important;\n      }\n      \n      .gleap-frame-container {\n        display: none !important;\n      }\n    }\n\n    .gleap-tour-sender {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      margin-bottom: 10px;\n    }\n\n    .gleap-tour-sender-image {\n      width: 32px;\n      height: 32px;\n      border-radius: 32px;\n      margin-right: 10px;\n      background-size: cover;\n      background-repeat: no-repeat;\n    }\n\n    .gleap-tour-popover.gleap-tour-popover-post {\n      min-width: 550px;\n      max-width: 550px;\n    }\n\n    @media only screen and (max-width: 450px) {\n      .gleap-tour-popover.gleap-tour-popover-post {\n        min-width: calc(100vw - 40px);\n        max-width: calc(100vw - 40px);\n      }\n    }\n\n    .gleap-tour-message,\n    .gleap-tour-message p,\n    .gleap-tour-message ul {\n      color: ${contrastBackgroundColor};\n    }\n\n    .gleap-tour-message h2 {\n      font-weight: 600;\n      font-size: 22px;\n    }\n\n    .gleap-tour-message h3 {\n      font-weight: 600;\n      font-size: 18px;\n    }\n\n    .gleap-tour-message p {\n      line-height: 1.3;\n      margin-bottom: 10px !important;\n      margin-top: 10px !important;\n    }\n\n    .gleap-tour-message ul {\n      line-height: 1.3;\n      padding-left: 20px;\n      margin-top: 10px !important;\n      margin-bottom: 10px !important;\n    }\n\n    .gleap-tour-message {\n      max-height: calc(80vh - 100px) !important;\n      overflow-y: auto;\n      min-width: 270px;\n    }\n\n    .gleap-tour-message::-webkit-scrollbar {\n      width: 5px;\n    }\n\n    .gleap-tour-message::-webkit-scrollbar-track {\n      border-radius: 0px;\n    }\n    \n    .gleap-tour-message::-webkit-scrollbar-thumb {\n      background: ${hoverHoverColor}; \n      border-radius: 5px;\n    }\n\n    .gleap-tour-message::-webkit-scrollbar-thumb:hover {\n      background: ${subTextColor};\n    }\n\n    @media only screen and (max-width: 450px) {\n      .gleap-tour-message {\n        min-width: auto !important;\n      }\n    }\n\n    .gleap-tour-message iframe {\n      width: 100%;\n      height: 300px;\n      margin-top: 10px;\n      margin-bottom: 10px;\n      border: none;\n      outline: none;\n      display: block;\n    }\n\n    .gleap-tour-sender-name {\n      font-size: 15px;\n    }\n\n    .gleap-tour-video {\n      width: 100%;\n      max-width: 100%;\n    }\n\n    .gleap-tour-video-svg--fullscreen {\n      width: 100% !important;\n      height: 100% !important;\n      top: 0px !important;\n      left: 0px !important;\n      right: 0px !important;\n      bottom: 0px !important;\n    }\n\n    .gleap-tour-video--playing .gleap-tour-video-playpause {\n      opacity: 0;\n    }\n    \n    .gleap-tour-video--playing:hover .gleap-tour-video-playpause {\n      opacity: 1;\n    }\n\n    .gleap-tour-popover-video-pointer {\n      padding: 0px !important;\n      border-radius: 8px;\n      position: relative;\n      background-color: transparent !important;\n    }\n\n    .gleap-tour-popover-video-pointer .gleap-tour-popover-footer {\n      position: absolute;\n      top: 0px;\n      left: 20px;\n      right: 20px;\n      opacity: 0;\n      transition: opacity 200ms ease-in-out;\n    }\n\n    .gleap-tour-popover-video-pointer .gleap-tour-popover-footer button {\n      padding: 5px 12px;\n    }\n\n    .gleap-tour-popover-video-pointer.gleap-tour-popover-can-close .gleap-tour-popover-footer {\n      right: 40px !important;\n    }\n\n    .gleap-tour-popover-video-pointer:hover .gleap-tour-popover-footer {\n      opacity: 1;\n    }\n\n    .gleap-tour-popover-pointer.gleap-tour-popover-no-sender .gleap-tour-message {\n      padding-right: 20px;\n    }\n\n    .gleap-tour-video video {\n      width: 100%;\n      max-width: 100%;\n      height: auto;\n      border: none;\n      outline: none;\n      display: block;\n      border-radius: 8px;\n    }\n\n    .gleap-admin-collapse-ui {\n      z-index: ${zIndexBase + 35};\n      cursor: pointer;\n      position: fixed;\n      bottom: 75px;\n      right: 20px;\n      width: 32px;\n      height: 32px;\n      border-radius: 100%;\n      background-color: #fff;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      box-shadow: rgba(0, 0, 0, 0.16) 0px 10px 36px 0px, rgba(0, 0, 0, 0.06) 0px 0px 0px 1px;\n    }\n\n    .gleap-admin-collapse-ui svg {\n      width: 20px;\n      height: 14px;\n      fill: #000 !important;\n    }\n\n    .gleap-admin-collapse-ui-active {\n      bottom: 20px !important;\n    }\n\n    .gleap-admin-collapse-ui-active svg {\n      transform: rotate(180deg);\n    }\n\n    .gleap-admin-frame-container-active {\n      display: none !important;\n    }\n\n    .gleap-admin-frame-container {\n      position: fixed;\n      bottom: 0px;\n      left: 0px;\n      right: 0px;\n      width: 100vw;\n      z-index: ${zIndexBase + 40};\n    }\n\n    .gleap-admin-frame {\n      width: 100%;\n      height: 100% !important;\n      border: none;\n      outline: none;\n      display: block;\n    }\n    \n    .gleap-tour-message .linktype-link {\n      display: inline-block !important;\n      background-color: transparent !important;\n      color: ${buttonColor} !important;\n    }\n\n    .gleap-tooltip .linktype-button,\n    .gleap-tour-message .linktype-button {\n      display: inline-block !important;\n      border-radius: 5px;\n      box-sizing: border-box;\n      padding: 10px 20px !important;\n      text-decoration: none !important;\n      background-color: ${buttonColor} !important;\n      color: ${contrastButtonColor} !important;\n    }\n\n    .gleap-tour-message img {\n      width: 100%;\n      max-width: 100%;\n      min-height: 260px;\n      height: auto;\n      margin-top: 10px;\n      margin-bottom: 10px;\n      object-fit: cover;\n    }\n\n    .gleap-tour-active .gleap-tour-overlay {\n      pointer-events: none;\n    }\n    \n    .gleap-tour-active * {\n      pointer-events: none;\n    }\n    \n    .gleap-tour-active .gleap-tour-active-element,\n    .gleap-tour-active .gleap-tour-active-element *,\n    .gleap-tour-popover,\n    .gleap-tour-popover * {\n      pointer-events: auto;\n    }\n    \n    @keyframes animate-fade-in {\n      0% {\n        opacity: 0;\n      }\n    \n      to {\n        opacity: 1;\n      }\n    }\n    \n    .gleap-tour-fade .gleap-tour-overlay {\n      animation: animate-fade-in 200ms ease-in-out;\n    }\n    \n    .gleap-tour-fade .gleap-tour-popover {\n      animation: animate-fade-in 200ms;\n    }\n\n    .gleap-tour-video-playpause {\n      position: absolute;\n      bottom: 8px;\n      left: 8px;\n      width: 32px;\n      height: 32px;\n      padding: 4px;\n      background-color: rgba(0,0,0,0.5);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      border-radius: 8px;\n      transition: opacity 200ms ease-in-out;\n    }\n\n    .gleap-tour-popover-video-pointer .gleap-tour-popover-arrow {\n      display: none !important;\n    }\n\n    .gleap-tour-video-playpause svg {\n      width: 34px;\n      height: auto;\n      fill: #fff;\n    }\n    \n    /* Popover styles */\n    .gleap-tour-popover {\n      all: unset;\n      box-sizing: border-box;\n      color: #2d2d2d;\n      margin: 0;\n      padding: 15px;\n      border-radius: ${formItemBorderRadius}px;\n      min-width: 250px;\n      max-width: 300px;\n      box-shadow: 0 1px 10px #0006;\n      z-index: 1000000000;\n      position: fixed;\n      top: 0;\n      right: 0;\n      background-color: #fff;\n    }\n    \n    .gleap-tour-popover * {\n      font-family: \"Helvetica Neue\", Inter, ui-sans-serif, \"Apple Color Emoji\", Helvetica, Arial, sans-serif;\n    }\n    \n    .gleap-tour-popover-title {\n      font: 19px / normal sans-serif;\n      font-weight: 700;\n      display: block;\n      position: relative;\n      line-height: 1.5;\n      zoom: 1;\n      margin: 0;\n    }\n    \n    .gleap-tour-popover-close-btn {\n      all: unset;\n      position: absolute;\n      top: 5px;\n      right: 5px;\n      width: 32px;\n      height: 32px;\n      cursor: pointer;\n      font-size: 30px;\n      font-weight: 500;\n      line-height: 32px;\n      color: #d2d2d2;\n      z-index: 1;\n      text-align: center;\n      transition: color;\n      transition-duration: 200ms;\n    }\n    \n    .gleap-tour-popover-close-btn:hover,\n    .gleap-tour-popover-close-btn:focus {\n      color: #2d2d2d;\n    }\n    \n    .gleap-tour-popover-title[style*=\"block\"] + .gleap-tour-popover-description {\n      margin-top: 5px;\n    }\n    \n    .gleap-tour-popover-description {\n      margin-bottom: 0;\n      font: 15px / normal sans-serif;\n      line-height: 1.5;\n      font-weight: 400;\n      zoom: 1;\n    }\n    \n    .gleap-tour-popover-footer {\n      margin-top: 15px;\n      text-align: right;\n      zoom: 1;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n    \n    .gleap-tour-popover-progress-text {\n      font-size: 13px;\n      font-weight: 400;\n      color: #727272;\n      zoom: 1;\n    }\n    \n    .gleap-tour-popover-footer button {\n      background-color: ${primaryColor};\n      color: ${contrastColor};\n      border-radius: ${formItemSmallBorderRadius}px;\n      box-sizing: border-box;\n      padding: 10px 20px;\n      font-size: 14px;\n      font-weight: bold;\n      line-height: 21px;\n      border: none;\n      text-align: center;\n      cursor: pointer;\n      -webkit-tap-highlight-color: transparent;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      box-shadow: none !important;\n      outline: none !important;\n    }\n\n    .gleap-tour-popover-prev-btn {\n      color: ${contrastBackgroundColor} !important;\n      background-color: ${backgroundColorHover} !important;\n      margin-right: 3px;\n    }\n\n    .gleap-tour-popover-prev-btn:hover {\n      background-color: ${primaryColor}22 !important;\n      color: ${primaryColor} !important;\n    }\n    \n    .gleap-tour-popover-footer .gleap-tour-popover-btn-disabled {\n      opacity: 0.5;\n      pointer-events: none;\n    }\n    \n    .gleap-tour-no-interaction, .gleap-tour-no-interaction * {\n      pointer-events: none !important;\n    }\n    \n    .gleap-tour-popover-navigation-btns {\n      display: flex;\n      flex-grow: 1;\n      justify-content: flex-end;\n    }\n    \n    .gleap-tour-popover-navigation-btns button + button {\n      margin-left: 4px;\n    }\n    \n    .gleap-tour-popover-arrow {\n      content: \"\";\n      position: absolute;\n      border: 5px solid #fff;\n    }\n    \n    .gleap-tour-popover-arrow-side-over {\n      display: none;\n    }\n    \n    /** Popover Arrow Sides **/\n    .gleap-tour-popover-arrow-side-left {\n      left: 100%;\n      border-right-color: transparent;\n      border-bottom-color: transparent;\n      border-top-color: transparent;\n    }\n    \n    .gleap-tour-popover-arrow-side-right {\n      right: 100%;\n      border-left-color: transparent;\n      border-bottom-color: transparent;\n      border-top-color: transparent;\n    }\n    \n    .gleap-tour-popover-arrow-side-top {\n      top: 100%;\n      border-right-color: transparent;\n      border-bottom-color: transparent;\n      border-left-color: transparent;\n    }\n    \n    .gleap-tour-popover-arrow-side-bottom {\n      bottom: 100%;\n      border-left-color: transparent;\n      border-top-color: transparent;\n      border-right-color: transparent;\n    }\n    \n    .gleap-tour-popover-arrow-side-center {\n      display: none;\n    }\n    \n    /* Left/Start + Right/Start */\n    .gleap-tour-popover-arrow-side-left.gleap-tour-popover-arrow-align-start,\n    .gleap-tour-popover-arrow-side-right.gleap-tour-popover-arrow-align-start {\n      top: 15px;\n    }\n    \n    /* Top/Start + Bottom/Start */\n    .gleap-tour-popover-arrow-side-top.gleap-tour-popover-arrow-align-start,\n    .gleap-tour-popover-arrow-side-bottom.gleap-tour-popover-arrow-align-start {\n      left: 15px;\n    }\n    \n    /* End/Left + End/Right */\n    .gleap-tour-popover-arrow-align-end.gleap-tour-popover-arrow-side-left,\n    .gleap-tour-popover-arrow-align-end.gleap-tour-popover-arrow-side-right {\n      bottom: 15px;\n    }\n    \n    /* Top/End + Bottom/End */\n    .gleap-tour-popover-arrow-side-top.gleap-tour-popover-arrow-align-end,\n    .gleap-tour-popover-arrow-side-bottom.gleap-tour-popover-arrow-align-end {\n      right: 15px;\n    }\n    \n    /* Left/Center + Right/Center */\n    .gleap-tour-popover-arrow-side-left.gleap-tour-popover-arrow-align-center,\n    .gleap-tour-popover-arrow-side-right.gleap-tour-popover-arrow-align-center {\n      top: 50%;\n      margin-top: -5px;\n    }\n    \n    /* Top/Center + Bottom/Center */\n    .gleap-tour-popover-arrow-side-top.gleap-tour-popover-arrow-align-center,\n    .gleap-tour-popover-arrow-side-bottom.gleap-tour-popover-arrow-align-center {\n      left: 50%;\n      margin-left: -5px;\n    }\n    \n    /* No arrow */\n    .gleap-tour-popover-arrow-none {\n      display: none;\n    }    \n\n    /* Modal styles */\n    .gleap-modal-wrapper {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: ${zIndexBase + 40};\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .gleap-modal-backdrop {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.5);\n      z-index: ${zIndexBase + 41};\n    }\n\n    .gleap-modal {\n      position: relative;\n      width: 90%;\n      max-width: 600px;\n      max-height: 90vh;\n      z-index: ${zIndexBase + 100};\n      background-color: ${backgroundColor};\n      border-radius: ${containerRadius}px;\n      overflow: hidden;\n      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n      animation-duration: 0.3s;\n      animation-fill-mode: both;\n      animation-name: gleapFadeInUp;\n    }\n\n    .gleap-modal-frame {\n      width: 100%;\n      border: none;\n      display: block;\n      outline: none;\n    }\n\n    body.gleap-modal-open {\n      overflow: hidden;\n    }\n\n    @keyframes gleapFadeInUp {\n      from {\n        opacity: 0;\n        transform: translate3d(0, 20px, 0);\n      }\n      to {\n        opacity: 1;\n        transform: translate3d(0, 0, 0);\n      }\n    }\n    `;\n\n  const oldNode = document.querySelector(\".gleap-styles\");\n  if (oldNode) {\n    oldNode.remove();\n  }\n  const node = document.createElement(\"style\");\n  node.innerHTML = colorStyleSheet;\n  node.className = \"gleap-styles\";\n  document.body.appendChild(node);\n};\n\nexport const loadIcon = function (name, color) {\n  if (name === \"button\") {\n    return `<svg class=\"bb-logo-logo bb-logo-logo--default\" width=\"145\" height=\"144\" viewBox=\"0 0 145 144\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M38.9534 15H105.047C113.857 15 121 22.1426 121 30.9534L121 89.5238L121 96.015L121 125.541C121 128.759 117.393 130.66 114.739 128.84L90.1188 111.968H38.9534C30.1426 111.968 23 104.826 23 96.015V30.9534C23 22.1426 30.1426 15 38.9534 15Z\" fill=\"white\"/>\n    </svg>`;\n  }\n\n  if (name === \"drag\") {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><!--!Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2025 Fonticons, Inc.--><path d=\"M64 128a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm0 160a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM96 416a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96-288a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm32 128a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM192 448a32 32 0 1 0 0-64 32 32 0 1 0 0 64z\"/></svg>`;\n  }\n\n  if (name === \"unmute\") {\n    return `<svg id=\"tooltip-svg-unmute\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><path id=\"tooltip-svg-unmute-path\" d=\"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.1 386.2C556.7 352 576 306.3 576 256c0-60.1-27.7-113.8-70.9-149c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C507.3 170.7 528 210.9 528 256c0 39.1-15.6 74.5-40.9 100.5L449 326.6c19-17.5 31-42.7 31-70.6c0-30.1-13.9-56.9-35.4-74.5c-10.3-8.4-25.4-6.8-33.8 3.5s-6.8 25.4 3.5 33.8C425.1 227.6 432 241 432 256s-6.9 28.4-17.7 37.3c-1.3 1-2.4 2.2-3.4 3.4L352 250.6V64c0-12.6-7.4-24-18.9-29.2s-25-3.1-34.4 5.3L197.8 129.8 38.8 5.1zM352 373.3L82.9 161.3C53.8 167.4 32 193.1 32 224v64c0 35.3 28.7 64 64 64h67.8L298.7 471.9c9.4 8.4 22.9 10.4 34.4 5.3S352 460.6 352 448V373.3z\"/></svg>`;\n  }\n\n  if (name === \"mute\") {\n    return `<svg id=\"tooltip-svg-mute\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><path id=\"tooltip-svg-mute-path\" d=\"M533.6 32.5C598.5 85.3 640 165.8 640 256s-41.5 170.8-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z\"/></svg>`;\n  }\n\n  if (name === \"replay\") {\n    return `<svg id=\"tooltip-svg-replay\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path id=\"tooltip-svg-replay-path\" d=\"M48.5 224H40C26.7 224 16 213.3 16 200V72C16 62.3 21.8 53.5 30.8 49.8C39.8 46.1 50.1 48.1 57 55L98.6 96.6C186.2 10.1 327.3 10.4 414.4 97.6C501.9 185.1 501.9 326.9 414.4 414.4C326.9 501.9 185.1 501.9 97.6 414.4C85.1 401.9 85.1 381.6 97.6 369.1C110.1 356.6 130.4 356.6 142.9 369.1C205.4 431.6 306.7 431.6 369.2 369.1C431.7 306.6 431.7 205.3 369.2 142.8C307 80.6 206.5 80.3 143.9 141.8L185 183C191.9 189.9 193.9 200.2 190.2 209.2C186.5 218.2 177.7 224 168 224H48.5Z\" />\n    </svg>`;\n  }\n\n  if (name === \"dismiss\") {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><path d=\"M294.6 166.6L317.3 144 272 98.7l-22.6 22.6L160 210.7 70.6 121.4 48 98.7 2.7 144l22.6 22.6L114.7 256 25.4 345.4 2.7 368 48 413.3l22.6-22.6L160 301.3l89.4 89.4L272 413.3 317.3 368l-22.6-22.6L205.3 256l89.4-89.4z\"/></svg>`;\n  }\n\n  if (name === \"blur\") {\n    return `<svg width=\"1200pt\" height=\"1200pt\" version=\"1.1\" viewBox=\"0 0 1200 1200\" xmlns=\"http://www.w3.org/2000/svg\">\n <path class=\"bb-svg-path\" d=\"m602.25 1200c238.2 0 435.95-193.26 435.95-435.95 0-269.66-220.23-615.73-435.95-764.05-220.23 161.8-440.45 485.39-440.45 764.05 0 242.7 197.75 435.95 440.45 435.95zm-260.68-382.02c0 112.36 89.887 206.74 206.74 206.74v62.922c-148.32 0-274.16-121.35-274.16-269.66z\" fill=\"#333\"/>\n</svg>`;\n  }\n\n  if (name === \"pen\") {\n    return `<svg width=\"1072px\" height=\"1034px\" viewBox=\"0 0 1072 1034\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g transform=\"translate(-907.000000, -217.000000)\" fill-rule=\"nonzero\">\n            <g transform=\"translate(907.268457, 217.009827)\">\n                <g transform=\"translate(132.335119, 0.000000)\" fill=\"#000\" class=\"bb-svg-path\">\n                    <path d=\"M20.3764235,730.530173 L10.1884235,720.342173 C-0.791576454,709.362173 -3.16357645,692.432173 4.37592355,678.858173 L83.1809235,537.018173 C71.7589235,502.979173 82.3098335,463.998173 112.254924,440.706173 L655.334924,18.3161733 C689.951924,-8.6058267 739.197924,-5.5388267 770.214924,25.4684733 L913.774924,169.028473 C944.782924,200.040473 947.848924,249.286473 920.927224,283.908473 L498.537224,826.988473 C496.322424,829.836173 493.935624,832.543173 491.384924,835.090073 C467.271924,859.207073 432.513924,866.195073 402.232924,856.063073 L260.382924,934.868073 C246.804924,942.407173 229.874924,940.036073 218.894924,929.055573 L208.706924,918.867573 L20.3764235,730.530173 Z M866.006424,241.190173 C871.393124,234.264373 870.779824,224.417173 864.576724,218.213173 L721.016724,74.6531733 C714.813624,68.4500733 704.965724,67.8367733 698.043724,73.2234733 L154.963724,495.613473 C147.381724,501.507973 146.018424,512.433473 151.912924,520.015473 C152.358234,520.585783 152.834804,521.128773 153.346524,521.636573 L417.586524,785.886573 C424.379524,792.675673 435.391524,792.675673 442.180524,785.886573 C442.692244,785.374853 443.168804,784.831873 443.610224,784.265473 L866.006424,241.190173 Z M342.796424,809.480173 L129.746424,596.430173 L77.9264235,689.707173 L249.516424,861.297173 L342.796424,809.480173 Z\"></path>\n                </g>\n                <g transform=\"translate(-0.000000, 755.530173)\" fill=\"#EB144C\">\n                    <path d=\"M124.711543,0 L313.042043,188.3374 L233.288043,268.0914 C222.003043,279.3764 204.483043,281.5324 190.800043,273.3219 L16.8900429,168.9719 C-2.51595711,157.3309 -5.80895711,130.5499 10.1908429,114.5499 L124.711543,0 Z\" class=\"bb-pen-tip\"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>`;\n  }\n\n  if (name === \"rect\") {\n    return `<svg width=\"339px\" height=\"241px\" viewBox=\"0 0 339 241\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g transform=\"translate(-0.000865, 0.000000)\" fill-rule=\"nonzero\">\n            <g transform=\"translate(0.000865, 0.000000)\" fill=\"#000000\" class=\"bb-svg-path\">\n                <path d=\"M339,0 L339,241 L0,241 L0,0 L339,0 Z M312.826351,26.168387 L26.1855674,26.168387 L26.1855674,214.41156 L312.826351,214.41156 L312.826351,26.168387 Z\"></path>\n            </g>\n            <g transform=\"translate(0.000000, 83.206095)\" fill=\"#EB144C\" class=\"bb-pen-tip\">\n                <path d=\"M0,0 L26.186,26.186 L26.1864325,131.205465 L131.204,131.205 L157.792,157.793 L0.000865118243,157.793905 L0,0 Z\"></path>\n            </g>\n        </g>\n    </g>\n</svg>`;\n  }\n\n  if (name === \"pointer\") {\n    return `<svg width=\"1200pt\" height=\"1200pt\" version=\"1.1\" viewBox=\"0 0 1200 1200\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"m1050.7 508.95-225.94 157.5 160.31 160.31c4.4531 4.4531 6.9141 10.43 6.9141 16.758s-2.4609 12.305-6.9141 16.758l-126.09 126.09c-4.4531 4.4531-10.43 6.9141-16.758 6.9141-6.3281 0-12.188-2.4609-16.758-6.9141l-160.2-160.43-157.62 225.94c-3.3984 4.9219-9.0234 7.8516-14.883 7.8516-0.70313 0-1.5234 0-2.2266-0.11719-6.7969-0.82031-12.422-5.2734-14.766-11.719l-333.16-880.55c-2.5781-6.6797-0.9375-14.297 4.2188-19.336 5.0391-5.0391 12.656-6.6797 19.336-4.2188l880.66 333.05c6.3281 2.3438 10.781 8.0859 11.602 14.766 0.82031 6.7969-2.1094 13.359-7.7344 17.344z\" fill=\"#333\"/>\n   </svg>`;\n  }\n\n  if (name === \"clip\") {\n    return `<svg width=\"600px\" height=\"1126px\" viewBox=\"0 0 600 1126\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g transform=\"translate(-0.002000, 0.501000)\" fill=\"#333333\" fill-rule=\"nonzero\">\n            <path d=\"M225.002,1124.999 C165.33,1124.999 108.102,1101.292 65.902,1059.097 C23.707,1016.902 5.68434189e-14,959.671 5.68434189e-14,899.997 L5.68434189e-14,299.997 C5.68434189e-14,220.431 31.605,144.127 87.867,87.867 C144.129,31.605 220.437,-4.26325641e-14 299.997,-4.26325641e-14 C379.557,-4.26325641e-14 455.867,31.605 512.127,87.867 C568.389,144.129 599.994,220.437 599.994,299.997 L599.994,1012.497 C599.994,1025.895 592.8456,1038.274 581.244,1044.974 C569.642,1051.6732 555.346,1051.6732 543.744,1044.974 C532.142,1038.2748 524.994,1025.896 524.994,1012.497 L524.994,299.997 C524.994,240.325 501.287,183.097 459.092,140.897 C416.897,98.702 359.666,74.995 299.992,74.995 C240.318,74.995 183.092,98.702 140.892,140.897 C98.697,183.092 74.99,240.323 74.99,299.997 L74.99,899.997 C74.99,953.587 103.58,1003.107 149.99,1029.897 C196.4,1056.694 253.58,1056.694 299.99,1029.897 C346.4,1003.104 374.99,953.585 374.99,899.997 L374.99,337.497 C374.99,310.704 360.697,285.942 337.49,272.544 C314.283,259.149 285.697,259.149 262.49,272.544 C239.283,285.942 224.99,310.704 224.99,337.497 L224.99,824.997 C224.99,838.395 217.8416,850.774 206.24,857.474 C194.638,864.1732 180.342,864.1732 168.74,857.474 C157.138,850.7748 149.99,838.396 149.99,824.997 L149.99,337.497 C149.99,283.907 178.58,234.387 224.99,207.597 C271.4,180.8 328.58,180.8 374.99,207.597 C421.4,234.39 449.99,283.909 449.99,337.497 L449.99,899.997 C449.99,959.669 426.283,1016.897 384.088,1059.097 C341.893,1101.292 284.662,1124.999 224.988,1124.999 L225.002,1124.999 Z\" id=\"Path\"></path>\n        </g>\n    </g>\n</svg>`;\n  }\n\n  if (name === \"mic\") {\n    return `<svg\n    width=\"1200pt\"\n    height=\"1200pt\"\n    version=\"1.1\"\n    viewBox=\"0 0 1200 1200\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g class=\"bb-svg-path\">\n      <path\n        d=\"m600 862.5c144.75 0 262.5-117.75 262.5-262.5v-300c0-144.75-117.75-262.5-262.5-262.5s-262.5 117.75-262.5 262.5v300c0 144.75 117.75 262.5 262.5 262.5z\"\n      />\n      <path\n        d=\"m1012.5 600c0-20.707-16.793-37.5-37.5-37.5s-37.5 16.793-37.5 37.5c0 186.11-151.41 337.5-337.5 337.5s-337.5-151.39-337.5-337.5c0-20.707-16.793-37.5-37.5-37.5s-37.5 16.793-37.5 37.5c0 214.8 165.08 391.57 375 410.6v114.4c0 20.727 16.793 37.5 37.5 37.5s37.5-16.773 37.5-37.5v-114.4c209.92-19.031 375-195.8 375-410.6z\"\n      />\n    </g>\n  </svg>`;\n  }\n\n  if (name === \"camera\") {\n    return `<svg width=\"1155px\" height=\"1004px\" viewBox=\"0 0 1155 1004\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g fill=\"#333333\" fill-rule=\"nonzero\">\n            <g transform=\"translate(128.324095, 0.000000)\">\n                <path d=\"M42.7803063,0.00413459787 C31.4357421,0.00413459787 20.5549853,4.41399115 12.5336107,12.2572687 C4.51223664,20.1005462 0.00420584816,30.741831 0.00420584816,41.8370305 L0.00420584816,251.00151 C-0.156199045,262.200455 4.27736739,272.989996 12.315738,280.963903 C20.3585574,288.938257 31.3288589,293.431222 42.7803063,293.431222 C54.2317532,293.431222 65.2018267,288.938592 73.2448746,280.963903 C81.2832452,272.989549 85.7172445,262.200455 85.5564062,251.00151 L85.5564062,83.6699265 L256.660808,83.6699265 C268.112255,83.8267939 279.145066,79.4909873 287.298762,71.6298611 C295.452913,63.7643845 300.04718,53.0359758 300.04718,41.8370305 C300.04718,30.6380854 295.453255,19.9098998 287.298762,12.0441998 C279.144611,4.18307356 268.112255,-0.153157091 256.660808,0.00413459787 L42.7803063,0.00413459787 Z\"></path>\n                <path d=\"M983.227131,710.59444 C971.895913,710.764382 961.099907,715.326799 953.20401,723.279287 C945.312674,731.227538 940.964345,741.91668 941.119476,752.99849 L941.119476,920.330075 L770.015075,920.330075 C758.563631,920.173205 747.530815,924.509015 739.377123,932.370139 C731.222968,940.235615 726.628705,950.964028 726.628705,962.16297 C726.628705,973.361918 731.222627,984.090105 739.377123,991.955802 C747.531272,999.816926 758.563631,1004.15316 770.015075,1003.99587 L983.895579,1003.99587 C995.24014,1003.99587 1006.1209,999.586011 1014.14227,991.742733 C1022.16365,983.899455 1026.67168,973.258169 1026.67168,962.16297 L1026.67168,752.99849 C1026.83208,741.690223 1022.30053,730.801401 1014.11489,722.812989 C1005.93394,714.825472 994.790363,710.415949 983.227131,710.59444 L983.227131,710.59444 Z\"></path>\n                <path d=\"M983.227131,375.93127 C971.895913,376.101212 961.099907,380.66363 953.20401,388.61612 C945.312674,396.56437 940.964345,407.253512 941.119476,418.335325 L941.119476,585.66691 C940.959072,596.865853 945.39264,607.655394 953.431008,615.629303 C961.47383,623.603658 972.444131,628.096618 983.895579,628.096618 C995.347023,628.096618 1006.3171,623.603989 1014.36015,615.629303 C1022.39852,607.654947 1026.83251,596.865853 1026.67168,585.66691 L1026.67168,418.335325 C1026.83208,407.027056 1022.30053,396.138232 1014.11489,388.149822 C1005.93394,380.162305 994.790363,375.752783 983.227131,375.93127 L983.227131,375.93127 Z\"></path>\n                <path d=\"M769.974012,0.00413459787 C758.522563,-0.152733184 747.489752,4.18307356 739.336055,12.0441998 C731.181906,19.9096767 726.587637,30.6380854 726.587637,41.8370305 C726.587637,53.0359758 731.181564,63.7641611 739.336055,71.6298611 C747.490209,79.4909873 758.522563,83.8272181 769.974012,83.6699265 L941.078414,83.6699265 L941.078414,251.00151 C940.918009,262.200455 945.351572,272.989996 953.389945,280.963903 C961.432763,288.938257 972.403063,293.431222 983.854512,293.431222 C995.30596,293.431222 1006.27603,288.938592 1014.31908,280.963903 C1022.35745,272.989549 1026.79145,262.200455 1026.63061,251.00151 L1026.63061,41.8370305 C1026.63061,30.7426118 1022.12133,20.1017733 1014.10121,12.2572687 C1006.08109,4.41276405 995.199876,0.00413459787 983.854512,0.00413459787 L769.974012,0.00413459787 Z\"></path>\n                <path d=\"M427.765208,0.00413459787 C416.31376,-0.152733184 405.280949,4.18307356 397.127256,12.0441998 C388.973102,19.9096767 384.378838,30.6380854 384.378838,41.8370305 C384.378838,53.0359758 388.972761,63.7641611 397.127256,71.6298611 C405.281406,79.4909873 416.31376,83.8272181 427.765208,83.6699265 L598.86961,83.6699265 C610.321058,83.8267939 621.35387,79.4909873 629.507562,71.6298611 C637.661716,63.7643845 642.255985,53.0359758 642.255985,41.8370305 C642.255985,30.6380854 637.662058,19.9098998 629.507562,12.0441998 C621.353413,4.18307356 610.321058,-0.153157091 598.86961,0.00413459787 L427.765208,0.00413459787 Z\"></path>\n            </g>\n            <g transform=\"translate(0.000000, 427.000000)\">\n                <path d=\"M768.516184,22.1826583 C752.659627,13.73125 732.573775,13.73125 717.773442,24.29375 L562.379192,124.6375 L562.379192,31.6875 C562.379192,13.7330104 548.635081,0 530.666079,0 L31.7131123,0 C13.7441105,0 0,13.7330104 0,31.6875 L0,475.3125 C0,493.26699 13.7441105,507 31.7131123,507 L530.666079,507 C548.635081,507 562.379192,493.26699 562.379192,475.3125 L562.379192,382.3625 L717.773442,482.70625 C726.231681,487.9875 735.742444,491.157658 745.257258,491.157658 C753.715498,491.157658 761.113815,489.046567 769.572406,484.820862 C786.485185,475.313732 796,458.414612 796,439.400352 L796,68.6566021 C794.943601,48.5869719 785.428963,31.6878521 768.516184,22.1807219 L768.516184,22.1826583 Z\"></path>\n            </g>\n        </g>\n    </g>\n</svg>`;\n  }\n\n  if (name === \"recorderon\") {\n    return `<svg width=\"1251px\" height=\"1251px\" viewBox=\"0 0 1251 1251\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <g>\n            <circle fill=\"#E31810\" cx=\"625.5\" cy=\"625.5\" r=\"625.5\"></circle>\n            <circle fill=\"#F71008\" cx=\"625\" cy=\"625\" r=\"507\"></circle>\n            <g transform=\"translate(175.000000, 449.000000)\" fill=\"#FFFFFF\" fill-rule=\"nonzero\">\n                <path d=\"M0,347.097493 L0,4.90250696 L135.528311,4.90250696 C161.471024,4.90250696 183.639743,9.49741034 202.034469,18.6872171 C220.429194,27.8770239 234.46286,40.8541449 244.135466,57.6185803 C253.808072,74.3830156 258.644376,94.0714804 258.644376,116.683975 C258.644376,139.40786 253.724206,158.929238 243.883867,175.248107 C234.043527,191.566976 219.814173,204.070682 201.195803,212.759227 C182.577434,221.447772 160.073248,225.792044 133.683247,225.792044 L42.9396629,225.792044 L42.9396629,167.64563 L121.941933,167.64563 C135.807866,167.64563 147.325536,165.751973 156.494943,161.964659 C165.66435,158.177344 172.51345,152.496373 177.042243,144.921744 C181.571035,137.347116 183.835432,127.934526 183.835432,116.683975 C183.835432,105.322032 181.571035,95.7423543 177.042243,87.9449425 C172.51345,80.1475308 165.636395,74.2159282 156.411077,70.1501349 C147.185759,66.0843416 135.584222,64.051445 121.606467,64.051445 L72.6284142,64.051445 L72.6284142,347.097493 L0,347.097493 Z M185.512762,191.37204 L270.888889,347.097493 L190.712487,347.097493 L107.181424,191.37204 L185.512762,191.37204 Z\"></path>\n                <polygon points=\"309.166667 347.097493 309.166667 4.90250696 540.126846 4.90250696 540.126846 64.5527072 381.634607 64.5527072 381.634607 146.091356 528.244113 146.091356 528.244113 205.741556 381.634607 205.741556 381.634607 287.447293 540.796296 287.447293 540.796296 347.097493\"></polygon>\n                <path d=\"M901,124.638783 L827.757943,124.638783 C826.420189,115.158428 823.68894,106.709759 819.564197,99.2927757 C815.439454,91.8757921 810.144176,85.5462611 803.678363,80.3041825 C797.212549,75.0621039 789.77129,71.0468948 781.354585,68.2585551 C772.93788,65.4702155 763.824427,64.0760456 754.014228,64.0760456 C736.288981,64.0760456 720.849065,68.4537389 707.69448,77.2091255 C694.539894,85.964512 684.339516,98.6793409 677.093346,115.353612 C669.847176,132.027883 666.224091,152.243346 666.224091,176 C666.224091,200.425856 669.875046,220.948035 677.176956,237.56654 C684.478866,254.185044 694.707113,266.732573 707.861699,275.209125 C721.016285,283.685678 736.233242,287.923954 753.51257,287.923954 C763.21129,287.923954 772.213263,286.641318 780.518488,284.076046 C788.823714,281.510773 796.209233,277.746515 802.675047,272.78327 C809.14086,267.820025 814.519748,261.769328 818.81171,254.631179 C823.103672,247.493029 826.08575,239.351077 827.757943,230.205323 L901,230.539924 C899.104848,246.26616 894.394837,261.406844 886.869968,275.961977 C879.3451,290.51711 869.256201,303.510773 856.603274,314.942966 C843.950346,326.375158 828.900608,335.409379 811.45406,342.045627 C794.007513,348.681876 774.303504,352 752.342035,352 C721.796641,352 694.512024,345.084918 670.488184,331.254753 C646.464343,317.424588 627.512821,297.404309 613.633619,271.193916 C599.754416,244.983523 592.814815,213.252218 592.814815,176 C592.814815,138.636248 599.838026,106.849176 613.884448,80.6387833 C627.93087,54.4283904 646.993871,34.4359949 671.073451,20.661597 C695.153031,6.88719899 722.242559,0 752.342035,0 C772.185393,0 790.607387,2.78833967 807.608016,8.36501901 C824.608646,13.9416984 839.686254,22.0557668 852.840839,32.7072243 C865.995425,43.3586819 876.72533,56.3802281 885.030556,71.7718631 C893.335782,87.1634981 898.65893,104.785805 901,124.638783 Z\"></path>\n            </g>\n        </g>\n    </g>\n</svg>`;\n  }\n\n  if (name === \"recorderoff\") {\n    return `<svg width=\"1251px\" height=\"1251px\" viewBox=\"0 0 1251 1251\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n      <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n          <g class=\"bb-rec-on-circle\" fill=\"#EEEEEE\" fill-rule=\"nonzero\">\n              <path d=\"M625.5,0 C970.954111,0 1251,280.045889 1251,625.5 C1251,970.954111 970.954111,1251 625.5,1251 C280.045889,1251 0,970.954111 0,625.5 C0,280.045889 280.045889,0 625.5,0 Z M626,124 C348.753056,124 124,348.753056 124,626 C124,903.246944 348.753056,1128 626,1128 C903.246944,1128 1128,903.246944 1128,626 C1128,348.753056 903.246944,124 626,124 Z\"></path>\n          </g>\n          <g class=\"bb-rec-on-cont\" fill=\"#E31810\" transform=\"translate(86.000000, 86.000000)\" fill-rule=\"nonzero\">\n              <path d=\"M540,0 C241.2,0 0,241.2 0,540 C0,838.8 241.2,1080 540,1080 C838.8,1080 1080,838.8 1080,540 C1080,241.2 838.8,0 540,0 Z M777.6,741.6 C777.6,761.998 761.998,777.6 741.6,777.6 L338.4,777.6 C318.002,777.6 302.4,761.998 302.4,741.6 L302.4,338.4 C302.4,318.002 318.002,302.4 338.4,302.4 L741.6,302.4 C761.998,302.4 777.6,318.002 777.6,338.4 L777.6,741.6 Z\"></path>\n          </g>\n      </g>\n  </svg>`;\n  }\n\n  if (name === \"arrowdown\") {\n    return `<svg class=\"bb-logo-arrowdown\" fill=\"${color}\" width=\"100pt\" height=\"100pt\" version=\"1.1\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"m50 77.637c-1.3477 0-2.6953-0.51562-3.7266-1.543l-44.73-44.73c-2.0586-2.0586-2.0586-5.3945 0-7.4531 2.0586-2.0586 5.3945-2.0586 7.4531 0l41.004 41 41.004-41c2.0586-2.0586 5.3945-2.0586 7.4531 0 2.0586 2.0586 2.0586 5.3945 0 7.4531l-44.73 44.727c-1.0312 1.0312-2.3789 1.5469-3.7266 1.5469z\"/>\n   </svg>`;\n  }\n\n  if (name === \"arrowleft\") {\n    return `<svg fill=\"${color}\" width=\"100pt\" height=\"100pt\" version=\"1.1\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"m70.988 1.6211c2.1875-2.168 5.7344-2.168 7.9297 0 2.1836 2.168 2.1836 5.7227 0 7.8906l-46.016 40.445 46.016 40.5c2.1836 2.168 2.1836 5.668 0 7.8906-2.1953 2.168-5.7383 2.168-7.9297 0l-50.039-44.109c-1.168-1.168-1.668-2.7227-1.5898-4.2773-0.078125-1.5 0.42188-3.0547 1.5898-4.2227l50.039-44.109z\" fill-rule=\"evenodd\"/>\n   </svg>`;\n  }\n\n  if (name === \"close\") {\n    return `<svg fill=\"${color}\" width=\"100pt\" height=\"100pt\" version=\"1.1\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"m72.812 33.02l-5.832-5.832-16.98 16.875-16.98-16.875-5.832 5.832 16.875 16.98-16.875 16.98 5.832 5.832 16.98-16.875 16.98 16.875 5.832-5.832-16.875-16.98z\"/>\n   </svg>`;\n  }\n\n  if (name === \"undo\") {\n    return `<svg width=\"62px\" height=\"60px\" viewBox=\"0 0 62 60\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n      <g class=\"bb-svg-path\" transform=\"translate(-0.000500, 0.001926)\" fill-rule=\"nonzero\">\n        <path d=\"M28.0005,51.6270739 C24.9653,51.0684839 22.0825,49.8731739 19.5396,48.1192739 L13.8208,53.8380739 C17.9536,57.0060739 22.8403,59.0333739 28.0008,59.7286739 L28.0005,51.6270739 Z\" id=\"Path\"></path>\n        <path d=\"M2.2705,33.9980739 C2.96581,39.1582739 4.9932,44.0450739 8.1611,48.1780739 L13.8799,42.4592739 C12.126,39.9162739 10.9307,37.0334739 10.3721,33.9983739 L2.2705,33.9980739 Z\" id=\"Path\"></path>\n        <path d=\"M61.7305,33.9980739 L53.6289,33.9980739 C53.07031,37.0332739 51.875,39.9160739 50.1211,42.4589739 L55.8399,48.1777739 C59.0079,44.0449739 61.0352,39.1582739 61.7305,33.9977739 L61.7305,33.9980739 Z\" id=\"Path\"></path>\n        <path d=\"M4.0005,24.9980739 L24.0005,24.9980739 L24.0005,16.9980739 L14.27,16.9980739 C17.6762,12.3613739 22.7622,9.24417393 28.442,8.31057393 C34.1178,7.38088393 39.934,8.70901393 44.645,12.0175739 C49.352,15.3222739 52.5786,20.3417739 53.6294,25.9975739 L61.731,25.9975739 C60.6646,18.0834739 56.4888,10.9235739 50.129,6.09957393 C43.7657,1.27147393 35.746,-0.818426068 27.836,0.290973932 C19.9298,1.39647393 12.793,5.61127393 8,11.9979739 L8,0.997973932 L-3.55271368e-15,0.997973932 L-3.55271368e-15,20.9979739 C-3.55271368e-15,22.0604739 0.42188,23.0760739 1.1719,23.8260739 C1.92192,24.5760739 2.9375,24.9979739 4,24.9979739 L4.0005,24.9980739 Z\" id=\"Path\"></path>\n        <path d=\"M36.0005,51.6270739 L36.0005,59.7286739 C41.1607,59.0333639 46.0475,57.0059739 50.1805,53.8380739 L44.4617,48.1192739 C41.9187,49.8731739 39.0359,51.0684739 36.0008,51.6270739 L36.0005,51.6270739 Z\" id=\"Path\"></path>\n      </g>\n    </g>\n  </svg>`;\n  }\n\n  if (name === \"circle-dot\") {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256-96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z\"/></svg>`;\n  }\n\n  if (name === \"circle-question\") {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z\"/></svg>`;\n  }\n\n  if (name === \"circle-info\") {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216 192V224h24 48 24v24 88h8 24v48H296 216 192V336h24zm72-144H224V128h64v64z\"/></svg>`;\n  }\n\n  if (name === \"circle-exclamation\") {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm24-384v24V264v24H232V264 152 128h48zM232 368V320h48v48H232z\"/></svg>`;\n  }\n\n  if (name === \"circle-up\") {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM384 256H304V384H208V256H128V224L256 96 384 224v32z\"/></svg>`;\n  }\n\n  if (name === \"circle-right\") {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"${color}\" d=\"M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM256 384l0-80-128 0 0-96 128 0 0-80 32 0L416 256 288 384l-32 0z\"/></svg>`;\n  }\n\n  return \"\";\n};\n","class GleapNetworkIntercepter {\n  startTimestamp = Date.now();\n  requestId = 0;\n  requests = {};\n  externalRequests = [];\n  maxRequests = 30;\n  filters = [];\n  defaultBlacklist = [\"gleap.io\"];\n  blacklist = [];\n  initialized = false;\n  stopped = false;\n  loadAllResources = false;\n\n  // GleapNetworkIntercepter singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapNetworkIntercepter();\n    }\n    return this.instance;\n  }\n\n  setLoadAllResources(loadAllResources) {\n    this.loadAllResources = loadAllResources;\n  }\n\n  isContentTypeSupported(contentType) {\n    if (typeof contentType !== \"string\") {\n      return false;\n    }\n\n    if (contentType === \"\") {\n      return true;\n    }\n\n    contentType = contentType.toLocaleLowerCase();\n\n    const supportedContentTypes = [\"text/\", \"xml\", \"json\"];\n    for (var i = 0; i < supportedContentTypes.length; i++) {\n      if (contentType.includes(supportedContentTypes[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  getRequests() {\n    var requests = JSON.parse(JSON.stringify(Object.values(this.requests)));\n\n    // Merge external requests into internal requests.\n    if (this.externalRequests && this.externalRequests.length > 0) {\n      requests = requests.concat(this.externalRequests);\n    }\n\n    if (this.filters && this.filters.length > 0) {\n      // Perform network log filtering.\n      for (var i = 0; i < requests.length; i++) {\n        var request = requests[i];\n\n        // Headers\n        if (request && request.request && request.request.headers) {\n          for (var j = 0; j < this.filters.length; j++) {\n            delete request.request.headers[this.filters[j]];\n          }\n        }\n\n        // Payload\n        if (request && request.request && request.request.payload) {\n          var payloadObj = request.request.payload;\n          try {\n            payloadObj = JSON.parse(request.request.payload);\n          } catch (e) { }\n\n          if (payloadObj) {\n            for (var j = 0; j < this.filters.length; j++) {\n              delete payloadObj[this.filters[j]];\n            }\n            request.request.payload = JSON.stringify(payloadObj);\n          }\n        }\n\n        // Response\n        if (request && request.response && request.response.responseText) {\n          try {\n            var data = JSON.parse(request.response.responseText);\n            for (var j = 0; j < this.filters.length; j++) {\n              delete data[this.filters[j]];\n            }\n            request.response.responseText = JSON.stringify(data);\n          } catch (e) { }\n        }\n      }\n    }\n\n    // Get static resources from performance.\n    try {\n      if (typeof window !== \"undefined\" && window.performance) {\n        var resources = window.performance.getEntriesByType(\"resource\");\n        for (var i = 0; i < resources.length; i++) {\n          var resource = resources[i];\n          if (resource && resource.name) {\n            if ((this.loadAllResources || [\"xmlhttprequest\", \"fetch\"].indexOf(resource.initiatorType) > -1) && !requests.find(request => request.url === resource.name)) {\n              requests.push({\n                type: \"RESOURCE\",\n                date: new Date(this.startTimestamp + resource.startTime),\n                url: resource.name,\n                duration: Math.round(resource.duration),\n                initiatorType: resource.initiatorType\n              });\n            }\n          }\n        }\n      }\n    } catch (exp) { }\n\n    var blacklist = this.blacklist.concat(this.defaultBlacklist);\n    if (blacklist && blacklist.length > 0) {\n      try {\n        requests = requests.filter((request) => {\n          for (var i = 0; i < blacklist.length; i++) {\n            if (request && request.url && request.url.includes(blacklist[i])) {\n              return false;\n            }\n          }\n          return true;\n        });\n      } catch (exp) { }\n    }\n\n    return requests;\n  }\n\n  setMaxRequests(maxRequests) {\n    if (maxRequests > 70) {\n      maxRequests = 70;\n    }\n    this.maxRequests = maxRequests;\n  }\n\n  setStopped(stopped) {\n    this.stopped = stopped;\n  }\n\n  setFilters(filters) {\n    this.filters = this.filters.concat(filters ? filters : []);\n  }\n\n  setBlacklist(blacklist) {\n    this.blacklist = this.blacklist.concat(blacklist ? blacklist : []);\n  }\n\n  cleanRequests() {\n    var keys = Object.keys(this.requests);\n    if (keys.length > this.maxRequests) {\n      var keysToRemove = keys.slice(0, keys.length - this.maxRequests);\n      for (var i = 0; i < keysToRemove.length; i++) {\n        delete this.requests[keysToRemove[i]];\n      }\n    }\n  }\n\n  calcRequestTime(bbRequestId) {\n    if (!bbRequestId || !this.requests || !this.requests[bbRequestId]) {\n      return;\n    }\n\n    var startDate = this.requests[bbRequestId][\"date\"];\n    if (startDate) {\n      this.requests[bbRequestId][\"duration\"] =\n        new Date().getTime() - startDate.getTime();\n    }\n  }\n\n  getTextContentSize(text) {\n    var size = 0;\n    try {\n      size = new TextEncoder().encode(text).length;\n    } catch (exp) {\n      try {\n        size = encodeURI(s).split(/%..|./).length - 1;\n      } catch (exp) {\n        try {\n          size = new Blob([text]).size;\n        } catch (exp) {\n          size = text.length;\n        }\n      }\n    }\n\n    const kiloBytes = size / 1024;\n    const megaBytes = kiloBytes / 1024;\n    return megaBytes;\n  }\n\n  cleanupContentSize(text) {\n    const contentSize = this.getTextContentSize(text);\n    if (contentSize > 0.15) {\n      return \"<content_too_large>\";\n    }\n\n    return text;\n  }\n\n  cleanupPayload(payload) {\n    if (payload === undefined || payload === null) {\n      return \"{}\";\n    }\n\n    try {\n      if (typeof TextDecoder !== undefined && ArrayBuffer.isView(payload)) {\n        let value = new TextDecoder().decode(payload);\n        return value;\n      }\n    } catch (exp) { }\n\n    return payload;\n  }\n\n  preparePayload(payload) {\n    var payloadText = this.cleanupPayload(payload);\n    return this.cleanupContentSize(payloadText);\n  }\n\n  start() {\n    if (this.initialized) {\n      return;\n    }\n\n    this.initialized = true;\n    const self = this;\n    this.interceptNetworkRequests({\n      onFetch: (params, bbRequestId) => {\n        if (this.stopped || !bbRequestId || !this.requests) {\n          return;\n        }\n\n        if (\n          params.length > 0 &&\n          typeof params[0] !== \"undefined\" &&\n          typeof params[0].url !== \"undefined\"\n        ) {\n          this.requests[bbRequestId] = {\n            url: params[0].url,\n            date: new Date(),\n            request: {\n              payload: \"\",\n              headers:\n                typeof params[0].headers !== \"undefined\"\n                  ? Object.fromEntries(params[0].headers.entries())\n                  : {},\n            },\n            type:\n              typeof params[0].method !== \"undefined\" ? params[0].method : \"\",\n          };\n        } else {\n          if (params.length >= 2 && params[1]) {\n            var method =\n              params[1] && params[1].method ? params[1].method : \"GET\";\n            this.requests[bbRequestId] = {\n              request: {\n                payload: self.preparePayload(params[1].body),\n                headers: params[1].headers,\n              },\n              type: method,\n              url: params[0],\n              date: new Date(),\n            };\n          } else {\n            this.requests[bbRequestId] = {\n              url: params[0],\n              date: new Date(),\n            };\n          }\n        }\n\n        this.cleanRequests();\n      },\n      onFetchLoad: (req, bbRequestId) => {\n        if (\n          this.stopped ||\n          !bbRequestId ||\n          !this.requests ||\n          !this.requests[bbRequestId]\n        ) {\n          return;\n        }\n\n        try {\n          this.requests[bbRequestId][\"success\"] = true;\n          this.requests[bbRequestId][\"response\"] = {\n            status: req.status,\n            statusText: \"\",\n            responseText: \"<request_still_open>\",\n          };\n          this.calcRequestTime(bbRequestId);\n        } catch (exp) { }\n\n        try {\n          var contentType = \"\";\n          if (req.headers && typeof req.headers.get !== \"undefined\") {\n            contentType = req.headers.get(\"content-type\");\n          }\n\n          if (this.isContentTypeSupported(contentType)) {\n            req\n              .text()\n              .then((responseText) => {\n                if (this.requests[bbRequestId]) {\n                  this.requests[bbRequestId][\"success\"] = true;\n                  this.requests[bbRequestId][\"response\"] = {\n                    status: req.status,\n                    statusText: req.statusText,\n                    responseText: self.cleanupContentSize(responseText)\n                  };\n                }\n                this.calcRequestTime(bbRequestId);\n                this.cleanRequests();\n              })\n              .catch((err) => {\n                this.cleanRequests();\n              });\n          } else {\n            if (this.requests[bbRequestId]) {\n              this.requests[bbRequestId][\"success\"] = true;\n              this.requests[bbRequestId][\"response\"] = {\n                status: req.status,\n                statusText: req.statusText,\n                responseText: \"<content_type_not_supported>\",\n              };\n            }\n            this.calcRequestTime(bbRequestId);\n            this.cleanRequests();\n          }\n        } catch (exp) { }\n      },\n      onFetchFailed: (err, bbRequestId) => {\n        if (\n          this.stopped ||\n          !bbRequestId ||\n          !this.requests ||\n          !this.requests[bbRequestId]\n        ) {\n          return;\n        }\n\n        this.requests[bbRequestId][\"success\"] = false;\n        this.calcRequestTime(bbRequestId);\n        this.cleanRequests();\n      },\n      onOpen: (request, args) => {\n        if (this.stopped) {\n          return;\n        }\n\n        if (\n          request &&\n          request.bbRequestId &&\n          args.length >= 2 &&\n          this.requests\n        ) {\n          this.requests[request.bbRequestId] = {\n            type: args[0],\n            url: args[1],\n            date: new Date(),\n          };\n        }\n\n        this.cleanRequests();\n      },\n      onSend: (request, args) => {\n        if (this.stopped) {\n          return;\n        }\n\n        if (\n          request &&\n          request.bbRequestId &&\n          this.requests &&\n          this.requests[request.bbRequestId]\n        ) {\n          this.requests[request.bbRequestId][\"request\"] = {\n            payload: this.preparePayload(args.length > 0 ? args[0] : \"{}\"),\n            headers: request.requestHeaders,\n          };\n        }\n\n        this.cleanRequests();\n      },\n      onError: (request, args) => {\n        if (\n          !this.stopped &&\n          this.requests &&\n          request &&\n          request.currentTarget &&\n          request.currentTarget.bbRequestId &&\n          this.requests[request.currentTarget.bbRequestId]\n        ) {\n          this.requests[request.currentTarget.bbRequestId][\"success\"] = false;\n          this.calcRequestTime(request.bbRequestId);\n        }\n\n        this.cleanRequests();\n      },\n      onLoad: (request, args) => {\n        if (this.stopped) {\n          return;\n        }\n\n        if (\n          request &&\n          request.currentTarget &&\n          request.currentTarget.bbRequestId &&\n          this.requests &&\n          this.requests[request.currentTarget.bbRequestId]\n        ) {\n          var target = request.currentTarget;\n          var responseType = target.responseType;\n          var responseText = \"<\" + responseType + \">\";\n          if (responseType === \"\" || responseType === \"text\") {\n            responseText = this.cleanupContentSize(target.responseText);\n          }\n\n          this.requests[target.bbRequestId][\"success\"] = true;\n          this.requests[target.bbRequestId][\"response\"] = {\n            status: target.status,\n            statusText: target.statusText,\n            responseText: responseText,\n          };\n\n          this.calcRequestTime(target.bbRequestId);\n        }\n\n        this.cleanRequests();\n      },\n    });\n  }\n\n  interceptNetworkRequests(callback) {\n    var self = this;\n    const open = XMLHttpRequest.prototype.open;\n    const send = XMLHttpRequest.prototype.send;\n\n    // Only override open and send if they haven't been overridden already.\n    if (XMLHttpRequest.prototype.gleapSetRequestHeader === undefined) {\n      XMLHttpRequest.prototype.gleapSetRequestHeader =\n        XMLHttpRequest.prototype.setRequestHeader;\n    }\n\n    if (XMLHttpRequest.prototype.gleapSetRequestHeader) {\n      XMLHttpRequest.prototype.setRequestHeader = function (header, value) {\n        if (!this.requestHeaders) {\n          this.requestHeaders = {};\n        }\n\n        if (this.requestHeaders && this.requestHeaders.hasOwnProperty(header)) {\n          return;\n        }\n\n        if (!this.requestHeaders[header]) {\n          this.requestHeaders[header] = [];\n        }\n\n        this.requestHeaders[header].push(value);\n        this.gleapSetRequestHeader(header, value);\n      };\n    }\n\n    XMLHttpRequest.prototype.open = function () {\n      this[\"bbRequestId\"] = ++self.requestId;\n      callback.onOpen && callback.onOpen(this, arguments);\n      if (callback.onLoad) {\n        this.addEventListener(\"load\", callback.onLoad.bind(callback));\n      }\n      if (callback.onError) {\n        this.addEventListener(\"error\", callback.onError.bind(callback));\n      }\n      return open.apply(this, arguments);\n    };\n    XMLHttpRequest.prototype.send = function () {\n      callback.onSend && callback.onSend(this, arguments);\n      return send.apply(this, arguments);\n    };\n\n    if (window.fetch) {\n      (function () {\n        var originalFetch = window.fetch;\n        window.fetch = function () {\n          var bbRequestId = ++self.requestId;\n          callback.onFetch(arguments, bbRequestId);\n\n          return originalFetch\n            .apply(this, arguments)\n            .then(function (response) {\n              if (response && typeof response.clone === \"function\") {\n                const data = response.clone();\n                callback.onFetchLoad(data, bbRequestId);\n              }\n\n              return response;\n            })\n            .catch((err) => {\n              callback.onFetchFailed(err, bbRequestId);\n              throw err;\n            });\n        };\n      })();\n    }\n\n    return callback;\n  }\n\n  blobToTextPromise(blob) {\n    return new Promise(function (resolve, reject) {\n      var fr = new FileReader();\n      fr.onload = function (evt) {\n        if (evt && evt.target && evt.target.result) {\n          resolve(evt.target.result);\n        } else {\n          reject();\n        }\n      };\n      fr.onerror = function (err) {\n        reject(err);\n      };\n      fr.readAsText(blob);\n    });\n  }\n}\n\nexport default GleapNetworkIntercepter;\n","export const resizeImage = (base64Str, maxWidth = 400, maxHeight = 400) => {\n  return new Promise((resolve, reject) => {\n    var isJPEG = base64Str.indexOf(\"data:image/jpeg\") === 0;\n    var img = new Image();\n    img.src = base64Str;\n    img.onerror = () => {\n      reject();\n    };\n    img.onload = () => {\n      var canvas = document.createElement(\"canvas\");\n      var MAX_WIDTH = maxWidth;\n      var MAX_HEIGHT = maxHeight;\n\n      // Adjust max width / height based on image props\n      if (maxWidth > img.width / 1.5) {\n        MAX_WIDTH = img.width / 1.5;\n      }\n\n      if (maxHeight > img.height / 1.5) {\n        MAX_HEIGHT = img.height / 1.5;\n      }\n\n      var width = img.width;\n      var height = img.height;\n\n      if (width > height) {\n        if (width > MAX_WIDTH) {\n          height *= MAX_WIDTH / width;\n          width = MAX_WIDTH;\n        }\n      } else {\n        if (height > MAX_HEIGHT) {\n          width *= MAX_HEIGHT / height;\n          height = MAX_HEIGHT;\n        }\n      }\n      canvas.width = width;\n      canvas.height = height;\n      var ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(img, 0, 0, width, height);\n\n      if (isJPEG) {\n        resolve(canvas.toDataURL(\"image/jpeg\", 0.7));\n      } else {\n        resolve(canvas.toDataURL());\n      }\n    };\n  });\n};\n\nexport const isMobile = () => {\n  if (\n    /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\n      navigator.userAgent\n    ) ||\n    /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n      navigator.userAgent.substr(0, 4)\n    )\n  ) {\n    return true;\n  }\n  return false;\n};\n\nexport const gleapDataParser = function (data) {\n  if (!data) {\n    return {};\n  }\n  if (typeof data === \"string\" || data instanceof String) {\n    try {\n      return JSON.parse(data);\n    } catch (e) {\n      return {};\n    }\n  }\n  return data;\n};\n\nexport const truncateString = (str, num) => {\n  if (str.length > num) {\n    return str.slice(0, num) + \"...\";\n  } else {\n    return str;\n  }\n};\n\nconst removeSubDomain = (v) => {\n  try {\n    var parts = v.split(\".\");\n    var is2ndLevelDomain = false;\n    const secondLevel = parts[parts.length - 2];\n    if (\n      secondLevel === \"co\" ||\n      secondLevel === \"com\" ||\n      secondLevel === \"gv\" ||\n      secondLevel === \"ac\" ||\n      secondLevel === \"edu\" ||\n      secondLevel === \"gov\" ||\n      secondLevel === \"mil\" ||\n      secondLevel === \"net\" ||\n      secondLevel === \"org\"\n    ) {\n      is2ndLevelDomain = true;\n    }\n    parts = parts.slice(is2ndLevelDomain ? -3 : -2);\n    return parts.join(\".\");\n  } catch (exp) {}\n  return v;\n};\n\nexport const loadFromGleapCache = (key) => {\n  try {\n    const cachedData = localStorage.getItem(`gleap-widget-${key}`);\n    if (cachedData) {\n      const config = JSON.parse(cachedData);\n      return config;\n    }\n  } catch (exp) {}\n  return null;\n};\n\nexport const saveToGleapCache = (key, data) => {\n  const k = `gleap-widget-${key}`;\n  if (data) {\n    try {\n      localStorage.setItem(k, JSON.stringify(data));\n    } catch (exp) {}\n  } else {\n    localStorage.removeItem(k);\n  }\n};\n\nexport const clearGleapCache = (key) => {\n  try {\n    const k = `gleap-widget-${key}`;\n    localStorage.removeItem(k);\n  } catch {}\n};\n\nexport const setGleapCookie = (name, value, days) => {\n  try {\n    var expires = \"\";\n    if (days) {\n      var date = new Date();\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n      expires = \"; expires=\" + date.toUTCString();\n    }\n    const host = removeSubDomain(window.location.host.split(\":\")[0]);\n    document.cookie =\n      name + \"=\" + (value || \"\") + expires + \"; path=/; domain=\" + host;\n  } catch (exp) {}\n};\n\nexport const getGleapCookie = (name) => {\n  try {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(\";\");\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) == \" \") c = c.substring(1, c.length);\n      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n    }\n  } catch (exp) {}\n  return null;\n};\n\nexport const eraseGleapCookie = (name) => {\n  try {\n    const host = removeSubDomain(window.location.host.split(\":\")[0]);\n    document.cookie =\n      name + \"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; Domain=\" + host;\n  } catch (exp) {}\n};\n\nexport const getDOMElementDescription = (element, html = true) => {\n  var innerText = truncateString(element.innerText || \"\", 40)\n    .replace(/(\\r\\n|\\n|\\r)/gm, \"\")\n    .replace(/ +(?= )/g, \"\");\n  var elementId = \"\";\n  var elementClass = \"\";\n  if (typeof element.getAttribute !== \"undefined\") {\n    const elemId = element.getAttribute(\"id\");\n    if (elemId) {\n      elementId = ` id=\"${elemId}\"`;\n    }\n    const elemClass = element.getAttribute(\"class\");\n    if (elemClass) {\n      elementClass = ` class=\"${elemClass}\"`;\n    }\n  }\n  const elementTag = (element.tagName || \"\").toLowerCase();\n\n  var htmlPre = \"<\";\n  var htmlPost = \">\";\n  if (!html) {\n    htmlPre = \"[\";\n    htmlPost = \"]\";\n  }\n\n  return `${htmlPre}${elementTag}${elementId}${elementClass}${htmlPost}${innerText}${htmlPre}/${elementTag}${htmlPost}`;\n};\n\nexport const runFunctionWhenDomIsReady = (callback) => {\n  if (\n    document.readyState === \"complete\" ||\n    document.readyState === \"loaded\" ||\n    document.readyState === \"interactive\"\n  ) {\n    callback();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      callback();\n    });\n  }\n};\n\nexport const fixGleapHeight = () => {\n  try {\n    if (\n      \"visualViewport\" in window &&\n      /iPad|iPhone|iPod/.test(navigator.userAgent)\n    ) {\n      let initialHeight = window.innerHeight;\n\n      function updateContainerHeight() {\n        try {\n          const gleapFrameContainer = document.querySelector(\n            \".gleap-frame-container-inner iframe\"\n          );\n\n          if (!gleapFrameContainer) {\n            return;\n          }\n\n          // Check if the keyboard is open\n          if (window.visualViewport.height < initialHeight) {\n            gleapFrameContainer.style.setProperty(\n              \"max-height\",\n              window.visualViewport.height + \"px\",\n              \"important\"\n            );\n          } else {\n            // Remove the padding bottom\n            gleapFrameContainer.style.removeProperty(\"max-height\");\n          }\n        } catch (error) {}\n      }\n\n      function handleOrientationChange() {\n        try {\n          // Update initial dimensions\n          initialHeight = window.innerHeight;\n          updateContainerHeight();\n        } catch (error) {}\n      }\n\n      // Update on resize (keyboard show/hide and viewport resize)\n      window.visualViewport.addEventListener(\"resize\", updateContainerHeight);\n\n      // Handle orientation changes\n      window.addEventListener(\"orientationchange\", handleOrientationChange);\n\n      // Update initially\n      updateContainerHeight();\n    }\n  } catch (error) {}\n};\n","import { GleapSession, GleapTranslationManager } from \"./Gleap\"; // Adjust path if needed\n\n// Enum for request states\nconst RequestStatus = {\n  PENDING: \"pending\",\n  SUCCESS: \"success\",\n  ERROR: \"error\",\n};\n\nclass ChecklistNetworkManager {\n  static instance = null;\n\n  /** @private {Map<string, Promise<string>>} outboundId -> Promise<internalId> */\n  validationRequests = new Map();\n  /** @private {Map<string, { status: RequestStatus, internalId?: string, error?: any }>} */\n  validationCache = new Map(); // Caches final results (success/error)\n\n  /** @private {Map<string, Promise<any>>} internalId -> Promise<checklistData> */\n  fetchRequests = new Map();\n  /** @private {Map<string, { status: RequestStatus, data?: any, error?: any }>} */\n  fetchCache = new Map(); // Caches final results (success/error)\n\n  // Private constructor for Singleton\n  constructor() {\n    if (ChecklistNetworkManager.instance) {\n      return ChecklistNetworkManager.instance;\n    }\n    ChecklistNetworkManager.instance = this;\n  }\n\n  /**\n   * Gets the singleton instance of the ChecklistNetworkManager.\n   * @returns {ChecklistNetworkManager} The singleton instance.\n   */\n  static getInstance() {\n    if (!ChecklistNetworkManager.instance) {\n      ChecklistNetworkManager.instance = new ChecklistNetworkManager();\n    }\n    return ChecklistNetworkManager.instance;\n  }\n\n  clearCache() {\n    this.validationCache.clear();\n    this.fetchCache.clear();\n    this.validationRequests.clear();\n    this.fetchRequests.clear();\n  }\n\n  /**\n   * @private\n   * Gets common query parameters for API requests.\n   * @returns {string} Query parameter string.\n   */\n  _getQueryParams() {\n    const gleapSessionInstance = GleapSession.getInstance();\n    const session = gleapSessionInstance?.session;\n    const lang =\n      GleapTranslationManager.getInstance().getActiveLanguage() || \"en\";\n    return `gleapId=${session?.gleapId || \"\"}&gleapHash=${\n      session?.gleapHash || \"\"\n    }&lang=${lang}`;\n  }\n\n  /**\n   * @private\n   * Gets the API base URL.\n   * @returns {string | null} The API URL or null if not configured.\n   */\n  _getApiUrl() {\n    const gleapSessionInstance = GleapSession.getInstance();\n    return gleapSessionInstance?.apiUrl || null;\n  }\n\n  /**\n   * @private\n   * Makes an XMLHttpRequest and returns a Promise.\n   * @param {string} method - HTTP method.\n   * @param {string} url - The request URL.\n   * @param {object|null} data - Data to send in the request body.\n   * @returns {Promise<any>} Promise resolving with parsed JSON response on success, rejecting on error.\n   */\n  _makeRequest(method, url, data) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open(method, url);\n\n      const gleapSessionInstance = GleapSession.getInstance();\n      gleapSessionInstance?.injectSession(xhr); // Inject session headers\n\n      if (data) {\n        xhr.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n      }\n\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === 4) {\n          if (xhr.status >= 200 && xhr.status < 300) {\n            try {\n              // Handle potential empty success responses (e.g., 204)\n              const responseData = xhr.responseText\n                ? JSON.parse(xhr.responseText)\n                : null;\n              resolve(responseData);\n            } catch (err) {\n              reject({\n                status: xhr.status,\n                statusText: \"JSON Parse Error\",\n                responseText: xhr.responseText,\n                error: err,\n              });\n            }\n          } else {\n            reject({\n              status: xhr.status,\n              statusText: xhr.statusText,\n              responseText: xhr.responseText,\n            });\n          }\n        }\n      };\n\n      xhr.onerror = () => {\n        reject({ status: 0, statusText: \"Network Error\", responseText: null });\n      };\n\n      xhr.send(data ? JSON.stringify(data) : null);\n    });\n  }\n\n  /**\n   * @private\n   * Creates a cache key from outboundId and sharedKey\n   * @param {string} outboundId - The public/outbound checklist ID.\n   * @param {string|undefined} sharedKey - Optional shared key.\n   * @returns {string} Combined cache key.\n   */\n  _createCacheKey(outboundId, sharedKey) {\n    return sharedKey ? `${outboundId}::${sharedKey}` : outboundId;\n  }\n\n  /**\n   * Validates an outbound checklist ID, returning a Promise for the internal ID.\n   * Manages caching and deduplicates requests.\n   * @param {string} outboundId - The public/outbound checklist ID.\n   * @param {string} [sharedKey] - Optional shared key for the checklist.\n   * @returns {Promise<string>} A promise that resolves with the internal checklist ID.\n   */\n  validateChecklist(outboundId, sharedKey) {\n    const cacheKey = this._createCacheKey(outboundId, sharedKey);\n\n    // 1. Check cache for final result (success or error)\n    const cachedResult = this.validationCache.get(cacheKey);\n    if (cachedResult) {\n      if (cachedResult.status === RequestStatus.SUCCESS) {\n        return Promise.resolve(cachedResult.internalId);\n      } else {\n        return Promise.reject(cachedResult.error);\n      }\n    }\n\n    // 2. Check for an ongoing request\n    if (this.validationRequests.has(cacheKey)) {\n      return this.validationRequests.get(cacheKey);\n    }\n\n    // 3. Start a new request\n    const apiUrl = this._getApiUrl();\n    if (!apiUrl) {\n      const error = new Error(\n        \"ChecklistNetworkManager: Gleap API URL not configured.\"\n      );\n      this.validationCache.set(cacheKey, {\n        status: RequestStatus.ERROR,\n        error,\n      });\n      return Promise.reject(error);\n    }\n\n    const url = `${apiUrl}/outbound/checklists?${this._getQueryParams()}`;\n    const requestPromise = this._makeRequest(\"POST\", url, {\n      outboundId,\n      sharedKey,\n    })\n      .then((responseData) => {\n        if (responseData && responseData.id) {\n          this.validationCache.set(cacheKey, {\n            status: RequestStatus.SUCCESS,\n            internalId: responseData.id,\n          });\n          return responseData.id;\n        } else {\n          const error = new Error(\"Validation response missing checklist ID.\");\n          this.validationCache.set(cacheKey, {\n            status: RequestStatus.ERROR,\n            error: responseData || error,\n          });\n          throw error; // Rethrow to be caught by catch block\n        }\n      })\n      .catch((error) => {\n        // Store the error object itself in the cache\n        this.validationCache.set(cacheKey, {\n          status: RequestStatus.ERROR,\n          error,\n        });\n        throw error; // Re-throw so callers can catch it\n      })\n      .finally(() => {\n        // Remove from pending requests map once done (success or fail)\n        this.validationRequests.delete(cacheKey);\n      });\n\n    // Store the promise for potential concurrent requests\n    this.validationRequests.set(cacheKey, requestPromise);\n    return requestPromise;\n  }\n\n  /**\n   * Fetches the full checklist data using the internal ID, returning a Promise.\n   * Manages caching and deduplicates requests.\n   * @param {string} internalId - The internal checklist ID.\n   * @returns {Promise<object>} A promise that resolves with the full checklist data.\n   */\n  fetchChecklist(internalId) {\n    // 1. Check cache for final result (success or error)\n    const cachedResult = this.fetchCache.get(internalId);\n    if (cachedResult) {\n      if (cachedResult.status === RequestStatus.SUCCESS) {\n        // Return a deep copy to prevent mutation issues if multiple components use it\n        return Promise.resolve(JSON.parse(JSON.stringify(cachedResult.data)));\n      } else {\n        return Promise.reject(cachedResult.error);\n      }\n    }\n\n    // 2. Check for an ongoing request\n    if (this.fetchRequests.has(internalId)) {\n      // Return a promise that resolves with a deep copy\n      return this.fetchRequests\n        .get(internalId)\n        .then((data) => JSON.parse(JSON.stringify(data)));\n    }\n\n    // 3. Start a new request\n    const apiUrl = this._getApiUrl();\n    if (!apiUrl) {\n      const error = new Error(\n        \"ChecklistNetworkManager: Gleap API URL not configured.\"\n      );\n      this.fetchCache.set(internalId, { status: RequestStatus.ERROR, error });\n      return Promise.reject(error);\n    }\n\n    const url = `${apiUrl}/outbound/checklists/${internalId}?convertTipTap=true&${this._getQueryParams()}`;\n    const requestPromise = this._makeRequest(\"GET\", url, null)\n      .then((responseData) => {\n        if (responseData) {\n          // Cache the successful data\n          this.fetchCache.set(internalId, {\n            status: RequestStatus.SUCCESS,\n            data: responseData,\n          });\n          // Return a deep copy of the data\n          return JSON.parse(JSON.stringify(responseData));\n        } else {\n          // Should not happen with successful GET usually, but handle defensively\n          const error = new Error(\n            \"Empty response received for checklist fetch.\"\n          );\n          this.fetchCache.set(internalId, {\n            status: RequestStatus.ERROR,\n            error: responseData || error,\n          });\n          throw error;\n        }\n      })\n      .catch((error) => {\n        this.fetchCache.set(internalId, { status: RequestStatus.ERROR, error });\n        throw error; // Re-throw so callers can catch it\n      })\n      .finally(() => {\n        // Remove from pending requests map once done (success or fail)\n        this.fetchRequests.delete(internalId);\n      });\n\n    this.fetchRequests.set(internalId, requestPromise);\n    // Return a promise that resolves with a deep copy\n    return requestPromise.then((data) => JSON.parse(JSON.stringify(data)));\n  }\n}\n\nexport default ChecklistNetworkManager;\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = currentWin.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = currentWin.frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(floating) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return floating.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x;\n  const y = rect.top + scroll.scrollTop - offsets.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element) || isTopLayer(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n","export const checkPageFilter = (currentUrl, pageFilter, pageFilterType) => {\n  // If any parameter is missing, consider the filter passed.\n  if (!currentUrl || !pageFilter || !pageFilterType) {\n    return true;\n  }\n\n  // Helper to remove trailing slashes.\n  const removeTrailingSlash = (url) => url.replace(/\\/$/, \"\");\n\n  // Generates a regex from a match string by replacing dynamic segments (e.g., {id}).\n  const generateRegex = (match) => {\n    if (!match) return null;\n    try {\n      // If match starts with \"/\", remove it to work with Regex\n      if (match.startsWith(\"/\")) {\n        match = match.substring(1);\n      }\n      \n      // Replace dynamic patterns {anything} with a placeholder first\n      var dynamicPattern = /{\\w+}/g;\n      var regexPattern = match.replace(dynamicPattern, \"___PLACEHOLDER___\");\n\n      // Escape special regex characters in the URL pattern\n      regexPattern = regexPattern.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n\n      // Replace our placeholder with the actual regex pattern\n      regexPattern = regexPattern.replace(/___PLACEHOLDER___/g, \"[^&?]+\");\n      var pattern = new RegExp(regexPattern, \"i\");\n\n      return pattern;\n    } catch (e) {\n      return null;\n    }\n  };\n\n  // Checks if the provided URL matches the given match string.\n  const isMatchingUrl = (url, match) => {\n    if (!url || !match) return false;\n    try {\n      // First, a simple substring check.\n      if (url.includes(match)) {\n        return true;\n      }\n    } catch (e) {\n      // Continue to regex matching.\n    }\n    const regex = generateRegex(match);\n    if (!regex) return false;\n    try {\n      return regex.test(url);\n    } catch (e) {\n      return false;\n    }\n  };\n\n  let matched = false;\n\n  // Check matching based on the provided pageFilterType.\n  switch (pageFilterType) {\n    case \"is\":\n      matched =\n        removeTrailingSlash(currentUrl) === removeTrailingSlash(pageFilter);\n      break;\n    case \"isnot\":\n      matched =\n        removeTrailingSlash(currentUrl) !== removeTrailingSlash(pageFilter);\n      break;\n    case \"contains\":\n      matched = isMatchingUrl(currentUrl, pageFilter);\n      break;\n    case \"startswith\":\n      matched = currentUrl.startsWith(pageFilter);\n      break;\n    case \"endswith\":\n      matched = currentUrl.endsWith(pageFilter);\n      break;\n    case \"notcontains\":\n      matched = !isMatchingUrl(currentUrl, pageFilter);\n      break;\n    default:\n      matched = false;\n  }\n\n  return matched;\n};\n","import {\n  arrow,\n  autoUpdate,\n  computePosition,\n  flip,\n  offset,\n  shift,\n} from \"@floating-ui/dom\";\nimport { GleapSession } from \"./Gleap\";\nimport { loadIcon } from \"./UI\";\nimport { checkPageFilter } from \"./GleapPageFilter\";\n\nexport default class GleapTooltipManager {\n  tooltips = [];\n  filteredTooltips = [];\n  lastUrl = null;\n  elementToFloatingUIMap = new WeakMap();\n  elementToTooltipMap = new WeakMap();\n  nextId = 0;\n\n  // GleapTooltipManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapTooltipManager();\n      this.instance.start();\n    }\n    return this.instance;\n  }\n\n  // Recursive function to process each node and its children\n  processNodeInsertion(node) {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      // Check the node itself\n      this.checkNodeTooltip(node);\n\n      // Check all children of the node recursively\n      if (node.childNodes) {\n        node.childNodes.forEach((childNode) => {\n          this.processNodeInsertion(childNode);\n        });\n      }\n    }\n  }\n\n  // Function to check a single node against the filtered tooltips\n  checkNodeTooltip(node) {\n    if (this.filteredTooltips.length > 0) {\n      this.filteredTooltips.forEach((tooltip) => {\n        if (tooltip.selector && node.matches(tooltip.selector)) {\n          this.linkTooltip(node, tooltip);\n        }\n      });\n    }\n  }\n\n  start() {\n    const self = this;\n\n    if (!window) {\n      return;\n    }\n\n    const throttle = (fn, time) => {\n      let timeout = null;\n      return function () {\n        if (timeout) return;\n        const context = this;\n        const args = arguments;\n        const later = () => {\n          fn.call(context, ...args);\n          timeout = null;\n        };\n        timeout = setTimeout(later, time);\n      };\n    };\n\n    const handleResizeThrottled = throttle(\n      self.updateHotspotPositions.bind(self),\n      250\n    );\n    window.addEventListener(\"resize\", handleResizeThrottled);\n\n    window.requestAnimationFrame(() => {\n      this.observer = new MutationObserver((mutations) => {\n        if (self.lastUrl !== window.location.href) {\n          self.lastUrl = window.location.href;\n          self.filteredTooltips = self.getFilteredTooltips();\n        }\n\n        mutations.forEach((mutation) => {\n          // Check for attribute changes that might affect hotspot positioning\n          if (mutation.type === \"attributes\") {\n            const target = mutation.target;\n            if (target.nodeType === Node.ELEMENT_NODE) {\n              // Check if the changed element has tooltip hotspots or is a parent of tooltip elements\n              const hasTooltipHotspots =\n                target.querySelector(\"[data-gleap-tooltip-hotspot]\") ||\n                target.hasAttribute(\"data-gleap-tooltip-mode\");\n\n              if (\n                hasTooltipHotspots ||\n                target.hasAttribute(\"data-gleap-tooltip\")\n              ) {\n                self.updateHotspotPositions();\n              }\n            }\n          }\n\n          // Check for added nodes\n          mutation.addedNodes.forEach((node) => {\n            if (node.nodeType === Node.ELEMENT_NODE) {\n              self.processNodeInsertion(node);\n            }\n          });\n\n          // Check for removed nodes\n          mutation.removedNodes.forEach((node) => {\n            if (\n              node.nodeType === Node.ELEMENT_NODE &&\n              this.elementToFloatingUIMap.has(node)\n            ) {\n              const floatingUI = this.elementToFloatingUIMap.get(node);\n              if (floatingUI) {\n                if (floatingUI.tooltip) {\n                  floatingUI.tooltip.remove();\n                }\n                floatingUI.cleanup();\n\n                this.elementToFloatingUIMap.delete(node);\n              }\n            }\n\n            if (this.elementToTooltipMap.has(node)) {\n              this.elementToTooltipMap.delete(node);\n            }\n          });\n        });\n      });\n\n      // Start observing the document for changes.\n      this.observer.observe(document.body, {\n        childList: true,\n        subtree: true,\n        attributes: true,\n        attributeFilter: [\"style\", \"class\"],\n      });\n    });\n  }\n\n  updateHotspotPositions() {\n    const elements = document.querySelectorAll(\n      `[data-gleap-tooltip-mode='hotspot']`\n    );\n    elements.forEach((element) => {\n      const tooltip = this.elementToTooltipMap.get(element);\n      if (tooltip) {\n        this.repositionHotspot(element, tooltip);\n      }\n    });\n  }\n\n  createTooltip(element, tooltipText, tooltipData) {\n    // Create tooltip element\n    const tooltip = document.createElement(\"div\");\n    tooltip.className = \"gleap-tooltip\";\n    tooltip.innerHTML = `<div class=\"gleap-tooltip-inner\">\n            ${tooltipText}\n            <div class=\"gleap-tooltip-arrow\">\n                <svg width=\"116\" height=\"56\" viewBox=\"0 0 116 56\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M57.75 0.74998L115.5 0.680177L66.8726 49.3076C61.7958 54.3844 53.5646 54.3844 48.4878 49.3076L4.05618e-05 0.819784L57.75 0.74998Z\" fill=\"white\"/>\n                </svg>\n            </div>\n        </div>`;\n    document.body.appendChild(tooltip);\n\n    // Create a Popper instance with arrow and offset\n\n    const arrowEl = tooltip.querySelector(\".gleap-tooltip-arrow\");\n    const cleanup = autoUpdate(element, tooltip, () => {\n      computePosition(element, tooltip, {\n        placement: tooltipData.posX === \"left\" ? \"left\" : \"right\",\n        middleware: [offset(10), flip(), shift(), arrow({ element: arrowEl })],\n      }).then(({ x, y, middlewareData, placement }) => {\n        try {\n          Object.assign(tooltip.style, {\n            left: `${x}px`,\n            top: `${y}px`,\n          });\n\n          if (middlewareData.arrow) {\n            let arrowSize = 20; // Arrow size should be consistent with the border width used in CSS\n            let arrowPos = { left: \"\", top: \"\", transform: \"\" };\n\n            if (middlewareData.arrow.x != null) {\n              arrowPos.left = `${middlewareData.arrow.x}px`;\n              if (placement === \"bottom\") {\n                arrowPos.transform = \"translateY(-7px) rotate(180deg)\";\n                arrowPos.top = `${-arrowSize}px`; // Move arrow outside the tooltip\n              } else if (placement === \"top\") {\n                arrowPos.transform = \"translateY(7px) rotate(0deg)\";\n                arrowPos.top = `100%`; // Adjust based on the tooltip's height\n              }\n            }\n            if (middlewareData.arrow.y != null) {\n              arrowPos.top = `${middlewareData.arrow.y}px`;\n              if (placement === \"right\") {\n                arrowPos.transform = \"translateX(-7px) rotate(90deg)\";\n                arrowPos.left = `${-arrowSize}px`; // Move arrow outside the tooltip\n              } else if (placement === \"left\") {\n                arrowPos.transform = \"translateX(7px) rotate(270deg)\";\n                arrowPos.left = `100%`; // Adjust based on the tooltip's width\n              }\n            }\n            // Apply the computed styles to the arrow\n            Object.assign(arrowEl.style, arrowPos);\n          }\n        } catch (exp) {}\n      });\n    });\n\n    let hideTimeout;\n\n    function show() {\n      clearTimeout(hideTimeout);\n      tooltip.style.visibility = \"visible\";\n      tooltip.style.opacity = \"1\";\n      tooltip.style.pointerEvents = \"auto\";\n    }\n\n    function hide() {\n      hideTimeout = setTimeout(() => {\n        tooltip.style.opacity = \"0\";\n\n        setTimeout(() => {\n          tooltip.style.visibility = \"hidden\";\n          tooltip.style.pointerEvents = \"none\";\n        }, 200);\n      }, 500);\n    }\n\n    // Event listeners to show/hide the tooltip\n    element.addEventListener(\"mouseenter\", show);\n    element.addEventListener(\"mouseleave\", hide);\n    tooltip.addEventListener(\"mouseenter\", show);\n    tooltip.addEventListener(\"mouseleave\", hide);\n\n    return {\n      cleanup,\n      tooltip,\n    };\n  }\n\n  canEmbed(element) {\n    const voidElements = new Set([\n      \"area\",\n      \"base\",\n      \"br\",\n      \"embed\",\n      \"hr\",\n      \"img\",\n      \"input\",\n      \"source\",\n      \"track\",\n      \"wbr\",\n      \"canvas\",\n    ]);\n\n    return element && !voidElements.has(element.tagName.toLowerCase());\n  }\n\n  linkTooltip = (element, tooltip) => {\n    if (element.hasAttribute(\"data-gleap-tooltip\")) {\n      return;\n    }\n\n    const nextId = this.nextId++;\n    element.setAttribute(\"data-gleap-tooltip\", nextId);\n    if (element) {\n      var tooltipElem = null;\n\n      if (tooltip.mode === \"hotspot\") {\n        // Create hotspot container.\n        const hotspotContainer = document.createElement(\"div\");\n        hotspotContainer.setAttribute(\"data-gleap-tooltip-anchor\", nextId);\n        hotspotContainer.classList.add(\"gleap-tooltip-anchor\");\n        element.setAttribute(\"data-gleap-tooltip-mode\", \"hotspot\");\n\n        if (this.canEmbed(element)) {\n          if (element.firstChild) {\n            element.insertBefore(hotspotContainer, element.firstChild);\n          } else {\n            element.appendChild(hotspotContainer);\n          }\n        } else {\n          element.parentNode.insertBefore(\n            hotspotContainer,\n            element.nextSibling\n          );\n        }\n\n        // Create hotspot.\n        const hotspot = document.createElement(\"div\");\n        hotspot.classList.add(\"gleap-tooltip-hotspot\");\n        hotspot.setAttribute(\"data-gleap-tooltip-hotspot\", nextId);\n\n        hotspot.innerHTML = `${loadIcon(tooltip.icon, tooltip.color)}${\n          tooltip.animated\n            ? `<div style=\"background-color: ${tooltip.color}\" class=\"gleap-tooltip-hotspot-animation\"></div>`\n            : \"\"\n        }`;\n        hotspotContainer.appendChild(hotspot);\n\n        // Update hotspot position.\n        this.repositionHotspot(element, tooltip);\n\n        tooltipElem = hotspot;\n        this.elementToTooltipMap.set(element, tooltip);\n      } else {\n        tooltipElem = element;\n      }\n\n      const floatingUIInstance = this.createTooltip(\n        tooltipElem,\n        tooltip.html,\n        tooltip\n      );\n\n      this.elementToFloatingUIMap.set(element, floatingUIInstance);\n    }\n  };\n\n  destroy() {\n    // Disconnect the MutationObserver if it exists.\n    if (this.observer) {\n      this.observer.disconnect();\n      this.observer = null;\n    }\n\n    // Remove the window resize event listener if it was stored.\n    // (In start() you can assign the listener to a class property, e.g., this.resizeListener.)\n    if (this.resizeListener) {\n      window.removeEventListener(\"resize\", this.resizeListener);\n      this.resizeListener = null;\n    }\n\n    // Remove all tooltip elements created by Gleap.\n    const tooltipElements = document.querySelectorAll(\".gleap-tooltip\");\n    tooltipElements.forEach((tooltip) => tooltip.remove());\n\n    // Remove any tooltip anchors and hotspots.\n    const anchors = document.querySelectorAll(\"[data-gleap-tooltip-anchor]\");\n    anchors.forEach((anchor) => anchor.remove());\n    const hotspots = document.querySelectorAll(\"[data-gleap-tooltip-hotspot]\");\n    hotspots.forEach((hotspot) => hotspot.remove());\n\n    // Remove all attributes from elements.\n    const elements = document.querySelectorAll(\"[data-gleap-tooltip]\");\n    elements.forEach((element) =>\n      element.removeAttribute(\"data-gleap-tooltip\")\n    );\n\n    // Remove all attributes from elements.\n    const modeElements = document.querySelectorAll(\"[data-gleap-tooltip-mode]\");\n    modeElements.forEach((element) =>\n      element.removeAttribute(\"data-gleap-tooltip-mode\")\n    );\n\n    // Clear internal references.\n    this.elementToFloatingUIMap = new WeakMap();\n    this.elementToTooltipMap = new WeakMap();\n    this.tooltips = [];\n    this.filteredTooltips = [];\n  }\n\n  repositionHotspot(element, tooltip) {\n    if (!element || !tooltip) {\n      return;\n    }\n\n    const tooltipId = element.getAttribute(\"data-gleap-tooltip\");\n    if (!tooltipId) {\n      return;\n    }\n\n    const hotspot = document.querySelector(\n      `[data-gleap-tooltip-hotspot=\"${tooltipId}\"]`\n    );\n    if (!hotspot) {\n      return;\n    }\n\n    if (!tooltip.posX) {\n      tooltip.posX = \"right\";\n    }\n    if (!tooltip.posY) {\n      tooltip.posY = \"center\";\n    }\n    if (!tooltip.offsetX) {\n      tooltip.offsetX = 4;\n    }\n    if (!tooltip.offsetY) {\n      tooltip.offsetY = 0;\n    }\n\n    var elementRect = element.getBoundingClientRect();\n\n    try {\n      // Improve width calculation for text elements.\n      var range = document.createRange();\n      range.selectNodeContents(element);\n      const style = window.getComputedStyle(element);\n      const fixedWidth =\n        range.getBoundingClientRect().width + parseFloat(style.paddingLeft);\n      if (fixedWidth < elementRect.width) {\n        elementRect.width = fixedWidth;\n      }\n    } catch (exp) {}\n\n    const anchorElement = document.querySelector(\n      `[data-gleap-tooltip-anchor=\"${tooltipId}\"]`\n    );\n    const anchorRect = anchorElement.getBoundingClientRect();\n\n    // Offset calculation for hotspot position.\n    const offsetX = anchorRect.left - elementRect.left;\n    const offsetY = anchorRect.top - elementRect.top;\n\n    let top = 0;\n    let left = 0;\n    let tooltipSize = 17 / 2;\n\n    switch (tooltip.posX) {\n      case \"left\":\n        left = (tooltip.offsetX + tooltipSize * 2) * -1;\n        break;\n      case \"right\":\n        left = elementRect.width + tooltip.offsetX;\n        break;\n    }\n\n    switch (tooltip.posY) {\n      case \"top\":\n        top = 0 + tooltip.offsetY;\n        break;\n      case \"bottom\":\n        top = elementRect.height - tooltipSize * 2 + tooltip.offsetY;\n        break;\n      case \"center\":\n        top = elementRect.height / 2 - tooltipSize + tooltip.offsetY;\n        break;\n    }\n\n    if (hotspot) {\n      hotspot.style.position = \"absolute\";\n      hotspot.style.top = top - offsetY + \"px\";\n      hotspot.style.left = left - offsetX + \"px\";\n    }\n  }\n\n  updateFilteredTooltips = () => {\n    this.filteredTooltips = this.getFilteredTooltips();\n    this.checkForTooltips();\n  };\n\n  getFilteredTooltips = () => {\n    if (!this.tooltips) {\n      return [];\n    }\n\n    const currentUrl = window.location.href;\n\n    return this.tooltips.filter((tooltip) => {\n      if (!tooltip.page || tooltip.page.length === 0) {\n        return true;\n      }\n\n      const passed = checkPageFilter(\n        currentUrl,\n        tooltip.page,\n        tooltip.pageType\n      );\n\n      if (!passed) {\n        return false;\n      }\n      return true;\n    });\n  };\n\n  checkForTooltips = () => {\n    for (let i = 0; i < this.filteredTooltips.length; i++) {\n      const tooltip = this.filteredTooltips[i];\n\n      try {\n        const elements = document.querySelectorAll(tooltip.selector);\n\n        for (let j = 0; j < elements.length; j++) {\n          const element = elements[j];\n\n          if (element) {\n            this.linkTooltip(element, tooltip);\n          }\n        }\n      } catch (exp) {}\n    }\n  };\n\n  load = () => {\n    const self = this;\n    const sessionInstance = GleapSession.getInstance();\n\n    const http = new XMLHttpRequest();\n    http.open(\n      \"GET\",\n      sessionInstance.apiUrl + \"/config/\" + sessionInstance.sdkKey + \"/tooltips\"\n    );\n    http.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n    http.setRequestHeader(\"Api-Token\", sessionInstance.sdkKey);\n    try {\n      http.setRequestHeader(\"Gleap-Id\", sessionInstance.session.gleapId);\n      http.setRequestHeader(\"Gleap-Hash\", sessionInstance.session.gleapHash);\n    } catch (exp) {}\n\n    http.onerror = () => {\n      console.error(\"Failed to fetch tooltips\");\n    };\n    http.onreadystatechange = function (e) {\n      if (http.readyState === 4) {\n        if (http.status === 200) {\n          try {\n            self.tooltips = JSON.parse(http.responseText);\n            self.updateFilteredTooltips();\n          } catch (exp) {\n            console.error(\"Failed to parse tooltips\", exp);\n          }\n        }\n      }\n    };\n\n    http.send();\n  };\n}\n","import ChecklistNetworkManager from \"./ChecklistNetworkManager\";\nimport {\n  GleapBannerManager,\n  GleapEventManager,\n  GleapFrameManager,\n  GleapModalManager,\n  GleapNotificationManager,\n  GleapStreamedEvent,\n  GleapTranslationManager,\n} from \"./Gleap\";\nimport {\n  eraseGleapCookie,\n  getGleapCookie,\n  loadFromGleapCache,\n  saveToGleapCache,\n  setGleapCookie,\n} from \"./GleapHelper\";\nimport GleapTooltipManager from \"./GleapTooltipManager\";\n\nexport default class GleapSession {\n  apiUrl = \"https://api.gleap.io\";\n  wsApiUrl = \"wss://ws.gleap.io\";\n  sdkKey = null;\n  updatingSession = false;\n  useCookies = false;\n  session = {\n    gleapId: null,\n    gleapHash: null,\n    name: \"\",\n    email: \"\",\n    userId: \"\",\n    phone: \"\",\n    value: 0,\n  };\n  ready = false;\n  onSessionReadyListener = [];\n\n  // GleapSession singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapSession();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  /**\n   * Returns the current session name.\n   * @returns string\n   */\n  getName() {\n    try {\n      return this.session.name\n        ? this.session.name\n            .split(\" \")[0]\n            .split(\"@\")[0]\n            .split(\".\")[0]\n            .split(\"+\")[0]\n        : \"\";\n    } catch (exp) {\n      return this.session.name;\n    }\n  }\n\n  /**\n   * Returns the Gleap session object.\n   * @returns\n   */\n  getSession() {\n    return this.session;\n  }\n\n  /**\n   * Returns the Gleap session object.\n   * @returns\n   */\n  getGleapId() {\n    if (this.session && this.session.gleapId) {\n      return this.session.gleapId;\n    }\n\n    return null;\n  }\n\n  /**\n   * Determines if the current session is a identified user.\n   * @returns boolean\n   */\n  isUser() {\n    if (this.session && this.session.userId) {\n      return true;\n    }\n    return false;\n  }\n\n  constructor() {}\n\n  setOnSessionReady = (onSessionReady) => {\n    if (this.ready) {\n      onSessionReady();\n    } else {\n      this.onSessionReadyListener.push(onSessionReady);\n    }\n  };\n\n  injectSession = (http) => {\n    if (http && this.session) {\n      http.setRequestHeader(\"Api-Token\", this.sdkKey);\n      http.setRequestHeader(\"Gleap-Id\", this.session.gleapId);\n      http.setRequestHeader(\"Gleap-Hash\", this.session.gleapHash);\n    }\n  };\n\n  clearSession = (attemp = 0, retry = true) => {\n    if (this.session && this.session.gleapHash) {\n      GleapEventManager.notifyEvent(\n        \"unregister-pushmessage-group\",\n        `gleapuser-${this.session.gleapHash}`\n      );\n    }\n\n    try {\n      saveToGleapCache(`session-${this.sdkKey}`, null);\n    } catch (exp) {}\n\n    if (this.useCookies) {\n      try {\n        eraseGleapCookie(`session-${this.sdkKey}`);\n      } catch (exp) {}\n    }\n\n    this.ready = false;\n    this.session = {\n      gleapId: null,\n      gleapHash: null,\n      name: \"\",\n      email: \"\",\n      userId: \"\",\n      phone: \"\",\n      value: 0,\n    };\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"session-cleared\",\n      },\n      true\n    );\n    GleapNotificationManager.getInstance().clearAllNotifications(false);\n    GleapNotificationManager.getInstance().setNotificationCount(0);\n    GleapBannerManager.getInstance().removeBannerUI();\n    GleapModalManager.getInstance().hideModal();\n\n    if (retry) {\n      if (!isNaN(attemp)) {\n        // Exponentially retry to renew session.\n        const newTimeout = Math.pow(attemp, 2) * 10;\n        setTimeout(() => {\n          this.startSession(attemp + 1);\n        }, newTimeout * 1000);\n      }\n    }\n  };\n\n  validateSession = (session) => {\n    if (!session || !session.gleapId) {\n      return;\n    }\n\n    let sessionChanged = false;\n    if (this.session?.gleapId !== session?.gleapId) {\n      sessionChanged = true;\n    }\n\n    // Unregister previous group.\n    if (this.session && this.session.gleapHash) {\n      GleapEventManager.notifyEvent(\n        \"unregister-pushmessage-group\",\n        `gleapuser-${this.session.gleapHash}`\n      );\n    }\n\n    saveToGleapCache(`session-${this.sdkKey}`, session);\n    if (this.useCookies) {\n      setGleapCookie(\n        `session-${this.sdkKey}`,\n        encodeURIComponent(JSON.stringify(session)),\n        365\n      );\n    }\n\n    this.session = session;\n    this.ready = true;\n\n    // Register new push group.\n    if (this.session && this.session.gleapHash) {\n      GleapEventManager.notifyEvent(\n        \"register-pushmessage-group\",\n        `gleapuser-${this.session.gleapHash}`\n      );\n    }\n\n    if (sessionChanged) {\n      // Load tooltips.\n      setTimeout(() => {\n        // Clear cache first, as the session context has changed.\n        ChecklistNetworkManager.getInstance().clearCache();\n\n        // Initially track.\n        GleapStreamedEvent.getInstance().restart();\n\n        const tooltipManager = GleapTooltipManager.getInstance();\n        if (tooltipManager) {\n          try {\n            tooltipManager.destroy();\n          } catch (exp) {}\n\n          tooltipManager.load();\n        }\n      }, 0);\n\n      if (typeof window.dispatchEvent === \"function\") {\n        window.dispatchEvent(new CustomEvent(\"session-updated\"));\n      }\n    }\n\n    this.notifySessionReady();\n  };\n\n  startSession = (attemp = 0) => {\n    // Check if we already have a session cookie.\n    try {\n      if (this.useCookies) {\n        const sessionCookie = getGleapCookie(`session-${this.sdkKey}`);\n        if (sessionCookie) {\n          const sessionData = JSON.parse(decodeURIComponent(sessionCookie));\n          this.validateSession(sessionData);\n        }\n      }\n    } catch (exp) {}\n\n    // Try to load session from local storage, if not already loaded.\n    if (\n      !(this.session && this.session.gleapId && this.session.gleapId.length > 0)\n    ) {\n      const cachedSession = loadFromGleapCache(`session-${this.sdkKey}`);\n      if (cachedSession) {\n        this.validateSession(cachedSession);\n      }\n    }\n\n    const self = this;\n    const http = new XMLHttpRequest();\n    http.open(\"POST\", self.apiUrl + \"/sessions\");\n    http.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n    http.setRequestHeader(\"Api-Token\", self.sdkKey);\n    try {\n      if (this.session && this.session.gleapId && this.session.gleapHash) {\n        http.setRequestHeader(\"Gleap-Id\", this.session.gleapId);\n        http.setRequestHeader(\"Gleap-Hash\", this.session.gleapHash);\n      }\n    } catch (exp) {}\n    http.onreadystatechange = function (e) {\n      if (http.readyState === 4) {\n        if (http.status === 200 || http.status === 201) {\n          try {\n            const sessionData = JSON.parse(http.responseText);\n            self.validateSession(sessionData);\n          } catch (exp) {}\n        } else {\n          if (http.status !== 429) {\n            self.clearSession(attemp, true);\n          }\n        }\n      }\n    };\n    http.send(\n      JSON.stringify({\n        lang: GleapTranslationManager.getInstance().getActiveLanguage(),\n      })\n    );\n  };\n\n  notifySessionReady() {\n    if (this.onSessionReadyListener.length > 0) {\n      for (var i = 0; i < this.onSessionReadyListener.length; i++) {\n        this.onSessionReadyListener[i]();\n      }\n    }\n    this.onSessionReadyListener = [];\n\n    // Send session update to frame.\n    GleapFrameManager.getInstance().sendSessionUpdate();\n  }\n\n  checkIfSessionNeedsUpdate = (userId, userData) => {\n    if (!this.session || !this.session.userId || !userId) {\n      return true;\n    }\n\n    try {\n      if (this.session.userId.toString() !== userId.toString()) {\n        return true;\n      }\n    } catch (exp) {}\n\n    return this.checkIfSessionDataNeedsUpdate(userData);\n  };\n\n  checkIfSessionDataNeedsUpdate = (userData) => {\n    if (userData) {\n      var userDataKeys = Object.keys(userData);\n      for (var i = 0; i < userDataKeys.length; i++) {\n        var userDataKey = userDataKeys[i];\n        if (\n          JSON.stringify(this.session[userDataKey]) !==\n          JSON.stringify(userData[userDataKey])\n        ) {\n          // Check custom data for a match.\n          if (\n            !(\n              this.session.customData &&\n              JSON.stringify(this.session.customData[userDataKey]) ===\n                JSON.stringify(userData[userDataKey])\n            )\n          ) {\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  };\n\n  updateSession = (userData) => {\n    // Check if session needs update.\n    const sessionNeedsUpdate = this.checkIfSessionDataNeedsUpdate(userData);\n    if (!sessionNeedsUpdate) {\n      return;\n    }\n\n    const self = this;\n    return new Promise((resolve, reject) => {\n      // Wait for gleap session to be ready.\n      this.setOnSessionReady(function () {\n        if (!self.session.gleapId || !self.session.gleapHash) {\n          return reject(\"Session not ready yet.\");\n        }\n\n        const http = new XMLHttpRequest();\n        http.open(\"POST\", self.apiUrl + \"/sessions/partialupdate\");\n        http.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n        http.setRequestHeader(\"Api-Token\", self.sdkKey);\n        try {\n          http.setRequestHeader(\"Gleap-Id\", self.session.gleapId);\n          http.setRequestHeader(\"Gleap-Hash\", self.session.gleapHash);\n        } catch (exp) {}\n\n        http.onerror = () => {\n          reject();\n        };\n        http.onreadystatechange = function (e) {\n          if (http.readyState === 4) {\n            if (http.status === 200 || http.status === 201) {\n              try {\n                const sessionData = JSON.parse(http.responseText);\n                self.validateSession(sessionData);\n                resolve(sessionData);\n              } catch (exp) {\n                reject(exp);\n              }\n            } else {\n              reject();\n            }\n          }\n        };\n\n        http.send(\n          JSON.stringify({\n            data: {\n              ...userData,\n              lang: GleapTranslationManager.getInstance().getActiveLanguage(),\n            },\n            type: \"js\",\n            sdkVersion: SDK_VERSION,\n            ws: true,\n          })\n        );\n      });\n    });\n  };\n\n  identifySession = (userId, userData, userHash) => {\n    const sessionNeedsUpdate = this.checkIfSessionNeedsUpdate(userId, userData);\n    if (!sessionNeedsUpdate) {\n      return;\n    }\n\n    const self = this;\n    return new Promise((resolve, reject) => {\n      // Wait for gleap session to be ready.\n      this.setOnSessionReady(function () {\n        if (!self.session.gleapId || !self.session.gleapHash) {\n          return reject(\"Session not ready yet.\");\n        }\n\n        const http = new XMLHttpRequest();\n        http.open(\"POST\", self.apiUrl + \"/sessions/identify\");\n        http.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n        http.setRequestHeader(\"Api-Token\", self.sdkKey);\n        try {\n          http.setRequestHeader(\"Gleap-Id\", self.session.gleapId);\n          http.setRequestHeader(\"Gleap-Hash\", self.session.gleapHash);\n        } catch (exp) {}\n\n        http.onerror = () => {\n          reject();\n        };\n        http.onreadystatechange = function (e) {\n          if (http.readyState === 4) {\n            if (http.status === 200 || http.status === 201) {\n              try {\n                const sessionData = JSON.parse(http.responseText);\n                self.validateSession(sessionData);\n                resolve(sessionData);\n              } catch (exp) {\n                reject(exp);\n              }\n            } else {\n              reject();\n            }\n          }\n        };\n\n        var dataToSend = {\n          ...userData,\n        };\n\n        if (userData.customData) {\n          delete dataToSend[\"customData\"];\n          dataToSend = {\n            ...dataToSend,\n            ...userData.customData,\n          };\n        }\n\n        http.send(\n          JSON.stringify({\n            ...dataToSend,\n            userId,\n            userHash,\n            lang: GleapTranslationManager.getInstance().getActiveLanguage(),\n          })\n        );\n      });\n    });\n  };\n\n  startProductTourConfig = (tourId) => {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      this.setOnSessionReady(function () {\n        if (!self.session.gleapId || !self.session.gleapHash) {\n          return reject(\"Session not ready yet.\");\n        }\n\n        const http = new XMLHttpRequest();\n        http.open(\"POST\", self.apiUrl + \"/outbound/producttours\");\n        http.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n        http.setRequestHeader(\"Api-Token\", self.sdkKey);\n        try {\n          http.setRequestHeader(\"Gleap-Id\", self.session.gleapId);\n          http.setRequestHeader(\"Gleap-Hash\", self.session.gleapHash);\n        } catch (exp) {}\n\n        http.onerror = () => {\n          reject();\n        };\n        http.onreadystatechange = function (e) {\n          if (http.readyState === 4) {\n            if (http.status === 200 || http.status === 201) {\n              try {\n                const tourData = JSON.parse(http.responseText);\n                if (tourData && tourData.config) {\n                  resolve(tourData.config);\n                }\n              } catch (exp) {\n                reject(exp);\n              }\n            } else {\n              reject();\n            }\n          }\n        };\n        http.send(\n          JSON.stringify({\n            outboundId: tourId,\n          })\n        );\n      });\n    });\n  };\n\n  validateProductTour = (tourId) => {\n    const self = this;\n    return new Promise((resolve, reject) => {\n      this.setOnSessionReady(function () {\n        if (!self.session.gleapId || !self.session.gleapHash) {\n          return reject(\"Session not ready yet.\");\n        }\n\n        const http = new XMLHttpRequest();\n        http.open(\"POST\", self.apiUrl + \"/outbound/producttourvalidation\");\n        http.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n        http.setRequestHeader(\"Api-Token\", self.sdkKey);\n        try {\n          http.setRequestHeader(\"Gleap-Id\", self.session.gleapId);\n          http.setRequestHeader(\"Gleap-Hash\", self.session.gleapHash);\n        } catch (exp) {}\n\n        http.onerror = () => {\n          reject();\n        };\n        http.onreadystatechange = function (e) {\n          if (http.readyState === 4) {\n            if (http.status === 200 || http.status === 201) {\n              try {\n                const tourData = JSON.parse(http.responseText);\n                if (\n                  tourData &&\n                  tourData.status === \"live\" &&\n                  tourData.passedPageFilter\n                ) {\n                  resolve(tourData.config);\n                } else {\n                  reject();\n                }\n              } catch (exp) {\n                reject(exp);\n              }\n            } else {\n              reject();\n            }\n          }\n        };\n        http.send(\n          JSON.stringify({\n            outboundId: tourId,\n            currentUrl: window?.location?.href,\n          })\n        );\n      });\n    });\n  };\n}\n","import Gleap, {\n  GleapFrameManager,\n  GleapMetaDataManager,\n  GleapAiChatbarManager,\n  GleapNotificationManager,\n  GleapSession,\n  GleapAdminManager,\n} from \"./Gleap\";\nimport { gleapDataParser } from \"./GleapHelper\";\n\nexport default class GleapStreamedEvent {\n  eventArray = [];\n  streamedEventArray = [];\n  eventMaxLength = 500;\n  errorCount = 0;\n  streamingEvents = false;\n  lastUrl = undefined;\n  mainLoopTimeout = null;\n  socket = null;\n  connectedWebSocketGleapId = null;\n  connectionTimeout = null;\n  pingWS = null;\n  handleOpenBound = null;\n  handleErrorBound = null;\n  handleMessageBound = null;\n  handleCloseBound = null;\n\n  // GleapStreamedEvent singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapStreamedEvent();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  constructor() {\n    this.handleOpenBound = this.handleOpen.bind(this);\n    this.handleErrorBound = this.handleError.bind(this);\n    this.handleMessageBound = this.handleMessage.bind(this);\n    this.handleCloseBound = this.handleClose.bind(this);\n  }\n\n  cleanupWebSocket() {\n    if (this.connectionTimeout) {\n      clearTimeout(this.connectionTimeout);\n      this.connectionTimeout = null;\n    }\n\n    if (this.pingWS) {\n      clearInterval(this.pingWS);\n    }\n\n    if (this.socket) {\n      this.socket.removeEventListener(\"open\", this.handleOpenBound);\n      this.socket.removeEventListener(\"error\", this.handleErrorBound);\n      this.socket.removeEventListener(\"message\", this.handleMessageBound);\n      this.socket.removeEventListener(\"close\", this.handleCloseBound);\n      this.socket.close();\n      this.socket = null;\n    }\n  }\n\n  initWebSocket() {\n    this.cleanupWebSocket();\n\n    this.connectedWebSocketGleapId = GleapSession.getInstance().session.gleapId;\n\n    if (\n      !GleapSession.getInstance().session ||\n      !GleapSession.getInstance().sdkKey\n    ) {\n      return;\n    }\n\n    this.socket = new WebSocket(\n      `${GleapSession.getInstance().wsApiUrl}?gleapId=${GleapSession.getInstance().session.gleapId\n      }&gleapHash=${GleapSession.getInstance().session.gleapHash}&apiKey=${GleapSession.getInstance().sdkKey\n      }&sdkVersion=${SDK_VERSION}`\n    );\n    this.socket.addEventListener(\"open\", this.handleOpenBound);\n    this.socket.addEventListener(\"message\", this.handleMessageBound);\n    this.socket.addEventListener(\"error\", this.handleErrorBound);\n    this.socket.addEventListener(\"close\", this.handleCloseBound);\n  }\n\n  handleOpen(event) {\n    this.pingWS = setInterval(() => {\n      if (this.socket.readyState === this.socket.OPEN) {\n        this.socket.send(\"PING\");\n        this.socket.send(0x9);\n      }\n    }, 10000);\n\n    if (this.connectionTimeout) {\n      clearTimeout(this.connectionTimeout);\n      this.connectionTimeout = null;\n    }\n  }\n\n  handleMessage(event) {\n    this.processMessage(JSON.parse(event.data));\n  }\n\n  handleError(error) { }\n\n  handleClose(event) {\n    setTimeout(() => {\n      this.initWebSocket();\n    }, 5000);\n  }\n\n  processMessage(message) {\n    try {\n      if (GleapAdminManager.getInstance().initialized) {\n        return;\n      }\n\n      if (message.name === \"update\") {\n        const { a, u, ai } = message.data;\n\n        const isOpened = GleapFrameManager.getInstance().isOpened();\n\n        if (a) {\n          const listOfActionsWhereIgnoreOpened = [\"banner\", \"modal\"];\n          const filteredActions = a.filter(\n            (action) =>\n              !isOpened ||\n              listOfActionsWhereIgnoreOpened.includes(\n                action?.actionType?.toLowerCase()\n              )\n          );\n\n          Gleap.getInstance().performActions(filteredActions);\n        }\n\n        if (ai) {\n          GleapAiChatbarManager.getInstance().setConfig({\n            enabled: ai.e ?? false,\n            placeholder: ai.p,\n            quickActions: ai.a,\n            style: ai.s,\n          });\n        }\n\n        if (u != null) {\n          GleapNotificationManager.getInstance().setNotificationCount(u);\n        }\n      }\n\n      if (message.name === \"checklist\" && message?.data && window) {\n        if (typeof window.dispatchEvent === \"function\") {\n          window.dispatchEvent(\n            new CustomEvent(\"checkListUpdate\", { detail: message.data })\n          );\n        }\n      }\n    } catch (exp) { }\n  }\n\n  getEventArray() {\n    return this.eventArray;\n  }\n\n  stop() {\n    this.cleanupMainLoop();\n  }\n\n  resetErrorCountLoop() {\n    setInterval(() => {\n      this.errorCount = 0;\n    }, 60000);\n  }\n\n  cleanupMainLoop() {\n    if (this.mainLoopTimeout) {\n      clearInterval(this.mainLoopTimeout);\n      this.mainLoopTimeout = null;\n    }\n  }\n\n  restart() {\n    // Only reconnect websockets when needed.\n    if (\n      this.connectedWebSocketGleapId !==\n      GleapSession.getInstance().session.gleapId\n    ) {\n      this.initWebSocket();\n    }\n\n    this.cleanupMainLoop();\n    this.trackInitialEvents();\n    this.runEventStreamLoop();\n  }\n\n  start() {\n    this.startPageListener();\n    this.resetErrorCountLoop();\n  }\n\n  trackInitialEvents() {\n    GleapStreamedEvent.getInstance().logEvent(\"sessionStarted\");\n    GleapStreamedEvent.getInstance().logCurrentPage();\n  }\n\n  logCurrentPage() {\n    if (Gleap.getInstance().disablePageTracking) {\n      return;\n    }\n\n    const currentUrl = window.location.href;\n    if (currentUrl && currentUrl !== this.lastUrl) {\n      this.lastUrl = currentUrl;\n      this.logEvent(\"pageView\", {\n        page: currentUrl,\n      });\n    }\n  }\n\n  startPageListener() {\n    const self = this;\n    setInterval(function () {\n      self.logCurrentPage();\n    }, 1000);\n  }\n\n  logEvent(name, data) {\n    var log = {\n      name,\n      date: new Date(),\n    };\n    if (data) {\n      log.data = gleapDataParser(data);\n    }\n    this.eventArray.push(log);\n    this.streamedEventArray.push(log);\n\n    // Check max size of event log\n    if (this.eventArray.length > this.eventMaxLength) {\n      this.eventArray.shift();\n    }\n\n    // Check max size of streamed event log\n    if (this.streamedEventArray.length > this.eventMaxLength) {\n      this.streamedEventArray.shift();\n    }\n  }\n\n  runEventStreamLoop = () => {\n    const self = this;\n    this.streamEvents();\n\n    this.mainLoopTimeout = setTimeout(function () {\n      self.runEventStreamLoop();\n    }, 2500);\n  };\n\n  streamEvents = () => {\n    if (\n      !GleapSession.getInstance().ready ||\n      this.streamingEvents ||\n      this.errorCount > 2\n    ) {\n      return;\n    }\n\n    // Nothing to stream.\n    if (this.streamedEventArray.length === 0) {\n      return;\n    }\n\n    // Sockets not connected.\n    if (!this.socket || this.socket.readyState !== this.socket.OPEN) {\n      return;\n    }\n\n    const self = this;\n    this.streamingEvents = true;\n\n    const http = new XMLHttpRequest();\n    http.open(\"POST\", GleapSession.getInstance().apiUrl + \"/sessions/ping\");\n    http.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n    GleapSession.getInstance().injectSession(http);\n    http.onerror = () => {\n      self.errorCount++;\n      self.streamingEvents = false;\n    };\n    http.onreadystatechange = function (e) {\n      if (http.readyState === 4) {\n        if (http.status === 200 || http.status === 201) {\n          self.errorCount = 0;\n        } else {\n          self.errorCount++;\n        }\n\n        self.streamingEvents = false;\n      }\n    };\n\n    const sessionDuration =\n      GleapMetaDataManager.getInstance().getSessionDuration();\n    http.send(\n      JSON.stringify({\n        time: sessionDuration,\n        events: this.streamedEventArray,\n        opened: GleapFrameManager.getInstance().isOpened(),\n        type: \"js\",\n        sdkVersion: SDK_VERSION,\n        ws: true,\n      })\n    );\n\n    this.streamedEventArray = [];\n  };\n}\n","import {\n  loadFromGleapCache,\n  saveToGleapCache,\n  clearGleapCache,\n} from \"./GleapHelper\";\nimport Gleap, {\n  GleapFrameManager,\n  GleapFeedbackButtonManager,\n  GleapTranslationManager,\n  GleapNetworkIntercepter,\n  GleapSession,\n  GleapReplayRecorder,\n  GleapNotificationManager,\n  GleapAiChatbarManager,\n} from \"./Gleap\";\n\nconst parseIntWithDefault = (val, def) => {\n  const parsed = parseInt(val);\n  if (isNaN(parsed)) {\n    return def;\n  }\n  return parsed;\n};\n\nexport default class GleapConfigManager {\n  flowConfig = null;\n  projectActions = null;\n  onConfigLoadedListener = [];\n  aiTools = [];\n\n  onConfigLoaded = (onConfigLoaded) => {\n    if (this.flowConfig !== null) {\n      onConfigLoaded();\n    } else {\n      this.onConfigLoadedListener.push(onConfigLoaded);\n    }\n  };\n\n  // GleapConfigManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapConfigManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Returns the loaded flow config.\n   * @returns\n   */\n  getFlowConfig() {\n    return this.flowConfig;\n  }\n\n  setAiTools = (aiTools) => {\n    this.aiTools = aiTools;\n    GleapFrameManager.getInstance().sendConfigUpdate();\n  };\n\n  getAiTools = () => {\n    return this.aiTools;\n  };\n\n  /**\n   * Load config.\n   * @returns {string}\n   */\n  start = () => {\n    const session = GleapSession.getInstance();\n    const cachedConfig = loadFromGleapCache(\n      `config-${\n        session.sdkKey\n      }-${GleapTranslationManager.getInstance().getActiveLanguage()}`\n    );\n    if (cachedConfig) {\n      this.applyConfig(cachedConfig);\n      this.loadConfigFromServer().catch(function (e) {});\n      return Promise.resolve();\n    }\n\n    return this.loadConfigFromServer();\n  };\n\n  loadConfigFromServer = () => {\n    const self = this;\n    return new Promise(function (resolve, reject) {\n      const session = GleapSession.getInstance();\n      const http = new XMLHttpRequest();\n      const lang = GleapTranslationManager.getInstance().getActiveLanguage();\n      http.open(\n        \"GET\",\n        session.apiUrl + \"/config/\" + session.sdkKey + \"?lang=\" + lang\n      );\n      http.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n      session.injectSession(http);\n      http.onerror = function () {\n        reject();\n      };\n      http.onreadystatechange = function (e) {\n        if (http.readyState === 4) {\n          if (http.status === 403) {\n            clearGleapCache(`config-${session.sdkKey}-${lang}`);\n            Gleap.destroy();\n          }\n          if (http.status === 200 || http.status === 201) {\n            try {\n              const config = JSON.parse(http.responseText);\n              try {\n                saveToGleapCache(`config-${session.sdkKey}-${lang}`, config);\n              } catch (exp) {}\n              self.applyConfig(config);\n              return resolve();\n            } catch (e) {}\n          }\n          reject();\n        }\n      };\n      http.send();\n    });\n  };\n\n  applyStylesFromConfig() {\n    const flowConfig = this.flowConfig;\n\n    Gleap.setStyles(\n      flowConfig.color ? flowConfig.color : \"#485BFF\",\n      flowConfig.headerColor ? flowConfig.headerColor : \"#485BFF\",\n      flowConfig.buttonColor ? flowConfig.buttonColor : \"#485BFF\",\n      flowConfig.backgroundColor ? flowConfig.backgroundColor : \"#FFFFFF\",\n      parseIntWithDefault(flowConfig.borderRadius, 20),\n      parseIntWithDefault(flowConfig.buttonX, 20),\n      parseIntWithDefault(flowConfig.buttonY, 20),\n      flowConfig.feedbackButtonPosition\n    );\n  }\n\n  notifyConfigLoaded() {\n    if (this.onConfigLoadedListener.length > 0) {\n      for (var i = 0; i < this.onConfigLoadedListener.length; i++) {\n        this.onConfigLoadedListener[i]();\n      }\n    }\n    this.onConfigLoadedListener = [];\n  }\n\n  /**\n   * Applies the Gleap config.\n   * @param {*} config\n   */\n  applyConfig(config) {\n    try {\n      const flowConfig = config.flowConfig;\n      this.flowConfig = flowConfig;\n\n      // Update styles.\n      this.applyStylesFromConfig();\n\n      // Send config update.\n      GleapFrameManager.getInstance().sendConfigUpdate();\n      GleapFeedbackButtonManager.getInstance().updateFeedbackButtonState();\n      GleapNotificationManager.getInstance().updateContainerStyle();\n\n      if (flowConfig.enableWebReplays) {\n        GleapReplayRecorder.getInstance().start();\n      } else {\n        GleapReplayRecorder.getInstance().stop();\n      }\n\n      if (flowConfig.enableNetworkLogs) {\n        GleapNetworkIntercepter.getInstance().start();\n      }\n\n      GleapNetworkIntercepter.getInstance().setLoadAllResources(\n        flowConfig.sendNetworkResources ? true : false\n      );\n\n      if (flowConfig.networkLogPropsToIgnore) {\n        GleapNetworkIntercepter.getInstance().setFilters(\n          flowConfig.networkLogPropsToIgnore\n        );\n      }\n\n      if (flowConfig.networkLogBlacklist) {\n        GleapNetworkIntercepter.getInstance().setBlacklist(\n          flowConfig.networkLogBlacklist\n        );\n      }\n\n      GleapTranslationManager.getInstance().updateRTLSupport();\n\n      Gleap.enableShortcuts(flowConfig.enableShortcuts ? true : false);\n\n      if (config.aiBar) {\n        GleapAiChatbarManager.getInstance().setConfig(config.aiBar);\n      }\n\n      this.notifyConfigLoaded();\n    } catch (e) {}\n  }\n}\n","import { isMobile, resizeImage } from \"./GleapHelper\";\nimport { isBlacklisted } from \"./ResourceExclusionList\";\n\nexport const startScreenCapture = (isLiveSite) => {\n  return prepareScreenshotData(isLiveSite);\n};\n\nconst documentToHTML = (clone) => {\n  var html = \"\";\n  var node = window.document.doctype;\n  if (node) {\n    html =\n      \"<!DOCTYPE \" +\n      node.name +\n      (node.publicId ? ' PUBLIC \"' + node.publicId + '\"' : \"\") +\n      (!node.publicId && node.systemId ? \" SYSTEM\" : \"\") +\n      (node.systemId ? ' \"' + node.systemId + '\"' : \"\") +\n      \">\";\n  }\n\n  if (clone && clone.childNodes && clone.childNodes.length > 0) {\n    for (var i = 0; i < clone.childNodes.length; i++) {\n      if (clone.childNodes[i]) {\n        html += clone.childNodes[i].outerHTML;\n      }\n    }\n  }\n\n  return html;\n};\n\nconst replaceAsync = (str, regex, asyncFn) => {\n  return new Promise((resolve, reject) => {\n    const promises = [];\n    str.replace(regex, (match, ...args) => {\n      const promise = asyncFn(match, ...args);\n      promises.push(promise);\n    });\n    Promise.all(promises)\n      .then((data) => {\n        resolve(str.replace(regex, () => data.shift()));\n      })\n      .catch(() => {\n        reject();\n      });\n  });\n};\n\nconst loadCSSUrlResources = (data, basePath, remote) => {\n  return replaceAsync(\n    data,\n    /url\\((.*?)\\)/g,\n    (matchedData) =>\n      new Promise((resolve, reject) => {\n        if (!matchedData) {\n          return resolve(matchedData);\n        }\n\n        var matchedUrl = matchedData\n          .substr(4, matchedData.length - 5)\n          .replaceAll(\"'\", \"\")\n          .replaceAll('\"', \"\");\n\n        // Remote file or data\n        if (\n          matchedUrl.indexOf(\"http\") === 0 ||\n          matchedUrl.indexOf(\"//\") === 0 ||\n          matchedUrl.indexOf(\"data\") === 0\n        ) {\n          return resolve(matchedData);\n        }\n\n        try {\n          var resourcePath = matchedUrl;\n          if (basePath) {\n            resourcePath = new URL(matchedUrl, basePath + \"/\").href;\n          }\n\n          // Try to fetch external resource.\n          if (!remote) {\n            return fetchCSSResource(resourcePath).then((resourceData) => {\n              return resolve(\"url(\" + resourceData + \")\");\n            });\n          } else {\n            return resolve(\"url(\" + resourcePath + \")\");\n          }\n        } catch (exp) {\n          return resolve(matchedData);\n        }\n      })\n  );\n};\n\nconst fetchCSSResource = (url) => {\n  return new Promise((resolve, reject) => {\n    if (url) {\n      var xhr = new XMLHttpRequest();\n      xhr.onload = function () {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.onerror = function () {\n          reject();\n        };\n        reader.readAsDataURL(xhr.response);\n      };\n      xhr.onerror = function (err) {\n        resolve();\n      };\n      xhr.open(\"GET\", url);\n      xhr.responseType = \"blob\";\n      xhr.send();\n    } else {\n      resolve();\n    }\n  });\n};\n\nconst progressResource = (data, elem, resolve, reject) => {\n  resizeImage(data, 500, 500)\n    .then((data) => {\n      elem.src = data;\n      resolve();\n    })\n    .catch(() => {\n      console.warn(\"BB: Image resize failed.\");\n      resolve();\n    });\n};\n\nconst fetchItemResource = (elem) => {\n  return new Promise((resolve, reject) => {\n    if (elem && elem.src) {\n      if (isBlacklisted(elem.src)) {\n        return resolve();\n      }\n\n      var xhr = new XMLHttpRequest();\n      xhr.onload = function () {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          progressResource(reader.result, elem, resolve, reject);\n        };\n        reader.onerror = function () {\n          resolve();\n        };\n        reader.readAsDataURL(xhr.response);\n      };\n      xhr.onerror = function (err) {\n        resolve();\n      };\n      var url = elem.src;\n      xhr.open(\"GET\", url);\n      xhr.responseType = \"blob\";\n      xhr.send();\n    } else {\n      resolve();\n    }\n  });\n};\n\nconst downloadAllImages = (dom) => {\n  const imgItems = dom.querySelectorAll(\"img\");\n  const imgItemsPromises = [];\n  for (var i = 0; i < imgItems.length; i++) {\n    const item = imgItems[i];\n    imgItemsPromises.push(fetchItemResource(item));\n  }\n\n  return Promise.all(imgItemsPromises);\n};\n\nconst replaceStyleNodes = (clone, styleSheet, cssTextContent, styleId) => {\n  {\n    var cloneTargetNode = null;\n    if (styleSheet.ownerNode) {\n      cloneTargetNode = clone.querySelector('[bb-styleid=\"' + styleId + '\"]');\n    }\n\n    try {\n      if (cloneTargetNode) {\n        var replacementNode = null;\n        if (cssTextContent != \"\") {\n          // Create node.\n          const head = clone.querySelector(\"head\");\n          var styleNode = window.document.createElement(\"style\");\n          head.appendChild(styleNode);\n          styleNode.type = \"text/css\";\n          if (styleNode.styleSheet) {\n            styleNode.styleSheet.cssText = cssTextContent;\n          } else {\n            styleNode.appendChild(\n              window.document.createTextNode(cssTextContent)\n            );\n          }\n          replacementNode = styleNode;\n        } else {\n          var linkNode = window.document.createElement(\"link\");\n          linkNode.rel = \"stylesheet\";\n          linkNode.type = styleSheet.type;\n          linkNode.href = styleSheet.href;\n          linkNode.media = styleSheet.media;\n          replacementNode = linkNode;\n        }\n\n        if (replacementNode) {\n          cloneTargetNode.parentNode.insertBefore(\n            replacementNode,\n            cloneTargetNode\n          );\n          cloneTargetNode.remove();\n        }\n      }\n    } catch (exp) {}\n  }\n};\n\nconst getTextContentFromStyleSheet = (styleSheet) => {\n  var cssRules = null;\n  try {\n    if (styleSheet.cssRules) {\n      cssRules = styleSheet.cssRules;\n    } else if (styleSheet.rules) {\n      cssRules = styleSheet.rules;\n    }\n  } catch (exp) {}\n\n  var cssTextContent = \"\";\n  if (cssRules) {\n    for (var cssRuleItem in cssRules) {\n      if (cssRules[cssRuleItem].cssText) {\n        cssTextContent += cssRules[cssRuleItem].cssText;\n      }\n    }\n  }\n\n  return cssTextContent;\n};\n\nconst downloadAllCSSUrlResources = (clone, remote) => {\n  var promises = [];\n  for (var i = 0; i < document.styleSheets.length; i++) {\n    const styleSheet = document.styleSheets[i];\n\n    // Skip if the stylesheet is meant for print\n    if (styleSheet.media && styleSheet.media.mediaText === \"print\") {\n      continue;\n    }\n\n    const cssTextContent = getTextContentFromStyleSheet(styleSheet);\n    if (styleSheet && styleSheet.ownerNode) {\n      if (cssTextContent != \"\") {\n        // Resolve resources.\n        const baseTags = document.getElementsByTagName(\"base\");\n        var basePathURL = baseTags.length\n          ? baseTags[0].href.substr(location.origin.length, 999)\n          : window.location.href.split(/[?#]/)[0];\n\n        if (styleSheet.href) {\n          basePathURL = styleSheet.href;\n        }\n\n        const basePath = basePathURL.substring(0, basePathURL.lastIndexOf(\"/\"));\n\n        promises.push(\n          loadCSSUrlResources(cssTextContent, basePath, remote).then(\n            (replacedStyle) => {\n              return {\n                styletext: replacedStyle,\n                stylesheet: styleSheet,\n                styleId: styleSheet.ownerNode.getAttribute(\"bb-styleid\"),\n              };\n            }\n          )\n        );\n      } else {\n        promises.push(\n          Promise.resolve({\n            styletext: cssTextContent,\n            stylesheet: styleSheet,\n            styleId: styleSheet.ownerNode.getAttribute(\"bb-styleid\"),\n          })\n        );\n      }\n    }\n  }\n\n  return Promise.all(promises).then((results) => {\n    if (results) {\n      for (var i = 0; i < results.length; i++) {\n        replaceStyleNodes(\n          clone,\n          results[i].stylesheet,\n          results[i].styletext,\n          results[i].styleId\n        );\n      }\n    }\n    return true;\n  });\n};\n\nconst prepareRemoteData = (clone, remote) => {\n  return new Promise((resolve, reject) => {\n    if (remote) {\n      // Always download CSS.\n      return downloadAllCSSUrlResources(clone, remote)\n        .then(() => {\n          resolve();\n        })\n        .catch(() => {\n          resolve();\n        });\n    } else {\n      return downloadAllImages(clone)\n        .then(() => {\n          return downloadAllCSSUrlResources(clone, remote).then(() => {\n            resolve();\n          });\n        })\n        .catch(() => {\n          console.warn(\n            \"Gleap: Failed with resolving local resources. Please contact the Gleap support team.\"\n          );\n          resolve();\n        });\n    }\n  });\n};\n\nconst handleAdoptedStyleSheets = (doc, clone, shadowNodeId) => {\n  if (typeof doc.adoptedStyleSheets !== \"undefined\") {\n    for (let i = 0; i < doc.adoptedStyleSheets.length; i++) {\n      const styleSheet = doc.adoptedStyleSheets[i];\n      const cssTextContent = getTextContentFromStyleSheet(styleSheet);\n\n      var shadowStyleNode = window.document.createElement(\"style\");\n      shadowStyleNode.type = \"text/css\";\n      if (shadowStyleNode.styleSheet) {\n        shadowStyleNode.styleSheet.cssText = cssTextContent;\n      } else {\n        shadowStyleNode.appendChild(\n          window.document.createTextNode(cssTextContent)\n        );\n      }\n\n      if (shadowNodeId) {\n        shadowStyleNode.setAttribute(\"bb-shadow-child\", shadowNodeId);\n      }\n\n      clone.insertBefore(shadowStyleNode, clone.firstElementChild);\n    }\n  }\n};\n\nconst extractFinalCSSState = (element) => {\n  if (element && typeof element.getAnimations === \"function\") {\n    const animations = element.getAnimations();\n    const finalCSSState = {};\n\n    animations.forEach((animation) => {\n      const keyframes = animation.effect?.getKeyframes() || [];\n      const finalKeyframe = keyframes[keyframes.length - 1] || {};\n\n      // Extract only the keys (CSS properties) from the final keyframe\n      Object.keys(finalKeyframe).forEach((property) => {\n        if (property !== \"offset\") {\n          // Store the computed style for each animated property\n          finalCSSState[property] = getComputedStyle(element)[property];\n        }\n      });\n    });\n\n    if (Object.keys(finalCSSState).length === 0) {\n      return null;\n    }\n\n    return JSON.stringify(finalCSSState);\n  }\n\n  return null;\n};\n\nconst deepClone = async (host) => {\n  let shadowNodeId = 1;\n\n  const cloneNode = async (node, parent, shadowRoot) => {\n    const walkTree = async (nextn, nextp, innerShadowRoot) => {\n      while (nextn) {\n        await cloneNode(nextn, nextp, innerShadowRoot);\n\n        // Fix missing element nodes.\n        if (\n          nextn.nextElementSibling &&\n          (nextn.nextElementSibling.nextSibling === nextn.nextSibling ||\n            nextn.nextSibling === null)\n        ) {\n          nextn = nextn.nextElementSibling;\n        } else {\n          nextn = nextn.nextSibling;\n        }\n      }\n    };\n\n    const clone = node.cloneNode();\n\n    const webAnimations = extractFinalCSSState(node);\n    if (webAnimations != null) {\n      clone.setAttribute(\"bb-web-animations\", webAnimations);\n    }\n\n    if (typeof clone.setAttribute !== \"undefined\") {\n      if (shadowRoot) {\n        clone.setAttribute(\"bb-shadow-child\", shadowRoot);\n      }\n\n      if (node instanceof HTMLCanvasElement) {\n        try {\n          const boundingRect = node.getBoundingClientRect();\n          const resizedImage = await resizeImage(node.toDataURL(), 1400, 1400);\n\n          clone.setAttribute(\"bb-canvas-data\", resizedImage);\n          clone.setAttribute(\"bb-canvas-height\", boundingRect.height);\n          clone.setAttribute(\"bb-canvas-width\", boundingRect.width);\n        } catch (exp) {\n          console.warn(\"Gleap: Failed to clone canvas data.\", exp);\n        }\n      }\n    }\n\n    if (node.nodeType == Node.ELEMENT_NODE) {\n      const tagName = node.tagName ? node.tagName.toUpperCase() : node.tagName;\n      if (\n        tagName == \"IFRAME\" ||\n        tagName == \"VIDEO\" ||\n        tagName == \"EMBED\" ||\n        tagName == \"IMG\" ||\n        tagName == \"SVG\"\n      ) {\n        const boundingRect = node.getBoundingClientRect();\n        clone.setAttribute(\"bb-element\", true);\n        clone.setAttribute(\"bb-height\", boundingRect.height);\n        clone.setAttribute(\"bb-width\", boundingRect.width);\n      }\n\n      if (node.scrollTop > 0 || node.scrollLeft > 0) {\n        clone.setAttribute(\"bb-scrollpos\", true);\n        clone.setAttribute(\"bb-scrolltop\", node.scrollTop);\n        clone.setAttribute(\"bb-scrollleft\", node.scrollLeft);\n      }\n\n      if (\n        tagName === \"SELECT\" ||\n        tagName === \"TEXTAREA\" ||\n        tagName === \"INPUT\"\n      ) {\n        var val = node.value;\n        if (\n          node.getAttribute(\"gleap-ignore\") === \"value\" ||\n          node.classList.contains(\"gl-mask\")\n        ) {\n          val = new Array(val.length + 1).join(\"*\");\n        }\n\n        clone.setAttribute(\"bb-data-value\", val);\n        if (\n          (node.type === \"checkbox\" || node.type === \"radio\") &&\n          node.checked\n        ) {\n          clone.setAttribute(\"bb-data-checked\", true);\n        }\n      }\n    }\n\n    parent.appendChild(clone);\n\n    if (node.shadowRoot) {\n      var rootShadowNodeId = shadowNodeId;\n      shadowNodeId++;\n      await walkTree(node.shadowRoot.firstChild, clone, rootShadowNodeId);\n      handleAdoptedStyleSheets(node.shadowRoot, clone, rootShadowNodeId);\n\n      if (typeof clone.setAttribute !== \"undefined\") {\n        clone.setAttribute(\"bb-shadow-parent\", rootShadowNodeId);\n      }\n    }\n\n    await walkTree(node.firstChild, clone);\n  };\n\n  const fragment = document.createDocumentFragment();\n  await cloneNode(host, fragment);\n\n  // Work on adopted stylesheets.\n  var clonedHead = fragment.querySelector(\"head\");\n  if (!clonedHead) {\n    clonedHead = fragment;\n  }\n  handleAdoptedStyleSheets(window.document, clonedHead);\n\n  return fragment;\n};\n\nconst prepareScreenshotData = (remote) => {\n  return new Promise(async (resolve, reject) => {\n    const styleTags = window.document.querySelectorAll(\"style, link\");\n    for (var i = 0; i < styleTags.length; ++i) {\n      styleTags[i].setAttribute(\"bb-styleid\", i);\n    }\n\n    const clone = await deepClone(window.document.documentElement);\n\n    // Fix for web imports (depracted).\n    const linkImportElems = clone.querySelectorAll(\"link[rel=import]\");\n    for (var i = 0; i < linkImportElems.length; ++i) {\n      const referenceNode = linkImportElems[i];\n      if (\n        referenceNode &&\n        referenceNode.childNodes &&\n        referenceNode.childNodes.length > 0\n      ) {\n        const childNodes = referenceNode.childNodes;\n        while (childNodes.length > 0) {\n          referenceNode.parentNode.insertBefore(childNodes[0], referenceNode);\n        }\n        referenceNode.remove();\n      }\n    }\n\n    // Remove all scripts & style\n    const scriptElems = clone.querySelectorAll(\"script, noscript\");\n    for (var i = 0; i < scriptElems.length; ++i) {\n      scriptElems[i].remove();\n    }\n\n    // Cleanup base path\n    var existingBasePath = \"\";\n    const baseElems = clone.querySelectorAll(\"base\");\n    for (var i = 0; i < baseElems.length; ++i) {\n      if (baseElems[i].href) {\n        existingBasePath = baseElems[i].href;\n      }\n      baseElems[i].remove();\n    }\n\n    // Adjust the base node\n    const baseUrl = window.location.href.substring(\n      0,\n      window.location.href.lastIndexOf(\"/\")\n    );\n    var newBaseUrl = baseUrl + \"/\";\n    if (existingBasePath) {\n      if (existingBasePath.startsWith(\"http\")) {\n        // Absolute path.\n        newBaseUrl = existingBasePath;\n      } else {\n        // Relative path.\n        newBaseUrl = baseUrl + existingBasePath;\n        if (!newBaseUrl.endsWith(\"/\")) {\n          newBaseUrl += \"/\";\n        }\n      }\n    }\n\n    const baseNode = window.document.createElement(\"base\");\n    baseNode.href = newBaseUrl;\n    const head = clone.querySelector(\"head\");\n    head.insertBefore(baseNode, head.firstChild);\n\n    // Do further cleanup.\n    const dialogElems = clone.querySelectorAll(\n      \".bb-feedback-dialog-container, .bb-capture-editor-borderlayer\"\n    );\n    for (var i = 0; i < dialogElems.length; ++i) {\n      dialogElems[i].remove();\n    }\n\n    // Calculate heights\n    const bbElems = clone.querySelectorAll(\"[bb-element=true]\");\n    for (var i = 0; i < bbElems.length; ++i) {\n      if (bbElems[i]) {\n        bbElems[i].style.height = bbElems[i].getAttribute(\"bb-height\") + \"px\";\n      }\n    }\n\n    prepareRemoteData(clone, remote).then(() => {\n      const html = documentToHTML(clone);\n\n      resolve({\n        html: html,\n        baseUrl: baseUrl,\n        width: window.innerWidth,\n        height: window.innerHeight,\n        isMobile: isMobile(),\n      });\n    });\n  });\n};\n","export const isBlacklisted = function (url) {\n  const blacklist = [\n    \"//fonts.googleapis.com\",\n    \"//cdn.jsdelivr.net\",\n    \"//cdnjs.cloudflare.com\",\n    \"//ajax.googleapis.com\",\n    \"//use.typekit.net\",\n    \".amazonaws.com\",\n    \"//jssdk.gleap.io\",\n    \".gstatic.com\",\n  ];\n\n  if (!url) {\n    return false;\n  }\n\n  for (var i = 0; i < blacklist.length; i++) {\n    if (url.indexOf(blacklist[i]) !== -1) {\n      return true;\n    }\n  }\n  return false;\n};\n","import GleapSession from \"./GleapSession\";\n\nexport class GleapScreenRecorder {\n  // Constants\n  static MAX_RECORD_TIME = 120; // 2 minutes\n  static MAX_WIDTH = 3072;\n  static MAX_HEIGHT = 1728;\n  static IDEAL_FRAME_RATE = 10;\n  static MAX_FRAME_RATE = 24;\n  static CHUNK_INTERVAL = 200; // milliseconds\n  static TIMER_UPDATE_INTERVAL = 1000; // milliseconds\n  static RERENDER_DELAY = 100; // milliseconds\n\n  // MIME types in order of preference\n  static MIME_TYPES = [\n    \"video/webm;codecs=vp9,opus\",\n    \"video/webm;codecs=vp8,opus\",\n    \"video/webm;codecs=vp9\",\n    \"video/webm;codecs=vp8\",\n    \"video/webm\",\n    \"video/mp4\",\n  ];\n\n  // CSS selectors\n  static SELECTORS = {\n    PREVIEW_VIDEO: \".bb-capture-preview video\",\n    TIMER_LABEL: \".bb-capture-toolbar-item-timer\",\n  };\n\n  // Instance properties\n  rerender;\n  stream;\n  mediaRecorder;\n  audioMuted = false;\n  audioAvailable = true;\n  available = true;\n  isRecording = false;\n  file = null;\n  maxRecordTime = GleapScreenRecorder.MAX_RECORD_TIME;\n  recordTime = 0;\n  recordingTimer = null;\n  permissionErrorText = \"\";\n\n  // Internals for composed capture\n  _displayVideoTrack = null;\n  _displayStream = null;\n  _micStream = null;\n\n  constructor(rerender, permissionErrorText) {\n    this.rerender = rerender;\n    this.permissionErrorText = permissionErrorText;\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getDisplayMedia) {\n      this.available = false;\n    }\n\n    setTimeout(() => {\n      this.rerender();\n    }, GleapScreenRecorder.RERENDER_DELAY);\n  }\n\n  getSupportedMimeType() {\n    // Prefer explicit audio+video codecs to ensure audio gets muxed.\n    for (const type of GleapScreenRecorder.MIME_TYPES) {\n      if (window.MediaRecorder && MediaRecorder.isTypeSupported(type)) {\n        return type;\n      }\n    }\n\n    return \"video/webm\";\n  }\n\n  formatTime(s) {\n    return (s - (s %= 60)) / 60 + (9 < s ? \":\" : \":0\") + s;\n  }\n\n  stopStreamTracks(stream) {\n    if (!stream) return;\n    try {\n      stream.getTracks().forEach((track) => track.stop());\n    } catch (_) {}\n  }\n\n  createMediaStream(tracks) {\n    const validTracks = tracks.filter((track) => track !== null);\n    return new MediaStream(validTracks);\n  }\n\n  getFirstVideoTrack(stream) {\n    if (!stream) return null;\n    const videoTracks = stream.getVideoTracks();\n    return videoTracks.length > 0 ? videoTracks[0] : null;\n  }\n\n  getFirstAudioTrack(stream) {\n    if (!stream) return null;\n    const audioTracks = stream.getAudioTracks();\n    return audioTracks.length > 0 ? audioTracks[0] : null;\n  }\n\n  async startScreenRecording() {\n    if (\n      !navigator.mediaDevices ||\n      !navigator.mediaDevices.getDisplayMedia ||\n      this.isRecording\n    ) {\n      this.available = false;\n      this.rerender();\n      return;\n    }\n\n    try {\n      const displayStream = await navigator.mediaDevices.getDisplayMedia({\n        video: {\n          width: {\n            ideal: Math.min(window.screen.width, GleapScreenRecorder.MAX_WIDTH),\n          },\n          height: {\n            ideal: Math.min(\n              window.screen.height,\n              GleapScreenRecorder.MAX_HEIGHT\n            ),\n          },\n          frameRate: {\n            ideal: GleapScreenRecorder.IDEAL_FRAME_RATE,\n            max: GleapScreenRecorder.MAX_FRAME_RATE,\n          },\n          displaySurface: \"monitor\",\n        },\n        audio: false,\n        selfBrowserSurface: \"include\",\n      });\n\n      // Keep references to both the original stream and video track\n      this._displayStream = displayStream;\n      this._displayVideoTrack = this.getFirstVideoTrack(displayStream);\n\n      // If user wants audio and permissions allow it, get mic, else continue with video-only\n      if (!this.audioMuted) {\n        await this.startAudioRecording();\n      } else {\n        this.audioAvailable = false;\n        const composed = this.createMediaStream([this._displayVideoTrack]);\n        this.stream = composed;\n        this.handleRecord({ stream: composed });\n      }\n\n      this.rerender();\n    } catch (error) {\n      window.alert(this.permissionErrorText);\n      this.rerender();\n    }\n  }\n\n  stopScreenRecording() {\n    if (!this.mediaRecorder || !this.stream || !this.isRecording) {\n      return;\n    }\n\n    if (this.recordingTimer) {\n      clearInterval(this.recordingTimer);\n      this.recordingTimer = null;\n    }\n\n    try {\n      this.mediaRecorder.stop();\n    } catch (_) {}\n\n    // Stop composed stream tracks\n    this.stopStreamTracks(this.stream);\n\n    // Stop original display stream tracks (this is what Chrome uses for the recording indicator)\n    if (this._displayStream) {\n      this.stopStreamTracks(this._displayStream);\n      this._displayStream = null;\n    }\n\n    // Also stop original mic stream tracks if present\n    if (this._micStream) {\n      this.stopStreamTracks(this._micStream);\n      this._micStream = null;\n    }\n\n    this._displayVideoTrack = null;\n\n    this.rerender();\n  }\n\n  async startAudioRecording() {\n    if (!this._displayVideoTrack) {\n      return;\n    }\n\n    try {\n      const voiceStream = await navigator.mediaDevices.getUserMedia({\n        audio: {\n          echoCancellation: true,\n          noiseSuppression: true,\n          autoGainControl: true,\n        },\n        video: false,\n      });\n\n      this._micStream = voiceStream;\n      const micTrack = this.getFirstAudioTrack(voiceStream);\n\n      this.audioMuted = false;\n      this.audioAvailable = !!micTrack;\n\n      // Compose a NEW stream with exactly one video track + (optional) one mic track\n      const composed = this.createMediaStream([\n        this._displayVideoTrack,\n        micTrack,\n      ]);\n\n      this.stream = composed;\n      this.handleRecord({ stream: composed });\n      this.rerender();\n    } catch (error) {\n      this.audioAvailable = false;\n\n      // Fallback to video-only if mic fails\n      const composed = this.createMediaStream([this._displayVideoTrack]);\n\n      this.stream = composed;\n      this.handleRecord({ stream: composed });\n      this.rerender();\n    }\n  }\n\n  toggleAudio() {\n    this.audioMuted = !this.audioMuted;\n    this.rerender();\n\n    if (!this.stream) {\n      return;\n    }\n\n    const audioTracks = this.stream.getAudioTracks();\n    for (let i = 0; i < audioTracks.length; i++) {\n      const audioTrack = audioTracks[i];\n      audioTrack.enabled = !this.audioMuted;\n    }\n  }\n\n  static async uploadScreenRecording(screenRecordingData) {\n    if (screenRecordingData == null) {\n      return null;\n    }\n\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", GleapSession.getInstance().apiUrl + \"/uploads/sdk\");\n      GleapSession.getInstance().injectSession(xhr);\n\n      const formData = new FormData();\n      formData.append(\"file\", screenRecordingData);\n\n      xhr.onerror = function () {\n        reject(new Error(\"Network error during file upload\"));\n      };\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState == 4) {\n          if (xhr.status == 200) {\n            resolve(JSON.parse(xhr.response).fileUrl);\n          } else {\n            reject(new Error(`Upload failed with status ${xhr.status}`));\n          }\n        }\n      };\n      xhr.send(formData);\n    });\n  }\n\n  clearPreview() {\n    const videoEl = document.querySelector(\n      GleapScreenRecorder.SELECTORS.PREVIEW_VIDEO\n    );\n    if (videoEl) {\n      videoEl.src = null;\n    }\n    this.file = null;\n    this.rerender();\n  }\n\n  handleRecord({ stream }) {\n    const self = this;\n\n    const recordedChunks = [];\n    this.mediaRecorder = new MediaRecorder(stream, {\n      mimeType: this.getSupportedMimeType(),\n    });\n    this.isRecording = true;\n    this.recordTime = 0;\n\n    // Set timer (guard if label isn't present)\n    const timerLabel = document.querySelector(\n      GleapScreenRecorder.SELECTORS.TIMER_LABEL\n    );\n    if (this.recordingTimer) {\n      clearInterval(this.recordingTimer);\n      this.recordingTimer = null;\n    }\n    this.recordingTimer = setInterval(() => {\n      self.recordTime++;\n      const remainingTime = self.maxRecordTime - self.recordTime;\n      if (timerLabel) {\n        if (remainingTime > 0) {\n          timerLabel.innerHTML = self.formatTime(remainingTime);\n        } else {\n          timerLabel.innerHTML = \"2:00\";\n          self.stopScreenRecording();\n        }\n      } else if (remainingTime <= 0) {\n        self.stopScreenRecording();\n      }\n    }, GleapScreenRecorder.TIMER_UPDATE_INTERVAL);\n\n    this.mediaRecorder.ondataavailable = function (e) {\n      if (e.data && e.data.size > 0) {\n        recordedChunks.push(e.data);\n      }\n    };\n\n    const videoTrack = this.getFirstVideoTrack(stream);\n    if (videoTrack) {\n      videoTrack.onended = function () {\n        self.prepareRecording(recordedChunks);\n      };\n    }\n\n    this.mediaRecorder.onstop = function () {\n      self.prepareRecording(recordedChunks);\n    };\n\n    // Start recording with configured chunk interval\n    this.mediaRecorder.start(GleapScreenRecorder.CHUNK_INTERVAL);\n\n    self.rerender();\n  }\n\n  prepareRecording(recordedChunks) {\n    const mimeType = this.getSupportedMimeType();\n    const completeBlob = new Blob(recordedChunks, { type: mimeType });\n\n    const extension = mimeType.includes(\"mp4\") ? \"mp4\" : \"webm\";\n    this.file = new File([completeBlob], `screen-recording.${extension}`, {\n      type: mimeType,\n    });\n\n    const previewVideoElement = document.querySelector(\n      GleapScreenRecorder.SELECTORS.PREVIEW_VIDEO\n    );\n    if (previewVideoElement) {\n      previewVideoElement.src = URL.createObjectURL(completeBlob);\n      this.audioAvailable = this.stream\n        ? this.stream.getAudioTracks().length > 0\n        : this.audioAvailable;\n      this.isRecording = false;\n      this.rerender();\n    }\n  }\n}\n","import { startScreenCapture } from \"./ScreenCapture\";\nimport { GleapScreenRecorder } from \"./GleapScreenRecorder\";\nimport Gleap, { GleapConsoleLogManager, GleapStreamedEvent, GleapSession, GleapCustomDataManager, GleapMetaDataManager, GleapNetworkIntercepter, GleapTagManager } from \"./Gleap\";\n\nexport default class GleapFeedback {\n    excludeData = {};\n    type = \"BUG\";\n    priority = \"LOW\";\n    customData = {};\n    ticketAttributes = {};\n    metaData = {};\n    consoleLog = [];\n    networkLogs = [];\n    customEventLog = [];\n    formData = {};\n    isSilent = false;\n    outboundId = undefined;\n    screenshotData = undefined;\n    webReplay = undefined;\n    screenRecordingUrl = undefined;\n    spamToken = undefined;\n\n    constructor(type, priority, formData, isSilent, excludeData, outboundId, spamToken) {\n        this.type = type;\n        this.priority = priority;\n        this.formData = formData;\n        this.isSilent = isSilent;\n        this.excludeData = excludeData;\n        this.outboundId = outboundId;\n        this.spamToken = spamToken;\n    }\n\n    takeSnapshot() {\n        const gleapInstance = Gleap.getInstance();\n        this.customData = GleapCustomDataManager.getInstance().getCustomData();\n        this.metaData = GleapMetaDataManager.getInstance().getMetaData();\n        this.consoleLog = GleapConsoleLogManager.getInstance().getLogs();\n        this.networkLogs = GleapNetworkIntercepter.getInstance().getRequests();\n        this.customEventLog = GleapStreamedEvent.getInstance().getEventArray();\n        this.ticketAttributes = GleapCustomDataManager.getInstance().getTicketAttributes();\n\n        var dataPromises = [];\n\n        // Assign replays\n        var webReplay = gleapInstance.getGlobalDataItem(\"webReplay\");\n        if (webReplay !== null) {\n            this.webReplay = webReplay;\n        }\n\n        // Prepare screen recording\n        var screenRecordingData = gleapInstance.getGlobalDataItem(\"screenRecordingData\");\n        if (screenRecordingData != null) {\n            var recordingUrlPromise = GleapScreenRecorder.uploadScreenRecording(screenRecordingData).then((recordingUrl) => {\n                if (recordingUrl) {\n                    this.screenRecordingUrl = recordingUrl;\n                }\n            });\n            dataPromises.push(recordingUrlPromise);\n        }\n\n        // Prepare screenshot\n        if (!(this.excludeData && this.excludeData.screenshot)) {\n            var screenshotDataPromise = startScreenCapture(gleapInstance.isLiveMode()).then((screenshotData) => {\n                if (screenshotData) {\n                    const snapshotPosition = gleapInstance.getGlobalDataItem(\"snapshotPosition\");\n                    screenshotData[\"x\"] = snapshotPosition.x;\n                    screenshotData[\"y\"] = snapshotPosition.y;\n                    this.screenshotData = screenshotData;\n                }\n            });\n            dataPromises.push(screenshotDataPromise);\n        }\n\n        return Promise.all(dataPromises);\n    }\n\n    getData() {\n        var feedbackData = {\n            type: this.type,\n            priority: this.priority,\n            customData: this.customData,\n            metaData: this.metaData,\n            consoleLog: this.consoleLog,\n            networkLogs: this.networkLogs,\n            customEventLog: this.customEventLog,\n            // Merge ticket attributes and form data.\n            formData: {\n                ...this.ticketAttributes,\n                ...this.formData\n            },\n            isSilent: this.isSilent,\n            outbound: this.outboundId,\n            screenshotData: this.screenshotData,\n            webReplay: this.webReplay,\n            screenRecordingUrl: this.screenRecordingUrl,\n            spamToken: this.spamToken,\n        };\n\n        const tags = GleapTagManager.getInstance().getTags();\n        if (tags && tags.length > 0) {\n            feedbackData.tags = tags;\n        }\n\n        if (this.excludeData) {\n            const keysToExclude = Object.keys(this.excludeData);\n            for (let i = 0; i < keysToExclude.length; i++) {\n                const keyToExclude = keysToExclude[i];\n                if (this.excludeData[keyToExclude] === true) {\n                    if (feedbackData[keyToExclude]) {\n                        delete feedbackData[keyToExclude];\n                    }\n\n                    if (keyToExclude === \"screenshot\") {\n                        delete feedbackData.screenshotData;\n                    }\n\n                    if (keyToExclude === \"replays\") {\n                        delete feedbackData.webReplay;\n                    }\n                }\n            }\n        }\n\n        return feedbackData;\n    }\n\n    getTicketData() {\n        return new Promise((resolve, reject) => {\n            this.takeSnapshot().then(() => {\n                const dataToSend = this.getData();\n                resolve(dataToSend);\n            }).catch((exp) => {\n                console.log(\"Failed to take snapshot\", exp);\n                reject();\n            });\n        });\n    }\n\n    sendFeedback() {\n        return new Promise((resolve, reject) => {\n            this.takeSnapshot().then(() => {\n                const dataToSend = this.getData();\n\n                const http = new XMLHttpRequest();\n                http.open(\"POST\", GleapSession.getInstance().apiUrl + \"/bugs/v2\");\n                http.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n                GleapSession.getInstance().injectSession(http);\n                http.onerror = (error) => {\n                    reject();\n                };\n                http.onreadystatechange = function (e) {\n                    if (http.readyState === 4) {\n                        if (http.status === 200 || http.status === 201) {\n                            try {\n                                const feedback = JSON.parse(http.responseText);\n                                resolve(feedback);\n                            } catch (exp) {\n                                reject();\n                            }\n                        } else {\n                            reject();\n                        }\n                    }\n                };\n                http.send(JSON.stringify(dataToSend));\n            }).catch((exp) => {\n                console.log(\"Failed to take snapshot\", exp);\n                reject();\n            });\n        });\n    }\n}\n","import Gleap, {\n  GleapAudioManager,\n  GleapBannerManager,\n  GleapConfigManager,\n  GleapConsoleLogManager,\n  GleapCustomActionManager,\n  GleapCustomDataManager,\n  GleapEventManager,\n  GleapFeedback,\n  GleapFeedbackButtonManager,\n  GleapMarkerManager,\n  GleapMetaDataManager,\n  GleapNetworkIntercepter,\n  GleapNotificationManager,\n  GleapSession,\n  GleapStreamedEvent,\n  GleapTagManager,\n  GleapTranslationManager,\n} from \"./Gleap\";\nimport { runFunctionWhenDomIsReady } from \"./GleapHelper\";\nimport { widgetMaxHeight } from \"./UI\";\n\nexport default class GleapFrameManager {\n  frameUrl = \"https://messenger-app.gleap.io\";\n  gleapFrameContainer = null;\n  gleapFrame = null;\n  comReady = false;\n  injectedFrame = false;\n  widgetOpened = false;\n  listeners = [];\n  appMode = \"widget\";\n  markerManager = undefined;\n  escListener = undefined;\n  frameHeight = 0;\n  sendingFeedback = false;\n  queue = [];\n  urlHandler = function (url, newTab) {\n    if (url && url.length > 0) {\n      if (newTab) {\n        const newWindow = window.open(url, \"_blank\");\n        if (newWindow) {\n          newWindow.focus();\n        }\n      } else {\n        window.location.href = url;\n      }\n    }\n  };\n\n  // GleapFrameManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapFrameManager();\n    }\n    return this.instance;\n  }\n\n  constructor() {\n    this.startCommunication();\n    if (typeof window !== \"undefined\") {\n      function appHeight() {\n        try {\n          const doc = document.documentElement;\n          doc.style.setProperty(\"--glvh\", window.innerHeight * 0.01 + \"px\");\n        } catch (e) {}\n      }\n\n      try {\n        window.addEventListener(\"resize\", appHeight);\n        appHeight();\n      } catch (e) {}\n    }\n  }\n\n  setUrlHandler(handler) {\n    this.urlHandler = handler;\n  }\n\n  isSurvey() {\n    return (\n      this.appMode === \"survey\" ||\n      this.appMode === \"survey_full\" ||\n      this.appMode === \"survey_web\"\n    );\n  }\n\n  setAppMode(appMode) {\n    this.appMode = appMode;\n    this.updateFrameStyle();\n\n    const innerContainer = document.querySelector(\n      \".gleap-frame-container-inner\"\n    );\n    if (\n      (this.appMode === \"widget\" ||\n        this.appMode === \"survey_full\" ||\n        this.appMode === \"survey_web\") &&\n      innerContainer\n    ) {\n      innerContainer.style.maxHeight = `${widgetMaxHeight}px`;\n    }\n  }\n\n  registerEscListener() {\n    if (this.escListener) {\n      return;\n    }\n\n    this.escListener = (evt) => {\n      evt = evt || window.event;\n      if (evt.key === \"Escape\") {\n        this.hideWidget();\n      }\n    };\n    document.addEventListener(\"keydown\", this.escListener);\n  }\n\n  unregisterEscListener() {\n    if (this.escListener) {\n      document.removeEventListener(\"keydown\", this.escListener);\n      this.escListener = null;\n    }\n  }\n\n  destroy() {\n    if (this.gleapFrame) {\n      this.gleapFrame.remove();\n    }\n    if (this.gleapFrameContainer) {\n      this.gleapFrameContainer.remove();\n    }\n    this.injectedFrame = false;\n    this.widgetOpened = false;\n    this.markerManager = undefined;\n    this.gleapFrameContainer = null;\n    this.gleapFrame = null;\n  }\n\n  isOpened() {\n    return this.widgetOpened || this.markerManager != null;\n  }\n\n  autoWhiteListCookieManager = () => {\n    if (window && window.cmp_block_ignoredomains) {\n      window.cmp_block_ignoredomains.concat([\"messenger-app.gleap.io\"]);\n    }\n  };\n\n  injectFrame = () => {\n    if (this.injectedFrame) {\n      return;\n    }\n    this.injectedFrame = true;\n\n    this.autoWhiteListCookieManager();\n\n    // Inject the frame manager after it has been loaded.\n    runFunctionWhenDomIsReady(() => {\n      GleapConfigManager.getInstance().onConfigLoaded(() => {\n        // Apply CSS.\n        GleapConfigManager.getInstance().applyStylesFromConfig();\n\n        // Inject widget HTML.\n        var elem = document.createElement(\"div\");\n        elem.className =\n          \"gleap-frame-container gleap-frame-container--hidden gl-block\";\n        elem.innerHTML = `<div class=\"gleap-frame-container-inner\"><iframe src=\"${this.frameUrl}\" class=\"gleap-frame\" scrolling=\"yes\" allow=\"autoplay; encrypted-media; fullscreen; microphone *;\" frameborder=\"0\"></iframe></div>`;\n        document.body.appendChild(elem);\n\n        this.gleapFrameContainer = elem;\n        this.gleapFrame = document.querySelector(\".gleap-frame\");\n\n        this.updateFrameStyle();\n\n        // Show loading preview for widget app mode.\n        if (this.appMode === \"widget\") {\n          this.showFrameContainer(true);\n        }\n      });\n    });\n  };\n\n  showImage = (url) => {\n    runFunctionWhenDomIsReady(() => {\n      var elem = document.createElement(\"div\");\n      elem.className = \"gleap-image-view\";\n      elem.innerHTML = `<div class=\"gleap-image-view-close\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm97.9-320l-17 17-47 47 47 47 17 17L320 353.9l-17-17-47-47-47 47-17 17L158.1 320l17-17 47-47-47-47-17-17L192 158.1l17 17 47 47 47-47 17-17L353.9 192z\"/></svg>\n      </div><img class=\"gleap-image-view-image\" src=\"${url}\" />`;\n      document.body.appendChild(elem);\n\n      const closeElement = () => {\n        elem.remove();\n      };\n\n      const close = elem.querySelector(\".gleap-image-view-close\");\n      close.addEventListener(\"click\", () => {\n        closeElement();\n      });\n\n      elem.addEventListener(\"click\", (e) => {\n        if (e.target === elem) {\n          closeElement();\n        }\n      });\n    });\n  };\n\n  updateFrameStyle = () => {\n    if (!this.gleapFrameContainer) {\n      return;\n    }\n\n    const surveyStyle = \"gleap-frame-container--survey\";\n    const extendedStyle = \"gleap-frame-container--extended\";\n    const surveyFullStyle = \"gleap-frame-container--survey-full\";\n    const classicStyle = \"gleap-frame-container--classic\";\n    const classicStyleLeft = \"gleap-frame-container--classic-left\";\n    const modernStyleLeft = \"gleap-frame-container--modern-left\";\n    const noButtonStyleLeft = \"gleap-frame-container--no-button\";\n    const allStyles = [\n      classicStyle,\n      classicStyleLeft,\n      extendedStyle,\n      modernStyleLeft,\n      noButtonStyleLeft,\n      surveyStyle,\n      surveyFullStyle,\n    ];\n    for (let i = 0; i < allStyles.length; i++) {\n      this.gleapFrameContainer.classList.remove(allStyles[i]);\n    }\n\n    var styleToApply = undefined;\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n    if (\n      flowConfig.feedbackButtonPosition ===\n        GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC ||\n      flowConfig.feedbackButtonPosition ===\n        GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_BOTTOM\n    ) {\n      styleToApply = classicStyle;\n    }\n    if (\n      flowConfig.feedbackButtonPosition ===\n      GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_LEFT\n    ) {\n      styleToApply = classicStyleLeft;\n    }\n    if (\n      flowConfig.feedbackButtonPosition ===\n      GleapFeedbackButtonManager.FEEDBACK_BUTTON_BOTTOM_LEFT\n    ) {\n      styleToApply = modernStyleLeft;\n    }\n    if (GleapFeedbackButtonManager.getInstance().buttonHidden === null) {\n      if (\n        flowConfig.feedbackButtonPosition ===\n        GleapFeedbackButtonManager.FEEDBACK_BUTTON_NONE\n      ) {\n        styleToApply = noButtonStyleLeft;\n      }\n    } else {\n      if (GleapFeedbackButtonManager.getInstance().buttonHidden) {\n        styleToApply = noButtonStyleLeft;\n      }\n    }\n    if (styleToApply) {\n      this.gleapFrameContainer.classList.add(styleToApply);\n    }\n\n    if (this.appMode === \"survey\") {\n      this.gleapFrameContainer.classList.add(surveyStyle);\n    }\n    if (this.appMode === \"survey_full\" || this.appMode === \"survey_web\") {\n      this.gleapFrameContainer.classList.add(surveyFullStyle);\n    }\n    if (this.appMode === \"extended\") {\n      this.gleapFrameContainer.classList.add(extendedStyle);\n    }\n\n    this.gleapFrameContainer.setAttribute(\n      \"dir\",\n      GleapTranslationManager.getInstance().isRTLLayout ? \"rtl\" : \"ltr\"\n    );\n  };\n\n  showFrameContainer(showLoader) {\n    if (!this.gleapFrameContainer) {\n      return;\n    }\n\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n    const loadingClass = \"gleap-frame-container--loading\";\n    if (this.gleapFrameContainer.classList) {\n      this.gleapFrameContainer.classList.remove(\n        \"gleap-frame-container--hidden\"\n      );\n      if (showLoader) {\n        this.gleapFrameContainer.classList.add(loadingClass);\n\n        if (flowConfig && flowConfig.disableBGFade) {\n          this.gleapFrameContainer.classList.add(\n            \"gleap-frame-container--loading-nofade\"\n          );\n        }\n        if (flowConfig && flowConfig.disableBGGradient) {\n          this.gleapFrameContainer.classList.add(\n            \"gleap-frame-container--loading-nogradient\"\n          );\n        }\n      } else {\n        this.gleapFrameContainer.classList.remove(loadingClass);\n      }\n\n      setTimeout(() => {\n        this.gleapFrameContainer.classList.add(\n          \"gleap-frame-container--animate\"\n        );\n      }, 500);\n    }\n\n    this.widgetOpened = true;\n    this.updateUI();\n  }\n\n  runWidgetShouldOpenCallback() {\n    if (!this.gleapFrameContainer) {\n      return;\n    }\n\n    this.workThroughQueue();\n\n    Gleap.getInstance().setGlobalDataItem(\"snapshotPosition\", {\n      x: window.scrollX,\n      y: window.scrollY,\n    });\n\n    this.showFrameContainer(false);\n    this.updateWidgetStatus();\n\n    GleapEventManager.notifyEvent(\"open\");\n    this.registerEscListener();\n  }\n\n  updateUI() {\n    // Clear notifications only when not opening a survey.\n    GleapNotificationManager.getInstance().clearAllNotifications(\n      this.isSurvey()\n    );\n\n    GleapFeedbackButtonManager.getInstance().updateNotificationBadge(0);\n    GleapFeedbackButtonManager.getInstance().updateFeedbackButtonState();\n  }\n\n  showWidget() {\n    setTimeout(() => {\n      if (this.gleapFrameContainer) {\n        this.runWidgetShouldOpenCallback();\n      } else {\n        GleapFrameManager.getInstance().injectFrame();\n      }\n      this.updateUI();\n    }, 0);\n  }\n\n  updateWidgetStatus() {\n    this.sendMessage({\n      name: \"widget-status-update\",\n      data: {\n        isWidgetOpen: this.widgetOpened,\n      },\n    });\n  }\n\n  hideMarkerManager() {\n    if (this.markerManager) {\n      this.markerManager.clear();\n      this.markerManager = null;\n    }\n  }\n\n  hideWidget(resetRoutes = false) {\n    // Prevent for survey web.\n    if (this.appMode === \"survey_web\") {\n      return;\n    }\n\n    this.hideMarkerManager();\n    if (this.gleapFrameContainer) {\n      this.gleapFrameContainer.classList.add(\"gleap-frame-container--hidden\");\n      this.gleapFrameContainer.classList.remove(\n        \"gleap-frame-container--animate\"\n      );\n    }\n    if (resetRoutes) {\n      this.sendMessage({\n        name: \"reset-routes\",\n        data: {},\n      });\n    }\n    this.widgetOpened = false;\n    this.updateWidgetStatus();\n    GleapFeedbackButtonManager.getInstance().updateFeedbackButtonState();\n    GleapEventManager.notifyEvent(\"close\");\n    GleapNotificationManager.getInstance().reloadNotificationsFromCache();\n\n    this.unregisterEscListener();\n\n    if (typeof window !== \"undefined\" && typeof window.focus !== \"undefined\") {\n      window.focus();\n    }\n  }\n\n  sendMessage(data, queue = false) {\n    try {\n      this.gleapFrame = document.querySelector(\".gleap-frame\");\n      if (this.comReady && this.gleapFrame && this.gleapFrame.contentWindow) {\n        this.gleapFrame.contentWindow.postMessage(JSON.stringify(data), \"*\");\n      } else {\n        if (queue) {\n          this.queue.push(data);\n        }\n      }\n    } catch (e) {}\n  }\n\n  sendSessionUpdate() {\n    this.sendMessage({\n      name: \"session-update\",\n      data: {\n        sessionData: GleapSession.getInstance().getSession(),\n        apiUrl: GleapSession.getInstance().apiUrl,\n        sdkKey: GleapSession.getInstance().sdkKey,\n      },\n    });\n  }\n\n  sendConfigUpdate() {\n    if (!this.comReady) {\n      return;\n    }\n\n    this.sendMessage({\n      name: \"config-update\",\n      data: {\n        config: GleapConfigManager.getInstance().getFlowConfig(),\n        aiTools: GleapConfigManager.getInstance().getAiTools(),\n        overrideLanguage:\n          GleapTranslationManager.getInstance().getOverrideLanguage(),\n      },\n    });\n\n    this.updateFrameStyle();\n  }\n\n  showDrawingScreen(type) {\n    this.hideWidget();\n\n    // Show screen drawing.\n    this.markerManager = new GleapMarkerManager(type);\n    this.markerManager.show((success) => {\n      if (!success) {\n        this.hideMarkerManager();\n      }\n      this.showWidget();\n    });\n  }\n\n  workThroughQueue() {\n    const workQueue = [...this.queue];\n    this.queue = [];\n    for (let i = 0; i < workQueue.length; i++) {\n      this.sendMessage(workQueue[i], true);\n    }\n  }\n\n  startCommunication() {\n    // Listen for messages.\n    this.addMessageListener((data) => {\n      if (data.name === \"ping\") {\n        this.comReady = true;\n        this.sendConfigUpdate();\n        this.sendSessionUpdate();\n        this.workThroughQueue();\n        setTimeout(() => {\n          this.runWidgetShouldOpenCallback();\n        }, 300);\n      }\n\n      if (data.name === \"play-ping\") {\n        GleapAudioManager.ping();\n      }\n\n      if (data.name === \"open-image\") {\n        this.showImage(data.data.url);\n      }\n\n      if (data.name === \"page-changed\") {\n        if (\n          data.data &&\n          (data.data.name === \"newsdetails\" || data.data.name === \"appextended\")\n        ) {\n          this.setAppMode(\"extended\");\n        } else {\n          if (this.appMode === \"extended\") {\n            this.setAppMode(\"widget\");\n          }\n        }\n      }\n\n      if (data.name === \"collect-ticket-data\") {\n        var ticketData = {\n          customData: GleapCustomDataManager.getInstance().getCustomData(),\n          metaData: GleapMetaDataManager.getInstance().getMetaData(),\n          consoleLog: GleapConsoleLogManager.getInstance().getLogs(),\n          networkLogs: GleapNetworkIntercepter.getInstance().getRequests(),\n          customEventLog: GleapStreamedEvent.getInstance().getEventArray(),\n          formData: GleapCustomDataManager.getInstance().getTicketAttributes(),\n        };\n\n        // Add tags\n        const tags = GleapTagManager.getInstance().getTags();\n        if (tags && tags.length > 0) {\n          ticketData.tags = tags;\n        }\n\n        this.sendMessage({\n          name: \"collect-ticket-data\",\n          data: ticketData,\n        });\n      }\n\n      if (data.name === \"height-update\") {\n        this.frameHeight = data.data;\n\n        const innerContainer = document.querySelector(\n          \".gleap-frame-container-inner\"\n        );\n        if (\n          (this.appMode === \"survey\" ||\n            this.appMode === \"survey_full\" ||\n            this.appMode === \"survey_web\") &&\n          innerContainer\n        ) {\n          innerContainer.style.maxHeight = `${this.frameHeight}px`;\n        }\n      }\n\n      if (data.name === \"notify-event\") {\n        GleapEventManager.notifyEvent(data.data.type, data.data.data);\n      }\n\n      if (data.name === \"cleanup-drawings\") {\n        this.hideMarkerManager();\n      }\n\n      if (data.name === \"open-url\") {\n        const url = data.data;\n        const newTab = data.newTab ? true : false;\n        this.urlHandler(url, newTab);\n      }\n\n      if (data.name === \"start-product-tour\") {\n        Gleap.startProductTour(data.data?.tourId, true);\n      }\n\n      if (data.name === \"run-custom-action\") {\n        GleapCustomActionManager.triggerCustomAction(data.data, {\n          shareToken: data.shareToken,\n        });\n      }\n\n      if (data.name === \"close-widget\") {\n        this.hideWidget();\n      }\n\n      if (data.name === \"tool-execution\") {\n        GleapEventManager.notifyEvent(\"tool-execution\", data.data);\n      }\n\n      if (data.name === \"send-feedback\") {\n        if (this.sendingFeedback) {\n          return;\n        }\n\n        this.sendingFeedback = true;\n\n        const formData = data.data.formData;\n        const action = data.data.action;\n        const outboundId = data.data.outboundId;\n        const spamToken = data.data.spamToken;\n\n        const feedback = new GleapFeedback(\n          action.feedbackType,\n          \"MEDIUM\",\n          formData,\n          false,\n          action.excludeData,\n          outboundId,\n          spamToken\n        );\n        feedback\n          .sendFeedback()\n          .then((feedbackData) => {\n            setTimeout(() => {\n              this.sendingFeedback = false;\n            }, 1000);\n\n            this.sendMessage({\n              name: \"feedback-sent\",\n              data: feedbackData,\n            });\n            GleapEventManager.notifyEvent(\"feedback-sent\", formData);\n\n            if (outboundId && outboundId.length > 0) {\n              GleapEventManager.notifyEvent(\"outbound-sent\", {\n                outboundId: outboundId,\n                outbound: action,\n                formData: formData,\n              });\n\n              try {\n                delete formData.reportedBy;\n              } catch (e) {}\n              Gleap.trackEvent(`outbound-${outboundId}-submitted`, formData);\n            }\n          })\n          .catch((error) => {\n            setTimeout(() => {\n              this.sendingFeedback = false;\n\n              this.sendMessage({\n                name: \"feedback-sending-failed\",\n                data: \"Something went wrong, please try again.\",\n              });\n              GleapEventManager.notifyEvent(\"error-while-sending\");\n            }, 1000);\n          });\n      }\n\n      if (data.name === \"start-screen-drawing\") {\n        this.showDrawingScreen(data.data);\n      }\n    });\n\n    // Add window message listener.\n    window.addEventListener(\"message\", (event) => {\n      if (\n        event.origin !== this.frameUrl &&\n        event.origin !== GleapBannerManager.getInstance().bannerUrl\n      ) {\n        return;\n      }\n\n      try {\n        const data = JSON.parse(event.data);\n        for (var i = 0; i < this.listeners.length; i++) {\n          if (this.listeners[i]) {\n            this.listeners[i](data);\n          }\n        }\n      } catch (exp) {}\n    });\n  }\n\n  addMessageListener(callback) {\n    this.listeners.push(callback);\n  }\n}\n","import { isMobile } from \"./GleapHelper\";\n\nexport default class GleapMetaDataManager {\n  sessionStart = new Date();\n  appBuildNumber = \"\";\n  appVersionCode = \"\";\n  environment = \"prod\";\n\n  // GleapMetaDataManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapMetaDataManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Sets the app version code.\n   * @param {string} appVersionCode\n   */\n  static setAppVersionCode(appVersionCode) {\n    this.getInstance().appVersionCode = appVersionCode;\n  }\n\n  /**\n   * Sets the app version code.\n   * @param {string} appVersionCode\n   */\n  static setAppBuildNumber(appBuildNumber) {\n    this.getInstance().appBuildNumber = appBuildNumber;\n  }\n\n  getSessionDuration() {\n    const now = new Date();\n    return Math.round((now.getTime() - this.sessionStart.getTime()) / 1000);\n  }\n\n  getMetaData() {\n    var nAgt = navigator.userAgent;\n    var browserName = navigator.appName;\n    var fullVersion = \"\" + parseFloat(navigator.appVersion);\n    var majorVersion = parseInt(navigator.appVersion, 10);\n    var nameOffset, verOffset, ix;\n\n    // In Opera, the true version is after \"Opera\" or after \"Version\"\n    if ((verOffset = nAgt.indexOf(\"Opera\")) !== -1) {\n      browserName = \"Opera\";\n      fullVersion = nAgt.substring(verOffset + 6);\n      if ((verOffset = nAgt.indexOf(\"Version\")) !== -1)\n        fullVersion = nAgt.substring(verOffset + 8);\n    }\n    // In MSIE, the true version is after \"MSIE\" in userAgent\n    else if ((verOffset = nAgt.indexOf(\"MSIE\")) !== -1) {\n      browserName = \"Microsoft Internet Explorer\";\n      fullVersion = nAgt.substring(verOffset + 5);\n    }\n    // In Chrome, the true version is after \"Chrome\"\n    else if ((verOffset = nAgt.indexOf(\"Chrome\")) !== -1) {\n      browserName = \"Chrome\";\n      fullVersion = nAgt.substring(verOffset + 7);\n    }\n    // In Safari, the true version is after \"Safari\" or after \"Version\"\n    else if ((verOffset = nAgt.indexOf(\"Safari\")) !== -1) {\n      browserName = \"Safari\";\n      fullVersion = nAgt.substring(verOffset + 7);\n      if ((verOffset = nAgt.indexOf(\"Version\")) !== -1)\n        fullVersion = nAgt.substring(verOffset + 8);\n    }\n    // In Firefox, the true version is after \"Firefox\"\n    else if ((verOffset = nAgt.indexOf(\"Firefox\")) !== -1) {\n      browserName = \"Firefox\";\n      fullVersion = nAgt.substring(verOffset + 8);\n    }\n    // In most other browsers, \"name/version\" is at the end of userAgent\n    else if (\n      (nameOffset = nAgt.lastIndexOf(\" \") + 1) <\n      (verOffset = nAgt.lastIndexOf(\"/\"))\n    ) {\n      browserName = nAgt.substring(nameOffset, verOffset);\n      fullVersion = nAgt.substring(verOffset + 1);\n      if (browserName.toLowerCase() === browserName.toUpperCase()) {\n        browserName = navigator.appName;\n      }\n    }\n    // trim the fullVersion string at semicolon/space if present\n    if ((ix = fullVersion.indexOf(\";\")) !== -1)\n      fullVersion = fullVersion.substring(0, ix);\n    if ((ix = fullVersion.indexOf(\" \")) !== -1)\n      fullVersion = fullVersion.substring(0, ix);\n\n    majorVersion = parseInt(\"\" + fullVersion, 10);\n    if (isNaN(majorVersion)) {\n      fullVersion = \"\" + parseFloat(navigator.appVersion);\n      majorVersion = parseInt(navigator.appVersion, 10);\n    }\n\n    var OSName = \"Unknown OS\";\n    if (navigator.appVersion.indexOf(\"Win\") !== -1) OSName = \"Windows\";\n    if (navigator.appVersion.indexOf(\"Mac\") !== -1) OSName = \"MacOS\";\n    if (navigator.appVersion.indexOf(\"X11\") !== -1) OSName = \"UNIX\";\n    if (navigator.appVersion.indexOf(\"Linux\") !== -1) OSName = \"Linux\";\n    if (navigator.appVersion.indexOf(\"iPad\") !== -1) OSName = \"iPad\";\n    if (navigator.appVersion.indexOf(\"iPhone\") !== -1) OSName = \"iPhone\";\n    if (navigator.appVersion.indexOf(\"Android\") !== -1) OSName = \"Android\";\n\n    return {\n      browserName: browserName + \"(\" + fullVersion + \")\",\n      userAgent: nAgt,\n      browser: browserName,\n      systemName: OSName,\n      buildVersionNumber: this.appBuildNumber,\n      releaseVersionNumber: this.appVersionCode,\n      sessionDuration: this.getSessionDuration(),\n      devicePixelRatio: window.devicePixelRatio,\n      screenWidth: window.screen.width,\n      screenHeight: window.screen.height,\n      innerWidth: window.innerWidth,\n      innerHeight: window.innerHeight,\n      currentUrl: window.location.href,\n      language: navigator.language || navigator.userLanguage,\n      mobile: isMobile(),\n      sdkVersion: SDK_VERSION,\n      sdkType: \"javascript\",\n      environment: this.environment,\n    };\n  }\n}\n","import { truncateString } from \"./GleapHelper\";\n\nexport default class GleapConsoleLogManager {\n  logArray = [];\n  disabled = false;\n  originalConsoleLog;\n  logMaxLength = 500;\n\n  // GleapConsoleLogManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapConsoleLogManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Return the console logs\n   * @returns {any[]} logs\n   */\n  getLogs() {\n    return this.logArray;\n  }\n\n  /**\n   * Revert console log overwrite.\n   */\n  stop() {\n    this.disabled = true;\n    if (this.originalConsoleLog) {\n      window.console = this.originalConsoleLog;\n    }\n  }\n\n  /**\n   * Add message with log level to logs.\n   * @param {*} message\n   * @param {*} logLevel\n   * @returns\n   */\n  addLog(message, logLevel = \"INFO\") {\n    if (!message || message.length <= 0) {\n      return;\n    }\n\n    this.logArray.push({\n      log: truncateString(message, 1000),\n      date: new Date(),\n      priority: logLevel,\n    });\n\n    if (this.logArray.length > this.logMaxLength) {\n      this.logArray.shift();\n    }\n  }\n\n  /**\n   * Add entry to logs.\n   * @param {*} args\n   * @param {*} logLevel\n   * @returns\n   */\n  addLogWithArgs(args, logLevel) {\n    if (!args || args.length <= 0) {\n      return;\n    }\n\n    var log = \"\";\n    try {\n      for (var i = 0; i < args.length; i++) {\n        log += args[i] + \" \";\n      }\n    } catch (exp) {}\n\n    this.addLog(log, logLevel);\n  }\n\n  /**\n   * Start console log overwrite.\n   */\n  start() {\n    if (this.disabled) {\n      return;\n    }\n\n    const self = this;\n    window.console = (function (origConsole) {\n      if (!window.console || !origConsole) {\n        origConsole = {};\n      }\n\n      self.originalConsoleLog = origConsole;\n\n      return {\n        ...origConsole,\n        log: function () {\n          self.addLogWithArgs(arguments, \"INFO\");\n          origConsole.log && origConsole.log.apply(origConsole, arguments);\n        },\n        warn: function () {\n          self.addLogWithArgs(arguments, \"WARNING\");\n          origConsole.warn && origConsole.warn.apply(origConsole, arguments);\n        },\n        error: function () {\n          self.addLogWithArgs(arguments, \"ERROR\");\n          origConsole.error && origConsole.error.apply(origConsole, arguments);\n        },\n        info: function (v) {\n          self.addLogWithArgs(arguments, \"INFO\");\n          origConsole.info && origConsole.info.apply(origConsole, arguments);\n        },\n      };\n    })(window.console);\n  }\n}\n","import { GleapConsoleLogManager, GleapFrameManager, handleGleapLink } from \"./Gleap\";\nimport { getDOMElementDescription } from \"./GleapHelper\";\n\nexport default class GleapClickListener {\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapClickListener();\n    }\n    return this.instance;\n  }\n\n  start() {\n    document.addEventListener(\"click\", (e) => {\n      if (!e.target) {\n        return;\n      }\n\n      if (e.target.tagName === 'A' && e.target.protocol === 'gleap:') {\n        e.preventDefault();\n\n        const href = e.target.href;\n        handleGleapLink(href);\n      }\n\n      if (!GleapFrameManager.getInstance().isOpened()) {\n        GleapConsoleLogManager.getInstance().addLog(\n          getDOMElementDescription(e.target),\n          \"CLICK\"\n        );\n      }\n    });\n  }\n}\n","import { gleapDataParser } from \"./GleapHelper\";\n\nexport default class GleapCustomDataManager {\n  customData = {};\n  ticketAttributes = {};\n\n  // GleapCustomDataManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapCustomDataManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Returns the custom data object\n   * @returns {*}\n   */\n  getCustomData() {\n    return this.customData;\n  }\n\n  /**\n   * Set custom data that will be attached to the bug-report.\n   * @param {*} data\n   */\n  attachCustomData(data) {\n    this.customData = Object.assign(\n      this.customData,\n      gleapDataParser(data)\n    );\n  }\n\n  /**\n   * Add one key value pair to the custom data object\n   * @param {*} key The key of the custom data entry you want to add.\n   * @param {*} value The custom data you want to add.\n   */\n  setCustomData(key, value) {\n    this.customData[key] = value;\n  }\n\n  /**\n   * Remove one key value pair of the custom data object\n   * @param {*} key The key of the custom data entry you want to remove.\n   */\n  removeCustomData(key) {\n    delete this.customData[key];\n  }\n\n  /**\n   * Clear the custom data\n   */\n  clearCustomData() {\n    this.customData = {};\n  }\n\n  /**\n   * This method is used to set ticket attributes programmatically.\n   * @param {*} key The key of the attribute you want to add.\n   * @param {*} value The value to set.\n   */\n  setTicketAttribute(key, value) {\n    this.ticketAttributes[key] = value;\n  }\n\n  /**\n   * This method is used to unset ticket attributes programmatically.\n   * @param {*} key The key of the attribute you want to unset.\n   */\n  unsetTicketAttribute(key) {\n    delete this.ticketAttributes[key];\n  }\n\n  /**\n   * This method is used to clear ticket attributes programmatically.\n   */\n  clearTicketAttributes() {\n    this.ticketAttributes = {};\n  }\n\n  getTicketAttributes() {\n    return this.ticketAttributes;\n  }\n}\n","import Gleap from \"./Gleap\";\n\nexport default class GleapEventManager {\n  eventListeners = {};\n\n  // GleapEventManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapEventManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Notify all registrants for event.\n   */\n  static notifyEvent(event, data = {}) {\n    if (event === \"flow-started\") {\n\n      const gleapInstance = Gleap.getInstance();\n      gleapInstance.setGlobalDataItem(\"webReplay\", null);\n      gleapInstance.setGlobalDataItem(\"screenRecordingData\", null);\n      gleapInstance.takeCurrentReplay();\n    }\n\n    const eventListeners = this.getInstance().eventListeners[event];\n    if (eventListeners) {\n      for (var i = 0; i < eventListeners.length; i++) {\n        const eventListener = eventListeners[i];\n        if (eventListener) {\n          eventListener(data);\n        }\n      }\n    }\n  }\n\n  /**\n   * Register events for Gleap.\n   * @param {*} eventName\n   * @param {*} callback\n   */\n  static on(eventName, callback) {\n    const instance = this.getInstance();\n    if (!instance.eventListeners[eventName]) {\n      instance.eventListeners[eventName] = [];\n    }\n    instance.eventListeners[eventName].push(callback);\n  }\n}\n","export default class GleapCustomActionManager {\n  customActionCallbacks = [];\n\n  // GleapCustomActionManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapCustomActionManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Register custom action\n   */\n  static registerCustomAction(customAction) {\n    const instance = this.getInstance();\n    if (instance.customActionCallbacks) {\n      instance.customActionCallbacks.push(customAction);\n    }\n  }\n\n  /**\n   * Triggers a custom action\n   */\n  static triggerCustomAction(name, data) {\n    const instance = this.getInstance();\n    if (instance.customActionCallbacks) {\n      for (var i = 0; i < instance.customActionCallbacks.length; i++) {\n        var callback = instance.customActionCallbacks[i];\n        if (callback) {\n          callback({\n            name,\n            ...(data ? data : {}),\n          });\n        }\n      }\n    }\n  }\n}\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar _a;\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar NodeType$3 = /* @__PURE__ */ ((NodeType2) => {\n  NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n  NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n  NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n  NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n  NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n  NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n  return NodeType2;\n})(NodeType$3 || {});\nconst testableAccessors$1 = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods$1 = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype$1 = {};\nconst isAngularZonePresent$1 = () => {\n  return !!globalThis.Zone;\n};\nfunction getUntaintedPrototype$1(key) {\n  if (untaintedBasePrototype$1[key])\n    return untaintedBasePrototype$1[key];\n  const defaultObj = globalThis[key];\n  const defaultPrototype = defaultObj.prototype;\n  const accessorNames = key in testableAccessors$1 ? testableAccessors$1[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods$1 ? testableMethods$1[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods && !isAngularZonePresent$1()) {\n    untaintedBasePrototype$1[key] = defaultObj.prototype;\n    return defaultObj.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return defaultObj.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype$1[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache$1 = {};\nfunction getUntaintedAccessor$1(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache$1[cacheKey])\n    return untaintedAccessorCache$1[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache$1[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache$1 = {};\nfunction getUntaintedMethod$1(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache$1[cacheKey])\n    return untaintedMethodCache$1[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache$1[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentElement\");\n}\nfunction textContent$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"textContent\");\n}\nfunction contains$1(n2, other) {\n  return getUntaintedMethod$1(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode$1(n2) {\n  return getUntaintedMethod$1(\"Node\", n2, \"getRootNode\")();\n}\nfunction host$1(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor$1(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets$1(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot$1(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor$1(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor$1() {\n  return getUntaintedPrototype$1(\"MutationObserver\").constructor;\n}\nconst index$1 = {\n  childNodes: childNodes$1,\n  parentNode: parentNode$1,\n  parentElement: parentElement$1,\n  textContent: textContent$1,\n  contains: contains$1,\n  getRootNode: getRootNode$1,\n  host: host$1,\n  styleSheets: styleSheets$1,\n  shadowRoot: shadowRoot$1,\n  querySelector: querySelector$1,\n  querySelectorAll: querySelectorAll$1,\n  mutationObserver: mutationObserverCtor$1\n};\nfunction isElement(n2) {\n  return n2.nodeType === n2.ELEMENT_NODE;\n}\nfunction isShadowRoot(n2) {\n  const hostEl = (\n    // anchor and textarea elements also have a `host` property\n    // but only shadow roots have a `mode` property\n    n2 && \"host\" in n2 && \"mode\" in n2 && index$1.host(n2) || null\n  );\n  return Boolean(\n    hostEl && \"shadowRoot\" in hostEl && index$1.shadowRoot(hostEl) === n2\n  );\n}\nfunction isNativeShadowDom(shadowRoot2) {\n  return Object.prototype.toString.call(shadowRoot2) === \"[object ShadowRoot]\";\n}\nfunction fixBrowserCompatibilityIssuesInCSS(cssText) {\n  if (cssText.includes(\" background-clip: text;\") && !cssText.includes(\" -webkit-background-clip: text;\")) {\n    cssText = cssText.replace(\n      /\\sbackground-clip:\\s*text;/g,\n      \" -webkit-background-clip: text; background-clip: text;\"\n    );\n  }\n  return cssText;\n}\nfunction escapeImportStatement(rule2) {\n  const { cssText } = rule2;\n  if (cssText.split('\"').length < 3) return cssText;\n  const statement = [\"@import\", `url(${JSON.stringify(rule2.href)})`];\n  if (rule2.layerName === \"\") {\n    statement.push(`layer`);\n  } else if (rule2.layerName) {\n    statement.push(`layer(${rule2.layerName})`);\n  }\n  if (rule2.supportsText) {\n    statement.push(`supports(${rule2.supportsText})`);\n  }\n  if (rule2.media.length) {\n    statement.push(rule2.media.mediaText);\n  }\n  return statement.join(\" \") + \";\";\n}\nfunction stringifyStylesheet(s2) {\n  try {\n    const rules2 = s2.rules || s2.cssRules;\n    if (!rules2) {\n      return null;\n    }\n    let sheetHref = s2.href;\n    if (!sheetHref && s2.ownerNode && s2.ownerNode.ownerDocument) {\n      sheetHref = s2.ownerNode.ownerDocument.location.href;\n    }\n    const stringifiedRules = Array.from(\n      rules2,\n      (rule2) => stringifyRule(rule2, sheetHref)\n    ).join(\"\");\n    return fixBrowserCompatibilityIssuesInCSS(stringifiedRules);\n  } catch (error) {\n    return null;\n  }\n}\nfunction stringifyRule(rule2, sheetHref) {\n  if (isCSSImportRule(rule2)) {\n    let importStringified;\n    try {\n      importStringified = // for same-origin stylesheets,\n      // we can access the imported stylesheet rules directly\n      stringifyStylesheet(rule2.styleSheet) || // work around browser issues with the raw string `@import url(...)` statement\n      escapeImportStatement(rule2);\n    } catch (error) {\n      importStringified = rule2.cssText;\n    }\n    if (rule2.styleSheet.href) {\n      return absolutifyURLs(importStringified, rule2.styleSheet.href);\n    }\n    return importStringified;\n  } else {\n    let ruleStringified = rule2.cssText;\n    if (isCSSStyleRule(rule2) && rule2.selectorText.includes(\":\")) {\n      ruleStringified = fixSafariColons(ruleStringified);\n    }\n    if (sheetHref) {\n      return absolutifyURLs(ruleStringified, sheetHref);\n    }\n    return ruleStringified;\n  }\n}\nfunction fixSafariColons(cssStringified) {\n  const regex = /(\\[(?:[\\w-]+)[^\\\\])(:(?:[\\w-]+)\\])/gm;\n  return cssStringified.replace(regex, \"$1\\\\$2\");\n}\nfunction isCSSImportRule(rule2) {\n  return \"styleSheet\" in rule2;\n}\nfunction isCSSStyleRule(rule2) {\n  return \"selectorText\" in rule2;\n}\nclass Mirror {\n  constructor() {\n    __publicField$1(this, \"idNodeMap\", /* @__PURE__ */ new Map());\n    __publicField$1(this, \"nodeMetaMap\", /* @__PURE__ */ new WeakMap());\n  }\n  getId(n2) {\n    var _a2;\n    if (!n2) return -1;\n    const id = (_a2 = this.getMeta(n2)) == null ? void 0 : _a2.id;\n    return id ?? -1;\n  }\n  getNode(id) {\n    return this.idNodeMap.get(id) || null;\n  }\n  getIds() {\n    return Array.from(this.idNodeMap.keys());\n  }\n  getMeta(n2) {\n    return this.nodeMetaMap.get(n2) || null;\n  }\n  // removes the node from idNodeMap\n  // doesn't remove the node from nodeMetaMap\n  removeNodeFromMap(n2) {\n    const id = this.getId(n2);\n    this.idNodeMap.delete(id);\n    if (n2.childNodes) {\n      n2.childNodes.forEach(\n        (childNode) => this.removeNodeFromMap(childNode)\n      );\n    }\n  }\n  has(id) {\n    return this.idNodeMap.has(id);\n  }\n  hasNode(node2) {\n    return this.nodeMetaMap.has(node2);\n  }\n  add(n2, meta) {\n    const id = meta.id;\n    this.idNodeMap.set(id, n2);\n    this.nodeMetaMap.set(n2, meta);\n  }\n  replace(id, n2) {\n    const oldNode = this.getNode(id);\n    if (oldNode) {\n      const meta = this.nodeMetaMap.get(oldNode);\n      if (meta) this.nodeMetaMap.set(n2, meta);\n    }\n    this.idNodeMap.set(id, n2);\n  }\n  reset() {\n    this.idNodeMap = /* @__PURE__ */ new Map();\n    this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n  }\n}\nfunction createMirror$2() {\n  return new Mirror();\n}\nfunction maskInputValue({\n  element,\n  maskInputOptions,\n  tagName,\n  type,\n  value,\n  maskInputFn\n}) {\n  let text = value || \"\";\n  const actualType = type && toLowerCase(type);\n  if (maskInputOptions[tagName.toLowerCase()] || actualType && maskInputOptions[actualType]) {\n    if (maskInputFn) {\n      text = maskInputFn(text, element);\n    } else {\n      text = \"*\".repeat(text.length);\n    }\n  }\n  return text;\n}\nfunction toLowerCase(str) {\n  return str.toLowerCase();\n}\nconst ORIGINAL_ATTRIBUTE_NAME = \"__rrweb_original__\";\nfunction is2DCanvasBlank(canvas) {\n  const ctx = canvas.getContext(\"2d\");\n  if (!ctx) return true;\n  const chunkSize = 50;\n  for (let x2 = 0; x2 < canvas.width; x2 += chunkSize) {\n    for (let y = 0; y < canvas.height; y += chunkSize) {\n      const getImageData = ctx.getImageData;\n      const originalGetImageData = ORIGINAL_ATTRIBUTE_NAME in getImageData ? getImageData[ORIGINAL_ATTRIBUTE_NAME] : getImageData;\n      const pixelBuffer = new Uint32Array(\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-member-access\n        originalGetImageData.call(\n          ctx,\n          x2,\n          y,\n          Math.min(chunkSize, canvas.width - x2),\n          Math.min(chunkSize, canvas.height - y)\n        ).data.buffer\n      );\n      if (pixelBuffer.some((pixel) => pixel !== 0)) return false;\n    }\n  }\n  return true;\n}\nfunction getInputType(element) {\n  const type = element.type;\n  return element.hasAttribute(\"data-rr-is-password\") ? \"password\" : type ? (\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n    toLowerCase(type)\n  ) : null;\n}\nfunction extractFileExtension(path, baseURL) {\n  let url;\n  try {\n    url = new URL(path, baseURL ?? window.location.href);\n  } catch (err) {\n    return null;\n  }\n  const regex = /\\.([0-9a-z]+)(?:$)/i;\n  const match = url.pathname.match(regex);\n  return (match == null ? void 0 : match[1]) ?? null;\n}\nfunction extractOrigin(url) {\n  let origin = \"\";\n  if (url.indexOf(\"//\") > -1) {\n    origin = url.split(\"/\").slice(0, 3).join(\"/\");\n  } else {\n    origin = url.split(\"/\")[0];\n  }\n  origin = origin.split(\"?\")[0];\n  return origin;\n}\nconst URL_IN_CSS_REF = /url\\((?:(')([^']*)'|(\")(.*?)\"|([^)]*))\\)/gm;\nconst URL_PROTOCOL_MATCH = /^(?:[a-z+]+:)?\\/\\//i;\nconst URL_WWW_MATCH = /^www\\..*/i;\nconst DATA_URI = /^(data:)([^,]*),(.*)/i;\nfunction absolutifyURLs(cssText, href) {\n  return (cssText || \"\").replace(\n    URL_IN_CSS_REF,\n    (origin, quote1, path1, quote2, path2, path3) => {\n      const filePath = path1 || path2 || path3;\n      const maybeQuote = quote1 || quote2 || \"\";\n      if (!filePath) {\n        return origin;\n      }\n      if (URL_PROTOCOL_MATCH.test(filePath) || URL_WWW_MATCH.test(filePath)) {\n        return `url(${maybeQuote}${filePath}${maybeQuote})`;\n      }\n      if (DATA_URI.test(filePath)) {\n        return `url(${maybeQuote}${filePath}${maybeQuote})`;\n      }\n      if (filePath[0] === \"/\") {\n        return `url(${maybeQuote}${extractOrigin(href) + filePath}${maybeQuote})`;\n      }\n      const stack = href.split(\"/\");\n      const parts = filePath.split(\"/\");\n      stack.pop();\n      for (const part of parts) {\n        if (part === \".\") {\n          continue;\n        } else if (part === \"..\") {\n          stack.pop();\n        } else {\n          stack.push(part);\n        }\n      }\n      return `url(${maybeQuote}${stack.join(\"/\")}${maybeQuote})`;\n    }\n  );\n}\nfunction normalizeCssString(cssText) {\n  return cssText.replace(/(\\/\\*[^*]*\\*\\/)|[\\s;]/g, \"\");\n}\nfunction splitCssText(cssText, style) {\n  const childNodes2 = Array.from(style.childNodes);\n  const splits = [];\n  if (childNodes2.length > 1 && cssText && typeof cssText === \"string\") {\n    const cssTextNorm = normalizeCssString(cssText);\n    for (let i2 = 1; i2 < childNodes2.length; i2++) {\n      if (childNodes2[i2].textContent && typeof childNodes2[i2].textContent === \"string\") {\n        const textContentNorm = normalizeCssString(childNodes2[i2].textContent);\n        for (let j = 3; j < textContentNorm.length; j++) {\n          const bit = textContentNorm.substring(0, j);\n          if (cssTextNorm.split(bit).length === 2) {\n            const splitNorm = cssTextNorm.indexOf(bit);\n            for (let k = splitNorm; k < cssText.length; k++) {\n              if (normalizeCssString(cssText.substring(0, k)).length === splitNorm) {\n                splits.push(cssText.substring(0, k));\n                cssText = cssText.substring(k);\n                break;\n              }\n            }\n            break;\n          }\n        }\n      }\n    }\n  }\n  splits.push(cssText);\n  return splits;\n}\nfunction markCssSplits(cssText, style) {\n  return splitCssText(cssText, style).join(\"/* rr_split */\");\n}\nlet _id = 1;\nconst tagNameRegex = new RegExp(\"[^a-z0-9-_:]\");\nconst IGNORED_NODE = -2;\nfunction genId() {\n  return _id++;\n}\nfunction getValidTagName$1(element) {\n  if (element instanceof HTMLFormElement) {\n    return \"form\";\n  }\n  const processedTagName = toLowerCase(element.tagName);\n  if (tagNameRegex.test(processedTagName)) {\n    return \"div\";\n  }\n  return processedTagName;\n}\nlet canvasService;\nlet canvasCtx;\nconst SRCSET_NOT_SPACES = /^[^ \\t\\n\\r\\u000c]+/;\nconst SRCSET_COMMAS_OR_SPACES = /^[, \\t\\n\\r\\u000c]+/;\nfunction getAbsoluteSrcsetString(doc, attributeValue) {\n  if (attributeValue.trim() === \"\") {\n    return attributeValue;\n  }\n  let pos = 0;\n  function collectCharacters(regEx) {\n    let chars2;\n    const match = regEx.exec(attributeValue.substring(pos));\n    if (match) {\n      chars2 = match[0];\n      pos += chars2.length;\n      return chars2;\n    }\n    return \"\";\n  }\n  const output = [];\n  while (true) {\n    collectCharacters(SRCSET_COMMAS_OR_SPACES);\n    if (pos >= attributeValue.length) {\n      break;\n    }\n    let url = collectCharacters(SRCSET_NOT_SPACES);\n    if (url.slice(-1) === \",\") {\n      url = absoluteToDoc(doc, url.substring(0, url.length - 1));\n      output.push(url);\n    } else {\n      let descriptorsStr = \"\";\n      url = absoluteToDoc(doc, url);\n      let inParens = false;\n      while (true) {\n        const c2 = attributeValue.charAt(pos);\n        if (c2 === \"\") {\n          output.push((url + descriptorsStr).trim());\n          break;\n        } else if (!inParens) {\n          if (c2 === \",\") {\n            pos += 1;\n            output.push((url + descriptorsStr).trim());\n            break;\n          } else if (c2 === \"(\") {\n            inParens = true;\n          }\n        } else {\n          if (c2 === \")\") {\n            inParens = false;\n          }\n        }\n        descriptorsStr += c2;\n        pos += 1;\n      }\n    }\n  }\n  return output.join(\", \");\n}\nconst cachedDocument = /* @__PURE__ */ new WeakMap();\nfunction absoluteToDoc(doc, attributeValue) {\n  if (!attributeValue || attributeValue.trim() === \"\") {\n    return attributeValue;\n  }\n  return getHref(doc, attributeValue);\n}\nfunction isSVGElement(el) {\n  return Boolean(el.tagName === \"svg\" || el.ownerSVGElement);\n}\nfunction getHref(doc, customHref) {\n  let a2 = cachedDocument.get(doc);\n  if (!a2) {\n    a2 = doc.createElement(\"a\");\n    cachedDocument.set(doc, a2);\n  }\n  if (!customHref) {\n    customHref = \"\";\n  } else if (customHref.startsWith(\"blob:\") || customHref.startsWith(\"data:\")) {\n    return customHref;\n  }\n  a2.setAttribute(\"href\", customHref);\n  return a2.href;\n}\nfunction transformAttribute(doc, tagName, name, value) {\n  if (!value) {\n    return value;\n  }\n  if (name === \"src\" || name === \"href\" && !(tagName === \"use\" && value[0] === \"#\")) {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"xlink:href\" && value[0] !== \"#\") {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"background\" && (tagName === \"table\" || tagName === \"td\" || tagName === \"th\")) {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"srcset\") {\n    return getAbsoluteSrcsetString(doc, value);\n  } else if (name === \"style\") {\n    return absolutifyURLs(value, getHref(doc));\n  } else if (tagName === \"object\" && name === \"data\") {\n    return absoluteToDoc(doc, value);\n  }\n  return value;\n}\nfunction ignoreAttribute(tagName, name, _value) {\n  return (tagName === \"video\" || tagName === \"audio\") && name === \"autoplay\";\n}\nfunction _isBlockedElement(element, blockClass, blockSelector) {\n  try {\n    if (typeof blockClass === \"string\") {\n      if (element.classList.contains(blockClass)) {\n        return true;\n      }\n    } else {\n      for (let eIndex = element.classList.length; eIndex--; ) {\n        const className = element.classList[eIndex];\n        if (blockClass.test(className)) {\n          return true;\n        }\n      }\n    }\n    if (blockSelector) {\n      return element.matches(blockSelector);\n    }\n  } catch (e2) {\n  }\n  return false;\n}\nfunction classMatchesRegex(node2, regex, checkAncestors) {\n  if (!node2) return false;\n  if (node2.nodeType !== node2.ELEMENT_NODE) {\n    if (!checkAncestors) return false;\n    return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n  }\n  for (let eIndex = node2.classList.length; eIndex--; ) {\n    const className = node2.classList[eIndex];\n    if (regex.test(className)) {\n      return true;\n    }\n  }\n  if (!checkAncestors) return false;\n  return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n}\nfunction needMaskingText(node2, maskTextClass, maskTextSelector, checkAncestors) {\n  let el;\n  if (isElement(node2)) {\n    el = node2;\n    if (!index$1.childNodes(el).length) {\n      return false;\n    }\n  } else if (index$1.parentElement(node2) === null) {\n    return false;\n  } else {\n    el = index$1.parentElement(node2);\n  }\n  try {\n    if (typeof maskTextClass === \"string\") {\n      if (checkAncestors) {\n        if (el.closest(`.${maskTextClass}`)) return true;\n      } else {\n        if (el.classList.contains(maskTextClass)) return true;\n      }\n    } else {\n      if (classMatchesRegex(el, maskTextClass, checkAncestors)) return true;\n    }\n    if (maskTextSelector) {\n      if (checkAncestors) {\n        if (el.closest(maskTextSelector)) return true;\n      } else {\n        if (el.matches(maskTextSelector)) return true;\n      }\n    }\n  } catch (e2) {\n  }\n  return false;\n}\nfunction onceIframeLoaded(iframeEl, listener, iframeLoadTimeout) {\n  const win = iframeEl.contentWindow;\n  if (!win) {\n    return;\n  }\n  let fired = false;\n  let readyState;\n  try {\n    readyState = win.document.readyState;\n  } catch (error) {\n    return;\n  }\n  if (readyState !== \"complete\") {\n    const timer = setTimeout(() => {\n      if (!fired) {\n        listener();\n        fired = true;\n      }\n    }, iframeLoadTimeout);\n    iframeEl.addEventListener(\"load\", () => {\n      clearTimeout(timer);\n      fired = true;\n      listener();\n    });\n    return;\n  }\n  const blankUrl = \"about:blank\";\n  if (win.location.href !== blankUrl || iframeEl.src === blankUrl || iframeEl.src === \"\") {\n    setTimeout(listener, 0);\n    return iframeEl.addEventListener(\"load\", listener);\n  }\n  iframeEl.addEventListener(\"load\", listener);\n}\nfunction onceStylesheetLoaded(link, listener, styleSheetLoadTimeout) {\n  let fired = false;\n  let styleSheetLoaded;\n  try {\n    styleSheetLoaded = link.sheet;\n  } catch (error) {\n    return;\n  }\n  if (styleSheetLoaded) return;\n  const timer = setTimeout(() => {\n    if (!fired) {\n      listener();\n      fired = true;\n    }\n  }, styleSheetLoadTimeout);\n  link.addEventListener(\"load\", () => {\n    clearTimeout(timer);\n    fired = true;\n    listener();\n  });\n}\nfunction serializeNode(n2, options) {\n  const {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    needsMask,\n    inlineStylesheet,\n    maskInputOptions = {},\n    maskTextFn,\n    maskInputFn,\n    dataURLOptions = {},\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement = false,\n    cssCaptured = false\n  } = options;\n  const rootId = getRootId(doc, mirror2);\n  switch (n2.nodeType) {\n    case n2.DOCUMENT_NODE:\n      if (n2.compatMode !== \"CSS1Compat\") {\n        return {\n          type: NodeType$3.Document,\n          childNodes: [],\n          compatMode: n2.compatMode\n          // probably \"BackCompat\"\n        };\n      } else {\n        return {\n          type: NodeType$3.Document,\n          childNodes: []\n        };\n      }\n    case n2.DOCUMENT_TYPE_NODE:\n      return {\n        type: NodeType$3.DocumentType,\n        name: n2.name,\n        publicId: n2.publicId,\n        systemId: n2.systemId,\n        rootId\n      };\n    case n2.ELEMENT_NODE:\n      return serializeElementNode(n2, {\n        doc,\n        blockClass,\n        blockSelector,\n        inlineStylesheet,\n        maskInputOptions,\n        maskInputFn,\n        dataURLOptions,\n        inlineImages,\n        recordCanvas,\n        keepIframeSrcFn,\n        newlyAddedElement,\n        rootId\n      });\n    case n2.TEXT_NODE:\n      return serializeTextNode(n2, {\n        doc,\n        needsMask,\n        maskTextFn,\n        rootId,\n        cssCaptured\n      });\n    case n2.CDATA_SECTION_NODE:\n      return {\n        type: NodeType$3.CDATA,\n        textContent: \"\",\n        rootId\n      };\n    case n2.COMMENT_NODE:\n      return {\n        type: NodeType$3.Comment,\n        textContent: index$1.textContent(n2) || \"\",\n        rootId\n      };\n    default:\n      return false;\n  }\n}\nfunction getRootId(doc, mirror2) {\n  if (!mirror2.hasNode(doc)) return void 0;\n  const docId = mirror2.getId(doc);\n  return docId === 1 ? void 0 : docId;\n}\nfunction serializeTextNode(n2, options) {\n  const { needsMask, maskTextFn, rootId, cssCaptured } = options;\n  const parent = index$1.parentNode(n2);\n  const parentTagName = parent && parent.tagName;\n  let textContent2 = \"\";\n  const isStyle = parentTagName === \"STYLE\" ? true : void 0;\n  const isScript = parentTagName === \"SCRIPT\" ? true : void 0;\n  if (isScript) {\n    textContent2 = \"SCRIPT_PLACEHOLDER\";\n  } else if (!cssCaptured) {\n    textContent2 = index$1.textContent(n2);\n    if (isStyle && textContent2) {\n      textContent2 = absolutifyURLs(textContent2, getHref(options.doc));\n    }\n  }\n  if (!isStyle && !isScript && textContent2 && needsMask) {\n    textContent2 = maskTextFn ? maskTextFn(textContent2, index$1.parentElement(n2)) : textContent2.replace(/[\\S]/g, \"*\");\n  }\n  return {\n    type: NodeType$3.Text,\n    textContent: textContent2 || \"\",\n    rootId\n  };\n}\nfunction serializeElementNode(n2, options) {\n  const {\n    doc,\n    blockClass,\n    blockSelector,\n    inlineStylesheet,\n    maskInputOptions = {},\n    maskInputFn,\n    dataURLOptions = {},\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement = false,\n    rootId\n  } = options;\n  const needBlock = _isBlockedElement(n2, blockClass, blockSelector);\n  const tagName = getValidTagName$1(n2);\n  let attributes = {};\n  const len = n2.attributes.length;\n  for (let i2 = 0; i2 < len; i2++) {\n    const attr = n2.attributes[i2];\n    if (!ignoreAttribute(tagName, attr.name, attr.value)) {\n      attributes[attr.name] = transformAttribute(\n        doc,\n        tagName,\n        toLowerCase(attr.name),\n        attr.value\n      );\n    }\n  }\n  if (tagName === \"link\" && inlineStylesheet) {\n    const stylesheet = Array.from(doc.styleSheets).find((s2) => {\n      return s2.href === n2.href;\n    });\n    let cssText = null;\n    if (stylesheet) {\n      cssText = stringifyStylesheet(stylesheet);\n    }\n    if (cssText) {\n      delete attributes.rel;\n      delete attributes.href;\n      attributes._cssText = cssText;\n    }\n  }\n  if (tagName === \"style\" && n2.sheet) {\n    let cssText = stringifyStylesheet(\n      n2.sheet\n    );\n    if (cssText) {\n      if (n2.childNodes.length > 1) {\n        cssText = markCssSplits(cssText, n2);\n      }\n      attributes._cssText = cssText;\n    }\n  }\n  if (tagName === \"input\" || tagName === \"textarea\" || tagName === \"select\") {\n    const value = n2.value;\n    const checked = n2.checked;\n    if (attributes.type !== \"radio\" && attributes.type !== \"checkbox\" && attributes.type !== \"submit\" && attributes.type !== \"button\" && value) {\n      attributes.value = maskInputValue({\n        element: n2,\n        type: getInputType(n2),\n        tagName,\n        value,\n        maskInputOptions,\n        maskInputFn\n      });\n    } else if (checked) {\n      attributes.checked = checked;\n    }\n  }\n  if (tagName === \"option\") {\n    if (n2.selected && !maskInputOptions[\"select\"]) {\n      attributes.selected = true;\n    } else {\n      delete attributes.selected;\n    }\n  }\n  if (tagName === \"dialog\" && n2.open) {\n    attributes.rr_open_mode = n2.matches(\"dialog:modal\") ? \"modal\" : \"non-modal\";\n  }\n  if (tagName === \"canvas\" && recordCanvas) {\n    if (n2.__context === \"2d\") {\n      if (!is2DCanvasBlank(n2)) {\n        attributes.rr_dataURL = n2.toDataURL(\n          dataURLOptions.type,\n          dataURLOptions.quality\n        );\n      }\n    } else if (!(\"__context\" in n2)) {\n      const canvasDataURL = n2.toDataURL(\n        dataURLOptions.type,\n        dataURLOptions.quality\n      );\n      const blankCanvas = doc.createElement(\"canvas\");\n      blankCanvas.width = n2.width;\n      blankCanvas.height = n2.height;\n      const blankCanvasDataURL = blankCanvas.toDataURL(\n        dataURLOptions.type,\n        dataURLOptions.quality\n      );\n      if (canvasDataURL !== blankCanvasDataURL) {\n        attributes.rr_dataURL = canvasDataURL;\n      }\n    }\n  }\n  if (tagName === \"img\" && inlineImages) {\n    if (!canvasService) {\n      canvasService = doc.createElement(\"canvas\");\n      canvasCtx = canvasService.getContext(\"2d\");\n    }\n    const image = n2;\n    const imageSrc = image.currentSrc || image.getAttribute(\"src\") || \"<unknown-src>\";\n    const priorCrossOrigin = image.crossOrigin;\n    const recordInlineImage = () => {\n      image.removeEventListener(\"load\", recordInlineImage);\n      try {\n        canvasService.width = image.naturalWidth;\n        canvasService.height = image.naturalHeight;\n        canvasCtx.drawImage(image, 0, 0);\n        attributes.rr_dataURL = canvasService.toDataURL(\n          dataURLOptions.type,\n          dataURLOptions.quality\n        );\n      } catch (err) {\n        if (image.crossOrigin !== \"anonymous\") {\n          image.crossOrigin = \"anonymous\";\n          if (image.complete && image.naturalWidth !== 0)\n            recordInlineImage();\n          else image.addEventListener(\"load\", recordInlineImage);\n          return;\n        } else {\n          console.warn(\n            `Cannot inline img src=${imageSrc}! Error: ${err}`\n          );\n        }\n      }\n      if (image.crossOrigin === \"anonymous\") {\n        priorCrossOrigin ? attributes.crossOrigin = priorCrossOrigin : image.removeAttribute(\"crossorigin\");\n      }\n    };\n    if (image.complete && image.naturalWidth !== 0) recordInlineImage();\n    else image.addEventListener(\"load\", recordInlineImage);\n  }\n  if (tagName === \"audio\" || tagName === \"video\") {\n    const mediaAttributes = attributes;\n    mediaAttributes.rr_mediaState = n2.paused ? \"paused\" : \"played\";\n    mediaAttributes.rr_mediaCurrentTime = n2.currentTime;\n    mediaAttributes.rr_mediaPlaybackRate = n2.playbackRate;\n    mediaAttributes.rr_mediaMuted = n2.muted;\n    mediaAttributes.rr_mediaLoop = n2.loop;\n    mediaAttributes.rr_mediaVolume = n2.volume;\n  }\n  if (!newlyAddedElement) {\n    if (n2.scrollLeft) {\n      attributes.rr_scrollLeft = n2.scrollLeft;\n    }\n    if (n2.scrollTop) {\n      attributes.rr_scrollTop = n2.scrollTop;\n    }\n  }\n  if (needBlock) {\n    const { width, height } = n2.getBoundingClientRect();\n    attributes = {\n      class: attributes.class,\n      rr_width: `${width}px`,\n      rr_height: `${height}px`\n    };\n  }\n  if (tagName === \"iframe\" && !keepIframeSrcFn(attributes.src)) {\n    if (!n2.contentDocument) {\n      attributes.rr_src = attributes.src;\n    }\n    delete attributes.src;\n  }\n  let isCustomElement;\n  try {\n    if (customElements.get(tagName)) isCustomElement = true;\n  } catch (e2) {\n  }\n  return {\n    type: NodeType$3.Element,\n    tagName,\n    attributes,\n    childNodes: [],\n    isSVG: isSVGElement(n2) || void 0,\n    needBlock,\n    rootId,\n    isCustom: isCustomElement\n  };\n}\nfunction lowerIfExists(maybeAttr) {\n  if (maybeAttr === void 0 || maybeAttr === null) {\n    return \"\";\n  } else {\n    return maybeAttr.toLowerCase();\n  }\n}\nfunction slimDOMExcluded(sn, slimDOMOptions) {\n  if (slimDOMOptions.comment && sn.type === NodeType$3.Comment) {\n    return true;\n  } else if (sn.type === NodeType$3.Element) {\n    if (slimDOMOptions.script && // script tag\n    (sn.tagName === \"script\" || // (module)preload link\n    sn.tagName === \"link\" && (sn.attributes.rel === \"preload\" || sn.attributes.rel === \"modulepreload\") && sn.attributes.as === \"script\" || // prefetch link\n    sn.tagName === \"link\" && sn.attributes.rel === \"prefetch\" && typeof sn.attributes.href === \"string\" && extractFileExtension(sn.attributes.href) === \"js\")) {\n      return true;\n    } else if (slimDOMOptions.headFavicon && (sn.tagName === \"link\" && sn.attributes.rel === \"shortcut icon\" || sn.tagName === \"meta\" && (lowerIfExists(sn.attributes.name).match(\n      /^msapplication-tile(image|color)$/\n    ) || lowerIfExists(sn.attributes.name) === \"application-name\" || lowerIfExists(sn.attributes.rel) === \"icon\" || lowerIfExists(sn.attributes.rel) === \"apple-touch-icon\" || lowerIfExists(sn.attributes.rel) === \"shortcut icon\"))) {\n      return true;\n    } else if (sn.tagName === \"meta\") {\n      if (slimDOMOptions.headMetaDescKeywords && lowerIfExists(sn.attributes.name).match(/^description|keywords$/)) {\n        return true;\n      } else if (slimDOMOptions.headMetaSocial && (lowerIfExists(sn.attributes.property).match(/^(og|twitter|fb):/) || // og = opengraph (facebook)\n      lowerIfExists(sn.attributes.name).match(/^(og|twitter):/) || lowerIfExists(sn.attributes.name) === \"pinterest\")) {\n        return true;\n      } else if (slimDOMOptions.headMetaRobots && (lowerIfExists(sn.attributes.name) === \"robots\" || lowerIfExists(sn.attributes.name) === \"googlebot\" || lowerIfExists(sn.attributes.name) === \"bingbot\")) {\n        return true;\n      } else if (slimDOMOptions.headMetaHttpEquiv && sn.attributes[\"http-equiv\"] !== void 0) {\n        return true;\n      } else if (slimDOMOptions.headMetaAuthorship && (lowerIfExists(sn.attributes.name) === \"author\" || lowerIfExists(sn.attributes.name) === \"generator\" || lowerIfExists(sn.attributes.name) === \"framework\" || lowerIfExists(sn.attributes.name) === \"publisher\" || lowerIfExists(sn.attributes.name) === \"progid\" || lowerIfExists(sn.attributes.property).match(/^article:/) || lowerIfExists(sn.attributes.property).match(/^product:/))) {\n        return true;\n      } else if (slimDOMOptions.headMetaVerification && (lowerIfExists(sn.attributes.name) === \"google-site-verification\" || lowerIfExists(sn.attributes.name) === \"yandex-verification\" || lowerIfExists(sn.attributes.name) === \"csrf-token\" || lowerIfExists(sn.attributes.name) === \"p:domain_verify\" || lowerIfExists(sn.attributes.name) === \"verify-v1\" || lowerIfExists(sn.attributes.name) === \"verification\" || lowerIfExists(sn.attributes.name) === \"shopify-checkout-api-token\")) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\nfunction serializeNodeWithId(n2, options) {\n  const {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    maskTextClass,\n    maskTextSelector,\n    skipChild = false,\n    inlineStylesheet = true,\n    maskInputOptions = {},\n    maskTextFn,\n    maskInputFn,\n    slimDOMOptions,\n    dataURLOptions = {},\n    inlineImages = false,\n    recordCanvas = false,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout = 5e3,\n    onStylesheetLoad,\n    stylesheetLoadTimeout = 5e3,\n    keepIframeSrcFn = () => false,\n    newlyAddedElement = false,\n    cssCaptured = false\n  } = options;\n  let { needsMask } = options;\n  let { preserveWhiteSpace = true } = options;\n  if (!needsMask) {\n    const checkAncestors = needsMask === void 0;\n    needsMask = needMaskingText(\n      n2,\n      maskTextClass,\n      maskTextSelector,\n      checkAncestors\n    );\n  }\n  const _serializedNode = serializeNode(n2, {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    needsMask,\n    inlineStylesheet,\n    maskInputOptions,\n    maskTextFn,\n    maskInputFn,\n    dataURLOptions,\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement,\n    cssCaptured\n  });\n  if (!_serializedNode) {\n    console.warn(n2, \"not serialized\");\n    return null;\n  }\n  let id;\n  if (mirror2.hasNode(n2)) {\n    id = mirror2.getId(n2);\n  } else if (slimDOMExcluded(_serializedNode, slimDOMOptions) || !preserveWhiteSpace && _serializedNode.type === NodeType$3.Text && !_serializedNode.textContent.replace(/^\\s+|\\s+$/gm, \"\").length) {\n    id = IGNORED_NODE;\n  } else {\n    id = genId();\n  }\n  const serializedNode = Object.assign(_serializedNode, { id });\n  mirror2.add(n2, serializedNode);\n  if (id === IGNORED_NODE) {\n    return null;\n  }\n  if (onSerialize) {\n    onSerialize(n2);\n  }\n  let recordChild = !skipChild;\n  if (serializedNode.type === NodeType$3.Element) {\n    recordChild = recordChild && !serializedNode.needBlock;\n    delete serializedNode.needBlock;\n    const shadowRootEl = index$1.shadowRoot(n2);\n    if (shadowRootEl && isNativeShadowDom(shadowRootEl))\n      serializedNode.isShadowHost = true;\n  }\n  if ((serializedNode.type === NodeType$3.Document || serializedNode.type === NodeType$3.Element) && recordChild) {\n    if (slimDOMOptions.headWhitespace && serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"head\") {\n      preserveWhiteSpace = false;\n    }\n    const bypassOptions = {\n      doc,\n      mirror: mirror2,\n      blockClass,\n      blockSelector,\n      needsMask,\n      maskTextClass,\n      maskTextSelector,\n      skipChild,\n      inlineStylesheet,\n      maskInputOptions,\n      maskTextFn,\n      maskInputFn,\n      slimDOMOptions,\n      dataURLOptions,\n      inlineImages,\n      recordCanvas,\n      preserveWhiteSpace,\n      onSerialize,\n      onIframeLoad,\n      iframeLoadTimeout,\n      onStylesheetLoad,\n      stylesheetLoadTimeout,\n      keepIframeSrcFn,\n      cssCaptured: false\n    };\n    if (serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"textarea\" && serializedNode.attributes.value !== void 0) ;\n    else {\n      if (serializedNode.type === NodeType$3.Element && serializedNode.attributes._cssText !== void 0 && typeof serializedNode.attributes._cssText === \"string\") {\n        bypassOptions.cssCaptured = true;\n      }\n      for (const childN of Array.from(index$1.childNodes(n2))) {\n        const serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n        if (serializedChildNode) {\n          serializedNode.childNodes.push(serializedChildNode);\n        }\n      }\n    }\n    let shadowRootEl = null;\n    if (isElement(n2) && (shadowRootEl = index$1.shadowRoot(n2))) {\n      for (const childN of Array.from(index$1.childNodes(shadowRootEl))) {\n        const serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n        if (serializedChildNode) {\n          isNativeShadowDom(shadowRootEl) && (serializedChildNode.isShadow = true);\n          serializedNode.childNodes.push(serializedChildNode);\n        }\n      }\n    }\n  }\n  const parent = index$1.parentNode(n2);\n  if (parent && isShadowRoot(parent) && isNativeShadowDom(parent)) {\n    serializedNode.isShadow = true;\n  }\n  if (serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"iframe\") {\n    onceIframeLoaded(\n      n2,\n      () => {\n        const iframeDoc = n2.contentDocument;\n        if (iframeDoc && onIframeLoad) {\n          const serializedIframeNode = serializeNodeWithId(iframeDoc, {\n            doc: iframeDoc,\n            mirror: mirror2,\n            blockClass,\n            blockSelector,\n            needsMask,\n            maskTextClass,\n            maskTextSelector,\n            skipChild: false,\n            inlineStylesheet,\n            maskInputOptions,\n            maskTextFn,\n            maskInputFn,\n            slimDOMOptions,\n            dataURLOptions,\n            inlineImages,\n            recordCanvas,\n            preserveWhiteSpace,\n            onSerialize,\n            onIframeLoad,\n            iframeLoadTimeout,\n            onStylesheetLoad,\n            stylesheetLoadTimeout,\n            keepIframeSrcFn\n          });\n          if (serializedIframeNode) {\n            onIframeLoad(\n              n2,\n              serializedIframeNode\n            );\n          }\n        }\n      },\n      iframeLoadTimeout\n    );\n  }\n  if (serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"link\" && typeof serializedNode.attributes.rel === \"string\" && (serializedNode.attributes.rel === \"stylesheet\" || serializedNode.attributes.rel === \"preload\" && typeof serializedNode.attributes.href === \"string\" && extractFileExtension(serializedNode.attributes.href) === \"css\")) {\n    onceStylesheetLoaded(\n      n2,\n      () => {\n        if (onStylesheetLoad) {\n          const serializedLinkNode = serializeNodeWithId(n2, {\n            doc,\n            mirror: mirror2,\n            blockClass,\n            blockSelector,\n            needsMask,\n            maskTextClass,\n            maskTextSelector,\n            skipChild: false,\n            inlineStylesheet,\n            maskInputOptions,\n            maskTextFn,\n            maskInputFn,\n            slimDOMOptions,\n            dataURLOptions,\n            inlineImages,\n            recordCanvas,\n            preserveWhiteSpace,\n            onSerialize,\n            onIframeLoad,\n            iframeLoadTimeout,\n            onStylesheetLoad,\n            stylesheetLoadTimeout,\n            keepIframeSrcFn\n          });\n          if (serializedLinkNode) {\n            onStylesheetLoad(\n              n2,\n              serializedLinkNode\n            );\n          }\n        }\n      },\n      stylesheetLoadTimeout\n    );\n  }\n  return serializedNode;\n}\nfunction snapshot(n2, options) {\n  const {\n    mirror: mirror2 = new Mirror(),\n    blockClass = \"rr-block\",\n    blockSelector = null,\n    maskTextClass = \"rr-mask\",\n    maskTextSelector = null,\n    inlineStylesheet = true,\n    inlineImages = false,\n    recordCanvas = false,\n    maskAllInputs = false,\n    maskTextFn,\n    maskInputFn,\n    slimDOM = false,\n    dataURLOptions,\n    preserveWhiteSpace,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout,\n    onStylesheetLoad,\n    stylesheetLoadTimeout,\n    keepIframeSrcFn = () => false\n  } = options || {};\n  const maskInputOptions = maskAllInputs === true ? {\n    color: true,\n    date: true,\n    \"datetime-local\": true,\n    email: true,\n    month: true,\n    number: true,\n    range: true,\n    search: true,\n    tel: true,\n    text: true,\n    time: true,\n    url: true,\n    week: true,\n    textarea: true,\n    select: true,\n    password: true\n  } : maskAllInputs === false ? {\n    password: true\n  } : maskAllInputs;\n  const slimDOMOptions = slimDOM === true || slimDOM === \"all\" ? (\n    // if true: set of sensible options that should not throw away any information\n    {\n      script: true,\n      comment: true,\n      headFavicon: true,\n      headWhitespace: true,\n      headMetaDescKeywords: slimDOM === \"all\",\n      // destructive\n      headMetaSocial: true,\n      headMetaRobots: true,\n      headMetaHttpEquiv: true,\n      headMetaAuthorship: true,\n      headMetaVerification: true\n    }\n  ) : slimDOM === false ? {} : slimDOM;\n  return serializeNodeWithId(n2, {\n    doc: n2,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    maskTextClass,\n    maskTextSelector,\n    skipChild: false,\n    inlineStylesheet,\n    maskInputOptions,\n    maskTextFn,\n    maskInputFn,\n    slimDOMOptions,\n    dataURLOptions,\n    inlineImages,\n    recordCanvas,\n    preserveWhiteSpace,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout,\n    onStylesheetLoad,\n    stylesheetLoadTimeout,\n    keepIframeSrcFn,\n    newlyAddedElement: false\n  });\n}\nfunction getDefaultExportFromCjs$1(x2) {\n  return x2 && x2.__esModule && Object.prototype.hasOwnProperty.call(x2, \"default\") ? x2[\"default\"] : x2;\n}\nfunction getAugmentedNamespace$1(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\nvar picocolors_browser$1 = { exports: {} };\nvar x$1 = String;\nvar create$1 = function() {\n  return { isColorSupported: false, reset: x$1, bold: x$1, dim: x$1, italic: x$1, underline: x$1, inverse: x$1, hidden: x$1, strikethrough: x$1, black: x$1, red: x$1, green: x$1, yellow: x$1, blue: x$1, magenta: x$1, cyan: x$1, white: x$1, gray: x$1, bgBlack: x$1, bgRed: x$1, bgGreen: x$1, bgYellow: x$1, bgBlue: x$1, bgMagenta: x$1, bgCyan: x$1, bgWhite: x$1 };\n};\npicocolors_browser$1.exports = create$1();\npicocolors_browser$1.exports.createColors = create$1;\nvar picocolors_browserExports$1 = picocolors_browser$1.exports;\nconst __viteBrowserExternal$2 = {};\nconst __viteBrowserExternal$1$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: __viteBrowserExternal$2\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst require$$2$1 = /* @__PURE__ */ getAugmentedNamespace$1(__viteBrowserExternal$1$1);\nlet pico$1 = picocolors_browserExports$1;\nlet terminalHighlight$1$1 = require$$2$1;\nlet CssSyntaxError$3$1 = class CssSyntaxError extends Error {\n  constructor(message, line, column, source, file, plugin22) {\n    super(message);\n    this.name = \"CssSyntaxError\";\n    this.reason = message;\n    if (file) {\n      this.file = file;\n    }\n    if (source) {\n      this.source = source;\n    }\n    if (plugin22) {\n      this.plugin = plugin22;\n    }\n    if (typeof line !== \"undefined\" && typeof column !== \"undefined\") {\n      if (typeof line === \"number\") {\n        this.line = line;\n        this.column = column;\n      } else {\n        this.line = line.line;\n        this.column = line.column;\n        this.endLine = column.line;\n        this.endColumn = column.column;\n      }\n    }\n    this.setMessage();\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, CssSyntaxError);\n    }\n  }\n  setMessage() {\n    this.message = this.plugin ? this.plugin + \": \" : \"\";\n    this.message += this.file ? this.file : \"<css input>\";\n    if (typeof this.line !== \"undefined\") {\n      this.message += \":\" + this.line + \":\" + this.column;\n    }\n    this.message += \": \" + this.reason;\n  }\n  showSourceCode(color) {\n    if (!this.source) return \"\";\n    let css = this.source;\n    if (color == null) color = pico$1.isColorSupported;\n    if (terminalHighlight$1$1) {\n      if (color) css = terminalHighlight$1$1(css);\n    }\n    let lines = css.split(/\\r?\\n/);\n    let start = Math.max(this.line - 3, 0);\n    let end = Math.min(this.line + 2, lines.length);\n    let maxWidth = String(end).length;\n    let mark, aside;\n    if (color) {\n      let { bold, gray, red } = pico$1.createColors(true);\n      mark = (text) => bold(red(text));\n      aside = (text) => gray(text);\n    } else {\n      mark = aside = (str) => str;\n    }\n    return lines.slice(start, end).map((line, index2) => {\n      let number = start + 1 + index2;\n      let gutter = \" \" + (\" \" + number).slice(-maxWidth) + \" | \";\n      if (number === this.line) {\n        let spacing = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, this.column - 1).replace(/[^\\t]/g, \" \");\n        return mark(\">\") + aside(gutter) + line + \"\\n \" + spacing + mark(\"^\");\n      }\n      return \" \" + aside(gutter) + line;\n    }).join(\"\\n\");\n  }\n  toString() {\n    let code = this.showSourceCode();\n    if (code) {\n      code = \"\\n\\n\" + code + \"\\n\";\n    }\n    return this.name + \": \" + this.message + code;\n  }\n};\nvar cssSyntaxError$1 = CssSyntaxError$3$1;\nCssSyntaxError$3$1.default = CssSyntaxError$3$1;\nvar symbols$1 = {};\nsymbols$1.isClean = Symbol(\"isClean\");\nsymbols$1.my = Symbol(\"my\");\nconst DEFAULT_RAW$1 = {\n  after: \"\\n\",\n  beforeClose: \"\\n\",\n  beforeComment: \"\\n\",\n  beforeDecl: \"\\n\",\n  beforeOpen: \" \",\n  beforeRule: \"\\n\",\n  colon: \": \",\n  commentLeft: \" \",\n  commentRight: \" \",\n  emptyBody: \"\",\n  indent: \"    \",\n  semicolon: false\n};\nfunction capitalize$1(str) {\n  return str[0].toUpperCase() + str.slice(1);\n}\nlet Stringifier$2$1 = class Stringifier {\n  constructor(builder) {\n    this.builder = builder;\n  }\n  atrule(node2, semicolon) {\n    let name = \"@\" + node2.name;\n    let params = node2.params ? this.rawValue(node2, \"params\") : \"\";\n    if (typeof node2.raws.afterName !== \"undefined\") {\n      name += node2.raws.afterName;\n    } else if (params) {\n      name += \" \";\n    }\n    if (node2.nodes) {\n      this.block(node2, name + params);\n    } else {\n      let end = (node2.raws.between || \"\") + (semicolon ? \";\" : \"\");\n      this.builder(name + params + end, node2);\n    }\n  }\n  beforeAfter(node2, detect) {\n    let value;\n    if (node2.type === \"decl\") {\n      value = this.raw(node2, null, \"beforeDecl\");\n    } else if (node2.type === \"comment\") {\n      value = this.raw(node2, null, \"beforeComment\");\n    } else if (detect === \"before\") {\n      value = this.raw(node2, null, \"beforeRule\");\n    } else {\n      value = this.raw(node2, null, \"beforeClose\");\n    }\n    let buf = node2.parent;\n    let depth = 0;\n    while (buf && buf.type !== \"root\") {\n      depth += 1;\n      buf = buf.parent;\n    }\n    if (value.includes(\"\\n\")) {\n      let indent = this.raw(node2, null, \"indent\");\n      if (indent.length) {\n        for (let step = 0; step < depth; step++) value += indent;\n      }\n    }\n    return value;\n  }\n  block(node2, start) {\n    let between = this.raw(node2, \"between\", \"beforeOpen\");\n    this.builder(start + between + \"{\", node2, \"start\");\n    let after;\n    if (node2.nodes && node2.nodes.length) {\n      this.body(node2);\n      after = this.raw(node2, \"after\");\n    } else {\n      after = this.raw(node2, \"after\", \"emptyBody\");\n    }\n    if (after) this.builder(after);\n    this.builder(\"}\", node2, \"end\");\n  }\n  body(node2) {\n    let last = node2.nodes.length - 1;\n    while (last > 0) {\n      if (node2.nodes[last].type !== \"comment\") break;\n      last -= 1;\n    }\n    let semicolon = this.raw(node2, \"semicolon\");\n    for (let i2 = 0; i2 < node2.nodes.length; i2++) {\n      let child = node2.nodes[i2];\n      let before = this.raw(child, \"before\");\n      if (before) this.builder(before);\n      this.stringify(child, last !== i2 || semicolon);\n    }\n  }\n  comment(node2) {\n    let left = this.raw(node2, \"left\", \"commentLeft\");\n    let right = this.raw(node2, \"right\", \"commentRight\");\n    this.builder(\"/*\" + left + node2.text + right + \"*/\", node2);\n  }\n  decl(node2, semicolon) {\n    let between = this.raw(node2, \"between\", \"colon\");\n    let string = node2.prop + between + this.rawValue(node2, \"value\");\n    if (node2.important) {\n      string += node2.raws.important || \" !important\";\n    }\n    if (semicolon) string += \";\";\n    this.builder(string, node2);\n  }\n  document(node2) {\n    this.body(node2);\n  }\n  raw(node2, own, detect) {\n    let value;\n    if (!detect) detect = own;\n    if (own) {\n      value = node2.raws[own];\n      if (typeof value !== \"undefined\") return value;\n    }\n    let parent = node2.parent;\n    if (detect === \"before\") {\n      if (!parent || parent.type === \"root\" && parent.first === node2) {\n        return \"\";\n      }\n      if (parent && parent.type === \"document\") {\n        return \"\";\n      }\n    }\n    if (!parent) return DEFAULT_RAW$1[detect];\n    let root2 = node2.root();\n    if (!root2.rawCache) root2.rawCache = {};\n    if (typeof root2.rawCache[detect] !== \"undefined\") {\n      return root2.rawCache[detect];\n    }\n    if (detect === \"before\" || detect === \"after\") {\n      return this.beforeAfter(node2, detect);\n    } else {\n      let method = \"raw\" + capitalize$1(detect);\n      if (this[method]) {\n        value = this[method](root2, node2);\n      } else {\n        root2.walk((i2) => {\n          value = i2.raws[own];\n          if (typeof value !== \"undefined\") return false;\n        });\n      }\n    }\n    if (typeof value === \"undefined\") value = DEFAULT_RAW$1[detect];\n    root2.rawCache[detect] = value;\n    return value;\n  }\n  rawBeforeClose(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length > 0) {\n        if (typeof i2.raws.after !== \"undefined\") {\n          value = i2.raws.after;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      }\n    });\n    if (value) value = value.replace(/\\S/g, \"\");\n    return value;\n  }\n  rawBeforeComment(root2, node2) {\n    let value;\n    root2.walkComments((i2) => {\n      if (typeof i2.raws.before !== \"undefined\") {\n        value = i2.raws.before;\n        if (value.includes(\"\\n\")) {\n          value = value.replace(/[^\\n]+$/, \"\");\n        }\n        return false;\n      }\n    });\n    if (typeof value === \"undefined\") {\n      value = this.raw(node2, null, \"beforeDecl\");\n    } else if (value) {\n      value = value.replace(/\\S/g, \"\");\n    }\n    return value;\n  }\n  rawBeforeDecl(root2, node2) {\n    let value;\n    root2.walkDecls((i2) => {\n      if (typeof i2.raws.before !== \"undefined\") {\n        value = i2.raws.before;\n        if (value.includes(\"\\n\")) {\n          value = value.replace(/[^\\n]+$/, \"\");\n        }\n        return false;\n      }\n    });\n    if (typeof value === \"undefined\") {\n      value = this.raw(node2, null, \"beforeRule\");\n    } else if (value) {\n      value = value.replace(/\\S/g, \"\");\n    }\n    return value;\n  }\n  rawBeforeOpen(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.type !== \"decl\") {\n        value = i2.raws.between;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawBeforeRule(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && (i2.parent !== root2 || root2.first !== i2)) {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      }\n    });\n    if (value) value = value.replace(/\\S/g, \"\");\n    return value;\n  }\n  rawColon(root2) {\n    let value;\n    root2.walkDecls((i2) => {\n      if (typeof i2.raws.between !== \"undefined\") {\n        value = i2.raws.between.replace(/[^\\s:]/g, \"\");\n        return false;\n      }\n    });\n    return value;\n  }\n  rawEmptyBody(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length === 0) {\n        value = i2.raws.after;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawIndent(root2) {\n    if (root2.raws.indent) return root2.raws.indent;\n    let value;\n    root2.walk((i2) => {\n      let p = i2.parent;\n      if (p && p !== root2 && p.parent && p.parent === root2) {\n        if (typeof i2.raws.before !== \"undefined\") {\n          let parts = i2.raws.before.split(\"\\n\");\n          value = parts[parts.length - 1];\n          value = value.replace(/\\S/g, \"\");\n          return false;\n        }\n      }\n    });\n    return value;\n  }\n  rawSemicolon(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length && i2.last.type === \"decl\") {\n        value = i2.raws.semicolon;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawValue(node2, prop) {\n    let value = node2[prop];\n    let raw = node2.raws[prop];\n    if (raw && raw.value === value) {\n      return raw.raw;\n    }\n    return value;\n  }\n  root(node2) {\n    this.body(node2);\n    if (node2.raws.after) this.builder(node2.raws.after);\n  }\n  rule(node2) {\n    this.block(node2, this.rawValue(node2, \"selector\"));\n    if (node2.raws.ownSemicolon) {\n      this.builder(node2.raws.ownSemicolon, node2, \"end\");\n    }\n  }\n  stringify(node2, semicolon) {\n    if (!this[node2.type]) {\n      throw new Error(\n        \"Unknown AST node type \" + node2.type + \". Maybe you need to change PostCSS stringifier.\"\n      );\n    }\n    this[node2.type](node2, semicolon);\n  }\n};\nvar stringifier$1 = Stringifier$2$1;\nStringifier$2$1.default = Stringifier$2$1;\nlet Stringifier$1$1 = stringifier$1;\nfunction stringify$4$1(node2, builder) {\n  let str = new Stringifier$1$1(builder);\n  str.stringify(node2);\n}\nvar stringify_1$1 = stringify$4$1;\nstringify$4$1.default = stringify$4$1;\nlet { isClean: isClean$2$1, my: my$2$1 } = symbols$1;\nlet CssSyntaxError$2$1 = cssSyntaxError$1;\nlet Stringifier2$1 = stringifier$1;\nlet stringify$3$1 = stringify_1$1;\nfunction cloneNode$1(obj, parent) {\n  let cloned = new obj.constructor();\n  for (let i2 in obj) {\n    if (!Object.prototype.hasOwnProperty.call(obj, i2)) {\n      continue;\n    }\n    if (i2 === \"proxyCache\") continue;\n    let value = obj[i2];\n    let type = typeof value;\n    if (i2 === \"parent\" && type === \"object\") {\n      if (parent) cloned[i2] = parent;\n    } else if (i2 === \"source\") {\n      cloned[i2] = value;\n    } else if (Array.isArray(value)) {\n      cloned[i2] = value.map((j) => cloneNode$1(j, cloned));\n    } else {\n      if (type === \"object\" && value !== null) value = cloneNode$1(value);\n      cloned[i2] = value;\n    }\n  }\n  return cloned;\n}\nlet Node$4$1 = class Node2 {\n  constructor(defaults = {}) {\n    this.raws = {};\n    this[isClean$2$1] = false;\n    this[my$2$1] = true;\n    for (let name in defaults) {\n      if (name === \"nodes\") {\n        this.nodes = [];\n        for (let node2 of defaults[name]) {\n          if (typeof node2.clone === \"function\") {\n            this.append(node2.clone());\n          } else {\n            this.append(node2);\n          }\n        }\n      } else {\n        this[name] = defaults[name];\n      }\n    }\n  }\n  addToError(error) {\n    error.postcssNode = this;\n    if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n      let s2 = this.source;\n      error.stack = error.stack.replace(\n        /\\n\\s{4}at /,\n        `$&${s2.input.from}:${s2.start.line}:${s2.start.column}$&`\n      );\n    }\n    return error;\n  }\n  after(add) {\n    this.parent.insertAfter(this, add);\n    return this;\n  }\n  assign(overrides = {}) {\n    for (let name in overrides) {\n      this[name] = overrides[name];\n    }\n    return this;\n  }\n  before(add) {\n    this.parent.insertBefore(this, add);\n    return this;\n  }\n  cleanRaws(keepBetween) {\n    delete this.raws.before;\n    delete this.raws.after;\n    if (!keepBetween) delete this.raws.between;\n  }\n  clone(overrides = {}) {\n    let cloned = cloneNode$1(this);\n    for (let name in overrides) {\n      cloned[name] = overrides[name];\n    }\n    return cloned;\n  }\n  cloneAfter(overrides = {}) {\n    let cloned = this.clone(overrides);\n    this.parent.insertAfter(this, cloned);\n    return cloned;\n  }\n  cloneBefore(overrides = {}) {\n    let cloned = this.clone(overrides);\n    this.parent.insertBefore(this, cloned);\n    return cloned;\n  }\n  error(message, opts = {}) {\n    if (this.source) {\n      let { end, start } = this.rangeBy(opts);\n      return this.source.input.error(\n        message,\n        { column: start.column, line: start.line },\n        { column: end.column, line: end.line },\n        opts\n      );\n    }\n    return new CssSyntaxError$2$1(message);\n  }\n  getProxyProcessor() {\n    return {\n      get(node2, prop) {\n        if (prop === \"proxyOf\") {\n          return node2;\n        } else if (prop === \"root\") {\n          return () => node2.root().toProxy();\n        } else {\n          return node2[prop];\n        }\n      },\n      set(node2, prop, value) {\n        if (node2[prop] === value) return true;\n        node2[prop] = value;\n        if (prop === \"prop\" || prop === \"value\" || prop === \"name\" || prop === \"params\" || prop === \"important\" || /* c8 ignore next */\n        prop === \"text\") {\n          node2.markDirty();\n        }\n        return true;\n      }\n    };\n  }\n  markDirty() {\n    if (this[isClean$2$1]) {\n      this[isClean$2$1] = false;\n      let next = this;\n      while (next = next.parent) {\n        next[isClean$2$1] = false;\n      }\n    }\n  }\n  next() {\n    if (!this.parent) return void 0;\n    let index2 = this.parent.index(this);\n    return this.parent.nodes[index2 + 1];\n  }\n  positionBy(opts, stringRepresentation) {\n    let pos = this.source.start;\n    if (opts.index) {\n      pos = this.positionInside(opts.index, stringRepresentation);\n    } else if (opts.word) {\n      stringRepresentation = this.toString();\n      let index2 = stringRepresentation.indexOf(opts.word);\n      if (index2 !== -1) pos = this.positionInside(index2, stringRepresentation);\n    }\n    return pos;\n  }\n  positionInside(index2, stringRepresentation) {\n    let string = stringRepresentation || this.toString();\n    let column = this.source.start.column;\n    let line = this.source.start.line;\n    for (let i2 = 0; i2 < index2; i2++) {\n      if (string[i2] === \"\\n\") {\n        column = 1;\n        line += 1;\n      } else {\n        column += 1;\n      }\n    }\n    return { column, line };\n  }\n  prev() {\n    if (!this.parent) return void 0;\n    let index2 = this.parent.index(this);\n    return this.parent.nodes[index2 - 1];\n  }\n  rangeBy(opts) {\n    let start = {\n      column: this.source.start.column,\n      line: this.source.start.line\n    };\n    let end = this.source.end ? {\n      column: this.source.end.column + 1,\n      line: this.source.end.line\n    } : {\n      column: start.column + 1,\n      line: start.line\n    };\n    if (opts.word) {\n      let stringRepresentation = this.toString();\n      let index2 = stringRepresentation.indexOf(opts.word);\n      if (index2 !== -1) {\n        start = this.positionInside(index2, stringRepresentation);\n        end = this.positionInside(index2 + opts.word.length, stringRepresentation);\n      }\n    } else {\n      if (opts.start) {\n        start = {\n          column: opts.start.column,\n          line: opts.start.line\n        };\n      } else if (opts.index) {\n        start = this.positionInside(opts.index);\n      }\n      if (opts.end) {\n        end = {\n          column: opts.end.column,\n          line: opts.end.line\n        };\n      } else if (typeof opts.endIndex === \"number\") {\n        end = this.positionInside(opts.endIndex);\n      } else if (opts.index) {\n        end = this.positionInside(opts.index + 1);\n      }\n    }\n    if (end.line < start.line || end.line === start.line && end.column <= start.column) {\n      end = { column: start.column + 1, line: start.line };\n    }\n    return { end, start };\n  }\n  raw(prop, defaultType) {\n    let str = new Stringifier2$1();\n    return str.raw(this, prop, defaultType);\n  }\n  remove() {\n    if (this.parent) {\n      this.parent.removeChild(this);\n    }\n    this.parent = void 0;\n    return this;\n  }\n  replaceWith(...nodes) {\n    if (this.parent) {\n      let bookmark = this;\n      let foundSelf = false;\n      for (let node2 of nodes) {\n        if (node2 === this) {\n          foundSelf = true;\n        } else if (foundSelf) {\n          this.parent.insertAfter(bookmark, node2);\n          bookmark = node2;\n        } else {\n          this.parent.insertBefore(bookmark, node2);\n        }\n      }\n      if (!foundSelf) {\n        this.remove();\n      }\n    }\n    return this;\n  }\n  root() {\n    let result2 = this;\n    while (result2.parent && result2.parent.type !== \"document\") {\n      result2 = result2.parent;\n    }\n    return result2;\n  }\n  toJSON(_, inputs) {\n    let fixed = {};\n    let emitInputs = inputs == null;\n    inputs = inputs || /* @__PURE__ */ new Map();\n    let inputsNextIndex = 0;\n    for (let name in this) {\n      if (!Object.prototype.hasOwnProperty.call(this, name)) {\n        continue;\n      }\n      if (name === \"parent\" || name === \"proxyCache\") continue;\n      let value = this[name];\n      if (Array.isArray(value)) {\n        fixed[name] = value.map((i2) => {\n          if (typeof i2 === \"object\" && i2.toJSON) {\n            return i2.toJSON(null, inputs);\n          } else {\n            return i2;\n          }\n        });\n      } else if (typeof value === \"object\" && value.toJSON) {\n        fixed[name] = value.toJSON(null, inputs);\n      } else if (name === \"source\") {\n        let inputId = inputs.get(value.input);\n        if (inputId == null) {\n          inputId = inputsNextIndex;\n          inputs.set(value.input, inputsNextIndex);\n          inputsNextIndex++;\n        }\n        fixed[name] = {\n          end: value.end,\n          inputId,\n          start: value.start\n        };\n      } else {\n        fixed[name] = value;\n      }\n    }\n    if (emitInputs) {\n      fixed.inputs = [...inputs.keys()].map((input2) => input2.toJSON());\n    }\n    return fixed;\n  }\n  toProxy() {\n    if (!this.proxyCache) {\n      this.proxyCache = new Proxy(this, this.getProxyProcessor());\n    }\n    return this.proxyCache;\n  }\n  toString(stringifier2 = stringify$3$1) {\n    if (stringifier2.stringify) stringifier2 = stringifier2.stringify;\n    let result2 = \"\";\n    stringifier2(this, (i2) => {\n      result2 += i2;\n    });\n    return result2;\n  }\n  warn(result2, text, opts) {\n    let data = { node: this };\n    for (let i2 in opts) data[i2] = opts[i2];\n    return result2.warn(text, data);\n  }\n  get proxyOf() {\n    return this;\n  }\n};\nvar node$1 = Node$4$1;\nNode$4$1.default = Node$4$1;\nlet Node$3$1 = node$1;\nlet Declaration$4$1 = class Declaration extends Node$3$1 {\n  constructor(defaults) {\n    if (defaults && typeof defaults.value !== \"undefined\" && typeof defaults.value !== \"string\") {\n      defaults = { ...defaults, value: String(defaults.value) };\n    }\n    super(defaults);\n    this.type = \"decl\";\n  }\n  get variable() {\n    return this.prop.startsWith(\"--\") || this.prop[0] === \"$\";\n  }\n};\nvar declaration$1 = Declaration$4$1;\nDeclaration$4$1.default = Declaration$4$1;\nlet urlAlphabet$1 = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\nlet customAlphabet$1 = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = \"\";\n    let i2 = size;\n    while (i2--) {\n      id += alphabet[Math.random() * alphabet.length | 0];\n    }\n    return id;\n  };\n};\nlet nanoid$1$1 = (size = 21) => {\n  let id = \"\";\n  let i2 = size;\n  while (i2--) {\n    id += urlAlphabet$1[Math.random() * 64 | 0];\n  }\n  return id;\n};\nvar nonSecure$1 = { nanoid: nanoid$1$1, customAlphabet: customAlphabet$1 };\nlet { SourceMapConsumer: SourceMapConsumer$2$1, SourceMapGenerator: SourceMapGenerator$2$1 } = require$$2$1;\nlet { existsSync: existsSync$1, readFileSync: readFileSync$1 } = require$$2$1;\nlet { dirname: dirname$1$1, join: join$1 } = require$$2$1;\nfunction fromBase64$1(str) {\n  if (Buffer) {\n    return Buffer.from(str, \"base64\").toString();\n  } else {\n    return window.atob(str);\n  }\n}\nlet PreviousMap$2$1 = class PreviousMap {\n  constructor(css, opts) {\n    if (opts.map === false) return;\n    this.loadAnnotation(css);\n    this.inline = this.startWith(this.annotation, \"data:\");\n    let prev = opts.map ? opts.map.prev : void 0;\n    let text = this.loadMap(opts.from, prev);\n    if (!this.mapFile && opts.from) {\n      this.mapFile = opts.from;\n    }\n    if (this.mapFile) this.root = dirname$1$1(this.mapFile);\n    if (text) this.text = text;\n  }\n  consumer() {\n    if (!this.consumerCache) {\n      this.consumerCache = new SourceMapConsumer$2$1(this.text);\n    }\n    return this.consumerCache;\n  }\n  decodeInline(text) {\n    let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/;\n    let baseUri = /^data:application\\/json;base64,/;\n    let charsetUri = /^data:application\\/json;charset=utf-?8,/;\n    let uri = /^data:application\\/json,/;\n    if (charsetUri.test(text) || uri.test(text)) {\n      return decodeURIComponent(text.substr(RegExp.lastMatch.length));\n    }\n    if (baseCharsetUri.test(text) || baseUri.test(text)) {\n      return fromBase64$1(text.substr(RegExp.lastMatch.length));\n    }\n    let encoding = text.match(/data:application\\/json;([^,]+),/)[1];\n    throw new Error(\"Unsupported source map encoding \" + encoding);\n  }\n  getAnnotationURL(sourceMapString) {\n    return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, \"\").trim();\n  }\n  isMap(map) {\n    if (typeof map !== \"object\") return false;\n    return typeof map.mappings === \"string\" || typeof map._mappings === \"string\" || Array.isArray(map.sections);\n  }\n  loadAnnotation(css) {\n    let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/gm);\n    if (!comments) return;\n    let start = css.lastIndexOf(comments.pop());\n    let end = css.indexOf(\"*/\", start);\n    if (start > -1 && end > -1) {\n      this.annotation = this.getAnnotationURL(css.substring(start, end));\n    }\n  }\n  loadFile(path) {\n    this.root = dirname$1$1(path);\n    if (existsSync$1(path)) {\n      this.mapFile = path;\n      return readFileSync$1(path, \"utf-8\").toString().trim();\n    }\n  }\n  loadMap(file, prev) {\n    if (prev === false) return false;\n    if (prev) {\n      if (typeof prev === \"string\") {\n        return prev;\n      } else if (typeof prev === \"function\") {\n        let prevPath = prev(file);\n        if (prevPath) {\n          let map = this.loadFile(prevPath);\n          if (!map) {\n            throw new Error(\n              \"Unable to load previous source map: \" + prevPath.toString()\n            );\n          }\n          return map;\n        }\n      } else if (prev instanceof SourceMapConsumer$2$1) {\n        return SourceMapGenerator$2$1.fromSourceMap(prev).toString();\n      } else if (prev instanceof SourceMapGenerator$2$1) {\n        return prev.toString();\n      } else if (this.isMap(prev)) {\n        return JSON.stringify(prev);\n      } else {\n        throw new Error(\n          \"Unsupported previous source map format: \" + prev.toString()\n        );\n      }\n    } else if (this.inline) {\n      return this.decodeInline(this.annotation);\n    } else if (this.annotation) {\n      let map = this.annotation;\n      if (file) map = join$1(dirname$1$1(file), map);\n      return this.loadFile(map);\n    }\n  }\n  startWith(string, start) {\n    if (!string) return false;\n    return string.substr(0, start.length) === start;\n  }\n  withContent() {\n    return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);\n  }\n};\nvar previousMap$1 = PreviousMap$2$1;\nPreviousMap$2$1.default = PreviousMap$2$1;\nlet { SourceMapConsumer: SourceMapConsumer$1$1, SourceMapGenerator: SourceMapGenerator$1$1 } = require$$2$1;\nlet { fileURLToPath: fileURLToPath$1, pathToFileURL: pathToFileURL$1$1 } = require$$2$1;\nlet { isAbsolute: isAbsolute$1, resolve: resolve$1$1 } = require$$2$1;\nlet { nanoid: nanoid$2 } = nonSecure$1;\nlet terminalHighlight$2 = require$$2$1;\nlet CssSyntaxError$1$1 = cssSyntaxError$1;\nlet PreviousMap$1$1 = previousMap$1;\nlet fromOffsetCache$1 = Symbol(\"fromOffsetCache\");\nlet sourceMapAvailable$1$1 = Boolean(SourceMapConsumer$1$1 && SourceMapGenerator$1$1);\nlet pathAvailable$1$1 = Boolean(resolve$1$1 && isAbsolute$1);\nlet Input$4$1 = class Input {\n  constructor(css, opts = {}) {\n    if (css === null || typeof css === \"undefined\" || typeof css === \"object\" && !css.toString) {\n      throw new Error(`PostCSS received ${css} instead of CSS string`);\n    }\n    this.css = css.toString();\n    if (this.css[0] === \"\\uFEFF\" || this.css[0] === \"\") {\n      this.hasBOM = true;\n      this.css = this.css.slice(1);\n    } else {\n      this.hasBOM = false;\n    }\n    if (opts.from) {\n      if (!pathAvailable$1$1 || /^\\w+:\\/\\//.test(opts.from) || isAbsolute$1(opts.from)) {\n        this.file = opts.from;\n      } else {\n        this.file = resolve$1$1(opts.from);\n      }\n    }\n    if (pathAvailable$1$1 && sourceMapAvailable$1$1) {\n      let map = new PreviousMap$1$1(this.css, opts);\n      if (map.text) {\n        this.map = map;\n        let file = map.consumer().file;\n        if (!this.file && file) this.file = this.mapResolve(file);\n      }\n    }\n    if (!this.file) {\n      this.id = \"<input css \" + nanoid$2(6) + \">\";\n    }\n    if (this.map) this.map.file = this.from;\n  }\n  error(message, line, column, opts = {}) {\n    let result2, endLine, endColumn;\n    if (line && typeof line === \"object\") {\n      let start = line;\n      let end = column;\n      if (typeof start.offset === \"number\") {\n        let pos = this.fromOffset(start.offset);\n        line = pos.line;\n        column = pos.col;\n      } else {\n        line = start.line;\n        column = start.column;\n      }\n      if (typeof end.offset === \"number\") {\n        let pos = this.fromOffset(end.offset);\n        endLine = pos.line;\n        endColumn = pos.col;\n      } else {\n        endLine = end.line;\n        endColumn = end.column;\n      }\n    } else if (!column) {\n      let pos = this.fromOffset(line);\n      line = pos.line;\n      column = pos.col;\n    }\n    let origin = this.origin(line, column, endLine, endColumn);\n    if (origin) {\n      result2 = new CssSyntaxError$1$1(\n        message,\n        origin.endLine === void 0 ? origin.line : { column: origin.column, line: origin.line },\n        origin.endLine === void 0 ? origin.column : { column: origin.endColumn, line: origin.endLine },\n        origin.source,\n        origin.file,\n        opts.plugin\n      );\n    } else {\n      result2 = new CssSyntaxError$1$1(\n        message,\n        endLine === void 0 ? line : { column, line },\n        endLine === void 0 ? column : { column: endColumn, line: endLine },\n        this.css,\n        this.file,\n        opts.plugin\n      );\n    }\n    result2.input = { column, endColumn, endLine, line, source: this.css };\n    if (this.file) {\n      if (pathToFileURL$1$1) {\n        result2.input.url = pathToFileURL$1$1(this.file).toString();\n      }\n      result2.input.file = this.file;\n    }\n    return result2;\n  }\n  fromOffset(offset) {\n    let lastLine, lineToIndex;\n    if (!this[fromOffsetCache$1]) {\n      let lines = this.css.split(\"\\n\");\n      lineToIndex = new Array(lines.length);\n      let prevIndex = 0;\n      for (let i2 = 0, l2 = lines.length; i2 < l2; i2++) {\n        lineToIndex[i2] = prevIndex;\n        prevIndex += lines[i2].length + 1;\n      }\n      this[fromOffsetCache$1] = lineToIndex;\n    } else {\n      lineToIndex = this[fromOffsetCache$1];\n    }\n    lastLine = lineToIndex[lineToIndex.length - 1];\n    let min = 0;\n    if (offset >= lastLine) {\n      min = lineToIndex.length - 1;\n    } else {\n      let max = lineToIndex.length - 2;\n      let mid;\n      while (min < max) {\n        mid = min + (max - min >> 1);\n        if (offset < lineToIndex[mid]) {\n          max = mid - 1;\n        } else if (offset >= lineToIndex[mid + 1]) {\n          min = mid + 1;\n        } else {\n          min = mid;\n          break;\n        }\n      }\n    }\n    return {\n      col: offset - lineToIndex[min] + 1,\n      line: min + 1\n    };\n  }\n  mapResolve(file) {\n    if (/^\\w+:\\/\\//.test(file)) {\n      return file;\n    }\n    return resolve$1$1(this.map.consumer().sourceRoot || this.map.root || \".\", file);\n  }\n  origin(line, column, endLine, endColumn) {\n    if (!this.map) return false;\n    let consumer = this.map.consumer();\n    let from = consumer.originalPositionFor({ column, line });\n    if (!from.source) return false;\n    let to;\n    if (typeof endLine === \"number\") {\n      to = consumer.originalPositionFor({ column: endColumn, line: endLine });\n    }\n    let fromUrl;\n    if (isAbsolute$1(from.source)) {\n      fromUrl = pathToFileURL$1$1(from.source);\n    } else {\n      fromUrl = new URL(\n        from.source,\n        this.map.consumer().sourceRoot || pathToFileURL$1$1(this.map.mapFile)\n      );\n    }\n    let result2 = {\n      column: from.column,\n      endColumn: to && to.column,\n      endLine: to && to.line,\n      line: from.line,\n      url: fromUrl.toString()\n    };\n    if (fromUrl.protocol === \"file:\") {\n      if (fileURLToPath$1) {\n        result2.file = fileURLToPath$1(fromUrl);\n      } else {\n        throw new Error(`file: protocol is not available in this PostCSS build`);\n      }\n    }\n    let source = consumer.sourceContentFor(from.source);\n    if (source) result2.source = source;\n    return result2;\n  }\n  toJSON() {\n    let json = {};\n    for (let name of [\"hasBOM\", \"css\", \"file\", \"id\"]) {\n      if (this[name] != null) {\n        json[name] = this[name];\n      }\n    }\n    if (this.map) {\n      json.map = { ...this.map };\n      if (json.map.consumerCache) {\n        json.map.consumerCache = void 0;\n      }\n    }\n    return json;\n  }\n  get from() {\n    return this.file || this.id;\n  }\n};\nvar input$1 = Input$4$1;\nInput$4$1.default = Input$4$1;\nif (terminalHighlight$2 && terminalHighlight$2.registerInput) {\n  terminalHighlight$2.registerInput(Input$4$1);\n}\nlet { SourceMapConsumer: SourceMapConsumer$3, SourceMapGenerator: SourceMapGenerator$3 } = require$$2$1;\nlet { dirname: dirname$2, relative: relative$1, resolve: resolve$2, sep: sep$1 } = require$$2$1;\nlet { pathToFileURL: pathToFileURL$2 } = require$$2$1;\nlet Input$3$1 = input$1;\nlet sourceMapAvailable$2 = Boolean(SourceMapConsumer$3 && SourceMapGenerator$3);\nlet pathAvailable$2 = Boolean(dirname$2 && resolve$2 && relative$1 && sep$1);\nlet MapGenerator$2$1 = class MapGenerator {\n  constructor(stringify2, root2, opts, cssString) {\n    this.stringify = stringify2;\n    this.mapOpts = opts.map || {};\n    this.root = root2;\n    this.opts = opts;\n    this.css = cssString;\n    this.originalCSS = cssString;\n    this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute;\n    this.memoizedFileURLs = /* @__PURE__ */ new Map();\n    this.memoizedPaths = /* @__PURE__ */ new Map();\n    this.memoizedURLs = /* @__PURE__ */ new Map();\n  }\n  addAnnotation() {\n    let content;\n    if (this.isInline()) {\n      content = \"data:application/json;base64,\" + this.toBase64(this.map.toString());\n    } else if (typeof this.mapOpts.annotation === \"string\") {\n      content = this.mapOpts.annotation;\n    } else if (typeof this.mapOpts.annotation === \"function\") {\n      content = this.mapOpts.annotation(this.opts.to, this.root);\n    } else {\n      content = this.outputFile() + \".map\";\n    }\n    let eol = \"\\n\";\n    if (this.css.includes(\"\\r\\n\")) eol = \"\\r\\n\";\n    this.css += eol + \"/*# sourceMappingURL=\" + content + \" */\";\n  }\n  applyPrevMaps() {\n    for (let prev of this.previous()) {\n      let from = this.toUrl(this.path(prev.file));\n      let root2 = prev.root || dirname$2(prev.file);\n      let map;\n      if (this.mapOpts.sourcesContent === false) {\n        map = new SourceMapConsumer$3(prev.text);\n        if (map.sourcesContent) {\n          map.sourcesContent = null;\n        }\n      } else {\n        map = prev.consumer();\n      }\n      this.map.applySourceMap(map, from, this.toUrl(this.path(root2)));\n    }\n  }\n  clearAnnotation() {\n    if (this.mapOpts.annotation === false) return;\n    if (this.root) {\n      let node2;\n      for (let i2 = this.root.nodes.length - 1; i2 >= 0; i2--) {\n        node2 = this.root.nodes[i2];\n        if (node2.type !== \"comment\") continue;\n        if (node2.text.indexOf(\"# sourceMappingURL=\") === 0) {\n          this.root.removeChild(i2);\n        }\n      }\n    } else if (this.css) {\n      this.css = this.css.replace(/\\n*?\\/\\*#[\\S\\s]*?\\*\\/$/gm, \"\");\n    }\n  }\n  generate() {\n    this.clearAnnotation();\n    if (pathAvailable$2 && sourceMapAvailable$2 && this.isMap()) {\n      return this.generateMap();\n    } else {\n      let result2 = \"\";\n      this.stringify(this.root, (i2) => {\n        result2 += i2;\n      });\n      return [result2];\n    }\n  }\n  generateMap() {\n    if (this.root) {\n      this.generateString();\n    } else if (this.previous().length === 1) {\n      let prev = this.previous()[0].consumer();\n      prev.file = this.outputFile();\n      this.map = SourceMapGenerator$3.fromSourceMap(prev, {\n        ignoreInvalidMapping: true\n      });\n    } else {\n      this.map = new SourceMapGenerator$3({\n        file: this.outputFile(),\n        ignoreInvalidMapping: true\n      });\n      this.map.addMapping({\n        generated: { column: 0, line: 1 },\n        original: { column: 0, line: 1 },\n        source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\"\n      });\n    }\n    if (this.isSourcesContent()) this.setSourcesContent();\n    if (this.root && this.previous().length > 0) this.applyPrevMaps();\n    if (this.isAnnotation()) this.addAnnotation();\n    if (this.isInline()) {\n      return [this.css];\n    } else {\n      return [this.css, this.map];\n    }\n  }\n  generateString() {\n    this.css = \"\";\n    this.map = new SourceMapGenerator$3({\n      file: this.outputFile(),\n      ignoreInvalidMapping: true\n    });\n    let line = 1;\n    let column = 1;\n    let noSource = \"<no source>\";\n    let mapping = {\n      generated: { column: 0, line: 0 },\n      original: { column: 0, line: 0 },\n      source: \"\"\n    };\n    let lines, last;\n    this.stringify(this.root, (str, node2, type) => {\n      this.css += str;\n      if (node2 && type !== \"end\") {\n        mapping.generated.line = line;\n        mapping.generated.column = column - 1;\n        if (node2.source && node2.source.start) {\n          mapping.source = this.sourcePath(node2);\n          mapping.original.line = node2.source.start.line;\n          mapping.original.column = node2.source.start.column - 1;\n          this.map.addMapping(mapping);\n        } else {\n          mapping.source = noSource;\n          mapping.original.line = 1;\n          mapping.original.column = 0;\n          this.map.addMapping(mapping);\n        }\n      }\n      lines = str.match(/\\n/g);\n      if (lines) {\n        line += lines.length;\n        last = str.lastIndexOf(\"\\n\");\n        column = str.length - last;\n      } else {\n        column += str.length;\n      }\n      if (node2 && type !== \"start\") {\n        let p = node2.parent || { raws: {} };\n        let childless = node2.type === \"decl\" || node2.type === \"atrule\" && !node2.nodes;\n        if (!childless || node2 !== p.last || p.raws.semicolon) {\n          if (node2.source && node2.source.end) {\n            mapping.source = this.sourcePath(node2);\n            mapping.original.line = node2.source.end.line;\n            mapping.original.column = node2.source.end.column - 1;\n            mapping.generated.line = line;\n            mapping.generated.column = column - 2;\n            this.map.addMapping(mapping);\n          } else {\n            mapping.source = noSource;\n            mapping.original.line = 1;\n            mapping.original.column = 0;\n            mapping.generated.line = line;\n            mapping.generated.column = column - 1;\n            this.map.addMapping(mapping);\n          }\n        }\n      }\n    });\n  }\n  isAnnotation() {\n    if (this.isInline()) {\n      return true;\n    }\n    if (typeof this.mapOpts.annotation !== \"undefined\") {\n      return this.mapOpts.annotation;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.annotation);\n    }\n    return true;\n  }\n  isInline() {\n    if (typeof this.mapOpts.inline !== \"undefined\") {\n      return this.mapOpts.inline;\n    }\n    let annotation = this.mapOpts.annotation;\n    if (typeof annotation !== \"undefined\" && annotation !== true) {\n      return false;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.inline);\n    }\n    return true;\n  }\n  isMap() {\n    if (typeof this.opts.map !== \"undefined\") {\n      return !!this.opts.map;\n    }\n    return this.previous().length > 0;\n  }\n  isSourcesContent() {\n    if (typeof this.mapOpts.sourcesContent !== \"undefined\") {\n      return this.mapOpts.sourcesContent;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.withContent());\n    }\n    return true;\n  }\n  outputFile() {\n    if (this.opts.to) {\n      return this.path(this.opts.to);\n    } else if (this.opts.from) {\n      return this.path(this.opts.from);\n    } else {\n      return \"to.css\";\n    }\n  }\n  path(file) {\n    if (this.mapOpts.absolute) return file;\n    if (file.charCodeAt(0) === 60) return file;\n    if (/^\\w+:\\/\\//.test(file)) return file;\n    let cached = this.memoizedPaths.get(file);\n    if (cached) return cached;\n    let from = this.opts.to ? dirname$2(this.opts.to) : \".\";\n    if (typeof this.mapOpts.annotation === \"string\") {\n      from = dirname$2(resolve$2(from, this.mapOpts.annotation));\n    }\n    let path = relative$1(from, file);\n    this.memoizedPaths.set(file, path);\n    return path;\n  }\n  previous() {\n    if (!this.previousMaps) {\n      this.previousMaps = [];\n      if (this.root) {\n        this.root.walk((node2) => {\n          if (node2.source && node2.source.input.map) {\n            let map = node2.source.input.map;\n            if (!this.previousMaps.includes(map)) {\n              this.previousMaps.push(map);\n            }\n          }\n        });\n      } else {\n        let input2 = new Input$3$1(this.originalCSS, this.opts);\n        if (input2.map) this.previousMaps.push(input2.map);\n      }\n    }\n    return this.previousMaps;\n  }\n  setSourcesContent() {\n    let already = {};\n    if (this.root) {\n      this.root.walk((node2) => {\n        if (node2.source) {\n          let from = node2.source.input.from;\n          if (from && !already[from]) {\n            already[from] = true;\n            let fromUrl = this.usesFileUrls ? this.toFileUrl(from) : this.toUrl(this.path(from));\n            this.map.setSourceContent(fromUrl, node2.source.input.css);\n          }\n        }\n      });\n    } else if (this.css) {\n      let from = this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\";\n      this.map.setSourceContent(from, this.css);\n    }\n  }\n  sourcePath(node2) {\n    if (this.mapOpts.from) {\n      return this.toUrl(this.mapOpts.from);\n    } else if (this.usesFileUrls) {\n      return this.toFileUrl(node2.source.input.from);\n    } else {\n      return this.toUrl(this.path(node2.source.input.from));\n    }\n  }\n  toBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str).toString(\"base64\");\n    } else {\n      return window.btoa(unescape(encodeURIComponent(str)));\n    }\n  }\n  toFileUrl(path) {\n    let cached = this.memoizedFileURLs.get(path);\n    if (cached) return cached;\n    if (pathToFileURL$2) {\n      let fileURL = pathToFileURL$2(path).toString();\n      this.memoizedFileURLs.set(path, fileURL);\n      return fileURL;\n    } else {\n      throw new Error(\n        \"`map.absolute` option is not available in this PostCSS build\"\n      );\n    }\n  }\n  toUrl(path) {\n    let cached = this.memoizedURLs.get(path);\n    if (cached) return cached;\n    if (sep$1 === \"\\\\\") {\n      path = path.replace(/\\\\/g, \"/\");\n    }\n    let url = encodeURI(path).replace(/[#?]/g, encodeURIComponent);\n    this.memoizedURLs.set(path, url);\n    return url;\n  }\n};\nvar mapGenerator$1 = MapGenerator$2$1;\nlet Node$2$1 = node$1;\nlet Comment$4$1 = class Comment extends Node$2$1 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"comment\";\n  }\n};\nvar comment$1 = Comment$4$1;\nComment$4$1.default = Comment$4$1;\nlet { isClean: isClean$1$1, my: my$1$1 } = symbols$1;\nlet Declaration$3$1 = declaration$1;\nlet Comment$3$1 = comment$1;\nlet Node$1$1 = node$1;\nlet parse$4$1, Rule$4$1, AtRule$4$1, Root$6$1;\nfunction cleanSource$1(nodes) {\n  return nodes.map((i2) => {\n    if (i2.nodes) i2.nodes = cleanSource$1(i2.nodes);\n    delete i2.source;\n    return i2;\n  });\n}\nfunction markDirtyUp$1(node2) {\n  node2[isClean$1$1] = false;\n  if (node2.proxyOf.nodes) {\n    for (let i2 of node2.proxyOf.nodes) {\n      markDirtyUp$1(i2);\n    }\n  }\n}\nlet Container$7$1 = class Container extends Node$1$1 {\n  append(...children) {\n    for (let child of children) {\n      let nodes = this.normalize(child, this.last);\n      for (let node2 of nodes) this.proxyOf.nodes.push(node2);\n    }\n    this.markDirty();\n    return this;\n  }\n  cleanRaws(keepBetween) {\n    super.cleanRaws(keepBetween);\n    if (this.nodes) {\n      for (let node2 of this.nodes) node2.cleanRaws(keepBetween);\n    }\n  }\n  each(callback) {\n    if (!this.proxyOf.nodes) return void 0;\n    let iterator = this.getIterator();\n    let index2, result2;\n    while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n      index2 = this.indexes[iterator];\n      result2 = callback(this.proxyOf.nodes[index2], index2);\n      if (result2 === false) break;\n      this.indexes[iterator] += 1;\n    }\n    delete this.indexes[iterator];\n    return result2;\n  }\n  every(condition) {\n    return this.nodes.every(condition);\n  }\n  getIterator() {\n    if (!this.lastEach) this.lastEach = 0;\n    if (!this.indexes) this.indexes = {};\n    this.lastEach += 1;\n    let iterator = this.lastEach;\n    this.indexes[iterator] = 0;\n    return iterator;\n  }\n  getProxyProcessor() {\n    return {\n      get(node2, prop) {\n        if (prop === \"proxyOf\") {\n          return node2;\n        } else if (!node2[prop]) {\n          return node2[prop];\n        } else if (prop === \"each\" || typeof prop === \"string\" && prop.startsWith(\"walk\")) {\n          return (...args) => {\n            return node2[prop](\n              ...args.map((i2) => {\n                if (typeof i2 === \"function\") {\n                  return (child, index2) => i2(child.toProxy(), index2);\n                } else {\n                  return i2;\n                }\n              })\n            );\n          };\n        } else if (prop === \"every\" || prop === \"some\") {\n          return (cb) => {\n            return node2[prop](\n              (child, ...other) => cb(child.toProxy(), ...other)\n            );\n          };\n        } else if (prop === \"root\") {\n          return () => node2.root().toProxy();\n        } else if (prop === \"nodes\") {\n          return node2.nodes.map((i2) => i2.toProxy());\n        } else if (prop === \"first\" || prop === \"last\") {\n          return node2[prop].toProxy();\n        } else {\n          return node2[prop];\n        }\n      },\n      set(node2, prop, value) {\n        if (node2[prop] === value) return true;\n        node2[prop] = value;\n        if (prop === \"name\" || prop === \"params\" || prop === \"selector\") {\n          node2.markDirty();\n        }\n        return true;\n      }\n    };\n  }\n  index(child) {\n    if (typeof child === \"number\") return child;\n    if (child.proxyOf) child = child.proxyOf;\n    return this.proxyOf.nodes.indexOf(child);\n  }\n  insertAfter(exist, add) {\n    let existIndex = this.index(exist);\n    let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse();\n    existIndex = this.index(exist);\n    for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node2);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (existIndex < index2) {\n        this.indexes[id] = index2 + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  insertBefore(exist, add) {\n    let existIndex = this.index(exist);\n    let type = existIndex === 0 ? \"prepend\" : false;\n    let nodes = this.normalize(add, this.proxyOf.nodes[existIndex], type).reverse();\n    existIndex = this.index(exist);\n    for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex, 0, node2);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (existIndex <= index2) {\n        this.indexes[id] = index2 + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  normalize(nodes, sample) {\n    if (typeof nodes === \"string\") {\n      nodes = cleanSource$1(parse$4$1(nodes).nodes);\n    } else if (typeof nodes === \"undefined\") {\n      nodes = [];\n    } else if (Array.isArray(nodes)) {\n      nodes = nodes.slice(0);\n      for (let i2 of nodes) {\n        if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n      }\n    } else if (nodes.type === \"root\" && this.type !== \"document\") {\n      nodes = nodes.nodes.slice(0);\n      for (let i2 of nodes) {\n        if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n      }\n    } else if (nodes.type) {\n      nodes = [nodes];\n    } else if (nodes.prop) {\n      if (typeof nodes.value === \"undefined\") {\n        throw new Error(\"Value field is missed in node creation\");\n      } else if (typeof nodes.value !== \"string\") {\n        nodes.value = String(nodes.value);\n      }\n      nodes = [new Declaration$3$1(nodes)];\n    } else if (nodes.selector) {\n      nodes = [new Rule$4$1(nodes)];\n    } else if (nodes.name) {\n      nodes = [new AtRule$4$1(nodes)];\n    } else if (nodes.text) {\n      nodes = [new Comment$3$1(nodes)];\n    } else {\n      throw new Error(\"Unknown node type in node creation\");\n    }\n    let processed = nodes.map((i2) => {\n      if (!i2[my$1$1]) Container.rebuild(i2);\n      i2 = i2.proxyOf;\n      if (i2.parent) i2.parent.removeChild(i2);\n      if (i2[isClean$1$1]) markDirtyUp$1(i2);\n      if (typeof i2.raws.before === \"undefined\") {\n        if (sample && typeof sample.raws.before !== \"undefined\") {\n          i2.raws.before = sample.raws.before.replace(/\\S/g, \"\");\n        }\n      }\n      i2.parent = this.proxyOf;\n      return i2;\n    });\n    return processed;\n  }\n  prepend(...children) {\n    children = children.reverse();\n    for (let child of children) {\n      let nodes = this.normalize(child, this.first, \"prepend\").reverse();\n      for (let node2 of nodes) this.proxyOf.nodes.unshift(node2);\n      for (let id in this.indexes) {\n        this.indexes[id] = this.indexes[id] + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  push(child) {\n    child.parent = this;\n    this.proxyOf.nodes.push(child);\n    return this;\n  }\n  removeAll() {\n    for (let node2 of this.proxyOf.nodes) node2.parent = void 0;\n    this.proxyOf.nodes = [];\n    this.markDirty();\n    return this;\n  }\n  removeChild(child) {\n    child = this.index(child);\n    this.proxyOf.nodes[child].parent = void 0;\n    this.proxyOf.nodes.splice(child, 1);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (index2 >= child) {\n        this.indexes[id] = index2 - 1;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  replaceValues(pattern, opts, callback) {\n    if (!callback) {\n      callback = opts;\n      opts = {};\n    }\n    this.walkDecls((decl) => {\n      if (opts.props && !opts.props.includes(decl.prop)) return;\n      if (opts.fast && !decl.value.includes(opts.fast)) return;\n      decl.value = decl.value.replace(pattern, callback);\n    });\n    this.markDirty();\n    return this;\n  }\n  some(condition) {\n    return this.nodes.some(condition);\n  }\n  walk(callback) {\n    return this.each((child, i2) => {\n      let result2;\n      try {\n        result2 = callback(child, i2);\n      } catch (e2) {\n        throw child.addToError(e2);\n      }\n      if (result2 !== false && child.walk) {\n        result2 = child.walk(callback);\n      }\n      return result2;\n    });\n  }\n  walkAtRules(name, callback) {\n    if (!callback) {\n      callback = name;\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (name instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\" && name.test(child.name)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"atrule\" && child.name === name) {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkComments(callback) {\n    return this.walk((child, i2) => {\n      if (child.type === \"comment\") {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkDecls(prop, callback) {\n    if (!callback) {\n      callback = prop;\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (prop instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\" && prop.test(child.prop)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"decl\" && child.prop === prop) {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkRules(selector, callback) {\n    if (!callback) {\n      callback = selector;\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (selector instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\" && selector.test(child.selector)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"rule\" && child.selector === selector) {\n        return callback(child, i2);\n      }\n    });\n  }\n  get first() {\n    if (!this.proxyOf.nodes) return void 0;\n    return this.proxyOf.nodes[0];\n  }\n  get last() {\n    if (!this.proxyOf.nodes) return void 0;\n    return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];\n  }\n};\nContainer$7$1.registerParse = (dependant) => {\n  parse$4$1 = dependant;\n};\nContainer$7$1.registerRule = (dependant) => {\n  Rule$4$1 = dependant;\n};\nContainer$7$1.registerAtRule = (dependant) => {\n  AtRule$4$1 = dependant;\n};\nContainer$7$1.registerRoot = (dependant) => {\n  Root$6$1 = dependant;\n};\nvar container$1 = Container$7$1;\nContainer$7$1.default = Container$7$1;\nContainer$7$1.rebuild = (node2) => {\n  if (node2.type === \"atrule\") {\n    Object.setPrototypeOf(node2, AtRule$4$1.prototype);\n  } else if (node2.type === \"rule\") {\n    Object.setPrototypeOf(node2, Rule$4$1.prototype);\n  } else if (node2.type === \"decl\") {\n    Object.setPrototypeOf(node2, Declaration$3$1.prototype);\n  } else if (node2.type === \"comment\") {\n    Object.setPrototypeOf(node2, Comment$3$1.prototype);\n  } else if (node2.type === \"root\") {\n    Object.setPrototypeOf(node2, Root$6$1.prototype);\n  }\n  node2[my$1$1] = true;\n  if (node2.nodes) {\n    node2.nodes.forEach((child) => {\n      Container$7$1.rebuild(child);\n    });\n  }\n};\nlet Container$6$1 = container$1;\nlet LazyResult$4$1, Processor$3$1;\nlet Document$3$1 = class Document2 extends Container$6$1 {\n  constructor(defaults) {\n    super({ type: \"document\", ...defaults });\n    if (!this.nodes) {\n      this.nodes = [];\n    }\n  }\n  toResult(opts = {}) {\n    let lazy = new LazyResult$4$1(new Processor$3$1(), this, opts);\n    return lazy.stringify();\n  }\n};\nDocument$3$1.registerLazyResult = (dependant) => {\n  LazyResult$4$1 = dependant;\n};\nDocument$3$1.registerProcessor = (dependant) => {\n  Processor$3$1 = dependant;\n};\nvar document$1$1 = Document$3$1;\nDocument$3$1.default = Document$3$1;\nlet printed$1 = {};\nvar warnOnce$2$1 = function warnOnce(message) {\n  if (printed$1[message]) return;\n  printed$1[message] = true;\n  if (typeof console !== \"undefined\" && console.warn) {\n    console.warn(message);\n  }\n};\nlet Warning$2$1 = class Warning {\n  constructor(text, opts = {}) {\n    this.type = \"warning\";\n    this.text = text;\n    if (opts.node && opts.node.source) {\n      let range = opts.node.rangeBy(opts);\n      this.line = range.start.line;\n      this.column = range.start.column;\n      this.endLine = range.end.line;\n      this.endColumn = range.end.column;\n    }\n    for (let opt in opts) this[opt] = opts[opt];\n  }\n  toString() {\n    if (this.node) {\n      return this.node.error(this.text, {\n        index: this.index,\n        plugin: this.plugin,\n        word: this.word\n      }).message;\n    }\n    if (this.plugin) {\n      return this.plugin + \": \" + this.text;\n    }\n    return this.text;\n  }\n};\nvar warning$1 = Warning$2$1;\nWarning$2$1.default = Warning$2$1;\nlet Warning$1$1 = warning$1;\nlet Result$3$1 = class Result {\n  constructor(processor2, root2, opts) {\n    this.processor = processor2;\n    this.messages = [];\n    this.root = root2;\n    this.opts = opts;\n    this.css = void 0;\n    this.map = void 0;\n  }\n  toString() {\n    return this.css;\n  }\n  warn(text, opts = {}) {\n    if (!opts.plugin) {\n      if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n        opts.plugin = this.lastPlugin.postcssPlugin;\n      }\n    }\n    let warning2 = new Warning$1$1(text, opts);\n    this.messages.push(warning2);\n    return warning2;\n  }\n  warnings() {\n    return this.messages.filter((i2) => i2.type === \"warning\");\n  }\n  get content() {\n    return this.css;\n  }\n};\nvar result$1 = Result$3$1;\nResult$3$1.default = Result$3$1;\nconst SINGLE_QUOTE$1 = \"'\".charCodeAt(0);\nconst DOUBLE_QUOTE$1 = '\"'.charCodeAt(0);\nconst BACKSLASH$1 = \"\\\\\".charCodeAt(0);\nconst SLASH$1 = \"/\".charCodeAt(0);\nconst NEWLINE$1 = \"\\n\".charCodeAt(0);\nconst SPACE$1 = \" \".charCodeAt(0);\nconst FEED$1 = \"\\f\".charCodeAt(0);\nconst TAB$1 = \"\t\".charCodeAt(0);\nconst CR$1 = \"\\r\".charCodeAt(0);\nconst OPEN_SQUARE$1 = \"[\".charCodeAt(0);\nconst CLOSE_SQUARE$1 = \"]\".charCodeAt(0);\nconst OPEN_PARENTHESES$1 = \"(\".charCodeAt(0);\nconst CLOSE_PARENTHESES$1 = \")\".charCodeAt(0);\nconst OPEN_CURLY$1 = \"{\".charCodeAt(0);\nconst CLOSE_CURLY$1 = \"}\".charCodeAt(0);\nconst SEMICOLON$1 = \";\".charCodeAt(0);\nconst ASTERISK$1 = \"*\".charCodeAt(0);\nconst COLON$1 = \":\".charCodeAt(0);\nconst AT$1 = \"@\".charCodeAt(0);\nconst RE_AT_END$1 = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g;\nconst RE_WORD_END$1 = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g;\nconst RE_BAD_BRACKET$1 = /.[\\r\\n\"'(/\\\\]/;\nconst RE_HEX_ESCAPE$1 = /[\\da-f]/i;\nvar tokenize$1 = function tokenizer(input2, options = {}) {\n  let css = input2.css.valueOf();\n  let ignore = options.ignoreErrors;\n  let code, next, quote, content, escape;\n  let escaped, escapePos, prev, n2, currentToken;\n  let length = css.length;\n  let pos = 0;\n  let buffer = [];\n  let returned = [];\n  function position() {\n    return pos;\n  }\n  function unclosed(what) {\n    throw input2.error(\"Unclosed \" + what, pos);\n  }\n  function endOfFile() {\n    return returned.length === 0 && pos >= length;\n  }\n  function nextToken(opts) {\n    if (returned.length) return returned.pop();\n    if (pos >= length) return;\n    let ignoreUnclosed = opts ? opts.ignoreUnclosed : false;\n    code = css.charCodeAt(pos);\n    switch (code) {\n      case NEWLINE$1:\n      case SPACE$1:\n      case TAB$1:\n      case CR$1:\n      case FEED$1: {\n        next = pos;\n        do {\n          next += 1;\n          code = css.charCodeAt(next);\n        } while (code === SPACE$1 || code === NEWLINE$1 || code === TAB$1 || code === CR$1 || code === FEED$1);\n        currentToken = [\"space\", css.slice(pos, next)];\n        pos = next - 1;\n        break;\n      }\n      case OPEN_SQUARE$1:\n      case CLOSE_SQUARE$1:\n      case OPEN_CURLY$1:\n      case CLOSE_CURLY$1:\n      case COLON$1:\n      case SEMICOLON$1:\n      case CLOSE_PARENTHESES$1: {\n        let controlChar = String.fromCharCode(code);\n        currentToken = [controlChar, controlChar, pos];\n        break;\n      }\n      case OPEN_PARENTHESES$1: {\n        prev = buffer.length ? buffer.pop()[1] : \"\";\n        n2 = css.charCodeAt(pos + 1);\n        if (prev === \"url\" && n2 !== SINGLE_QUOTE$1 && n2 !== DOUBLE_QUOTE$1 && n2 !== SPACE$1 && n2 !== NEWLINE$1 && n2 !== TAB$1 && n2 !== FEED$1 && n2 !== CR$1) {\n          next = pos;\n          do {\n            escaped = false;\n            next = css.indexOf(\")\", next + 1);\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos;\n                break;\n              } else {\n                unclosed(\"bracket\");\n              }\n            }\n            escapePos = next;\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH$1) {\n              escapePos -= 1;\n              escaped = !escaped;\n            }\n          } while (escaped);\n          currentToken = [\"brackets\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n        } else {\n          next = css.indexOf(\")\", pos + 1);\n          content = css.slice(pos, next + 1);\n          if (next === -1 || RE_BAD_BRACKET$1.test(content)) {\n            currentToken = [\"(\", \"(\", pos];\n          } else {\n            currentToken = [\"brackets\", content, pos, next];\n            pos = next;\n          }\n        }\n        break;\n      }\n      case SINGLE_QUOTE$1:\n      case DOUBLE_QUOTE$1: {\n        quote = code === SINGLE_QUOTE$1 ? \"'\" : '\"';\n        next = pos;\n        do {\n          escaped = false;\n          next = css.indexOf(quote, next + 1);\n          if (next === -1) {\n            if (ignore || ignoreUnclosed) {\n              next = pos + 1;\n              break;\n            } else {\n              unclosed(\"string\");\n            }\n          }\n          escapePos = next;\n          while (css.charCodeAt(escapePos - 1) === BACKSLASH$1) {\n            escapePos -= 1;\n            escaped = !escaped;\n          }\n        } while (escaped);\n        currentToken = [\"string\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      case AT$1: {\n        RE_AT_END$1.lastIndex = pos + 1;\n        RE_AT_END$1.test(css);\n        if (RE_AT_END$1.lastIndex === 0) {\n          next = css.length - 1;\n        } else {\n          next = RE_AT_END$1.lastIndex - 2;\n        }\n        currentToken = [\"at-word\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      case BACKSLASH$1: {\n        next = pos;\n        escape = true;\n        while (css.charCodeAt(next + 1) === BACKSLASH$1) {\n          next += 1;\n          escape = !escape;\n        }\n        code = css.charCodeAt(next + 1);\n        if (escape && code !== SLASH$1 && code !== SPACE$1 && code !== NEWLINE$1 && code !== TAB$1 && code !== CR$1 && code !== FEED$1) {\n          next += 1;\n          if (RE_HEX_ESCAPE$1.test(css.charAt(next))) {\n            while (RE_HEX_ESCAPE$1.test(css.charAt(next + 1))) {\n              next += 1;\n            }\n            if (css.charCodeAt(next + 1) === SPACE$1) {\n              next += 1;\n            }\n          }\n        }\n        currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      default: {\n        if (code === SLASH$1 && css.charCodeAt(pos + 1) === ASTERISK$1) {\n          next = css.indexOf(\"*/\", pos + 2) + 1;\n          if (next === 0) {\n            if (ignore || ignoreUnclosed) {\n              next = css.length;\n            } else {\n              unclosed(\"comment\");\n            }\n          }\n          currentToken = [\"comment\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n        } else {\n          RE_WORD_END$1.lastIndex = pos + 1;\n          RE_WORD_END$1.test(css);\n          if (RE_WORD_END$1.lastIndex === 0) {\n            next = css.length - 1;\n          } else {\n            next = RE_WORD_END$1.lastIndex - 2;\n          }\n          currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n          buffer.push(currentToken);\n          pos = next;\n        }\n        break;\n      }\n    }\n    pos++;\n    return currentToken;\n  }\n  function back(token) {\n    returned.push(token);\n  }\n  return {\n    back,\n    endOfFile,\n    nextToken,\n    position\n  };\n};\nlet Container$5$1 = container$1;\nlet AtRule$3$1 = class AtRule extends Container$5$1 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"atrule\";\n  }\n  append(...children) {\n    if (!this.proxyOf.nodes) this.nodes = [];\n    return super.append(...children);\n  }\n  prepend(...children) {\n    if (!this.proxyOf.nodes) this.nodes = [];\n    return super.prepend(...children);\n  }\n};\nvar atRule$1 = AtRule$3$1;\nAtRule$3$1.default = AtRule$3$1;\nContainer$5$1.registerAtRule(AtRule$3$1);\nlet Container$4$1 = container$1;\nlet LazyResult$3$1, Processor$2$1;\nlet Root$5$1 = class Root extends Container$4$1 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"root\";\n    if (!this.nodes) this.nodes = [];\n  }\n  normalize(child, sample, type) {\n    let nodes = super.normalize(child);\n    if (sample) {\n      if (type === \"prepend\") {\n        if (this.nodes.length > 1) {\n          sample.raws.before = this.nodes[1].raws.before;\n        } else {\n          delete sample.raws.before;\n        }\n      } else if (this.first !== sample) {\n        for (let node2 of nodes) {\n          node2.raws.before = sample.raws.before;\n        }\n      }\n    }\n    return nodes;\n  }\n  removeChild(child, ignore) {\n    let index2 = this.index(child);\n    if (!ignore && index2 === 0 && this.nodes.length > 1) {\n      this.nodes[1].raws.before = this.nodes[index2].raws.before;\n    }\n    return super.removeChild(child);\n  }\n  toResult(opts = {}) {\n    let lazy = new LazyResult$3$1(new Processor$2$1(), this, opts);\n    return lazy.stringify();\n  }\n};\nRoot$5$1.registerLazyResult = (dependant) => {\n  LazyResult$3$1 = dependant;\n};\nRoot$5$1.registerProcessor = (dependant) => {\n  Processor$2$1 = dependant;\n};\nvar root$1 = Root$5$1;\nRoot$5$1.default = Root$5$1;\nContainer$4$1.registerRoot(Root$5$1);\nlet list$2$1 = {\n  comma(string) {\n    return list$2$1.split(string, [\",\"], true);\n  },\n  space(string) {\n    let spaces = [\" \", \"\\n\", \"\t\"];\n    return list$2$1.split(string, spaces);\n  },\n  split(string, separators, last) {\n    let array = [];\n    let current = \"\";\n    let split = false;\n    let func = 0;\n    let inQuote = false;\n    let prevQuote = \"\";\n    let escape = false;\n    for (let letter of string) {\n      if (escape) {\n        escape = false;\n      } else if (letter === \"\\\\\") {\n        escape = true;\n      } else if (inQuote) {\n        if (letter === prevQuote) {\n          inQuote = false;\n        }\n      } else if (letter === '\"' || letter === \"'\") {\n        inQuote = true;\n        prevQuote = letter;\n      } else if (letter === \"(\") {\n        func += 1;\n      } else if (letter === \")\") {\n        if (func > 0) func -= 1;\n      } else if (func === 0) {\n        if (separators.includes(letter)) split = true;\n      }\n      if (split) {\n        if (current !== \"\") array.push(current.trim());\n        current = \"\";\n        split = false;\n      } else {\n        current += letter;\n      }\n    }\n    if (last || current !== \"\") array.push(current.trim());\n    return array;\n  }\n};\nvar list_1$1 = list$2$1;\nlist$2$1.default = list$2$1;\nlet Container$3$1 = container$1;\nlet list$1$1 = list_1$1;\nlet Rule$3$1 = class Rule extends Container$3$1 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"rule\";\n    if (!this.nodes) this.nodes = [];\n  }\n  get selectors() {\n    return list$1$1.comma(this.selector);\n  }\n  set selectors(values) {\n    let match = this.selector ? this.selector.match(/,\\s*/) : null;\n    let sep2 = match ? match[0] : \",\" + this.raw(\"between\", \"beforeOpen\");\n    this.selector = values.join(sep2);\n  }\n};\nvar rule$1 = Rule$3$1;\nRule$3$1.default = Rule$3$1;\nContainer$3$1.registerRule(Rule$3$1);\nlet Declaration$2$1 = declaration$1;\nlet tokenizer2$1 = tokenize$1;\nlet Comment$2$1 = comment$1;\nlet AtRule$2$1 = atRule$1;\nlet Root$4$1 = root$1;\nlet Rule$2$1 = rule$1;\nconst SAFE_COMMENT_NEIGHBOR$1 = {\n  empty: true,\n  space: true\n};\nfunction findLastWithPosition$1(tokens) {\n  for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n    let token = tokens[i2];\n    let pos = token[3] || token[2];\n    if (pos) return pos;\n  }\n}\nlet Parser$1$1 = class Parser {\n  constructor(input2) {\n    this.input = input2;\n    this.root = new Root$4$1();\n    this.current = this.root;\n    this.spaces = \"\";\n    this.semicolon = false;\n    this.createTokenizer();\n    this.root.source = { input: input2, start: { column: 1, line: 1, offset: 0 } };\n  }\n  atrule(token) {\n    let node2 = new AtRule$2$1();\n    node2.name = token[1].slice(1);\n    if (node2.name === \"\") {\n      this.unnamedAtrule(node2, token);\n    }\n    this.init(node2, token[2]);\n    let type;\n    let prev;\n    let shift;\n    let last = false;\n    let open = false;\n    let params = [];\n    let brackets = [];\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken();\n      type = token[0];\n      if (type === \"(\" || type === \"[\") {\n        brackets.push(type === \"(\" ? \")\" : \"]\");\n      } else if (type === \"{\" && brackets.length > 0) {\n        brackets.push(\"}\");\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop();\n      }\n      if (brackets.length === 0) {\n        if (type === \";\") {\n          node2.source.end = this.getPosition(token[2]);\n          node2.source.end.offset++;\n          this.semicolon = true;\n          break;\n        } else if (type === \"{\") {\n          open = true;\n          break;\n        } else if (type === \"}\") {\n          if (params.length > 0) {\n            shift = params.length - 1;\n            prev = params[shift];\n            while (prev && prev[0] === \"space\") {\n              prev = params[--shift];\n            }\n            if (prev) {\n              node2.source.end = this.getPosition(prev[3] || prev[2]);\n              node2.source.end.offset++;\n            }\n          }\n          this.end(token);\n          break;\n        } else {\n          params.push(token);\n        }\n      } else {\n        params.push(token);\n      }\n      if (this.tokenizer.endOfFile()) {\n        last = true;\n        break;\n      }\n    }\n    node2.raws.between = this.spacesAndCommentsFromEnd(params);\n    if (params.length) {\n      node2.raws.afterName = this.spacesAndCommentsFromStart(params);\n      this.raw(node2, \"params\", params);\n      if (last) {\n        token = params[params.length - 1];\n        node2.source.end = this.getPosition(token[3] || token[2]);\n        node2.source.end.offset++;\n        this.spaces = node2.raws.between;\n        node2.raws.between = \"\";\n      }\n    } else {\n      node2.raws.afterName = \"\";\n      node2.params = \"\";\n    }\n    if (open) {\n      node2.nodes = [];\n      this.current = node2;\n    }\n  }\n  checkMissedSemicolon(tokens) {\n    let colon = this.colon(tokens);\n    if (colon === false) return;\n    let founded = 0;\n    let token;\n    for (let j = colon - 1; j >= 0; j--) {\n      token = tokens[j];\n      if (token[0] !== \"space\") {\n        founded += 1;\n        if (founded === 2) break;\n      }\n    }\n    throw this.input.error(\n      \"Missed semicolon\",\n      token[0] === \"word\" ? token[3] + 1 : token[2]\n    );\n  }\n  colon(tokens) {\n    let brackets = 0;\n    let token, type, prev;\n    for (let [i2, element] of tokens.entries()) {\n      token = element;\n      type = token[0];\n      if (type === \"(\") {\n        brackets += 1;\n      }\n      if (type === \")\") {\n        brackets -= 1;\n      }\n      if (brackets === 0 && type === \":\") {\n        if (!prev) {\n          this.doubleColon(token);\n        } else if (prev[0] === \"word\" && prev[1] === \"progid\") {\n          continue;\n        } else {\n          return i2;\n        }\n      }\n      prev = token;\n    }\n    return false;\n  }\n  comment(token) {\n    let node2 = new Comment$2$1();\n    this.init(node2, token[2]);\n    node2.source.end = this.getPosition(token[3] || token[2]);\n    node2.source.end.offset++;\n    let text = token[1].slice(2, -2);\n    if (/^\\s*$/.test(text)) {\n      node2.text = \"\";\n      node2.raws.left = text;\n      node2.raws.right = \"\";\n    } else {\n      let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n      node2.text = match[2];\n      node2.raws.left = match[1];\n      node2.raws.right = match[3];\n    }\n  }\n  createTokenizer() {\n    this.tokenizer = tokenizer2$1(this.input);\n  }\n  decl(tokens, customProperty) {\n    let node2 = new Declaration$2$1();\n    this.init(node2, tokens[0][2]);\n    let last = tokens[tokens.length - 1];\n    if (last[0] === \";\") {\n      this.semicolon = true;\n      tokens.pop();\n    }\n    node2.source.end = this.getPosition(\n      last[3] || last[2] || findLastWithPosition$1(tokens)\n    );\n    node2.source.end.offset++;\n    while (tokens[0][0] !== \"word\") {\n      if (tokens.length === 1) this.unknownWord(tokens);\n      node2.raws.before += tokens.shift()[1];\n    }\n    node2.source.start = this.getPosition(tokens[0][2]);\n    node2.prop = \"\";\n    while (tokens.length) {\n      let type = tokens[0][0];\n      if (type === \":\" || type === \"space\" || type === \"comment\") {\n        break;\n      }\n      node2.prop += tokens.shift()[1];\n    }\n    node2.raws.between = \"\";\n    let token;\n    while (tokens.length) {\n      token = tokens.shift();\n      if (token[0] === \":\") {\n        node2.raws.between += token[1];\n        break;\n      } else {\n        if (token[0] === \"word\" && /\\w/.test(token[1])) {\n          this.unknownWord([token]);\n        }\n        node2.raws.between += token[1];\n      }\n    }\n    if (node2.prop[0] === \"_\" || node2.prop[0] === \"*\") {\n      node2.raws.before += node2.prop[0];\n      node2.prop = node2.prop.slice(1);\n    }\n    let firstSpaces = [];\n    let next;\n    while (tokens.length) {\n      next = tokens[0][0];\n      if (next !== \"space\" && next !== \"comment\") break;\n      firstSpaces.push(tokens.shift());\n    }\n    this.precheckMissedSemicolon(tokens);\n    for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n      token = tokens[i2];\n      if (token[1].toLowerCase() === \"!important\") {\n        node2.important = true;\n        let string = this.stringFrom(tokens, i2);\n        string = this.spacesFromEnd(tokens) + string;\n        if (string !== \" !important\") node2.raws.important = string;\n        break;\n      } else if (token[1].toLowerCase() === \"important\") {\n        let cache = tokens.slice(0);\n        let str = \"\";\n        for (let j = i2; j > 0; j--) {\n          let type = cache[j][0];\n          if (str.trim().indexOf(\"!\") === 0 && type !== \"space\") {\n            break;\n          }\n          str = cache.pop()[1] + str;\n        }\n        if (str.trim().indexOf(\"!\") === 0) {\n          node2.important = true;\n          node2.raws.important = str;\n          tokens = cache;\n        }\n      }\n      if (token[0] !== \"space\" && token[0] !== \"comment\") {\n        break;\n      }\n    }\n    let hasWord = tokens.some((i2) => i2[0] !== \"space\" && i2[0] !== \"comment\");\n    if (hasWord) {\n      node2.raws.between += firstSpaces.map((i2) => i2[1]).join(\"\");\n      firstSpaces = [];\n    }\n    this.raw(node2, \"value\", firstSpaces.concat(tokens), customProperty);\n    if (node2.value.includes(\":\") && !customProperty) {\n      this.checkMissedSemicolon(tokens);\n    }\n  }\n  doubleColon(token) {\n    throw this.input.error(\n      \"Double colon\",\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    );\n  }\n  emptyRule(token) {\n    let node2 = new Rule$2$1();\n    this.init(node2, token[2]);\n    node2.selector = \"\";\n    node2.raws.between = \"\";\n    this.current = node2;\n  }\n  end(token) {\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon;\n    }\n    this.semicolon = false;\n    this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n    this.spaces = \"\";\n    if (this.current.parent) {\n      this.current.source.end = this.getPosition(token[2]);\n      this.current.source.end.offset++;\n      this.current = this.current.parent;\n    } else {\n      this.unexpectedClose(token);\n    }\n  }\n  endFile() {\n    if (this.current.parent) this.unclosedBlock();\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon;\n    }\n    this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n    this.root.source.end = this.getPosition(this.tokenizer.position());\n  }\n  freeSemicolon(token) {\n    this.spaces += token[1];\n    if (this.current.nodes) {\n      let prev = this.current.nodes[this.current.nodes.length - 1];\n      if (prev && prev.type === \"rule\" && !prev.raws.ownSemicolon) {\n        prev.raws.ownSemicolon = this.spaces;\n        this.spaces = \"\";\n      }\n    }\n  }\n  // Helpers\n  getPosition(offset) {\n    let pos = this.input.fromOffset(offset);\n    return {\n      column: pos.col,\n      line: pos.line,\n      offset\n    };\n  }\n  init(node2, offset) {\n    this.current.push(node2);\n    node2.source = {\n      input: this.input,\n      start: this.getPosition(offset)\n    };\n    node2.raws.before = this.spaces;\n    this.spaces = \"\";\n    if (node2.type !== \"comment\") this.semicolon = false;\n  }\n  other(start) {\n    let end = false;\n    let type = null;\n    let colon = false;\n    let bracket = null;\n    let brackets = [];\n    let customProperty = start[1].startsWith(\"--\");\n    let tokens = [];\n    let token = start;\n    while (token) {\n      type = token[0];\n      tokens.push(token);\n      if (type === \"(\" || type === \"[\") {\n        if (!bracket) bracket = token;\n        brackets.push(type === \"(\" ? \")\" : \"]\");\n      } else if (customProperty && colon && type === \"{\") {\n        if (!bracket) bracket = token;\n        brackets.push(\"}\");\n      } else if (brackets.length === 0) {\n        if (type === \";\") {\n          if (colon) {\n            this.decl(tokens, customProperty);\n            return;\n          } else {\n            break;\n          }\n        } else if (type === \"{\") {\n          this.rule(tokens);\n          return;\n        } else if (type === \"}\") {\n          this.tokenizer.back(tokens.pop());\n          end = true;\n          break;\n        } else if (type === \":\") {\n          colon = true;\n        }\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop();\n        if (brackets.length === 0) bracket = null;\n      }\n      token = this.tokenizer.nextToken();\n    }\n    if (this.tokenizer.endOfFile()) end = true;\n    if (brackets.length > 0) this.unclosedBracket(bracket);\n    if (end && colon) {\n      if (!customProperty) {\n        while (tokens.length) {\n          token = tokens[tokens.length - 1][0];\n          if (token !== \"space\" && token !== \"comment\") break;\n          this.tokenizer.back(tokens.pop());\n        }\n      }\n      this.decl(tokens, customProperty);\n    } else {\n      this.unknownWord(tokens);\n    }\n  }\n  parse() {\n    let token;\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken();\n      switch (token[0]) {\n        case \"space\":\n          this.spaces += token[1];\n          break;\n        case \";\":\n          this.freeSemicolon(token);\n          break;\n        case \"}\":\n          this.end(token);\n          break;\n        case \"comment\":\n          this.comment(token);\n          break;\n        case \"at-word\":\n          this.atrule(token);\n          break;\n        case \"{\":\n          this.emptyRule(token);\n          break;\n        default:\n          this.other(token);\n          break;\n      }\n    }\n    this.endFile();\n  }\n  precheckMissedSemicolon() {\n  }\n  raw(node2, prop, tokens, customProperty) {\n    let token, type;\n    let length = tokens.length;\n    let value = \"\";\n    let clean = true;\n    let next, prev;\n    for (let i2 = 0; i2 < length; i2 += 1) {\n      token = tokens[i2];\n      type = token[0];\n      if (type === \"space\" && i2 === length - 1 && !customProperty) {\n        clean = false;\n      } else if (type === \"comment\") {\n        prev = tokens[i2 - 1] ? tokens[i2 - 1][0] : \"empty\";\n        next = tokens[i2 + 1] ? tokens[i2 + 1][0] : \"empty\";\n        if (!SAFE_COMMENT_NEIGHBOR$1[prev] && !SAFE_COMMENT_NEIGHBOR$1[next]) {\n          if (value.slice(-1) === \",\") {\n            clean = false;\n          } else {\n            value += token[1];\n          }\n        } else {\n          clean = false;\n        }\n      } else {\n        value += token[1];\n      }\n    }\n    if (!clean) {\n      let raw = tokens.reduce((all, i2) => all + i2[1], \"\");\n      node2.raws[prop] = { raw, value };\n    }\n    node2[prop] = value;\n  }\n  rule(tokens) {\n    tokens.pop();\n    let node2 = new Rule$2$1();\n    this.init(node2, tokens[0][2]);\n    node2.raws.between = this.spacesAndCommentsFromEnd(tokens);\n    this.raw(node2, \"selector\", tokens);\n    this.current = node2;\n  }\n  spacesAndCommentsFromEnd(tokens) {\n    let lastTokenType;\n    let spaces = \"\";\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0];\n      if (lastTokenType !== \"space\" && lastTokenType !== \"comment\") break;\n      spaces = tokens.pop()[1] + spaces;\n    }\n    return spaces;\n  }\n  // Errors\n  spacesAndCommentsFromStart(tokens) {\n    let next;\n    let spaces = \"\";\n    while (tokens.length) {\n      next = tokens[0][0];\n      if (next !== \"space\" && next !== \"comment\") break;\n      spaces += tokens.shift()[1];\n    }\n    return spaces;\n  }\n  spacesFromEnd(tokens) {\n    let lastTokenType;\n    let spaces = \"\";\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0];\n      if (lastTokenType !== \"space\") break;\n      spaces = tokens.pop()[1] + spaces;\n    }\n    return spaces;\n  }\n  stringFrom(tokens, from) {\n    let result2 = \"\";\n    for (let i2 = from; i2 < tokens.length; i2++) {\n      result2 += tokens[i2][1];\n    }\n    tokens.splice(from, tokens.length - from);\n    return result2;\n  }\n  unclosedBlock() {\n    let pos = this.current.source.start;\n    throw this.input.error(\"Unclosed block\", pos.line, pos.column);\n  }\n  unclosedBracket(bracket) {\n    throw this.input.error(\n      \"Unclosed bracket\",\n      { offset: bracket[2] },\n      { offset: bracket[2] + 1 }\n    );\n  }\n  unexpectedClose(token) {\n    throw this.input.error(\n      \"Unexpected }\",\n      { offset: token[2] },\n      { offset: token[2] + 1 }\n    );\n  }\n  unknownWord(tokens) {\n    throw this.input.error(\n      \"Unknown word\",\n      { offset: tokens[0][2] },\n      { offset: tokens[0][2] + tokens[0][1].length }\n    );\n  }\n  unnamedAtrule(node2, token) {\n    throw this.input.error(\n      \"At-rule without name\",\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    );\n  }\n};\nvar parser$1 = Parser$1$1;\nlet Container$2$1 = container$1;\nlet Parser2$1 = parser$1;\nlet Input$2$1 = input$1;\nfunction parse$3$1(css, opts) {\n  let input2 = new Input$2$1(css, opts);\n  let parser2 = new Parser2$1(input2);\n  try {\n    parser2.parse();\n  } catch (e2) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (e2.name === \"CssSyntaxError\" && opts && opts.from) {\n        if (/\\.scss$/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser\";\n        } else if (/\\.sass/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser\";\n        } else if (/\\.less$/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser\";\n        }\n      }\n    }\n    throw e2;\n  }\n  return parser2.root;\n}\nvar parse_1$1 = parse$3$1;\nparse$3$1.default = parse$3$1;\nContainer$2$1.registerParse(parse$3$1);\nlet { isClean: isClean$3, my: my$3 } = symbols$1;\nlet MapGenerator$1$1 = mapGenerator$1;\nlet stringify$2$1 = stringify_1$1;\nlet Container$1$1 = container$1;\nlet Document$2$1 = document$1$1;\nlet warnOnce$1$1 = warnOnce$2$1;\nlet Result$2$1 = result$1;\nlet parse$2$1 = parse_1$1;\nlet Root$3$1 = root$1;\nconst TYPE_TO_CLASS_NAME$1 = {\n  atrule: \"AtRule\",\n  comment: \"Comment\",\n  decl: \"Declaration\",\n  document: \"Document\",\n  root: \"Root\",\n  rule: \"Rule\"\n};\nconst PLUGIN_PROPS$1 = {\n  AtRule: true,\n  AtRuleExit: true,\n  Comment: true,\n  CommentExit: true,\n  Declaration: true,\n  DeclarationExit: true,\n  Document: true,\n  DocumentExit: true,\n  Once: true,\n  OnceExit: true,\n  postcssPlugin: true,\n  prepare: true,\n  Root: true,\n  RootExit: true,\n  Rule: true,\n  RuleExit: true\n};\nconst NOT_VISITORS$1 = {\n  Once: true,\n  postcssPlugin: true,\n  prepare: true\n};\nconst CHILDREN$1 = 0;\nfunction isPromise$1(obj) {\n  return typeof obj === \"object\" && typeof obj.then === \"function\";\n}\nfunction getEvents$1(node2) {\n  let key = false;\n  let type = TYPE_TO_CLASS_NAME$1[node2.type];\n  if (node2.type === \"decl\") {\n    key = node2.prop.toLowerCase();\n  } else if (node2.type === \"atrule\") {\n    key = node2.name.toLowerCase();\n  }\n  if (key && node2.append) {\n    return [\n      type,\n      type + \"-\" + key,\n      CHILDREN$1,\n      type + \"Exit\",\n      type + \"Exit-\" + key\n    ];\n  } else if (key) {\n    return [type, type + \"-\" + key, type + \"Exit\", type + \"Exit-\" + key];\n  } else if (node2.append) {\n    return [type, CHILDREN$1, type + \"Exit\"];\n  } else {\n    return [type, type + \"Exit\"];\n  }\n}\nfunction toStack$1(node2) {\n  let events;\n  if (node2.type === \"document\") {\n    events = [\"Document\", CHILDREN$1, \"DocumentExit\"];\n  } else if (node2.type === \"root\") {\n    events = [\"Root\", CHILDREN$1, \"RootExit\"];\n  } else {\n    events = getEvents$1(node2);\n  }\n  return {\n    eventIndex: 0,\n    events,\n    iterator: 0,\n    node: node2,\n    visitorIndex: 0,\n    visitors: []\n  };\n}\nfunction cleanMarks$1(node2) {\n  node2[isClean$3] = false;\n  if (node2.nodes) node2.nodes.forEach((i2) => cleanMarks$1(i2));\n  return node2;\n}\nlet postcss$2$1 = {};\nlet LazyResult$2$1 = class LazyResult {\n  constructor(processor2, css, opts) {\n    this.stringified = false;\n    this.processed = false;\n    let root2;\n    if (typeof css === \"object\" && css !== null && (css.type === \"root\" || css.type === \"document\")) {\n      root2 = cleanMarks$1(css);\n    } else if (css instanceof LazyResult || css instanceof Result$2$1) {\n      root2 = cleanMarks$1(css.root);\n      if (css.map) {\n        if (typeof opts.map === \"undefined\") opts.map = {};\n        if (!opts.map.inline) opts.map.inline = false;\n        opts.map.prev = css.map;\n      }\n    } else {\n      let parser2 = parse$2$1;\n      if (opts.syntax) parser2 = opts.syntax.parse;\n      if (opts.parser) parser2 = opts.parser;\n      if (parser2.parse) parser2 = parser2.parse;\n      try {\n        root2 = parser2(css, opts);\n      } catch (error) {\n        this.processed = true;\n        this.error = error;\n      }\n      if (root2 && !root2[my$3]) {\n        Container$1$1.rebuild(root2);\n      }\n    }\n    this.result = new Result$2$1(processor2, root2, opts);\n    this.helpers = { ...postcss$2$1, postcss: postcss$2$1, result: this.result };\n    this.plugins = this.processor.plugins.map((plugin22) => {\n      if (typeof plugin22 === \"object\" && plugin22.prepare) {\n        return { ...plugin22, ...plugin22.prepare(this.result) };\n      } else {\n        return plugin22;\n      }\n    });\n  }\n  async() {\n    if (this.error) return Promise.reject(this.error);\n    if (this.processed) return Promise.resolve(this.result);\n    if (!this.processing) {\n      this.processing = this.runAsync();\n    }\n    return this.processing;\n  }\n  catch(onRejected) {\n    return this.async().catch(onRejected);\n  }\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally);\n  }\n  getAsyncError() {\n    throw new Error(\"Use process(css).then(cb) to work with async plugins\");\n  }\n  handleError(error, node2) {\n    let plugin22 = this.result.lastPlugin;\n    try {\n      if (node2) node2.addToError(error);\n      this.error = error;\n      if (error.name === \"CssSyntaxError\" && !error.plugin) {\n        error.plugin = plugin22.postcssPlugin;\n        error.setMessage();\n      } else if (plugin22.postcssVersion) {\n        if (process.env.NODE_ENV !== \"production\") {\n          let pluginName = plugin22.postcssPlugin;\n          let pluginVer = plugin22.postcssVersion;\n          let runtimeVer = this.result.processor.version;\n          let a2 = pluginVer.split(\".\");\n          let b = runtimeVer.split(\".\");\n          if (a2[0] !== b[0] || parseInt(a2[1]) > parseInt(b[1])) {\n            console.error(\n              \"Unknown error from PostCSS plugin. Your current PostCSS version is \" + runtimeVer + \", but \" + pluginName + \" uses \" + pluginVer + \". Perhaps this is the source of the error below.\"\n            );\n          }\n        }\n      }\n    } catch (err) {\n      if (console && console.error) console.error(err);\n    }\n    return error;\n  }\n  prepareVisitors() {\n    this.listeners = {};\n    let add = (plugin22, type, cb) => {\n      if (!this.listeners[type]) this.listeners[type] = [];\n      this.listeners[type].push([plugin22, cb]);\n    };\n    for (let plugin22 of this.plugins) {\n      if (typeof plugin22 === \"object\") {\n        for (let event in plugin22) {\n          if (!PLUGIN_PROPS$1[event] && /^[A-Z]/.test(event)) {\n            throw new Error(\n              `Unknown event ${event} in ${plugin22.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`\n            );\n          }\n          if (!NOT_VISITORS$1[event]) {\n            if (typeof plugin22[event] === \"object\") {\n              for (let filter in plugin22[event]) {\n                if (filter === \"*\") {\n                  add(plugin22, event, plugin22[event][filter]);\n                } else {\n                  add(\n                    plugin22,\n                    event + \"-\" + filter.toLowerCase(),\n                    plugin22[event][filter]\n                  );\n                }\n              }\n            } else if (typeof plugin22[event] === \"function\") {\n              add(plugin22, event, plugin22[event]);\n            }\n          }\n        }\n      }\n    }\n    this.hasListener = Object.keys(this.listeners).length > 0;\n  }\n  async runAsync() {\n    this.plugin = 0;\n    for (let i2 = 0; i2 < this.plugins.length; i2++) {\n      let plugin22 = this.plugins[i2];\n      let promise = this.runOnRoot(plugin22);\n      if (isPromise$1(promise)) {\n        try {\n          await promise;\n        } catch (error) {\n          throw this.handleError(error);\n        }\n      }\n    }\n    this.prepareVisitors();\n    if (this.hasListener) {\n      let root2 = this.result.root;\n      while (!root2[isClean$3]) {\n        root2[isClean$3] = true;\n        let stack = [toStack$1(root2)];\n        while (stack.length > 0) {\n          let promise = this.visitTick(stack);\n          if (isPromise$1(promise)) {\n            try {\n              await promise;\n            } catch (e2) {\n              let node2 = stack[stack.length - 1].node;\n              throw this.handleError(e2, node2);\n            }\n          }\n        }\n      }\n      if (this.listeners.OnceExit) {\n        for (let [plugin22, visitor] of this.listeners.OnceExit) {\n          this.result.lastPlugin = plugin22;\n          try {\n            if (root2.type === \"document\") {\n              let roots = root2.nodes.map(\n                (subRoot) => visitor(subRoot, this.helpers)\n              );\n              await Promise.all(roots);\n            } else {\n              await visitor(root2, this.helpers);\n            }\n          } catch (e2) {\n            throw this.handleError(e2);\n          }\n        }\n      }\n    }\n    this.processed = true;\n    return this.stringify();\n  }\n  runOnRoot(plugin22) {\n    this.result.lastPlugin = plugin22;\n    try {\n      if (typeof plugin22 === \"object\" && plugin22.Once) {\n        if (this.result.root.type === \"document\") {\n          let roots = this.result.root.nodes.map(\n            (root2) => plugin22.Once(root2, this.helpers)\n          );\n          if (isPromise$1(roots[0])) {\n            return Promise.all(roots);\n          }\n          return roots;\n        }\n        return plugin22.Once(this.result.root, this.helpers);\n      } else if (typeof plugin22 === \"function\") {\n        return plugin22(this.result.root, this.result);\n      }\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  }\n  stringify() {\n    if (this.error) throw this.error;\n    if (this.stringified) return this.result;\n    this.stringified = true;\n    this.sync();\n    let opts = this.result.opts;\n    let str = stringify$2$1;\n    if (opts.syntax) str = opts.syntax.stringify;\n    if (opts.stringifier) str = opts.stringifier;\n    if (str.stringify) str = str.stringify;\n    let map = new MapGenerator$1$1(str, this.result.root, this.result.opts);\n    let data = map.generate();\n    this.result.css = data[0];\n    this.result.map = data[1];\n    return this.result;\n  }\n  sync() {\n    if (this.error) throw this.error;\n    if (this.processed) return this.result;\n    this.processed = true;\n    if (this.processing) {\n      throw this.getAsyncError();\n    }\n    for (let plugin22 of this.plugins) {\n      let promise = this.runOnRoot(plugin22);\n      if (isPromise$1(promise)) {\n        throw this.getAsyncError();\n      }\n    }\n    this.prepareVisitors();\n    if (this.hasListener) {\n      let root2 = this.result.root;\n      while (!root2[isClean$3]) {\n        root2[isClean$3] = true;\n        this.walkSync(root2);\n      }\n      if (this.listeners.OnceExit) {\n        if (root2.type === \"document\") {\n          for (let subRoot of root2.nodes) {\n            this.visitSync(this.listeners.OnceExit, subRoot);\n          }\n        } else {\n          this.visitSync(this.listeners.OnceExit, root2);\n        }\n      }\n    }\n    return this.result;\n  }\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!(\"from\" in this.opts)) {\n        warnOnce$1$1(\n          \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n        );\n      }\n    }\n    return this.async().then(onFulfilled, onRejected);\n  }\n  toString() {\n    return this.css;\n  }\n  visitSync(visitors, node2) {\n    for (let [plugin22, visitor] of visitors) {\n      this.result.lastPlugin = plugin22;\n      let promise;\n      try {\n        promise = visitor(node2, this.helpers);\n      } catch (e2) {\n        throw this.handleError(e2, node2.proxyOf);\n      }\n      if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n        return true;\n      }\n      if (isPromise$1(promise)) {\n        throw this.getAsyncError();\n      }\n    }\n  }\n  visitTick(stack) {\n    let visit2 = stack[stack.length - 1];\n    let { node: node2, visitors } = visit2;\n    if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n      stack.pop();\n      return;\n    }\n    if (visitors.length > 0 && visit2.visitorIndex < visitors.length) {\n      let [plugin22, visitor] = visitors[visit2.visitorIndex];\n      visit2.visitorIndex += 1;\n      if (visit2.visitorIndex === visitors.length) {\n        visit2.visitors = [];\n        visit2.visitorIndex = 0;\n      }\n      this.result.lastPlugin = plugin22;\n      try {\n        return visitor(node2.toProxy(), this.helpers);\n      } catch (e2) {\n        throw this.handleError(e2, node2);\n      }\n    }\n    if (visit2.iterator !== 0) {\n      let iterator = visit2.iterator;\n      let child;\n      while (child = node2.nodes[node2.indexes[iterator]]) {\n        node2.indexes[iterator] += 1;\n        if (!child[isClean$3]) {\n          child[isClean$3] = true;\n          stack.push(toStack$1(child));\n          return;\n        }\n      }\n      visit2.iterator = 0;\n      delete node2.indexes[iterator];\n    }\n    let events = visit2.events;\n    while (visit2.eventIndex < events.length) {\n      let event = events[visit2.eventIndex];\n      visit2.eventIndex += 1;\n      if (event === CHILDREN$1) {\n        if (node2.nodes && node2.nodes.length) {\n          node2[isClean$3] = true;\n          visit2.iterator = node2.getIterator();\n        }\n        return;\n      } else if (this.listeners[event]) {\n        visit2.visitors = this.listeners[event];\n        return;\n      }\n    }\n    stack.pop();\n  }\n  walkSync(node2) {\n    node2[isClean$3] = true;\n    let events = getEvents$1(node2);\n    for (let event of events) {\n      if (event === CHILDREN$1) {\n        if (node2.nodes) {\n          node2.each((child) => {\n            if (!child[isClean$3]) this.walkSync(child);\n          });\n        }\n      } else {\n        let visitors = this.listeners[event];\n        if (visitors) {\n          if (this.visitSync(visitors, node2.toProxy())) return;\n        }\n      }\n    }\n  }\n  warnings() {\n    return this.sync().warnings();\n  }\n  get content() {\n    return this.stringify().content;\n  }\n  get css() {\n    return this.stringify().css;\n  }\n  get map() {\n    return this.stringify().map;\n  }\n  get messages() {\n    return this.sync().messages;\n  }\n  get opts() {\n    return this.result.opts;\n  }\n  get processor() {\n    return this.result.processor;\n  }\n  get root() {\n    return this.sync().root;\n  }\n  get [Symbol.toStringTag]() {\n    return \"LazyResult\";\n  }\n};\nLazyResult$2$1.registerPostcss = (dependant) => {\n  postcss$2$1 = dependant;\n};\nvar lazyResult$1 = LazyResult$2$1;\nLazyResult$2$1.default = LazyResult$2$1;\nRoot$3$1.registerLazyResult(LazyResult$2$1);\nDocument$2$1.registerLazyResult(LazyResult$2$1);\nlet MapGenerator2$1 = mapGenerator$1;\nlet stringify$1$1 = stringify_1$1;\nlet warnOnce2$1 = warnOnce$2$1;\nlet parse$1$1 = parse_1$1;\nconst Result$1$1 = result$1;\nlet NoWorkResult$1$1 = class NoWorkResult {\n  constructor(processor2, css, opts) {\n    css = css.toString();\n    this.stringified = false;\n    this._processor = processor2;\n    this._css = css;\n    this._opts = opts;\n    this._map = void 0;\n    let root2;\n    let str = stringify$1$1;\n    this.result = new Result$1$1(this._processor, root2, this._opts);\n    this.result.css = css;\n    let self = this;\n    Object.defineProperty(this.result, \"root\", {\n      get() {\n        return self.root;\n      }\n    });\n    let map = new MapGenerator2$1(str, root2, this._opts, css);\n    if (map.isMap()) {\n      let [generatedCSS, generatedMap] = map.generate();\n      if (generatedCSS) {\n        this.result.css = generatedCSS;\n      }\n      if (generatedMap) {\n        this.result.map = generatedMap;\n      }\n    } else {\n      map.clearAnnotation();\n      this.result.css = map.css;\n    }\n  }\n  async() {\n    if (this.error) return Promise.reject(this.error);\n    return Promise.resolve(this.result);\n  }\n  catch(onRejected) {\n    return this.async().catch(onRejected);\n  }\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally);\n  }\n  sync() {\n    if (this.error) throw this.error;\n    return this.result;\n  }\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!(\"from\" in this._opts)) {\n        warnOnce2$1(\n          \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n        );\n      }\n    }\n    return this.async().then(onFulfilled, onRejected);\n  }\n  toString() {\n    return this._css;\n  }\n  warnings() {\n    return [];\n  }\n  get content() {\n    return this.result.css;\n  }\n  get css() {\n    return this.result.css;\n  }\n  get map() {\n    return this.result.map;\n  }\n  get messages() {\n    return [];\n  }\n  get opts() {\n    return this.result.opts;\n  }\n  get processor() {\n    return this.result.processor;\n  }\n  get root() {\n    if (this._root) {\n      return this._root;\n    }\n    let root2;\n    let parser2 = parse$1$1;\n    try {\n      root2 = parser2(this._css, this._opts);\n    } catch (error) {\n      this.error = error;\n    }\n    if (this.error) {\n      throw this.error;\n    } else {\n      this._root = root2;\n      return root2;\n    }\n  }\n  get [Symbol.toStringTag]() {\n    return \"NoWorkResult\";\n  }\n};\nvar noWorkResult$1 = NoWorkResult$1$1;\nNoWorkResult$1$1.default = NoWorkResult$1$1;\nlet NoWorkResult2$1 = noWorkResult$1;\nlet LazyResult$1$1 = lazyResult$1;\nlet Document$1$1 = document$1$1;\nlet Root$2$1 = root$1;\nlet Processor$1$1 = class Processor {\n  constructor(plugins = []) {\n    this.version = \"8.4.38\";\n    this.plugins = this.normalize(plugins);\n  }\n  normalize(plugins) {\n    let normalized = [];\n    for (let i2 of plugins) {\n      if (i2.postcss === true) {\n        i2 = i2();\n      } else if (i2.postcss) {\n        i2 = i2.postcss;\n      }\n      if (typeof i2 === \"object\" && Array.isArray(i2.plugins)) {\n        normalized = normalized.concat(i2.plugins);\n      } else if (typeof i2 === \"object\" && i2.postcssPlugin) {\n        normalized.push(i2);\n      } else if (typeof i2 === \"function\") {\n        normalized.push(i2);\n      } else if (typeof i2 === \"object\" && (i2.parse || i2.stringify)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          throw new Error(\n            \"PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.\"\n          );\n        }\n      } else {\n        throw new Error(i2 + \" is not a PostCSS plugin\");\n      }\n    }\n    return normalized;\n  }\n  process(css, opts = {}) {\n    if (!this.plugins.length && !opts.parser && !opts.stringifier && !opts.syntax) {\n      return new NoWorkResult2$1(this, css, opts);\n    } else {\n      return new LazyResult$1$1(this, css, opts);\n    }\n  }\n  use(plugin22) {\n    this.plugins = this.plugins.concat(this.normalize([plugin22]));\n    return this;\n  }\n};\nvar processor$1 = Processor$1$1;\nProcessor$1$1.default = Processor$1$1;\nRoot$2$1.registerProcessor(Processor$1$1);\nDocument$1$1.registerProcessor(Processor$1$1);\nlet Declaration$1$1 = declaration$1;\nlet PreviousMap2$1 = previousMap$1;\nlet Comment$1$1 = comment$1;\nlet AtRule$1$1 = atRule$1;\nlet Input$1$1 = input$1;\nlet Root$1$1 = root$1;\nlet Rule$1$1 = rule$1;\nfunction fromJSON$1$1(json, inputs) {\n  if (Array.isArray(json)) return json.map((n2) => fromJSON$1$1(n2));\n  let { inputs: ownInputs, ...defaults } = json;\n  if (ownInputs) {\n    inputs = [];\n    for (let input2 of ownInputs) {\n      let inputHydrated = { ...input2, __proto__: Input$1$1.prototype };\n      if (inputHydrated.map) {\n        inputHydrated.map = {\n          ...inputHydrated.map,\n          __proto__: PreviousMap2$1.prototype\n        };\n      }\n      inputs.push(inputHydrated);\n    }\n  }\n  if (defaults.nodes) {\n    defaults.nodes = json.nodes.map((n2) => fromJSON$1$1(n2, inputs));\n  }\n  if (defaults.source) {\n    let { inputId, ...source } = defaults.source;\n    defaults.source = source;\n    if (inputId != null) {\n      defaults.source.input = inputs[inputId];\n    }\n  }\n  if (defaults.type === \"root\") {\n    return new Root$1$1(defaults);\n  } else if (defaults.type === \"decl\") {\n    return new Declaration$1$1(defaults);\n  } else if (defaults.type === \"rule\") {\n    return new Rule$1$1(defaults);\n  } else if (defaults.type === \"comment\") {\n    return new Comment$1$1(defaults);\n  } else if (defaults.type === \"atrule\") {\n    return new AtRule$1$1(defaults);\n  } else {\n    throw new Error(\"Unknown node type: \" + json.type);\n  }\n}\nvar fromJSON_1$1 = fromJSON$1$1;\nfromJSON$1$1.default = fromJSON$1$1;\nlet CssSyntaxError2$1 = cssSyntaxError$1;\nlet Declaration2$1 = declaration$1;\nlet LazyResult2$1 = lazyResult$1;\nlet Container2$1 = container$1;\nlet Processor2$1 = processor$1;\nlet stringify$5 = stringify_1$1;\nlet fromJSON$2 = fromJSON_1$1;\nlet Document22 = document$1$1;\nlet Warning2$1 = warning$1;\nlet Comment2$1 = comment$1;\nlet AtRule2$1 = atRule$1;\nlet Result2$1 = result$1;\nlet Input2$1 = input$1;\nlet parse$5 = parse_1$1;\nlet list$3 = list_1$1;\nlet Rule2$1 = rule$1;\nlet Root2$1 = root$1;\nlet Node2$1 = node$1;\nfunction postcss$3(...plugins) {\n  if (plugins.length === 1 && Array.isArray(plugins[0])) {\n    plugins = plugins[0];\n  }\n  return new Processor2$1(plugins);\n}\npostcss$3.plugin = function plugin(name, initializer) {\n  let warningPrinted = false;\n  function creator(...args) {\n    if (console && console.warn && !warningPrinted) {\n      warningPrinted = true;\n      console.warn(\n        name + \": postcss.plugin was deprecated. Migration guide:\\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration\"\n      );\n      if (process.env.LANG && process.env.LANG.startsWith(\"cn\")) {\n        console.warn(\n          name + \":  postcss.plugin . :\\nhttps://www.w3ctech.com/topic/2226\"\n        );\n      }\n    }\n    let transformer = initializer(...args);\n    transformer.postcssPlugin = name;\n    transformer.postcssVersion = new Processor2$1().version;\n    return transformer;\n  }\n  let cache;\n  Object.defineProperty(creator, \"postcss\", {\n    get() {\n      if (!cache) cache = creator();\n      return cache;\n    }\n  });\n  creator.process = function(css, processOpts, pluginOpts) {\n    return postcss$3([creator(pluginOpts)]).process(css, processOpts);\n  };\n  return creator;\n};\npostcss$3.stringify = stringify$5;\npostcss$3.parse = parse$5;\npostcss$3.fromJSON = fromJSON$2;\npostcss$3.list = list$3;\npostcss$3.comment = (defaults) => new Comment2$1(defaults);\npostcss$3.atRule = (defaults) => new AtRule2$1(defaults);\npostcss$3.decl = (defaults) => new Declaration2$1(defaults);\npostcss$3.rule = (defaults) => new Rule2$1(defaults);\npostcss$3.root = (defaults) => new Root2$1(defaults);\npostcss$3.document = (defaults) => new Document22(defaults);\npostcss$3.CssSyntaxError = CssSyntaxError2$1;\npostcss$3.Declaration = Declaration2$1;\npostcss$3.Container = Container2$1;\npostcss$3.Processor = Processor2$1;\npostcss$3.Document = Document22;\npostcss$3.Comment = Comment2$1;\npostcss$3.Warning = Warning2$1;\npostcss$3.AtRule = AtRule2$1;\npostcss$3.Result = Result2$1;\npostcss$3.Input = Input2$1;\npostcss$3.Rule = Rule2$1;\npostcss$3.Root = Root2$1;\npostcss$3.Node = Node2$1;\nLazyResult2$1.registerPostcss(postcss$3);\nvar postcss_1$1 = postcss$3;\npostcss$3.default = postcss$3;\nconst postcss$1$1 = /* @__PURE__ */ getDefaultExportFromCjs$1(postcss_1$1);\npostcss$1$1.stringify;\npostcss$1$1.fromJSON;\npostcss$1$1.plugin;\npostcss$1$1.parse;\npostcss$1$1.list;\npostcss$1$1.document;\npostcss$1$1.comment;\npostcss$1$1.atRule;\npostcss$1$1.rule;\npostcss$1$1.decl;\npostcss$1$1.root;\npostcss$1$1.CssSyntaxError;\npostcss$1$1.Declaration;\npostcss$1$1.Container;\npostcss$1$1.Processor;\npostcss$1$1.Document;\npostcss$1$1.Comment;\npostcss$1$1.Warning;\npostcss$1$1.AtRule;\npostcss$1$1.Result;\npostcss$1$1.Input;\npostcss$1$1.Rule;\npostcss$1$1.Root;\npostcss$1$1.Node;\nvar __defProp2 = Object.defineProperty;\nvar __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField2 = (obj, key, value) => __defNormalProp2(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nfunction getDefaultExportFromCjs(x2) {\n  return x2 && x2.__esModule && Object.prototype.hasOwnProperty.call(x2, \"default\") ? x2[\"default\"] : x2;\n}\nfunction getAugmentedNamespace(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\nvar picocolors_browser = { exports: {} };\nvar x = String;\nvar create = function() {\n  return { isColorSupported: false, reset: x, bold: x, dim: x, italic: x, underline: x, inverse: x, hidden: x, strikethrough: x, black: x, red: x, green: x, yellow: x, blue: x, magenta: x, cyan: x, white: x, gray: x, bgBlack: x, bgRed: x, bgGreen: x, bgYellow: x, bgBlue: x, bgMagenta: x, bgCyan: x, bgWhite: x };\n};\npicocolors_browser.exports = create();\npicocolors_browser.exports.createColors = create;\nvar picocolors_browserExports = picocolors_browser.exports;\nconst __viteBrowserExternal = {};\nconst __viteBrowserExternal$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: __viteBrowserExternal\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst require$$2 = /* @__PURE__ */ getAugmentedNamespace(__viteBrowserExternal$1);\nlet pico = picocolors_browserExports;\nlet terminalHighlight$1 = require$$2;\nlet CssSyntaxError$3 = class CssSyntaxError2 extends Error {\n  constructor(message, line, column, source, file, plugin22) {\n    super(message);\n    this.name = \"CssSyntaxError\";\n    this.reason = message;\n    if (file) {\n      this.file = file;\n    }\n    if (source) {\n      this.source = source;\n    }\n    if (plugin22) {\n      this.plugin = plugin22;\n    }\n    if (typeof line !== \"undefined\" && typeof column !== \"undefined\") {\n      if (typeof line === \"number\") {\n        this.line = line;\n        this.column = column;\n      } else {\n        this.line = line.line;\n        this.column = line.column;\n        this.endLine = column.line;\n        this.endColumn = column.column;\n      }\n    }\n    this.setMessage();\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, CssSyntaxError2);\n    }\n  }\n  setMessage() {\n    this.message = this.plugin ? this.plugin + \": \" : \"\";\n    this.message += this.file ? this.file : \"<css input>\";\n    if (typeof this.line !== \"undefined\") {\n      this.message += \":\" + this.line + \":\" + this.column;\n    }\n    this.message += \": \" + this.reason;\n  }\n  showSourceCode(color) {\n    if (!this.source) return \"\";\n    let css = this.source;\n    if (color == null) color = pico.isColorSupported;\n    if (terminalHighlight$1) {\n      if (color) css = terminalHighlight$1(css);\n    }\n    let lines = css.split(/\\r?\\n/);\n    let start = Math.max(this.line - 3, 0);\n    let end = Math.min(this.line + 2, lines.length);\n    let maxWidth = String(end).length;\n    let mark, aside;\n    if (color) {\n      let { bold, gray, red } = pico.createColors(true);\n      mark = (text) => bold(red(text));\n      aside = (text) => gray(text);\n    } else {\n      mark = aside = (str) => str;\n    }\n    return lines.slice(start, end).map((line, index2) => {\n      let number = start + 1 + index2;\n      let gutter = \" \" + (\" \" + number).slice(-maxWidth) + \" | \";\n      if (number === this.line) {\n        let spacing = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, this.column - 1).replace(/[^\\t]/g, \" \");\n        return mark(\">\") + aside(gutter) + line + \"\\n \" + spacing + mark(\"^\");\n      }\n      return \" \" + aside(gutter) + line;\n    }).join(\"\\n\");\n  }\n  toString() {\n    let code = this.showSourceCode();\n    if (code) {\n      code = \"\\n\\n\" + code + \"\\n\";\n    }\n    return this.name + \": \" + this.message + code;\n  }\n};\nvar cssSyntaxError = CssSyntaxError$3;\nCssSyntaxError$3.default = CssSyntaxError$3;\nvar symbols = {};\nsymbols.isClean = Symbol(\"isClean\");\nsymbols.my = Symbol(\"my\");\nconst DEFAULT_RAW = {\n  after: \"\\n\",\n  beforeClose: \"\\n\",\n  beforeComment: \"\\n\",\n  beforeDecl: \"\\n\",\n  beforeOpen: \" \",\n  beforeRule: \"\\n\",\n  colon: \": \",\n  commentLeft: \" \",\n  commentRight: \" \",\n  emptyBody: \"\",\n  indent: \"    \",\n  semicolon: false\n};\nfunction capitalize(str) {\n  return str[0].toUpperCase() + str.slice(1);\n}\nlet Stringifier$2 = class Stringifier2 {\n  constructor(builder) {\n    this.builder = builder;\n  }\n  atrule(node2, semicolon) {\n    let name = \"@\" + node2.name;\n    let params = node2.params ? this.rawValue(node2, \"params\") : \"\";\n    if (typeof node2.raws.afterName !== \"undefined\") {\n      name += node2.raws.afterName;\n    } else if (params) {\n      name += \" \";\n    }\n    if (node2.nodes) {\n      this.block(node2, name + params);\n    } else {\n      let end = (node2.raws.between || \"\") + (semicolon ? \";\" : \"\");\n      this.builder(name + params + end, node2);\n    }\n  }\n  beforeAfter(node2, detect) {\n    let value;\n    if (node2.type === \"decl\") {\n      value = this.raw(node2, null, \"beforeDecl\");\n    } else if (node2.type === \"comment\") {\n      value = this.raw(node2, null, \"beforeComment\");\n    } else if (detect === \"before\") {\n      value = this.raw(node2, null, \"beforeRule\");\n    } else {\n      value = this.raw(node2, null, \"beforeClose\");\n    }\n    let buf = node2.parent;\n    let depth = 0;\n    while (buf && buf.type !== \"root\") {\n      depth += 1;\n      buf = buf.parent;\n    }\n    if (value.includes(\"\\n\")) {\n      let indent = this.raw(node2, null, \"indent\");\n      if (indent.length) {\n        for (let step = 0; step < depth; step++) value += indent;\n      }\n    }\n    return value;\n  }\n  block(node2, start) {\n    let between = this.raw(node2, \"between\", \"beforeOpen\");\n    this.builder(start + between + \"{\", node2, \"start\");\n    let after;\n    if (node2.nodes && node2.nodes.length) {\n      this.body(node2);\n      after = this.raw(node2, \"after\");\n    } else {\n      after = this.raw(node2, \"after\", \"emptyBody\");\n    }\n    if (after) this.builder(after);\n    this.builder(\"}\", node2, \"end\");\n  }\n  body(node2) {\n    let last = node2.nodes.length - 1;\n    while (last > 0) {\n      if (node2.nodes[last].type !== \"comment\") break;\n      last -= 1;\n    }\n    let semicolon = this.raw(node2, \"semicolon\");\n    for (let i2 = 0; i2 < node2.nodes.length; i2++) {\n      let child = node2.nodes[i2];\n      let before = this.raw(child, \"before\");\n      if (before) this.builder(before);\n      this.stringify(child, last !== i2 || semicolon);\n    }\n  }\n  comment(node2) {\n    let left = this.raw(node2, \"left\", \"commentLeft\");\n    let right = this.raw(node2, \"right\", \"commentRight\");\n    this.builder(\"/*\" + left + node2.text + right + \"*/\", node2);\n  }\n  decl(node2, semicolon) {\n    let between = this.raw(node2, \"between\", \"colon\");\n    let string = node2.prop + between + this.rawValue(node2, \"value\");\n    if (node2.important) {\n      string += node2.raws.important || \" !important\";\n    }\n    if (semicolon) string += \";\";\n    this.builder(string, node2);\n  }\n  document(node2) {\n    this.body(node2);\n  }\n  raw(node2, own, detect) {\n    let value;\n    if (!detect) detect = own;\n    if (own) {\n      value = node2.raws[own];\n      if (typeof value !== \"undefined\") return value;\n    }\n    let parent = node2.parent;\n    if (detect === \"before\") {\n      if (!parent || parent.type === \"root\" && parent.first === node2) {\n        return \"\";\n      }\n      if (parent && parent.type === \"document\") {\n        return \"\";\n      }\n    }\n    if (!parent) return DEFAULT_RAW[detect];\n    let root2 = node2.root();\n    if (!root2.rawCache) root2.rawCache = {};\n    if (typeof root2.rawCache[detect] !== \"undefined\") {\n      return root2.rawCache[detect];\n    }\n    if (detect === \"before\" || detect === \"after\") {\n      return this.beforeAfter(node2, detect);\n    } else {\n      let method = \"raw\" + capitalize(detect);\n      if (this[method]) {\n        value = this[method](root2, node2);\n      } else {\n        root2.walk((i2) => {\n          value = i2.raws[own];\n          if (typeof value !== \"undefined\") return false;\n        });\n      }\n    }\n    if (typeof value === \"undefined\") value = DEFAULT_RAW[detect];\n    root2.rawCache[detect] = value;\n    return value;\n  }\n  rawBeforeClose(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length > 0) {\n        if (typeof i2.raws.after !== \"undefined\") {\n          value = i2.raws.after;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      }\n    });\n    if (value) value = value.replace(/\\S/g, \"\");\n    return value;\n  }\n  rawBeforeComment(root2, node2) {\n    let value;\n    root2.walkComments((i2) => {\n      if (typeof i2.raws.before !== \"undefined\") {\n        value = i2.raws.before;\n        if (value.includes(\"\\n\")) {\n          value = value.replace(/[^\\n]+$/, \"\");\n        }\n        return false;\n      }\n    });\n    if (typeof value === \"undefined\") {\n      value = this.raw(node2, null, \"beforeDecl\");\n    } else if (value) {\n      value = value.replace(/\\S/g, \"\");\n    }\n    return value;\n  }\n  rawBeforeDecl(root2, node2) {\n    let value;\n    root2.walkDecls((i2) => {\n      if (typeof i2.raws.before !== \"undefined\") {\n        value = i2.raws.before;\n        if (value.includes(\"\\n\")) {\n          value = value.replace(/[^\\n]+$/, \"\");\n        }\n        return false;\n      }\n    });\n    if (typeof value === \"undefined\") {\n      value = this.raw(node2, null, \"beforeRule\");\n    } else if (value) {\n      value = value.replace(/\\S/g, \"\");\n    }\n    return value;\n  }\n  rawBeforeOpen(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.type !== \"decl\") {\n        value = i2.raws.between;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawBeforeRule(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && (i2.parent !== root2 || root2.first !== i2)) {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      }\n    });\n    if (value) value = value.replace(/\\S/g, \"\");\n    return value;\n  }\n  rawColon(root2) {\n    let value;\n    root2.walkDecls((i2) => {\n      if (typeof i2.raws.between !== \"undefined\") {\n        value = i2.raws.between.replace(/[^\\s:]/g, \"\");\n        return false;\n      }\n    });\n    return value;\n  }\n  rawEmptyBody(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length === 0) {\n        value = i2.raws.after;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawIndent(root2) {\n    if (root2.raws.indent) return root2.raws.indent;\n    let value;\n    root2.walk((i2) => {\n      let p = i2.parent;\n      if (p && p !== root2 && p.parent && p.parent === root2) {\n        if (typeof i2.raws.before !== \"undefined\") {\n          let parts = i2.raws.before.split(\"\\n\");\n          value = parts[parts.length - 1];\n          value = value.replace(/\\S/g, \"\");\n          return false;\n        }\n      }\n    });\n    return value;\n  }\n  rawSemicolon(root2) {\n    let value;\n    root2.walk((i2) => {\n      if (i2.nodes && i2.nodes.length && i2.last.type === \"decl\") {\n        value = i2.raws.semicolon;\n        if (typeof value !== \"undefined\") return false;\n      }\n    });\n    return value;\n  }\n  rawValue(node2, prop) {\n    let value = node2[prop];\n    let raw = node2.raws[prop];\n    if (raw && raw.value === value) {\n      return raw.raw;\n    }\n    return value;\n  }\n  root(node2) {\n    this.body(node2);\n    if (node2.raws.after) this.builder(node2.raws.after);\n  }\n  rule(node2) {\n    this.block(node2, this.rawValue(node2, \"selector\"));\n    if (node2.raws.ownSemicolon) {\n      this.builder(node2.raws.ownSemicolon, node2, \"end\");\n    }\n  }\n  stringify(node2, semicolon) {\n    if (!this[node2.type]) {\n      throw new Error(\n        \"Unknown AST node type \" + node2.type + \". Maybe you need to change PostCSS stringifier.\"\n      );\n    }\n    this[node2.type](node2, semicolon);\n  }\n};\nvar stringifier = Stringifier$2;\nStringifier$2.default = Stringifier$2;\nlet Stringifier$1 = stringifier;\nfunction stringify$4(node2, builder) {\n  let str = new Stringifier$1(builder);\n  str.stringify(node2);\n}\nvar stringify_1 = stringify$4;\nstringify$4.default = stringify$4;\nlet { isClean: isClean$2, my: my$2 } = symbols;\nlet CssSyntaxError$2 = cssSyntaxError;\nlet Stringifier22 = stringifier;\nlet stringify$3 = stringify_1;\nfunction cloneNode(obj, parent) {\n  let cloned = new obj.constructor();\n  for (let i2 in obj) {\n    if (!Object.prototype.hasOwnProperty.call(obj, i2)) {\n      continue;\n    }\n    if (i2 === \"proxyCache\") continue;\n    let value = obj[i2];\n    let type = typeof value;\n    if (i2 === \"parent\" && type === \"object\") {\n      if (parent) cloned[i2] = parent;\n    } else if (i2 === \"source\") {\n      cloned[i2] = value;\n    } else if (Array.isArray(value)) {\n      cloned[i2] = value.map((j) => cloneNode(j, cloned));\n    } else {\n      if (type === \"object\" && value !== null) value = cloneNode(value);\n      cloned[i2] = value;\n    }\n  }\n  return cloned;\n}\nlet Node$4 = class Node3 {\n  constructor(defaults = {}) {\n    this.raws = {};\n    this[isClean$2] = false;\n    this[my$2] = true;\n    for (let name in defaults) {\n      if (name === \"nodes\") {\n        this.nodes = [];\n        for (let node2 of defaults[name]) {\n          if (typeof node2.clone === \"function\") {\n            this.append(node2.clone());\n          } else {\n            this.append(node2);\n          }\n        }\n      } else {\n        this[name] = defaults[name];\n      }\n    }\n  }\n  addToError(error) {\n    error.postcssNode = this;\n    if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n      let s2 = this.source;\n      error.stack = error.stack.replace(\n        /\\n\\s{4}at /,\n        `$&${s2.input.from}:${s2.start.line}:${s2.start.column}$&`\n      );\n    }\n    return error;\n  }\n  after(add) {\n    this.parent.insertAfter(this, add);\n    return this;\n  }\n  assign(overrides = {}) {\n    for (let name in overrides) {\n      this[name] = overrides[name];\n    }\n    return this;\n  }\n  before(add) {\n    this.parent.insertBefore(this, add);\n    return this;\n  }\n  cleanRaws(keepBetween) {\n    delete this.raws.before;\n    delete this.raws.after;\n    if (!keepBetween) delete this.raws.between;\n  }\n  clone(overrides = {}) {\n    let cloned = cloneNode(this);\n    for (let name in overrides) {\n      cloned[name] = overrides[name];\n    }\n    return cloned;\n  }\n  cloneAfter(overrides = {}) {\n    let cloned = this.clone(overrides);\n    this.parent.insertAfter(this, cloned);\n    return cloned;\n  }\n  cloneBefore(overrides = {}) {\n    let cloned = this.clone(overrides);\n    this.parent.insertBefore(this, cloned);\n    return cloned;\n  }\n  error(message, opts = {}) {\n    if (this.source) {\n      let { end, start } = this.rangeBy(opts);\n      return this.source.input.error(\n        message,\n        { column: start.column, line: start.line },\n        { column: end.column, line: end.line },\n        opts\n      );\n    }\n    return new CssSyntaxError$2(message);\n  }\n  getProxyProcessor() {\n    return {\n      get(node2, prop) {\n        if (prop === \"proxyOf\") {\n          return node2;\n        } else if (prop === \"root\") {\n          return () => node2.root().toProxy();\n        } else {\n          return node2[prop];\n        }\n      },\n      set(node2, prop, value) {\n        if (node2[prop] === value) return true;\n        node2[prop] = value;\n        if (prop === \"prop\" || prop === \"value\" || prop === \"name\" || prop === \"params\" || prop === \"important\" || /* c8 ignore next */\n        prop === \"text\") {\n          node2.markDirty();\n        }\n        return true;\n      }\n    };\n  }\n  markDirty() {\n    if (this[isClean$2]) {\n      this[isClean$2] = false;\n      let next = this;\n      while (next = next.parent) {\n        next[isClean$2] = false;\n      }\n    }\n  }\n  next() {\n    if (!this.parent) return void 0;\n    let index2 = this.parent.index(this);\n    return this.parent.nodes[index2 + 1];\n  }\n  positionBy(opts, stringRepresentation) {\n    let pos = this.source.start;\n    if (opts.index) {\n      pos = this.positionInside(opts.index, stringRepresentation);\n    } else if (opts.word) {\n      stringRepresentation = this.toString();\n      let index2 = stringRepresentation.indexOf(opts.word);\n      if (index2 !== -1) pos = this.positionInside(index2, stringRepresentation);\n    }\n    return pos;\n  }\n  positionInside(index2, stringRepresentation) {\n    let string = stringRepresentation || this.toString();\n    let column = this.source.start.column;\n    let line = this.source.start.line;\n    for (let i2 = 0; i2 < index2; i2++) {\n      if (string[i2] === \"\\n\") {\n        column = 1;\n        line += 1;\n      } else {\n        column += 1;\n      }\n    }\n    return { column, line };\n  }\n  prev() {\n    if (!this.parent) return void 0;\n    let index2 = this.parent.index(this);\n    return this.parent.nodes[index2 - 1];\n  }\n  rangeBy(opts) {\n    let start = {\n      column: this.source.start.column,\n      line: this.source.start.line\n    };\n    let end = this.source.end ? {\n      column: this.source.end.column + 1,\n      line: this.source.end.line\n    } : {\n      column: start.column + 1,\n      line: start.line\n    };\n    if (opts.word) {\n      let stringRepresentation = this.toString();\n      let index2 = stringRepresentation.indexOf(opts.word);\n      if (index2 !== -1) {\n        start = this.positionInside(index2, stringRepresentation);\n        end = this.positionInside(index2 + opts.word.length, stringRepresentation);\n      }\n    } else {\n      if (opts.start) {\n        start = {\n          column: opts.start.column,\n          line: opts.start.line\n        };\n      } else if (opts.index) {\n        start = this.positionInside(opts.index);\n      }\n      if (opts.end) {\n        end = {\n          column: opts.end.column,\n          line: opts.end.line\n        };\n      } else if (typeof opts.endIndex === \"number\") {\n        end = this.positionInside(opts.endIndex);\n      } else if (opts.index) {\n        end = this.positionInside(opts.index + 1);\n      }\n    }\n    if (end.line < start.line || end.line === start.line && end.column <= start.column) {\n      end = { column: start.column + 1, line: start.line };\n    }\n    return { end, start };\n  }\n  raw(prop, defaultType) {\n    let str = new Stringifier22();\n    return str.raw(this, prop, defaultType);\n  }\n  remove() {\n    if (this.parent) {\n      this.parent.removeChild(this);\n    }\n    this.parent = void 0;\n    return this;\n  }\n  replaceWith(...nodes) {\n    if (this.parent) {\n      let bookmark = this;\n      let foundSelf = false;\n      for (let node2 of nodes) {\n        if (node2 === this) {\n          foundSelf = true;\n        } else if (foundSelf) {\n          this.parent.insertAfter(bookmark, node2);\n          bookmark = node2;\n        } else {\n          this.parent.insertBefore(bookmark, node2);\n        }\n      }\n      if (!foundSelf) {\n        this.remove();\n      }\n    }\n    return this;\n  }\n  root() {\n    let result2 = this;\n    while (result2.parent && result2.parent.type !== \"document\") {\n      result2 = result2.parent;\n    }\n    return result2;\n  }\n  toJSON(_, inputs) {\n    let fixed = {};\n    let emitInputs = inputs == null;\n    inputs = inputs || /* @__PURE__ */ new Map();\n    let inputsNextIndex = 0;\n    for (let name in this) {\n      if (!Object.prototype.hasOwnProperty.call(this, name)) {\n        continue;\n      }\n      if (name === \"parent\" || name === \"proxyCache\") continue;\n      let value = this[name];\n      if (Array.isArray(value)) {\n        fixed[name] = value.map((i2) => {\n          if (typeof i2 === \"object\" && i2.toJSON) {\n            return i2.toJSON(null, inputs);\n          } else {\n            return i2;\n          }\n        });\n      } else if (typeof value === \"object\" && value.toJSON) {\n        fixed[name] = value.toJSON(null, inputs);\n      } else if (name === \"source\") {\n        let inputId = inputs.get(value.input);\n        if (inputId == null) {\n          inputId = inputsNextIndex;\n          inputs.set(value.input, inputsNextIndex);\n          inputsNextIndex++;\n        }\n        fixed[name] = {\n          end: value.end,\n          inputId,\n          start: value.start\n        };\n      } else {\n        fixed[name] = value;\n      }\n    }\n    if (emitInputs) {\n      fixed.inputs = [...inputs.keys()].map((input2) => input2.toJSON());\n    }\n    return fixed;\n  }\n  toProxy() {\n    if (!this.proxyCache) {\n      this.proxyCache = new Proxy(this, this.getProxyProcessor());\n    }\n    return this.proxyCache;\n  }\n  toString(stringifier2 = stringify$3) {\n    if (stringifier2.stringify) stringifier2 = stringifier2.stringify;\n    let result2 = \"\";\n    stringifier2(this, (i2) => {\n      result2 += i2;\n    });\n    return result2;\n  }\n  warn(result2, text, opts) {\n    let data = { node: this };\n    for (let i2 in opts) data[i2] = opts[i2];\n    return result2.warn(text, data);\n  }\n  get proxyOf() {\n    return this;\n  }\n};\nvar node = Node$4;\nNode$4.default = Node$4;\nlet Node$3 = node;\nlet Declaration$4 = class Declaration2 extends Node$3 {\n  constructor(defaults) {\n    if (defaults && typeof defaults.value !== \"undefined\" && typeof defaults.value !== \"string\") {\n      defaults = { ...defaults, value: String(defaults.value) };\n    }\n    super(defaults);\n    this.type = \"decl\";\n  }\n  get variable() {\n    return this.prop.startsWith(\"--\") || this.prop[0] === \"$\";\n  }\n};\nvar declaration = Declaration$4;\nDeclaration$4.default = Declaration$4;\nlet urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\nlet customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = \"\";\n    let i2 = size;\n    while (i2--) {\n      id += alphabet[Math.random() * alphabet.length | 0];\n    }\n    return id;\n  };\n};\nlet nanoid$1 = (size = 21) => {\n  let id = \"\";\n  let i2 = size;\n  while (i2--) {\n    id += urlAlphabet[Math.random() * 64 | 0];\n  }\n  return id;\n};\nvar nonSecure = { nanoid: nanoid$1, customAlphabet };\nlet { SourceMapConsumer: SourceMapConsumer$2, SourceMapGenerator: SourceMapGenerator$2 } = require$$2;\nlet { existsSync, readFileSync } = require$$2;\nlet { dirname: dirname$1, join } = require$$2;\nfunction fromBase64(str) {\n  if (Buffer) {\n    return Buffer.from(str, \"base64\").toString();\n  } else {\n    return window.atob(str);\n  }\n}\nlet PreviousMap$2 = class PreviousMap2 {\n  constructor(css, opts) {\n    if (opts.map === false) return;\n    this.loadAnnotation(css);\n    this.inline = this.startWith(this.annotation, \"data:\");\n    let prev = opts.map ? opts.map.prev : void 0;\n    let text = this.loadMap(opts.from, prev);\n    if (!this.mapFile && opts.from) {\n      this.mapFile = opts.from;\n    }\n    if (this.mapFile) this.root = dirname$1(this.mapFile);\n    if (text) this.text = text;\n  }\n  consumer() {\n    if (!this.consumerCache) {\n      this.consumerCache = new SourceMapConsumer$2(this.text);\n    }\n    return this.consumerCache;\n  }\n  decodeInline(text) {\n    let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/;\n    let baseUri = /^data:application\\/json;base64,/;\n    let charsetUri = /^data:application\\/json;charset=utf-?8,/;\n    let uri = /^data:application\\/json,/;\n    if (charsetUri.test(text) || uri.test(text)) {\n      return decodeURIComponent(text.substr(RegExp.lastMatch.length));\n    }\n    if (baseCharsetUri.test(text) || baseUri.test(text)) {\n      return fromBase64(text.substr(RegExp.lastMatch.length));\n    }\n    let encoding = text.match(/data:application\\/json;([^,]+),/)[1];\n    throw new Error(\"Unsupported source map encoding \" + encoding);\n  }\n  getAnnotationURL(sourceMapString) {\n    return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, \"\").trim();\n  }\n  isMap(map) {\n    if (typeof map !== \"object\") return false;\n    return typeof map.mappings === \"string\" || typeof map._mappings === \"string\" || Array.isArray(map.sections);\n  }\n  loadAnnotation(css) {\n    let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/gm);\n    if (!comments) return;\n    let start = css.lastIndexOf(comments.pop());\n    let end = css.indexOf(\"*/\", start);\n    if (start > -1 && end > -1) {\n      this.annotation = this.getAnnotationURL(css.substring(start, end));\n    }\n  }\n  loadFile(path) {\n    this.root = dirname$1(path);\n    if (existsSync(path)) {\n      this.mapFile = path;\n      return readFileSync(path, \"utf-8\").toString().trim();\n    }\n  }\n  loadMap(file, prev) {\n    if (prev === false) return false;\n    if (prev) {\n      if (typeof prev === \"string\") {\n        return prev;\n      } else if (typeof prev === \"function\") {\n        let prevPath = prev(file);\n        if (prevPath) {\n          let map = this.loadFile(prevPath);\n          if (!map) {\n            throw new Error(\n              \"Unable to load previous source map: \" + prevPath.toString()\n            );\n          }\n          return map;\n        }\n      } else if (prev instanceof SourceMapConsumer$2) {\n        return SourceMapGenerator$2.fromSourceMap(prev).toString();\n      } else if (prev instanceof SourceMapGenerator$2) {\n        return prev.toString();\n      } else if (this.isMap(prev)) {\n        return JSON.stringify(prev);\n      } else {\n        throw new Error(\n          \"Unsupported previous source map format: \" + prev.toString()\n        );\n      }\n    } else if (this.inline) {\n      return this.decodeInline(this.annotation);\n    } else if (this.annotation) {\n      let map = this.annotation;\n      if (file) map = join(dirname$1(file), map);\n      return this.loadFile(map);\n    }\n  }\n  startWith(string, start) {\n    if (!string) return false;\n    return string.substr(0, start.length) === start;\n  }\n  withContent() {\n    return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);\n  }\n};\nvar previousMap = PreviousMap$2;\nPreviousMap$2.default = PreviousMap$2;\nlet { SourceMapConsumer: SourceMapConsumer$1, SourceMapGenerator: SourceMapGenerator$1 } = require$$2;\nlet { fileURLToPath, pathToFileURL: pathToFileURL$1 } = require$$2;\nlet { isAbsolute, resolve: resolve$1 } = require$$2;\nlet { nanoid } = nonSecure;\nlet terminalHighlight = require$$2;\nlet CssSyntaxError$1 = cssSyntaxError;\nlet PreviousMap$1 = previousMap;\nlet fromOffsetCache = Symbol(\"fromOffsetCache\");\nlet sourceMapAvailable$1 = Boolean(SourceMapConsumer$1 && SourceMapGenerator$1);\nlet pathAvailable$1 = Boolean(resolve$1 && isAbsolute);\nlet Input$4 = class Input2 {\n  constructor(css, opts = {}) {\n    if (css === null || typeof css === \"undefined\" || typeof css === \"object\" && !css.toString) {\n      throw new Error(`PostCSS received ${css} instead of CSS string`);\n    }\n    this.css = css.toString();\n    if (this.css[0] === \"\\uFEFF\" || this.css[0] === \"\") {\n      this.hasBOM = true;\n      this.css = this.css.slice(1);\n    } else {\n      this.hasBOM = false;\n    }\n    if (opts.from) {\n      if (!pathAvailable$1 || /^\\w+:\\/\\//.test(opts.from) || isAbsolute(opts.from)) {\n        this.file = opts.from;\n      } else {\n        this.file = resolve$1(opts.from);\n      }\n    }\n    if (pathAvailable$1 && sourceMapAvailable$1) {\n      let map = new PreviousMap$1(this.css, opts);\n      if (map.text) {\n        this.map = map;\n        let file = map.consumer().file;\n        if (!this.file && file) this.file = this.mapResolve(file);\n      }\n    }\n    if (!this.file) {\n      this.id = \"<input css \" + nanoid(6) + \">\";\n    }\n    if (this.map) this.map.file = this.from;\n  }\n  error(message, line, column, opts = {}) {\n    let result2, endLine, endColumn;\n    if (line && typeof line === \"object\") {\n      let start = line;\n      let end = column;\n      if (typeof start.offset === \"number\") {\n        let pos = this.fromOffset(start.offset);\n        line = pos.line;\n        column = pos.col;\n      } else {\n        line = start.line;\n        column = start.column;\n      }\n      if (typeof end.offset === \"number\") {\n        let pos = this.fromOffset(end.offset);\n        endLine = pos.line;\n        endColumn = pos.col;\n      } else {\n        endLine = end.line;\n        endColumn = end.column;\n      }\n    } else if (!column) {\n      let pos = this.fromOffset(line);\n      line = pos.line;\n      column = pos.col;\n    }\n    let origin = this.origin(line, column, endLine, endColumn);\n    if (origin) {\n      result2 = new CssSyntaxError$1(\n        message,\n        origin.endLine === void 0 ? origin.line : { column: origin.column, line: origin.line },\n        origin.endLine === void 0 ? origin.column : { column: origin.endColumn, line: origin.endLine },\n        origin.source,\n        origin.file,\n        opts.plugin\n      );\n    } else {\n      result2 = new CssSyntaxError$1(\n        message,\n        endLine === void 0 ? line : { column, line },\n        endLine === void 0 ? column : { column: endColumn, line: endLine },\n        this.css,\n        this.file,\n        opts.plugin\n      );\n    }\n    result2.input = { column, endColumn, endLine, line, source: this.css };\n    if (this.file) {\n      if (pathToFileURL$1) {\n        result2.input.url = pathToFileURL$1(this.file).toString();\n      }\n      result2.input.file = this.file;\n    }\n    return result2;\n  }\n  fromOffset(offset) {\n    let lastLine, lineToIndex;\n    if (!this[fromOffsetCache]) {\n      let lines = this.css.split(\"\\n\");\n      lineToIndex = new Array(lines.length);\n      let prevIndex = 0;\n      for (let i2 = 0, l2 = lines.length; i2 < l2; i2++) {\n        lineToIndex[i2] = prevIndex;\n        prevIndex += lines[i2].length + 1;\n      }\n      this[fromOffsetCache] = lineToIndex;\n    } else {\n      lineToIndex = this[fromOffsetCache];\n    }\n    lastLine = lineToIndex[lineToIndex.length - 1];\n    let min = 0;\n    if (offset >= lastLine) {\n      min = lineToIndex.length - 1;\n    } else {\n      let max = lineToIndex.length - 2;\n      let mid;\n      while (min < max) {\n        mid = min + (max - min >> 1);\n        if (offset < lineToIndex[mid]) {\n          max = mid - 1;\n        } else if (offset >= lineToIndex[mid + 1]) {\n          min = mid + 1;\n        } else {\n          min = mid;\n          break;\n        }\n      }\n    }\n    return {\n      col: offset - lineToIndex[min] + 1,\n      line: min + 1\n    };\n  }\n  mapResolve(file) {\n    if (/^\\w+:\\/\\//.test(file)) {\n      return file;\n    }\n    return resolve$1(this.map.consumer().sourceRoot || this.map.root || \".\", file);\n  }\n  origin(line, column, endLine, endColumn) {\n    if (!this.map) return false;\n    let consumer = this.map.consumer();\n    let from = consumer.originalPositionFor({ column, line });\n    if (!from.source) return false;\n    let to;\n    if (typeof endLine === \"number\") {\n      to = consumer.originalPositionFor({ column: endColumn, line: endLine });\n    }\n    let fromUrl;\n    if (isAbsolute(from.source)) {\n      fromUrl = pathToFileURL$1(from.source);\n    } else {\n      fromUrl = new URL(\n        from.source,\n        this.map.consumer().sourceRoot || pathToFileURL$1(this.map.mapFile)\n      );\n    }\n    let result2 = {\n      column: from.column,\n      endColumn: to && to.column,\n      endLine: to && to.line,\n      line: from.line,\n      url: fromUrl.toString()\n    };\n    if (fromUrl.protocol === \"file:\") {\n      if (fileURLToPath) {\n        result2.file = fileURLToPath(fromUrl);\n      } else {\n        throw new Error(`file: protocol is not available in this PostCSS build`);\n      }\n    }\n    let source = consumer.sourceContentFor(from.source);\n    if (source) result2.source = source;\n    return result2;\n  }\n  toJSON() {\n    let json = {};\n    for (let name of [\"hasBOM\", \"css\", \"file\", \"id\"]) {\n      if (this[name] != null) {\n        json[name] = this[name];\n      }\n    }\n    if (this.map) {\n      json.map = { ...this.map };\n      if (json.map.consumerCache) {\n        json.map.consumerCache = void 0;\n      }\n    }\n    return json;\n  }\n  get from() {\n    return this.file || this.id;\n  }\n};\nvar input = Input$4;\nInput$4.default = Input$4;\nif (terminalHighlight && terminalHighlight.registerInput) {\n  terminalHighlight.registerInput(Input$4);\n}\nlet { SourceMapConsumer, SourceMapGenerator } = require$$2;\nlet { dirname, relative, resolve, sep } = require$$2;\nlet { pathToFileURL } = require$$2;\nlet Input$3 = input;\nlet sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\nlet pathAvailable = Boolean(dirname && resolve && relative && sep);\nlet MapGenerator$2 = class MapGenerator2 {\n  constructor(stringify2, root2, opts, cssString) {\n    this.stringify = stringify2;\n    this.mapOpts = opts.map || {};\n    this.root = root2;\n    this.opts = opts;\n    this.css = cssString;\n    this.originalCSS = cssString;\n    this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute;\n    this.memoizedFileURLs = /* @__PURE__ */ new Map();\n    this.memoizedPaths = /* @__PURE__ */ new Map();\n    this.memoizedURLs = /* @__PURE__ */ new Map();\n  }\n  addAnnotation() {\n    let content;\n    if (this.isInline()) {\n      content = \"data:application/json;base64,\" + this.toBase64(this.map.toString());\n    } else if (typeof this.mapOpts.annotation === \"string\") {\n      content = this.mapOpts.annotation;\n    } else if (typeof this.mapOpts.annotation === \"function\") {\n      content = this.mapOpts.annotation(this.opts.to, this.root);\n    } else {\n      content = this.outputFile() + \".map\";\n    }\n    let eol = \"\\n\";\n    if (this.css.includes(\"\\r\\n\")) eol = \"\\r\\n\";\n    this.css += eol + \"/*# sourceMappingURL=\" + content + \" */\";\n  }\n  applyPrevMaps() {\n    for (let prev of this.previous()) {\n      let from = this.toUrl(this.path(prev.file));\n      let root2 = prev.root || dirname(prev.file);\n      let map;\n      if (this.mapOpts.sourcesContent === false) {\n        map = new SourceMapConsumer(prev.text);\n        if (map.sourcesContent) {\n          map.sourcesContent = null;\n        }\n      } else {\n        map = prev.consumer();\n      }\n      this.map.applySourceMap(map, from, this.toUrl(this.path(root2)));\n    }\n  }\n  clearAnnotation() {\n    if (this.mapOpts.annotation === false) return;\n    if (this.root) {\n      let node2;\n      for (let i2 = this.root.nodes.length - 1; i2 >= 0; i2--) {\n        node2 = this.root.nodes[i2];\n        if (node2.type !== \"comment\") continue;\n        if (node2.text.indexOf(\"# sourceMappingURL=\") === 0) {\n          this.root.removeChild(i2);\n        }\n      }\n    } else if (this.css) {\n      this.css = this.css.replace(/\\n*?\\/\\*#[\\S\\s]*?\\*\\/$/gm, \"\");\n    }\n  }\n  generate() {\n    this.clearAnnotation();\n    if (pathAvailable && sourceMapAvailable && this.isMap()) {\n      return this.generateMap();\n    } else {\n      let result2 = \"\";\n      this.stringify(this.root, (i2) => {\n        result2 += i2;\n      });\n      return [result2];\n    }\n  }\n  generateMap() {\n    if (this.root) {\n      this.generateString();\n    } else if (this.previous().length === 1) {\n      let prev = this.previous()[0].consumer();\n      prev.file = this.outputFile();\n      this.map = SourceMapGenerator.fromSourceMap(prev, {\n        ignoreInvalidMapping: true\n      });\n    } else {\n      this.map = new SourceMapGenerator({\n        file: this.outputFile(),\n        ignoreInvalidMapping: true\n      });\n      this.map.addMapping({\n        generated: { column: 0, line: 1 },\n        original: { column: 0, line: 1 },\n        source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\"\n      });\n    }\n    if (this.isSourcesContent()) this.setSourcesContent();\n    if (this.root && this.previous().length > 0) this.applyPrevMaps();\n    if (this.isAnnotation()) this.addAnnotation();\n    if (this.isInline()) {\n      return [this.css];\n    } else {\n      return [this.css, this.map];\n    }\n  }\n  generateString() {\n    this.css = \"\";\n    this.map = new SourceMapGenerator({\n      file: this.outputFile(),\n      ignoreInvalidMapping: true\n    });\n    let line = 1;\n    let column = 1;\n    let noSource = \"<no source>\";\n    let mapping = {\n      generated: { column: 0, line: 0 },\n      original: { column: 0, line: 0 },\n      source: \"\"\n    };\n    let lines, last;\n    this.stringify(this.root, (str, node2, type) => {\n      this.css += str;\n      if (node2 && type !== \"end\") {\n        mapping.generated.line = line;\n        mapping.generated.column = column - 1;\n        if (node2.source && node2.source.start) {\n          mapping.source = this.sourcePath(node2);\n          mapping.original.line = node2.source.start.line;\n          mapping.original.column = node2.source.start.column - 1;\n          this.map.addMapping(mapping);\n        } else {\n          mapping.source = noSource;\n          mapping.original.line = 1;\n          mapping.original.column = 0;\n          this.map.addMapping(mapping);\n        }\n      }\n      lines = str.match(/\\n/g);\n      if (lines) {\n        line += lines.length;\n        last = str.lastIndexOf(\"\\n\");\n        column = str.length - last;\n      } else {\n        column += str.length;\n      }\n      if (node2 && type !== \"start\") {\n        let p = node2.parent || { raws: {} };\n        let childless = node2.type === \"decl\" || node2.type === \"atrule\" && !node2.nodes;\n        if (!childless || node2 !== p.last || p.raws.semicolon) {\n          if (node2.source && node2.source.end) {\n            mapping.source = this.sourcePath(node2);\n            mapping.original.line = node2.source.end.line;\n            mapping.original.column = node2.source.end.column - 1;\n            mapping.generated.line = line;\n            mapping.generated.column = column - 2;\n            this.map.addMapping(mapping);\n          } else {\n            mapping.source = noSource;\n            mapping.original.line = 1;\n            mapping.original.column = 0;\n            mapping.generated.line = line;\n            mapping.generated.column = column - 1;\n            this.map.addMapping(mapping);\n          }\n        }\n      }\n    });\n  }\n  isAnnotation() {\n    if (this.isInline()) {\n      return true;\n    }\n    if (typeof this.mapOpts.annotation !== \"undefined\") {\n      return this.mapOpts.annotation;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.annotation);\n    }\n    return true;\n  }\n  isInline() {\n    if (typeof this.mapOpts.inline !== \"undefined\") {\n      return this.mapOpts.inline;\n    }\n    let annotation = this.mapOpts.annotation;\n    if (typeof annotation !== \"undefined\" && annotation !== true) {\n      return false;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.inline);\n    }\n    return true;\n  }\n  isMap() {\n    if (typeof this.opts.map !== \"undefined\") {\n      return !!this.opts.map;\n    }\n    return this.previous().length > 0;\n  }\n  isSourcesContent() {\n    if (typeof this.mapOpts.sourcesContent !== \"undefined\") {\n      return this.mapOpts.sourcesContent;\n    }\n    if (this.previous().length) {\n      return this.previous().some((i2) => i2.withContent());\n    }\n    return true;\n  }\n  outputFile() {\n    if (this.opts.to) {\n      return this.path(this.opts.to);\n    } else if (this.opts.from) {\n      return this.path(this.opts.from);\n    } else {\n      return \"to.css\";\n    }\n  }\n  path(file) {\n    if (this.mapOpts.absolute) return file;\n    if (file.charCodeAt(0) === 60) return file;\n    if (/^\\w+:\\/\\//.test(file)) return file;\n    let cached = this.memoizedPaths.get(file);\n    if (cached) return cached;\n    let from = this.opts.to ? dirname(this.opts.to) : \".\";\n    if (typeof this.mapOpts.annotation === \"string\") {\n      from = dirname(resolve(from, this.mapOpts.annotation));\n    }\n    let path = relative(from, file);\n    this.memoizedPaths.set(file, path);\n    return path;\n  }\n  previous() {\n    if (!this.previousMaps) {\n      this.previousMaps = [];\n      if (this.root) {\n        this.root.walk((node2) => {\n          if (node2.source && node2.source.input.map) {\n            let map = node2.source.input.map;\n            if (!this.previousMaps.includes(map)) {\n              this.previousMaps.push(map);\n            }\n          }\n        });\n      } else {\n        let input2 = new Input$3(this.originalCSS, this.opts);\n        if (input2.map) this.previousMaps.push(input2.map);\n      }\n    }\n    return this.previousMaps;\n  }\n  setSourcesContent() {\n    let already = {};\n    if (this.root) {\n      this.root.walk((node2) => {\n        if (node2.source) {\n          let from = node2.source.input.from;\n          if (from && !already[from]) {\n            already[from] = true;\n            let fromUrl = this.usesFileUrls ? this.toFileUrl(from) : this.toUrl(this.path(from));\n            this.map.setSourceContent(fromUrl, node2.source.input.css);\n          }\n        }\n      });\n    } else if (this.css) {\n      let from = this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\";\n      this.map.setSourceContent(from, this.css);\n    }\n  }\n  sourcePath(node2) {\n    if (this.mapOpts.from) {\n      return this.toUrl(this.mapOpts.from);\n    } else if (this.usesFileUrls) {\n      return this.toFileUrl(node2.source.input.from);\n    } else {\n      return this.toUrl(this.path(node2.source.input.from));\n    }\n  }\n  toBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str).toString(\"base64\");\n    } else {\n      return window.btoa(unescape(encodeURIComponent(str)));\n    }\n  }\n  toFileUrl(path) {\n    let cached = this.memoizedFileURLs.get(path);\n    if (cached) return cached;\n    if (pathToFileURL) {\n      let fileURL = pathToFileURL(path).toString();\n      this.memoizedFileURLs.set(path, fileURL);\n      return fileURL;\n    } else {\n      throw new Error(\n        \"`map.absolute` option is not available in this PostCSS build\"\n      );\n    }\n  }\n  toUrl(path) {\n    let cached = this.memoizedURLs.get(path);\n    if (cached) return cached;\n    if (sep === \"\\\\\") {\n      path = path.replace(/\\\\/g, \"/\");\n    }\n    let url = encodeURI(path).replace(/[#?]/g, encodeURIComponent);\n    this.memoizedURLs.set(path, url);\n    return url;\n  }\n};\nvar mapGenerator = MapGenerator$2;\nlet Node$2 = node;\nlet Comment$4 = class Comment2 extends Node$2 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"comment\";\n  }\n};\nvar comment = Comment$4;\nComment$4.default = Comment$4;\nlet { isClean: isClean$1, my: my$1 } = symbols;\nlet Declaration$3 = declaration;\nlet Comment$3 = comment;\nlet Node$1 = node;\nlet parse$4, Rule$4, AtRule$4, Root$6;\nfunction cleanSource(nodes) {\n  return nodes.map((i2) => {\n    if (i2.nodes) i2.nodes = cleanSource(i2.nodes);\n    delete i2.source;\n    return i2;\n  });\n}\nfunction markDirtyUp(node2) {\n  node2[isClean$1] = false;\n  if (node2.proxyOf.nodes) {\n    for (let i2 of node2.proxyOf.nodes) {\n      markDirtyUp(i2);\n    }\n  }\n}\nlet Container$7 = class Container2 extends Node$1 {\n  append(...children) {\n    for (let child of children) {\n      let nodes = this.normalize(child, this.last);\n      for (let node2 of nodes) this.proxyOf.nodes.push(node2);\n    }\n    this.markDirty();\n    return this;\n  }\n  cleanRaws(keepBetween) {\n    super.cleanRaws(keepBetween);\n    if (this.nodes) {\n      for (let node2 of this.nodes) node2.cleanRaws(keepBetween);\n    }\n  }\n  each(callback) {\n    if (!this.proxyOf.nodes) return void 0;\n    let iterator = this.getIterator();\n    let index2, result2;\n    while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n      index2 = this.indexes[iterator];\n      result2 = callback(this.proxyOf.nodes[index2], index2);\n      if (result2 === false) break;\n      this.indexes[iterator] += 1;\n    }\n    delete this.indexes[iterator];\n    return result2;\n  }\n  every(condition) {\n    return this.nodes.every(condition);\n  }\n  getIterator() {\n    if (!this.lastEach) this.lastEach = 0;\n    if (!this.indexes) this.indexes = {};\n    this.lastEach += 1;\n    let iterator = this.lastEach;\n    this.indexes[iterator] = 0;\n    return iterator;\n  }\n  getProxyProcessor() {\n    return {\n      get(node2, prop) {\n        if (prop === \"proxyOf\") {\n          return node2;\n        } else if (!node2[prop]) {\n          return node2[prop];\n        } else if (prop === \"each\" || typeof prop === \"string\" && prop.startsWith(\"walk\")) {\n          return (...args) => {\n            return node2[prop](\n              ...args.map((i2) => {\n                if (typeof i2 === \"function\") {\n                  return (child, index2) => i2(child.toProxy(), index2);\n                } else {\n                  return i2;\n                }\n              })\n            );\n          };\n        } else if (prop === \"every\" || prop === \"some\") {\n          return (cb) => {\n            return node2[prop](\n              (child, ...other) => cb(child.toProxy(), ...other)\n            );\n          };\n        } else if (prop === \"root\") {\n          return () => node2.root().toProxy();\n        } else if (prop === \"nodes\") {\n          return node2.nodes.map((i2) => i2.toProxy());\n        } else if (prop === \"first\" || prop === \"last\") {\n          return node2[prop].toProxy();\n        } else {\n          return node2[prop];\n        }\n      },\n      set(node2, prop, value) {\n        if (node2[prop] === value) return true;\n        node2[prop] = value;\n        if (prop === \"name\" || prop === \"params\" || prop === \"selector\") {\n          node2.markDirty();\n        }\n        return true;\n      }\n    };\n  }\n  index(child) {\n    if (typeof child === \"number\") return child;\n    if (child.proxyOf) child = child.proxyOf;\n    return this.proxyOf.nodes.indexOf(child);\n  }\n  insertAfter(exist, add) {\n    let existIndex = this.index(exist);\n    let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse();\n    existIndex = this.index(exist);\n    for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node2);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (existIndex < index2) {\n        this.indexes[id] = index2 + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  insertBefore(exist, add) {\n    let existIndex = this.index(exist);\n    let type = existIndex === 0 ? \"prepend\" : false;\n    let nodes = this.normalize(add, this.proxyOf.nodes[existIndex], type).reverse();\n    existIndex = this.index(exist);\n    for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex, 0, node2);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (existIndex <= index2) {\n        this.indexes[id] = index2 + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  normalize(nodes, sample) {\n    if (typeof nodes === \"string\") {\n      nodes = cleanSource(parse$4(nodes).nodes);\n    } else if (typeof nodes === \"undefined\") {\n      nodes = [];\n    } else if (Array.isArray(nodes)) {\n      nodes = nodes.slice(0);\n      for (let i2 of nodes) {\n        if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n      }\n    } else if (nodes.type === \"root\" && this.type !== \"document\") {\n      nodes = nodes.nodes.slice(0);\n      for (let i2 of nodes) {\n        if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n      }\n    } else if (nodes.type) {\n      nodes = [nodes];\n    } else if (nodes.prop) {\n      if (typeof nodes.value === \"undefined\") {\n        throw new Error(\"Value field is missed in node creation\");\n      } else if (typeof nodes.value !== \"string\") {\n        nodes.value = String(nodes.value);\n      }\n      nodes = [new Declaration$3(nodes)];\n    } else if (nodes.selector) {\n      nodes = [new Rule$4(nodes)];\n    } else if (nodes.name) {\n      nodes = [new AtRule$4(nodes)];\n    } else if (nodes.text) {\n      nodes = [new Comment$3(nodes)];\n    } else {\n      throw new Error(\"Unknown node type in node creation\");\n    }\n    let processed = nodes.map((i2) => {\n      if (!i2[my$1]) Container2.rebuild(i2);\n      i2 = i2.proxyOf;\n      if (i2.parent) i2.parent.removeChild(i2);\n      if (i2[isClean$1]) markDirtyUp(i2);\n      if (typeof i2.raws.before === \"undefined\") {\n        if (sample && typeof sample.raws.before !== \"undefined\") {\n          i2.raws.before = sample.raws.before.replace(/\\S/g, \"\");\n        }\n      }\n      i2.parent = this.proxyOf;\n      return i2;\n    });\n    return processed;\n  }\n  prepend(...children) {\n    children = children.reverse();\n    for (let child of children) {\n      let nodes = this.normalize(child, this.first, \"prepend\").reverse();\n      for (let node2 of nodes) this.proxyOf.nodes.unshift(node2);\n      for (let id in this.indexes) {\n        this.indexes[id] = this.indexes[id] + nodes.length;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  push(child) {\n    child.parent = this;\n    this.proxyOf.nodes.push(child);\n    return this;\n  }\n  removeAll() {\n    for (let node2 of this.proxyOf.nodes) node2.parent = void 0;\n    this.proxyOf.nodes = [];\n    this.markDirty();\n    return this;\n  }\n  removeChild(child) {\n    child = this.index(child);\n    this.proxyOf.nodes[child].parent = void 0;\n    this.proxyOf.nodes.splice(child, 1);\n    let index2;\n    for (let id in this.indexes) {\n      index2 = this.indexes[id];\n      if (index2 >= child) {\n        this.indexes[id] = index2 - 1;\n      }\n    }\n    this.markDirty();\n    return this;\n  }\n  replaceValues(pattern, opts, callback) {\n    if (!callback) {\n      callback = opts;\n      opts = {};\n    }\n    this.walkDecls((decl) => {\n      if (opts.props && !opts.props.includes(decl.prop)) return;\n      if (opts.fast && !decl.value.includes(opts.fast)) return;\n      decl.value = decl.value.replace(pattern, callback);\n    });\n    this.markDirty();\n    return this;\n  }\n  some(condition) {\n    return this.nodes.some(condition);\n  }\n  walk(callback) {\n    return this.each((child, i2) => {\n      let result2;\n      try {\n        result2 = callback(child, i2);\n      } catch (e2) {\n        throw child.addToError(e2);\n      }\n      if (result2 !== false && child.walk) {\n        result2 = child.walk(callback);\n      }\n      return result2;\n    });\n  }\n  walkAtRules(name, callback) {\n    if (!callback) {\n      callback = name;\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (name instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\" && name.test(child.name)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"atrule\" && child.name === name) {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkComments(callback) {\n    return this.walk((child, i2) => {\n      if (child.type === \"comment\") {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkDecls(prop, callback) {\n    if (!callback) {\n      callback = prop;\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (prop instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\" && prop.test(child.prop)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"decl\" && child.prop === prop) {\n        return callback(child, i2);\n      }\n    });\n  }\n  walkRules(selector, callback) {\n    if (!callback) {\n      callback = selector;\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    if (selector instanceof RegExp) {\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\" && selector.test(child.selector)) {\n          return callback(child, i2);\n        }\n      });\n    }\n    return this.walk((child, i2) => {\n      if (child.type === \"rule\" && child.selector === selector) {\n        return callback(child, i2);\n      }\n    });\n  }\n  get first() {\n    if (!this.proxyOf.nodes) return void 0;\n    return this.proxyOf.nodes[0];\n  }\n  get last() {\n    if (!this.proxyOf.nodes) return void 0;\n    return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];\n  }\n};\nContainer$7.registerParse = (dependant) => {\n  parse$4 = dependant;\n};\nContainer$7.registerRule = (dependant) => {\n  Rule$4 = dependant;\n};\nContainer$7.registerAtRule = (dependant) => {\n  AtRule$4 = dependant;\n};\nContainer$7.registerRoot = (dependant) => {\n  Root$6 = dependant;\n};\nvar container = Container$7;\nContainer$7.default = Container$7;\nContainer$7.rebuild = (node2) => {\n  if (node2.type === \"atrule\") {\n    Object.setPrototypeOf(node2, AtRule$4.prototype);\n  } else if (node2.type === \"rule\") {\n    Object.setPrototypeOf(node2, Rule$4.prototype);\n  } else if (node2.type === \"decl\") {\n    Object.setPrototypeOf(node2, Declaration$3.prototype);\n  } else if (node2.type === \"comment\") {\n    Object.setPrototypeOf(node2, Comment$3.prototype);\n  } else if (node2.type === \"root\") {\n    Object.setPrototypeOf(node2, Root$6.prototype);\n  }\n  node2[my$1] = true;\n  if (node2.nodes) {\n    node2.nodes.forEach((child) => {\n      Container$7.rebuild(child);\n    });\n  }\n};\nlet Container$6 = container;\nlet LazyResult$4, Processor$3;\nlet Document$3 = class Document23 extends Container$6 {\n  constructor(defaults) {\n    super({ type: \"document\", ...defaults });\n    if (!this.nodes) {\n      this.nodes = [];\n    }\n  }\n  toResult(opts = {}) {\n    let lazy = new LazyResult$4(new Processor$3(), this, opts);\n    return lazy.stringify();\n  }\n};\nDocument$3.registerLazyResult = (dependant) => {\n  LazyResult$4 = dependant;\n};\nDocument$3.registerProcessor = (dependant) => {\n  Processor$3 = dependant;\n};\nvar document$1 = Document$3;\nDocument$3.default = Document$3;\nlet printed = {};\nvar warnOnce$2 = function warnOnce2(message) {\n  if (printed[message]) return;\n  printed[message] = true;\n  if (typeof console !== \"undefined\" && console.warn) {\n    console.warn(message);\n  }\n};\nlet Warning$2 = class Warning2 {\n  constructor(text, opts = {}) {\n    this.type = \"warning\";\n    this.text = text;\n    if (opts.node && opts.node.source) {\n      let range = opts.node.rangeBy(opts);\n      this.line = range.start.line;\n      this.column = range.start.column;\n      this.endLine = range.end.line;\n      this.endColumn = range.end.column;\n    }\n    for (let opt in opts) this[opt] = opts[opt];\n  }\n  toString() {\n    if (this.node) {\n      return this.node.error(this.text, {\n        index: this.index,\n        plugin: this.plugin,\n        word: this.word\n      }).message;\n    }\n    if (this.plugin) {\n      return this.plugin + \": \" + this.text;\n    }\n    return this.text;\n  }\n};\nvar warning = Warning$2;\nWarning$2.default = Warning$2;\nlet Warning$1 = warning;\nlet Result$3 = class Result2 {\n  constructor(processor2, root2, opts) {\n    this.processor = processor2;\n    this.messages = [];\n    this.root = root2;\n    this.opts = opts;\n    this.css = void 0;\n    this.map = void 0;\n  }\n  toString() {\n    return this.css;\n  }\n  warn(text, opts = {}) {\n    if (!opts.plugin) {\n      if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n        opts.plugin = this.lastPlugin.postcssPlugin;\n      }\n    }\n    let warning2 = new Warning$1(text, opts);\n    this.messages.push(warning2);\n    return warning2;\n  }\n  warnings() {\n    return this.messages.filter((i2) => i2.type === \"warning\");\n  }\n  get content() {\n    return this.css;\n  }\n};\nvar result = Result$3;\nResult$3.default = Result$3;\nconst SINGLE_QUOTE = \"'\".charCodeAt(0);\nconst DOUBLE_QUOTE = '\"'.charCodeAt(0);\nconst BACKSLASH = \"\\\\\".charCodeAt(0);\nconst SLASH = \"/\".charCodeAt(0);\nconst NEWLINE = \"\\n\".charCodeAt(0);\nconst SPACE = \" \".charCodeAt(0);\nconst FEED = \"\\f\".charCodeAt(0);\nconst TAB = \"\t\".charCodeAt(0);\nconst CR = \"\\r\".charCodeAt(0);\nconst OPEN_SQUARE = \"[\".charCodeAt(0);\nconst CLOSE_SQUARE = \"]\".charCodeAt(0);\nconst OPEN_PARENTHESES = \"(\".charCodeAt(0);\nconst CLOSE_PARENTHESES = \")\".charCodeAt(0);\nconst OPEN_CURLY = \"{\".charCodeAt(0);\nconst CLOSE_CURLY = \"}\".charCodeAt(0);\nconst SEMICOLON = \";\".charCodeAt(0);\nconst ASTERISK = \"*\".charCodeAt(0);\nconst COLON = \":\".charCodeAt(0);\nconst AT = \"@\".charCodeAt(0);\nconst RE_AT_END = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g;\nconst RE_WORD_END = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g;\nconst RE_BAD_BRACKET = /.[\\r\\n\"'(/\\\\]/;\nconst RE_HEX_ESCAPE = /[\\da-f]/i;\nvar tokenize = function tokenizer2(input2, options = {}) {\n  let css = input2.css.valueOf();\n  let ignore = options.ignoreErrors;\n  let code, next, quote, content, escape;\n  let escaped, escapePos, prev, n2, currentToken;\n  let length = css.length;\n  let pos = 0;\n  let buffer = [];\n  let returned = [];\n  function position() {\n    return pos;\n  }\n  function unclosed(what) {\n    throw input2.error(\"Unclosed \" + what, pos);\n  }\n  function endOfFile() {\n    return returned.length === 0 && pos >= length;\n  }\n  function nextToken(opts) {\n    if (returned.length) return returned.pop();\n    if (pos >= length) return;\n    let ignoreUnclosed = opts ? opts.ignoreUnclosed : false;\n    code = css.charCodeAt(pos);\n    switch (code) {\n      case NEWLINE:\n      case SPACE:\n      case TAB:\n      case CR:\n      case FEED: {\n        next = pos;\n        do {\n          next += 1;\n          code = css.charCodeAt(next);\n        } while (code === SPACE || code === NEWLINE || code === TAB || code === CR || code === FEED);\n        currentToken = [\"space\", css.slice(pos, next)];\n        pos = next - 1;\n        break;\n      }\n      case OPEN_SQUARE:\n      case CLOSE_SQUARE:\n      case OPEN_CURLY:\n      case CLOSE_CURLY:\n      case COLON:\n      case SEMICOLON:\n      case CLOSE_PARENTHESES: {\n        let controlChar = String.fromCharCode(code);\n        currentToken = [controlChar, controlChar, pos];\n        break;\n      }\n      case OPEN_PARENTHESES: {\n        prev = buffer.length ? buffer.pop()[1] : \"\";\n        n2 = css.charCodeAt(pos + 1);\n        if (prev === \"url\" && n2 !== SINGLE_QUOTE && n2 !== DOUBLE_QUOTE && n2 !== SPACE && n2 !== NEWLINE && n2 !== TAB && n2 !== FEED && n2 !== CR) {\n          next = pos;\n          do {\n            escaped = false;\n            next = css.indexOf(\")\", next + 1);\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos;\n                break;\n              } else {\n                unclosed(\"bracket\");\n              }\n            }\n            escapePos = next;\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n              escapePos -= 1;\n              escaped = !escaped;\n            }\n          } while (escaped);\n          currentToken = [\"brackets\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n        } else {\n          next = css.indexOf(\")\", pos + 1);\n          content = css.slice(pos, next + 1);\n          if (next === -1 || RE_BAD_BRACKET.test(content)) {\n            currentToken = [\"(\", \"(\", pos];\n          } else {\n            currentToken = [\"brackets\", content, pos, next];\n            pos = next;\n          }\n        }\n        break;\n      }\n      case SINGLE_QUOTE:\n      case DOUBLE_QUOTE: {\n        quote = code === SINGLE_QUOTE ? \"'\" : '\"';\n        next = pos;\n        do {\n          escaped = false;\n          next = css.indexOf(quote, next + 1);\n          if (next === -1) {\n            if (ignore || ignoreUnclosed) {\n              next = pos + 1;\n              break;\n            } else {\n              unclosed(\"string\");\n            }\n          }\n          escapePos = next;\n          while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n            escapePos -= 1;\n            escaped = !escaped;\n          }\n        } while (escaped);\n        currentToken = [\"string\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      case AT: {\n        RE_AT_END.lastIndex = pos + 1;\n        RE_AT_END.test(css);\n        if (RE_AT_END.lastIndex === 0) {\n          next = css.length - 1;\n        } else {\n          next = RE_AT_END.lastIndex - 2;\n        }\n        currentToken = [\"at-word\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      case BACKSLASH: {\n        next = pos;\n        escape = true;\n        while (css.charCodeAt(next + 1) === BACKSLASH) {\n          next += 1;\n          escape = !escape;\n        }\n        code = css.charCodeAt(next + 1);\n        if (escape && code !== SLASH && code !== SPACE && code !== NEWLINE && code !== TAB && code !== CR && code !== FEED) {\n          next += 1;\n          if (RE_HEX_ESCAPE.test(css.charAt(next))) {\n            while (RE_HEX_ESCAPE.test(css.charAt(next + 1))) {\n              next += 1;\n            }\n            if (css.charCodeAt(next + 1) === SPACE) {\n              next += 1;\n            }\n          }\n        }\n        currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n        pos = next;\n        break;\n      }\n      default: {\n        if (code === SLASH && css.charCodeAt(pos + 1) === ASTERISK) {\n          next = css.indexOf(\"*/\", pos + 2) + 1;\n          if (next === 0) {\n            if (ignore || ignoreUnclosed) {\n              next = css.length;\n            } else {\n              unclosed(\"comment\");\n            }\n          }\n          currentToken = [\"comment\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n        } else {\n          RE_WORD_END.lastIndex = pos + 1;\n          RE_WORD_END.test(css);\n          if (RE_WORD_END.lastIndex === 0) {\n            next = css.length - 1;\n          } else {\n            next = RE_WORD_END.lastIndex - 2;\n          }\n          currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n          buffer.push(currentToken);\n          pos = next;\n        }\n        break;\n      }\n    }\n    pos++;\n    return currentToken;\n  }\n  function back(token) {\n    returned.push(token);\n  }\n  return {\n    back,\n    endOfFile,\n    nextToken,\n    position\n  };\n};\nlet Container$5 = container;\nlet AtRule$3 = class AtRule2 extends Container$5 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"atrule\";\n  }\n  append(...children) {\n    if (!this.proxyOf.nodes) this.nodes = [];\n    return super.append(...children);\n  }\n  prepend(...children) {\n    if (!this.proxyOf.nodes) this.nodes = [];\n    return super.prepend(...children);\n  }\n};\nvar atRule = AtRule$3;\nAtRule$3.default = AtRule$3;\nContainer$5.registerAtRule(AtRule$3);\nlet Container$4 = container;\nlet LazyResult$3, Processor$2;\nlet Root$5 = class Root2 extends Container$4 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"root\";\n    if (!this.nodes) this.nodes = [];\n  }\n  normalize(child, sample, type) {\n    let nodes = super.normalize(child);\n    if (sample) {\n      if (type === \"prepend\") {\n        if (this.nodes.length > 1) {\n          sample.raws.before = this.nodes[1].raws.before;\n        } else {\n          delete sample.raws.before;\n        }\n      } else if (this.first !== sample) {\n        for (let node2 of nodes) {\n          node2.raws.before = sample.raws.before;\n        }\n      }\n    }\n    return nodes;\n  }\n  removeChild(child, ignore) {\n    let index2 = this.index(child);\n    if (!ignore && index2 === 0 && this.nodes.length > 1) {\n      this.nodes[1].raws.before = this.nodes[index2].raws.before;\n    }\n    return super.removeChild(child);\n  }\n  toResult(opts = {}) {\n    let lazy = new LazyResult$3(new Processor$2(), this, opts);\n    return lazy.stringify();\n  }\n};\nRoot$5.registerLazyResult = (dependant) => {\n  LazyResult$3 = dependant;\n};\nRoot$5.registerProcessor = (dependant) => {\n  Processor$2 = dependant;\n};\nvar root = Root$5;\nRoot$5.default = Root$5;\nContainer$4.registerRoot(Root$5);\nlet list$2 = {\n  comma(string) {\n    return list$2.split(string, [\",\"], true);\n  },\n  space(string) {\n    let spaces = [\" \", \"\\n\", \"\t\"];\n    return list$2.split(string, spaces);\n  },\n  split(string, separators, last) {\n    let array = [];\n    let current = \"\";\n    let split = false;\n    let func = 0;\n    let inQuote = false;\n    let prevQuote = \"\";\n    let escape = false;\n    for (let letter of string) {\n      if (escape) {\n        escape = false;\n      } else if (letter === \"\\\\\") {\n        escape = true;\n      } else if (inQuote) {\n        if (letter === prevQuote) {\n          inQuote = false;\n        }\n      } else if (letter === '\"' || letter === \"'\") {\n        inQuote = true;\n        prevQuote = letter;\n      } else if (letter === \"(\") {\n        func += 1;\n      } else if (letter === \")\") {\n        if (func > 0) func -= 1;\n      } else if (func === 0) {\n        if (separators.includes(letter)) split = true;\n      }\n      if (split) {\n        if (current !== \"\") array.push(current.trim());\n        current = \"\";\n        split = false;\n      } else {\n        current += letter;\n      }\n    }\n    if (last || current !== \"\") array.push(current.trim());\n    return array;\n  }\n};\nvar list_1 = list$2;\nlist$2.default = list$2;\nlet Container$3 = container;\nlet list$1 = list_1;\nlet Rule$3 = class Rule2 extends Container$3 {\n  constructor(defaults) {\n    super(defaults);\n    this.type = \"rule\";\n    if (!this.nodes) this.nodes = [];\n  }\n  get selectors() {\n    return list$1.comma(this.selector);\n  }\n  set selectors(values) {\n    let match = this.selector ? this.selector.match(/,\\s*/) : null;\n    let sep2 = match ? match[0] : \",\" + this.raw(\"between\", \"beforeOpen\");\n    this.selector = values.join(sep2);\n  }\n};\nvar rule = Rule$3;\nRule$3.default = Rule$3;\nContainer$3.registerRule(Rule$3);\nlet Declaration$2 = declaration;\nlet tokenizer22 = tokenize;\nlet Comment$2 = comment;\nlet AtRule$2 = atRule;\nlet Root$4 = root;\nlet Rule$2 = rule;\nconst SAFE_COMMENT_NEIGHBOR = {\n  empty: true,\n  space: true\n};\nfunction findLastWithPosition(tokens) {\n  for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n    let token = tokens[i2];\n    let pos = token[3] || token[2];\n    if (pos) return pos;\n  }\n}\nlet Parser$1 = class Parser2 {\n  constructor(input2) {\n    this.input = input2;\n    this.root = new Root$4();\n    this.current = this.root;\n    this.spaces = \"\";\n    this.semicolon = false;\n    this.createTokenizer();\n    this.root.source = { input: input2, start: { column: 1, line: 1, offset: 0 } };\n  }\n  atrule(token) {\n    let node2 = new AtRule$2();\n    node2.name = token[1].slice(1);\n    if (node2.name === \"\") {\n      this.unnamedAtrule(node2, token);\n    }\n    this.init(node2, token[2]);\n    let type;\n    let prev;\n    let shift;\n    let last = false;\n    let open = false;\n    let params = [];\n    let brackets = [];\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken();\n      type = token[0];\n      if (type === \"(\" || type === \"[\") {\n        brackets.push(type === \"(\" ? \")\" : \"]\");\n      } else if (type === \"{\" && brackets.length > 0) {\n        brackets.push(\"}\");\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop();\n      }\n      if (brackets.length === 0) {\n        if (type === \";\") {\n          node2.source.end = this.getPosition(token[2]);\n          node2.source.end.offset++;\n          this.semicolon = true;\n          break;\n        } else if (type === \"{\") {\n          open = true;\n          break;\n        } else if (type === \"}\") {\n          if (params.length > 0) {\n            shift = params.length - 1;\n            prev = params[shift];\n            while (prev && prev[0] === \"space\") {\n              prev = params[--shift];\n            }\n            if (prev) {\n              node2.source.end = this.getPosition(prev[3] || prev[2]);\n              node2.source.end.offset++;\n            }\n          }\n          this.end(token);\n          break;\n        } else {\n          params.push(token);\n        }\n      } else {\n        params.push(token);\n      }\n      if (this.tokenizer.endOfFile()) {\n        last = true;\n        break;\n      }\n    }\n    node2.raws.between = this.spacesAndCommentsFromEnd(params);\n    if (params.length) {\n      node2.raws.afterName = this.spacesAndCommentsFromStart(params);\n      this.raw(node2, \"params\", params);\n      if (last) {\n        token = params[params.length - 1];\n        node2.source.end = this.getPosition(token[3] || token[2]);\n        node2.source.end.offset++;\n        this.spaces = node2.raws.between;\n        node2.raws.between = \"\";\n      }\n    } else {\n      node2.raws.afterName = \"\";\n      node2.params = \"\";\n    }\n    if (open) {\n      node2.nodes = [];\n      this.current = node2;\n    }\n  }\n  checkMissedSemicolon(tokens) {\n    let colon = this.colon(tokens);\n    if (colon === false) return;\n    let founded = 0;\n    let token;\n    for (let j = colon - 1; j >= 0; j--) {\n      token = tokens[j];\n      if (token[0] !== \"space\") {\n        founded += 1;\n        if (founded === 2) break;\n      }\n    }\n    throw this.input.error(\n      \"Missed semicolon\",\n      token[0] === \"word\" ? token[3] + 1 : token[2]\n    );\n  }\n  colon(tokens) {\n    let brackets = 0;\n    let token, type, prev;\n    for (let [i2, element] of tokens.entries()) {\n      token = element;\n      type = token[0];\n      if (type === \"(\") {\n        brackets += 1;\n      }\n      if (type === \")\") {\n        brackets -= 1;\n      }\n      if (brackets === 0 && type === \":\") {\n        if (!prev) {\n          this.doubleColon(token);\n        } else if (prev[0] === \"word\" && prev[1] === \"progid\") {\n          continue;\n        } else {\n          return i2;\n        }\n      }\n      prev = token;\n    }\n    return false;\n  }\n  comment(token) {\n    let node2 = new Comment$2();\n    this.init(node2, token[2]);\n    node2.source.end = this.getPosition(token[3] || token[2]);\n    node2.source.end.offset++;\n    let text = token[1].slice(2, -2);\n    if (/^\\s*$/.test(text)) {\n      node2.text = \"\";\n      node2.raws.left = text;\n      node2.raws.right = \"\";\n    } else {\n      let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n      node2.text = match[2];\n      node2.raws.left = match[1];\n      node2.raws.right = match[3];\n    }\n  }\n  createTokenizer() {\n    this.tokenizer = tokenizer22(this.input);\n  }\n  decl(tokens, customProperty) {\n    let node2 = new Declaration$2();\n    this.init(node2, tokens[0][2]);\n    let last = tokens[tokens.length - 1];\n    if (last[0] === \";\") {\n      this.semicolon = true;\n      tokens.pop();\n    }\n    node2.source.end = this.getPosition(\n      last[3] || last[2] || findLastWithPosition(tokens)\n    );\n    node2.source.end.offset++;\n    while (tokens[0][0] !== \"word\") {\n      if (tokens.length === 1) this.unknownWord(tokens);\n      node2.raws.before += tokens.shift()[1];\n    }\n    node2.source.start = this.getPosition(tokens[0][2]);\n    node2.prop = \"\";\n    while (tokens.length) {\n      let type = tokens[0][0];\n      if (type === \":\" || type === \"space\" || type === \"comment\") {\n        break;\n      }\n      node2.prop += tokens.shift()[1];\n    }\n    node2.raws.between = \"\";\n    let token;\n    while (tokens.length) {\n      token = tokens.shift();\n      if (token[0] === \":\") {\n        node2.raws.between += token[1];\n        break;\n      } else {\n        if (token[0] === \"word\" && /\\w/.test(token[1])) {\n          this.unknownWord([token]);\n        }\n        node2.raws.between += token[1];\n      }\n    }\n    if (node2.prop[0] === \"_\" || node2.prop[0] === \"*\") {\n      node2.raws.before += node2.prop[0];\n      node2.prop = node2.prop.slice(1);\n    }\n    let firstSpaces = [];\n    let next;\n    while (tokens.length) {\n      next = tokens[0][0];\n      if (next !== \"space\" && next !== \"comment\") break;\n      firstSpaces.push(tokens.shift());\n    }\n    this.precheckMissedSemicolon(tokens);\n    for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n      token = tokens[i2];\n      if (token[1].toLowerCase() === \"!important\") {\n        node2.important = true;\n        let string = this.stringFrom(tokens, i2);\n        string = this.spacesFromEnd(tokens) + string;\n        if (string !== \" !important\") node2.raws.important = string;\n        break;\n      } else if (token[1].toLowerCase() === \"important\") {\n        let cache = tokens.slice(0);\n        let str = \"\";\n        for (let j = i2; j > 0; j--) {\n          let type = cache[j][0];\n          if (str.trim().indexOf(\"!\") === 0 && type !== \"space\") {\n            break;\n          }\n          str = cache.pop()[1] + str;\n        }\n        if (str.trim().indexOf(\"!\") === 0) {\n          node2.important = true;\n          node2.raws.important = str;\n          tokens = cache;\n        }\n      }\n      if (token[0] !== \"space\" && token[0] !== \"comment\") {\n        break;\n      }\n    }\n    let hasWord = tokens.some((i2) => i2[0] !== \"space\" && i2[0] !== \"comment\");\n    if (hasWord) {\n      node2.raws.between += firstSpaces.map((i2) => i2[1]).join(\"\");\n      firstSpaces = [];\n    }\n    this.raw(node2, \"value\", firstSpaces.concat(tokens), customProperty);\n    if (node2.value.includes(\":\") && !customProperty) {\n      this.checkMissedSemicolon(tokens);\n    }\n  }\n  doubleColon(token) {\n    throw this.input.error(\n      \"Double colon\",\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    );\n  }\n  emptyRule(token) {\n    let node2 = new Rule$2();\n    this.init(node2, token[2]);\n    node2.selector = \"\";\n    node2.raws.between = \"\";\n    this.current = node2;\n  }\n  end(token) {\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon;\n    }\n    this.semicolon = false;\n    this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n    this.spaces = \"\";\n    if (this.current.parent) {\n      this.current.source.end = this.getPosition(token[2]);\n      this.current.source.end.offset++;\n      this.current = this.current.parent;\n    } else {\n      this.unexpectedClose(token);\n    }\n  }\n  endFile() {\n    if (this.current.parent) this.unclosedBlock();\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon;\n    }\n    this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n    this.root.source.end = this.getPosition(this.tokenizer.position());\n  }\n  freeSemicolon(token) {\n    this.spaces += token[1];\n    if (this.current.nodes) {\n      let prev = this.current.nodes[this.current.nodes.length - 1];\n      if (prev && prev.type === \"rule\" && !prev.raws.ownSemicolon) {\n        prev.raws.ownSemicolon = this.spaces;\n        this.spaces = \"\";\n      }\n    }\n  }\n  // Helpers\n  getPosition(offset) {\n    let pos = this.input.fromOffset(offset);\n    return {\n      column: pos.col,\n      line: pos.line,\n      offset\n    };\n  }\n  init(node2, offset) {\n    this.current.push(node2);\n    node2.source = {\n      input: this.input,\n      start: this.getPosition(offset)\n    };\n    node2.raws.before = this.spaces;\n    this.spaces = \"\";\n    if (node2.type !== \"comment\") this.semicolon = false;\n  }\n  other(start) {\n    let end = false;\n    let type = null;\n    let colon = false;\n    let bracket = null;\n    let brackets = [];\n    let customProperty = start[1].startsWith(\"--\");\n    let tokens = [];\n    let token = start;\n    while (token) {\n      type = token[0];\n      tokens.push(token);\n      if (type === \"(\" || type === \"[\") {\n        if (!bracket) bracket = token;\n        brackets.push(type === \"(\" ? \")\" : \"]\");\n      } else if (customProperty && colon && type === \"{\") {\n        if (!bracket) bracket = token;\n        brackets.push(\"}\");\n      } else if (brackets.length === 0) {\n        if (type === \";\") {\n          if (colon) {\n            this.decl(tokens, customProperty);\n            return;\n          } else {\n            break;\n          }\n        } else if (type === \"{\") {\n          this.rule(tokens);\n          return;\n        } else if (type === \"}\") {\n          this.tokenizer.back(tokens.pop());\n          end = true;\n          break;\n        } else if (type === \":\") {\n          colon = true;\n        }\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop();\n        if (brackets.length === 0) bracket = null;\n      }\n      token = this.tokenizer.nextToken();\n    }\n    if (this.tokenizer.endOfFile()) end = true;\n    if (brackets.length > 0) this.unclosedBracket(bracket);\n    if (end && colon) {\n      if (!customProperty) {\n        while (tokens.length) {\n          token = tokens[tokens.length - 1][0];\n          if (token !== \"space\" && token !== \"comment\") break;\n          this.tokenizer.back(tokens.pop());\n        }\n      }\n      this.decl(tokens, customProperty);\n    } else {\n      this.unknownWord(tokens);\n    }\n  }\n  parse() {\n    let token;\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken();\n      switch (token[0]) {\n        case \"space\":\n          this.spaces += token[1];\n          break;\n        case \";\":\n          this.freeSemicolon(token);\n          break;\n        case \"}\":\n          this.end(token);\n          break;\n        case \"comment\":\n          this.comment(token);\n          break;\n        case \"at-word\":\n          this.atrule(token);\n          break;\n        case \"{\":\n          this.emptyRule(token);\n          break;\n        default:\n          this.other(token);\n          break;\n      }\n    }\n    this.endFile();\n  }\n  precheckMissedSemicolon() {\n  }\n  raw(node2, prop, tokens, customProperty) {\n    let token, type;\n    let length = tokens.length;\n    let value = \"\";\n    let clean = true;\n    let next, prev;\n    for (let i2 = 0; i2 < length; i2 += 1) {\n      token = tokens[i2];\n      type = token[0];\n      if (type === \"space\" && i2 === length - 1 && !customProperty) {\n        clean = false;\n      } else if (type === \"comment\") {\n        prev = tokens[i2 - 1] ? tokens[i2 - 1][0] : \"empty\";\n        next = tokens[i2 + 1] ? tokens[i2 + 1][0] : \"empty\";\n        if (!SAFE_COMMENT_NEIGHBOR[prev] && !SAFE_COMMENT_NEIGHBOR[next]) {\n          if (value.slice(-1) === \",\") {\n            clean = false;\n          } else {\n            value += token[1];\n          }\n        } else {\n          clean = false;\n        }\n      } else {\n        value += token[1];\n      }\n    }\n    if (!clean) {\n      let raw = tokens.reduce((all, i2) => all + i2[1], \"\");\n      node2.raws[prop] = { raw, value };\n    }\n    node2[prop] = value;\n  }\n  rule(tokens) {\n    tokens.pop();\n    let node2 = new Rule$2();\n    this.init(node2, tokens[0][2]);\n    node2.raws.between = this.spacesAndCommentsFromEnd(tokens);\n    this.raw(node2, \"selector\", tokens);\n    this.current = node2;\n  }\n  spacesAndCommentsFromEnd(tokens) {\n    let lastTokenType;\n    let spaces = \"\";\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0];\n      if (lastTokenType !== \"space\" && lastTokenType !== \"comment\") break;\n      spaces = tokens.pop()[1] + spaces;\n    }\n    return spaces;\n  }\n  // Errors\n  spacesAndCommentsFromStart(tokens) {\n    let next;\n    let spaces = \"\";\n    while (tokens.length) {\n      next = tokens[0][0];\n      if (next !== \"space\" && next !== \"comment\") break;\n      spaces += tokens.shift()[1];\n    }\n    return spaces;\n  }\n  spacesFromEnd(tokens) {\n    let lastTokenType;\n    let spaces = \"\";\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0];\n      if (lastTokenType !== \"space\") break;\n      spaces = tokens.pop()[1] + spaces;\n    }\n    return spaces;\n  }\n  stringFrom(tokens, from) {\n    let result2 = \"\";\n    for (let i2 = from; i2 < tokens.length; i2++) {\n      result2 += tokens[i2][1];\n    }\n    tokens.splice(from, tokens.length - from);\n    return result2;\n  }\n  unclosedBlock() {\n    let pos = this.current.source.start;\n    throw this.input.error(\"Unclosed block\", pos.line, pos.column);\n  }\n  unclosedBracket(bracket) {\n    throw this.input.error(\n      \"Unclosed bracket\",\n      { offset: bracket[2] },\n      { offset: bracket[2] + 1 }\n    );\n  }\n  unexpectedClose(token) {\n    throw this.input.error(\n      \"Unexpected }\",\n      { offset: token[2] },\n      { offset: token[2] + 1 }\n    );\n  }\n  unknownWord(tokens) {\n    throw this.input.error(\n      \"Unknown word\",\n      { offset: tokens[0][2] },\n      { offset: tokens[0][2] + tokens[0][1].length }\n    );\n  }\n  unnamedAtrule(node2, token) {\n    throw this.input.error(\n      \"At-rule without name\",\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    );\n  }\n};\nvar parser = Parser$1;\nlet Container$2 = container;\nlet Parser22 = parser;\nlet Input$2 = input;\nfunction parse$3(css, opts) {\n  let input2 = new Input$2(css, opts);\n  let parser2 = new Parser22(input2);\n  try {\n    parser2.parse();\n  } catch (e2) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (e2.name === \"CssSyntaxError\" && opts && opts.from) {\n        if (/\\.scss$/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser\";\n        } else if (/\\.sass/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser\";\n        } else if (/\\.less$/i.test(opts.from)) {\n          e2.message += \"\\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser\";\n        }\n      }\n    }\n    throw e2;\n  }\n  return parser2.root;\n}\nvar parse_1 = parse$3;\nparse$3.default = parse$3;\nContainer$2.registerParse(parse$3);\nlet { isClean, my } = symbols;\nlet MapGenerator$1 = mapGenerator;\nlet stringify$2 = stringify_1;\nlet Container$1 = container;\nlet Document$2 = document$1;\nlet warnOnce$1 = warnOnce$2;\nlet Result$2 = result;\nlet parse$2 = parse_1;\nlet Root$3 = root;\nconst TYPE_TO_CLASS_NAME = {\n  atrule: \"AtRule\",\n  comment: \"Comment\",\n  decl: \"Declaration\",\n  document: \"Document\",\n  root: \"Root\",\n  rule: \"Rule\"\n};\nconst PLUGIN_PROPS = {\n  AtRule: true,\n  AtRuleExit: true,\n  Comment: true,\n  CommentExit: true,\n  Declaration: true,\n  DeclarationExit: true,\n  Document: true,\n  DocumentExit: true,\n  Once: true,\n  OnceExit: true,\n  postcssPlugin: true,\n  prepare: true,\n  Root: true,\n  RootExit: true,\n  Rule: true,\n  RuleExit: true\n};\nconst NOT_VISITORS = {\n  Once: true,\n  postcssPlugin: true,\n  prepare: true\n};\nconst CHILDREN = 0;\nfunction isPromise(obj) {\n  return typeof obj === \"object\" && typeof obj.then === \"function\";\n}\nfunction getEvents(node2) {\n  let key = false;\n  let type = TYPE_TO_CLASS_NAME[node2.type];\n  if (node2.type === \"decl\") {\n    key = node2.prop.toLowerCase();\n  } else if (node2.type === \"atrule\") {\n    key = node2.name.toLowerCase();\n  }\n  if (key && node2.append) {\n    return [\n      type,\n      type + \"-\" + key,\n      CHILDREN,\n      type + \"Exit\",\n      type + \"Exit-\" + key\n    ];\n  } else if (key) {\n    return [type, type + \"-\" + key, type + \"Exit\", type + \"Exit-\" + key];\n  } else if (node2.append) {\n    return [type, CHILDREN, type + \"Exit\"];\n  } else {\n    return [type, type + \"Exit\"];\n  }\n}\nfunction toStack(node2) {\n  let events;\n  if (node2.type === \"document\") {\n    events = [\"Document\", CHILDREN, \"DocumentExit\"];\n  } else if (node2.type === \"root\") {\n    events = [\"Root\", CHILDREN, \"RootExit\"];\n  } else {\n    events = getEvents(node2);\n  }\n  return {\n    eventIndex: 0,\n    events,\n    iterator: 0,\n    node: node2,\n    visitorIndex: 0,\n    visitors: []\n  };\n}\nfunction cleanMarks(node2) {\n  node2[isClean] = false;\n  if (node2.nodes) node2.nodes.forEach((i2) => cleanMarks(i2));\n  return node2;\n}\nlet postcss$2 = {};\nlet LazyResult$2 = class LazyResult2 {\n  constructor(processor2, css, opts) {\n    this.stringified = false;\n    this.processed = false;\n    let root2;\n    if (typeof css === \"object\" && css !== null && (css.type === \"root\" || css.type === \"document\")) {\n      root2 = cleanMarks(css);\n    } else if (css instanceof LazyResult2 || css instanceof Result$2) {\n      root2 = cleanMarks(css.root);\n      if (css.map) {\n        if (typeof opts.map === \"undefined\") opts.map = {};\n        if (!opts.map.inline) opts.map.inline = false;\n        opts.map.prev = css.map;\n      }\n    } else {\n      let parser2 = parse$2;\n      if (opts.syntax) parser2 = opts.syntax.parse;\n      if (opts.parser) parser2 = opts.parser;\n      if (parser2.parse) parser2 = parser2.parse;\n      try {\n        root2 = parser2(css, opts);\n      } catch (error) {\n        this.processed = true;\n        this.error = error;\n      }\n      if (root2 && !root2[my]) {\n        Container$1.rebuild(root2);\n      }\n    }\n    this.result = new Result$2(processor2, root2, opts);\n    this.helpers = { ...postcss$2, postcss: postcss$2, result: this.result };\n    this.plugins = this.processor.plugins.map((plugin22) => {\n      if (typeof plugin22 === \"object\" && plugin22.prepare) {\n        return { ...plugin22, ...plugin22.prepare(this.result) };\n      } else {\n        return plugin22;\n      }\n    });\n  }\n  async() {\n    if (this.error) return Promise.reject(this.error);\n    if (this.processed) return Promise.resolve(this.result);\n    if (!this.processing) {\n      this.processing = this.runAsync();\n    }\n    return this.processing;\n  }\n  catch(onRejected) {\n    return this.async().catch(onRejected);\n  }\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally);\n  }\n  getAsyncError() {\n    throw new Error(\"Use process(css).then(cb) to work with async plugins\");\n  }\n  handleError(error, node2) {\n    let plugin22 = this.result.lastPlugin;\n    try {\n      if (node2) node2.addToError(error);\n      this.error = error;\n      if (error.name === \"CssSyntaxError\" && !error.plugin) {\n        error.plugin = plugin22.postcssPlugin;\n        error.setMessage();\n      } else if (plugin22.postcssVersion) {\n        if (process.env.NODE_ENV !== \"production\") {\n          let pluginName = plugin22.postcssPlugin;\n          let pluginVer = plugin22.postcssVersion;\n          let runtimeVer = this.result.processor.version;\n          let a2 = pluginVer.split(\".\");\n          let b = runtimeVer.split(\".\");\n          if (a2[0] !== b[0] || parseInt(a2[1]) > parseInt(b[1])) {\n            console.error(\n              \"Unknown error from PostCSS plugin. Your current PostCSS version is \" + runtimeVer + \", but \" + pluginName + \" uses \" + pluginVer + \". Perhaps this is the source of the error below.\"\n            );\n          }\n        }\n      }\n    } catch (err) {\n      if (console && console.error) console.error(err);\n    }\n    return error;\n  }\n  prepareVisitors() {\n    this.listeners = {};\n    let add = (plugin22, type, cb) => {\n      if (!this.listeners[type]) this.listeners[type] = [];\n      this.listeners[type].push([plugin22, cb]);\n    };\n    for (let plugin22 of this.plugins) {\n      if (typeof plugin22 === \"object\") {\n        for (let event in plugin22) {\n          if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n            throw new Error(\n              `Unknown event ${event} in ${plugin22.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`\n            );\n          }\n          if (!NOT_VISITORS[event]) {\n            if (typeof plugin22[event] === \"object\") {\n              for (let filter in plugin22[event]) {\n                if (filter === \"*\") {\n                  add(plugin22, event, plugin22[event][filter]);\n                } else {\n                  add(\n                    plugin22,\n                    event + \"-\" + filter.toLowerCase(),\n                    plugin22[event][filter]\n                  );\n                }\n              }\n            } else if (typeof plugin22[event] === \"function\") {\n              add(plugin22, event, plugin22[event]);\n            }\n          }\n        }\n      }\n    }\n    this.hasListener = Object.keys(this.listeners).length > 0;\n  }\n  async runAsync() {\n    this.plugin = 0;\n    for (let i2 = 0; i2 < this.plugins.length; i2++) {\n      let plugin22 = this.plugins[i2];\n      let promise = this.runOnRoot(plugin22);\n      if (isPromise(promise)) {\n        try {\n          await promise;\n        } catch (error) {\n          throw this.handleError(error);\n        }\n      }\n    }\n    this.prepareVisitors();\n    if (this.hasListener) {\n      let root2 = this.result.root;\n      while (!root2[isClean]) {\n        root2[isClean] = true;\n        let stack = [toStack(root2)];\n        while (stack.length > 0) {\n          let promise = this.visitTick(stack);\n          if (isPromise(promise)) {\n            try {\n              await promise;\n            } catch (e2) {\n              let node2 = stack[stack.length - 1].node;\n              throw this.handleError(e2, node2);\n            }\n          }\n        }\n      }\n      if (this.listeners.OnceExit) {\n        for (let [plugin22, visitor] of this.listeners.OnceExit) {\n          this.result.lastPlugin = plugin22;\n          try {\n            if (root2.type === \"document\") {\n              let roots = root2.nodes.map(\n                (subRoot) => visitor(subRoot, this.helpers)\n              );\n              await Promise.all(roots);\n            } else {\n              await visitor(root2, this.helpers);\n            }\n          } catch (e2) {\n            throw this.handleError(e2);\n          }\n        }\n      }\n    }\n    this.processed = true;\n    return this.stringify();\n  }\n  runOnRoot(plugin22) {\n    this.result.lastPlugin = plugin22;\n    try {\n      if (typeof plugin22 === \"object\" && plugin22.Once) {\n        if (this.result.root.type === \"document\") {\n          let roots = this.result.root.nodes.map(\n            (root2) => plugin22.Once(root2, this.helpers)\n          );\n          if (isPromise(roots[0])) {\n            return Promise.all(roots);\n          }\n          return roots;\n        }\n        return plugin22.Once(this.result.root, this.helpers);\n      } else if (typeof plugin22 === \"function\") {\n        return plugin22(this.result.root, this.result);\n      }\n    } catch (error) {\n      throw this.handleError(error);\n    }\n  }\n  stringify() {\n    if (this.error) throw this.error;\n    if (this.stringified) return this.result;\n    this.stringified = true;\n    this.sync();\n    let opts = this.result.opts;\n    let str = stringify$2;\n    if (opts.syntax) str = opts.syntax.stringify;\n    if (opts.stringifier) str = opts.stringifier;\n    if (str.stringify) str = str.stringify;\n    let map = new MapGenerator$1(str, this.result.root, this.result.opts);\n    let data = map.generate();\n    this.result.css = data[0];\n    this.result.map = data[1];\n    return this.result;\n  }\n  sync() {\n    if (this.error) throw this.error;\n    if (this.processed) return this.result;\n    this.processed = true;\n    if (this.processing) {\n      throw this.getAsyncError();\n    }\n    for (let plugin22 of this.plugins) {\n      let promise = this.runOnRoot(plugin22);\n      if (isPromise(promise)) {\n        throw this.getAsyncError();\n      }\n    }\n    this.prepareVisitors();\n    if (this.hasListener) {\n      let root2 = this.result.root;\n      while (!root2[isClean]) {\n        root2[isClean] = true;\n        this.walkSync(root2);\n      }\n      if (this.listeners.OnceExit) {\n        if (root2.type === \"document\") {\n          for (let subRoot of root2.nodes) {\n            this.visitSync(this.listeners.OnceExit, subRoot);\n          }\n        } else {\n          this.visitSync(this.listeners.OnceExit, root2);\n        }\n      }\n    }\n    return this.result;\n  }\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!(\"from\" in this.opts)) {\n        warnOnce$1(\n          \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n        );\n      }\n    }\n    return this.async().then(onFulfilled, onRejected);\n  }\n  toString() {\n    return this.css;\n  }\n  visitSync(visitors, node2) {\n    for (let [plugin22, visitor] of visitors) {\n      this.result.lastPlugin = plugin22;\n      let promise;\n      try {\n        promise = visitor(node2, this.helpers);\n      } catch (e2) {\n        throw this.handleError(e2, node2.proxyOf);\n      }\n      if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n        return true;\n      }\n      if (isPromise(promise)) {\n        throw this.getAsyncError();\n      }\n    }\n  }\n  visitTick(stack) {\n    let visit2 = stack[stack.length - 1];\n    let { node: node2, visitors } = visit2;\n    if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n      stack.pop();\n      return;\n    }\n    if (visitors.length > 0 && visit2.visitorIndex < visitors.length) {\n      let [plugin22, visitor] = visitors[visit2.visitorIndex];\n      visit2.visitorIndex += 1;\n      if (visit2.visitorIndex === visitors.length) {\n        visit2.visitors = [];\n        visit2.visitorIndex = 0;\n      }\n      this.result.lastPlugin = plugin22;\n      try {\n        return visitor(node2.toProxy(), this.helpers);\n      } catch (e2) {\n        throw this.handleError(e2, node2);\n      }\n    }\n    if (visit2.iterator !== 0) {\n      let iterator = visit2.iterator;\n      let child;\n      while (child = node2.nodes[node2.indexes[iterator]]) {\n        node2.indexes[iterator] += 1;\n        if (!child[isClean]) {\n          child[isClean] = true;\n          stack.push(toStack(child));\n          return;\n        }\n      }\n      visit2.iterator = 0;\n      delete node2.indexes[iterator];\n    }\n    let events = visit2.events;\n    while (visit2.eventIndex < events.length) {\n      let event = events[visit2.eventIndex];\n      visit2.eventIndex += 1;\n      if (event === CHILDREN) {\n        if (node2.nodes && node2.nodes.length) {\n          node2[isClean] = true;\n          visit2.iterator = node2.getIterator();\n        }\n        return;\n      } else if (this.listeners[event]) {\n        visit2.visitors = this.listeners[event];\n        return;\n      }\n    }\n    stack.pop();\n  }\n  walkSync(node2) {\n    node2[isClean] = true;\n    let events = getEvents(node2);\n    for (let event of events) {\n      if (event === CHILDREN) {\n        if (node2.nodes) {\n          node2.each((child) => {\n            if (!child[isClean]) this.walkSync(child);\n          });\n        }\n      } else {\n        let visitors = this.listeners[event];\n        if (visitors) {\n          if (this.visitSync(visitors, node2.toProxy())) return;\n        }\n      }\n    }\n  }\n  warnings() {\n    return this.sync().warnings();\n  }\n  get content() {\n    return this.stringify().content;\n  }\n  get css() {\n    return this.stringify().css;\n  }\n  get map() {\n    return this.stringify().map;\n  }\n  get messages() {\n    return this.sync().messages;\n  }\n  get opts() {\n    return this.result.opts;\n  }\n  get processor() {\n    return this.result.processor;\n  }\n  get root() {\n    return this.sync().root;\n  }\n  get [Symbol.toStringTag]() {\n    return \"LazyResult\";\n  }\n};\nLazyResult$2.registerPostcss = (dependant) => {\n  postcss$2 = dependant;\n};\nvar lazyResult = LazyResult$2;\nLazyResult$2.default = LazyResult$2;\nRoot$3.registerLazyResult(LazyResult$2);\nDocument$2.registerLazyResult(LazyResult$2);\nlet MapGenerator22 = mapGenerator;\nlet stringify$1 = stringify_1;\nlet warnOnce22 = warnOnce$2;\nlet parse$1 = parse_1;\nconst Result$1 = result;\nlet NoWorkResult$1 = class NoWorkResult2 {\n  constructor(processor2, css, opts) {\n    css = css.toString();\n    this.stringified = false;\n    this._processor = processor2;\n    this._css = css;\n    this._opts = opts;\n    this._map = void 0;\n    let root2;\n    let str = stringify$1;\n    this.result = new Result$1(this._processor, root2, this._opts);\n    this.result.css = css;\n    let self = this;\n    Object.defineProperty(this.result, \"root\", {\n      get() {\n        return self.root;\n      }\n    });\n    let map = new MapGenerator22(str, root2, this._opts, css);\n    if (map.isMap()) {\n      let [generatedCSS, generatedMap] = map.generate();\n      if (generatedCSS) {\n        this.result.css = generatedCSS;\n      }\n      if (generatedMap) {\n        this.result.map = generatedMap;\n      }\n    } else {\n      map.clearAnnotation();\n      this.result.css = map.css;\n    }\n  }\n  async() {\n    if (this.error) return Promise.reject(this.error);\n    return Promise.resolve(this.result);\n  }\n  catch(onRejected) {\n    return this.async().catch(onRejected);\n  }\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally);\n  }\n  sync() {\n    if (this.error) throw this.error;\n    return this.result;\n  }\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!(\"from\" in this._opts)) {\n        warnOnce22(\n          \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n        );\n      }\n    }\n    return this.async().then(onFulfilled, onRejected);\n  }\n  toString() {\n    return this._css;\n  }\n  warnings() {\n    return [];\n  }\n  get content() {\n    return this.result.css;\n  }\n  get css() {\n    return this.result.css;\n  }\n  get map() {\n    return this.result.map;\n  }\n  get messages() {\n    return [];\n  }\n  get opts() {\n    return this.result.opts;\n  }\n  get processor() {\n    return this.result.processor;\n  }\n  get root() {\n    if (this._root) {\n      return this._root;\n    }\n    let root2;\n    let parser2 = parse$1;\n    try {\n      root2 = parser2(this._css, this._opts);\n    } catch (error) {\n      this.error = error;\n    }\n    if (this.error) {\n      throw this.error;\n    } else {\n      this._root = root2;\n      return root2;\n    }\n  }\n  get [Symbol.toStringTag]() {\n    return \"NoWorkResult\";\n  }\n};\nvar noWorkResult = NoWorkResult$1;\nNoWorkResult$1.default = NoWorkResult$1;\nlet NoWorkResult22 = noWorkResult;\nlet LazyResult$1 = lazyResult;\nlet Document$1 = document$1;\nlet Root$2 = root;\nlet Processor$1 = class Processor2 {\n  constructor(plugins = []) {\n    this.version = \"8.4.38\";\n    this.plugins = this.normalize(plugins);\n  }\n  normalize(plugins) {\n    let normalized = [];\n    for (let i2 of plugins) {\n      if (i2.postcss === true) {\n        i2 = i2();\n      } else if (i2.postcss) {\n        i2 = i2.postcss;\n      }\n      if (typeof i2 === \"object\" && Array.isArray(i2.plugins)) {\n        normalized = normalized.concat(i2.plugins);\n      } else if (typeof i2 === \"object\" && i2.postcssPlugin) {\n        normalized.push(i2);\n      } else if (typeof i2 === \"function\") {\n        normalized.push(i2);\n      } else if (typeof i2 === \"object\" && (i2.parse || i2.stringify)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          throw new Error(\n            \"PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.\"\n          );\n        }\n      } else {\n        throw new Error(i2 + \" is not a PostCSS plugin\");\n      }\n    }\n    return normalized;\n  }\n  process(css, opts = {}) {\n    if (!this.plugins.length && !opts.parser && !opts.stringifier && !opts.syntax) {\n      return new NoWorkResult22(this, css, opts);\n    } else {\n      return new LazyResult$1(this, css, opts);\n    }\n  }\n  use(plugin22) {\n    this.plugins = this.plugins.concat(this.normalize([plugin22]));\n    return this;\n  }\n};\nvar processor = Processor$1;\nProcessor$1.default = Processor$1;\nRoot$2.registerProcessor(Processor$1);\nDocument$1.registerProcessor(Processor$1);\nlet Declaration$1 = declaration;\nlet PreviousMap22 = previousMap;\nlet Comment$1 = comment;\nlet AtRule$1 = atRule;\nlet Input$1 = input;\nlet Root$1 = root;\nlet Rule$1 = rule;\nfunction fromJSON$1(json, inputs) {\n  if (Array.isArray(json)) return json.map((n2) => fromJSON$1(n2));\n  let { inputs: ownInputs, ...defaults } = json;\n  if (ownInputs) {\n    inputs = [];\n    for (let input2 of ownInputs) {\n      let inputHydrated = { ...input2, __proto__: Input$1.prototype };\n      if (inputHydrated.map) {\n        inputHydrated.map = {\n          ...inputHydrated.map,\n          __proto__: PreviousMap22.prototype\n        };\n      }\n      inputs.push(inputHydrated);\n    }\n  }\n  if (defaults.nodes) {\n    defaults.nodes = json.nodes.map((n2) => fromJSON$1(n2, inputs));\n  }\n  if (defaults.source) {\n    let { inputId, ...source } = defaults.source;\n    defaults.source = source;\n    if (inputId != null) {\n      defaults.source.input = inputs[inputId];\n    }\n  }\n  if (defaults.type === \"root\") {\n    return new Root$1(defaults);\n  } else if (defaults.type === \"decl\") {\n    return new Declaration$1(defaults);\n  } else if (defaults.type === \"rule\") {\n    return new Rule$1(defaults);\n  } else if (defaults.type === \"comment\") {\n    return new Comment$1(defaults);\n  } else if (defaults.type === \"atrule\") {\n    return new AtRule$1(defaults);\n  } else {\n    throw new Error(\"Unknown node type: \" + json.type);\n  }\n}\nvar fromJSON_1 = fromJSON$1;\nfromJSON$1.default = fromJSON$1;\nlet CssSyntaxError22 = cssSyntaxError;\nlet Declaration22 = declaration;\nlet LazyResult22 = lazyResult;\nlet Container22 = container;\nlet Processor22 = processor;\nlet stringify = stringify_1;\nlet fromJSON = fromJSON_1;\nlet Document222 = document$1;\nlet Warning22 = warning;\nlet Comment22 = comment;\nlet AtRule22 = atRule;\nlet Result22 = result;\nlet Input22 = input;\nlet parse = parse_1;\nlet list = list_1;\nlet Rule22 = rule;\nlet Root22 = root;\nlet Node22 = node;\nfunction postcss(...plugins) {\n  if (plugins.length === 1 && Array.isArray(plugins[0])) {\n    plugins = plugins[0];\n  }\n  return new Processor22(plugins);\n}\npostcss.plugin = function plugin2(name, initializer) {\n  let warningPrinted = false;\n  function creator(...args) {\n    if (console && console.warn && !warningPrinted) {\n      warningPrinted = true;\n      console.warn(\n        name + \": postcss.plugin was deprecated. Migration guide:\\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration\"\n      );\n      if (process.env.LANG && process.env.LANG.startsWith(\"cn\")) {\n        console.warn(\n          name + \":  postcss.plugin . :\\nhttps://www.w3ctech.com/topic/2226\"\n        );\n      }\n    }\n    let transformer = initializer(...args);\n    transformer.postcssPlugin = name;\n    transformer.postcssVersion = new Processor22().version;\n    return transformer;\n  }\n  let cache;\n  Object.defineProperty(creator, \"postcss\", {\n    get() {\n      if (!cache) cache = creator();\n      return cache;\n    }\n  });\n  creator.process = function(css, processOpts, pluginOpts) {\n    return postcss([creator(pluginOpts)]).process(css, processOpts);\n  };\n  return creator;\n};\npostcss.stringify = stringify;\npostcss.parse = parse;\npostcss.fromJSON = fromJSON;\npostcss.list = list;\npostcss.comment = (defaults) => new Comment22(defaults);\npostcss.atRule = (defaults) => new AtRule22(defaults);\npostcss.decl = (defaults) => new Declaration22(defaults);\npostcss.rule = (defaults) => new Rule22(defaults);\npostcss.root = (defaults) => new Root22(defaults);\npostcss.document = (defaults) => new Document222(defaults);\npostcss.CssSyntaxError = CssSyntaxError22;\npostcss.Declaration = Declaration22;\npostcss.Container = Container22;\npostcss.Processor = Processor22;\npostcss.Document = Document222;\npostcss.Comment = Comment22;\npostcss.Warning = Warning22;\npostcss.AtRule = AtRule22;\npostcss.Result = Result22;\npostcss.Input = Input22;\npostcss.Rule = Rule22;\npostcss.Root = Root22;\npostcss.Node = Node22;\nLazyResult22.registerPostcss(postcss);\nvar postcss_1 = postcss;\npostcss.default = postcss;\nconst postcss$1 = /* @__PURE__ */ getDefaultExportFromCjs(postcss_1);\npostcss$1.stringify;\npostcss$1.fromJSON;\npostcss$1.plugin;\npostcss$1.parse;\npostcss$1.list;\npostcss$1.document;\npostcss$1.comment;\npostcss$1.atRule;\npostcss$1.rule;\npostcss$1.decl;\npostcss$1.root;\npostcss$1.CssSyntaxError;\npostcss$1.Declaration;\npostcss$1.Container;\npostcss$1.Processor;\npostcss$1.Document;\npostcss$1.Comment;\npostcss$1.Warning;\npostcss$1.AtRule;\npostcss$1.Result;\npostcss$1.Input;\npostcss$1.Rule;\npostcss$1.Root;\npostcss$1.Node;\nclass BaseRRNode {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any\n  constructor(..._args) {\n    __publicField2(this, \"parentElement\", null);\n    __publicField2(this, \"parentNode\", null);\n    __publicField2(this, \"ownerDocument\");\n    __publicField2(this, \"firstChild\", null);\n    __publicField2(this, \"lastChild\", null);\n    __publicField2(this, \"previousSibling\", null);\n    __publicField2(this, \"nextSibling\", null);\n    __publicField2(this, \"ELEMENT_NODE\", 1);\n    __publicField2(this, \"TEXT_NODE\", 3);\n    __publicField2(this, \"nodeType\");\n    __publicField2(this, \"nodeName\");\n    __publicField2(this, \"RRNodeType\");\n  }\n  get childNodes() {\n    const childNodes2 = [];\n    let childIterator = this.firstChild;\n    while (childIterator) {\n      childNodes2.push(childIterator);\n      childIterator = childIterator.nextSibling;\n    }\n    return childNodes2;\n  }\n  contains(node2) {\n    if (!(node2 instanceof BaseRRNode)) return false;\n    else if (node2.ownerDocument !== this.ownerDocument) return false;\n    else if (node2 === this) return true;\n    while (node2.parentNode) {\n      if (node2.parentNode === this) return true;\n      node2 = node2.parentNode;\n    }\n    return false;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  appendChild(_newChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  insertBefore(_newChild, _refChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  removeChild(_node) {\n    throw new Error(\n      `RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  toString() {\n    return \"RRNode\";\n  }\n}\nconst testableAccessors = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype = {};\nconst isAngularZonePresent = () => {\n  return !!globalThis.Zone;\n};\nfunction getUntaintedPrototype(key) {\n  if (untaintedBasePrototype[key])\n    return untaintedBasePrototype[key];\n  const defaultObj = globalThis[key];\n  const defaultPrototype = defaultObj.prototype;\n  const accessorNames = key in testableAccessors ? testableAccessors[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods ? testableMethods[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods && !isAngularZonePresent()) {\n    untaintedBasePrototype[key] = defaultObj.prototype;\n    return defaultObj.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return defaultObj.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache = {};\nfunction getUntaintedAccessor(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache[cacheKey])\n    return untaintedAccessorCache[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache = {};\nfunction getUntaintedMethod(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache[cacheKey])\n    return untaintedMethodCache[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentElement\");\n}\nfunction textContent(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"textContent\");\n}\nfunction contains(n2, other) {\n  return getUntaintedMethod(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode(n2) {\n  return getUntaintedMethod(\"Node\", n2, \"getRootNode\")();\n}\nfunction host(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor() {\n  return getUntaintedPrototype(\"MutationObserver\").constructor;\n}\nconst index = {\n  childNodes,\n  parentNode,\n  parentElement,\n  textContent,\n  contains,\n  getRootNode,\n  host,\n  styleSheets,\n  shadowRoot,\n  querySelector,\n  querySelectorAll,\n  mutationObserver: mutationObserverCtor\n};\nfunction on(type, fn, target = document) {\n  const options = { capture: true, passive: true };\n  target.addEventListener(type, fn, options);\n  return () => target.removeEventListener(type, fn, options);\n}\nconst DEPARTED_MIRROR_ACCESS_WARNING = \"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";\nlet _mirror = {\n  map: {},\n  getId() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return -1;\n  },\n  getNode() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return null;\n  },\n  removeNodeFromMap() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  },\n  has() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return false;\n  },\n  reset() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  }\n};\nif (typeof window !== \"undefined\" && window.Proxy && window.Reflect) {\n  _mirror = new Proxy(_mirror, {\n    get(target, prop, receiver) {\n      if (prop === \"map\") {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  });\n}\nfunction throttle(func, wait, options = {}) {\n  let timeout = null;\n  let previous = 0;\n  return function(...args) {\n    const now = Date.now();\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n    const remaining = wait - (now - previous);\n    const context = this;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      func.apply(context, args);\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(() => {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        func.apply(context, args);\n      }, remaining);\n    }\n  };\n}\nfunction hookSetter(target, key, d, isRevoked, win = window) {\n  const original = win.Object.getOwnPropertyDescriptor(target, key);\n  win.Object.defineProperty(\n    target,\n    key,\n    isRevoked ? d : {\n      set(value) {\n        setTimeout(() => {\n          d.set.call(this, value);\n        }, 0);\n        if (original && original.set) {\n          original.set.call(this, value);\n        }\n      }\n    }\n  );\n  return () => hookSetter(target, key, original || {}, true);\n}\nfunction patch(source, name, replacement) {\n  try {\n    if (!(name in source)) {\n      return () => {\n      };\n    }\n    const original = source[name];\n    const wrapped = replacement(original);\n    if (typeof wrapped === \"function\") {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __rrweb_original__: {\n          enumerable: false,\n          value: original\n        }\n      });\n    }\n    source[name] = wrapped;\n    return () => {\n      source[name] = original;\n    };\n  } catch {\n    return () => {\n    };\n  }\n}\nlet nowTimestamp = Date.now;\nif (!/* @__PURE__ */ /[1-9][0-9]{12}/.test(Date.now().toString())) {\n  nowTimestamp = () => (/* @__PURE__ */ new Date()).getTime();\n}\nfunction getWindowScroll(win) {\n  var _a2, _b, _c, _d;\n  const doc = win.document;\n  return {\n    left: doc.scrollingElement ? doc.scrollingElement.scrollLeft : win.pageXOffset !== void 0 ? win.pageXOffset : doc.documentElement.scrollLeft || (doc == null ? void 0 : doc.body) && ((_a2 = index.parentElement(doc.body)) == null ? void 0 : _a2.scrollLeft) || ((_b = doc == null ? void 0 : doc.body) == null ? void 0 : _b.scrollLeft) || 0,\n    top: doc.scrollingElement ? doc.scrollingElement.scrollTop : win.pageYOffset !== void 0 ? win.pageYOffset : (doc == null ? void 0 : doc.documentElement.scrollTop) || (doc == null ? void 0 : doc.body) && ((_c = index.parentElement(doc.body)) == null ? void 0 : _c.scrollTop) || ((_d = doc == null ? void 0 : doc.body) == null ? void 0 : _d.scrollTop) || 0\n  };\n}\nfunction getWindowHeight() {\n  return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;\n}\nfunction getWindowWidth() {\n  return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;\n}\nfunction closestElementOfNode(node2) {\n  if (!node2) {\n    return null;\n  }\n  const el = node2.nodeType === node2.ELEMENT_NODE ? node2 : index.parentElement(node2);\n  return el;\n}\nfunction isBlocked(node2, blockClass, blockSelector, checkAncestors) {\n  if (!node2) {\n    return false;\n  }\n  const el = closestElementOfNode(node2);\n  if (!el) {\n    return false;\n  }\n  try {\n    if (typeof blockClass === \"string\") {\n      if (el.classList.contains(blockClass)) return true;\n      if (checkAncestors && el.closest(\".\" + blockClass) !== null) return true;\n    } else {\n      if (classMatchesRegex(el, blockClass, checkAncestors)) return true;\n    }\n  } catch (e2) {\n  }\n  if (blockSelector) {\n    if (el.matches(blockSelector)) return true;\n    if (checkAncestors && el.closest(blockSelector) !== null) return true;\n  }\n  return false;\n}\nfunction isSerialized(n2, mirror2) {\n  return mirror2.getId(n2) !== -1;\n}\nfunction isIgnored(n2, mirror2, slimDOMOptions) {\n  if (n2.tagName === \"TITLE\" && slimDOMOptions.headTitleMutations) {\n    return true;\n  }\n  return mirror2.getId(n2) === IGNORED_NODE;\n}\nfunction isAncestorRemoved(target, mirror2) {\n  if (isShadowRoot(target)) {\n    return false;\n  }\n  const id = mirror2.getId(target);\n  if (!mirror2.has(id)) {\n    return true;\n  }\n  const parent = index.parentNode(target);\n  if (parent && parent.nodeType === target.DOCUMENT_NODE) {\n    return false;\n  }\n  if (!parent) {\n    return true;\n  }\n  return isAncestorRemoved(parent, mirror2);\n}\nfunction legacy_isTouchEvent(event) {\n  return Boolean(event.changedTouches);\n}\nfunction polyfill$1(win = window) {\n  if (\"NodeList\" in win && !win.NodeList.prototype.forEach) {\n    win.NodeList.prototype.forEach = Array.prototype.forEach;\n  }\n  if (\"DOMTokenList\" in win && !win.DOMTokenList.prototype.forEach) {\n    win.DOMTokenList.prototype.forEach = Array.prototype.forEach;\n  }\n}\nfunction isSerializedIframe(n2, mirror2) {\n  return Boolean(n2.nodeName === \"IFRAME\" && mirror2.getMeta(n2));\n}\nfunction isSerializedStylesheet(n2, mirror2) {\n  return Boolean(\n    n2.nodeName === \"LINK\" && n2.nodeType === n2.ELEMENT_NODE && n2.getAttribute && n2.getAttribute(\"rel\") === \"stylesheet\" && mirror2.getMeta(n2)\n  );\n}\nfunction hasShadowRoot(n2) {\n  if (!n2) return false;\n  if (n2 instanceof BaseRRNode && \"shadowRoot\" in n2) {\n    return Boolean(n2.shadowRoot);\n  }\n  return Boolean(index.shadowRoot(n2));\n}\nclass StyleSheetMirror {\n  constructor() {\n    __publicField(this, \"id\", 1);\n    __publicField(this, \"styleIDMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"idStyleMap\", /* @__PURE__ */ new Map());\n  }\n  getId(stylesheet) {\n    return this.styleIDMap.get(stylesheet) ?? -1;\n  }\n  has(stylesheet) {\n    return this.styleIDMap.has(stylesheet);\n  }\n  /**\n   * @returns If the stylesheet is in the mirror, returns the id of the stylesheet. If not, return the new assigned id.\n   */\n  add(stylesheet, id) {\n    if (this.has(stylesheet)) return this.getId(stylesheet);\n    let newId;\n    if (id === void 0) {\n      newId = this.id++;\n    } else newId = id;\n    this.styleIDMap.set(stylesheet, newId);\n    this.idStyleMap.set(newId, stylesheet);\n    return newId;\n  }\n  getStyle(id) {\n    return this.idStyleMap.get(id) || null;\n  }\n  reset() {\n    this.styleIDMap = /* @__PURE__ */ new WeakMap();\n    this.idStyleMap = /* @__PURE__ */ new Map();\n    this.id = 1;\n  }\n  generateId() {\n    return this.id++;\n  }\n}\nfunction getShadowHost(n2) {\n  var _a2;\n  let shadowHost = null;\n  if (\"getRootNode\" in n2 && ((_a2 = index.getRootNode(n2)) == null ? void 0 : _a2.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && index.host(index.getRootNode(n2)))\n    shadowHost = index.host(index.getRootNode(n2));\n  return shadowHost;\n}\nfunction getRootShadowHost(n2) {\n  let rootShadowHost = n2;\n  let shadowHost;\n  while (shadowHost = getShadowHost(rootShadowHost))\n    rootShadowHost = shadowHost;\n  return rootShadowHost;\n}\nfunction shadowHostInDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  const shadowHost = getRootShadowHost(n2);\n  return index.contains(doc, shadowHost);\n}\nfunction inDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  return index.contains(doc, n2) || shadowHostInDom(n2);\n}\nvar EventType = /* @__PURE__ */ ((EventType2) => {\n  EventType2[EventType2[\"DomContentLoaded\"] = 0] = \"DomContentLoaded\";\n  EventType2[EventType2[\"Load\"] = 1] = \"Load\";\n  EventType2[EventType2[\"FullSnapshot\"] = 2] = \"FullSnapshot\";\n  EventType2[EventType2[\"IncrementalSnapshot\"] = 3] = \"IncrementalSnapshot\";\n  EventType2[EventType2[\"Meta\"] = 4] = \"Meta\";\n  EventType2[EventType2[\"Custom\"] = 5] = \"Custom\";\n  EventType2[EventType2[\"Plugin\"] = 6] = \"Plugin\";\n  return EventType2;\n})(EventType || {});\nvar IncrementalSource = /* @__PURE__ */ ((IncrementalSource2) => {\n  IncrementalSource2[IncrementalSource2[\"Mutation\"] = 0] = \"Mutation\";\n  IncrementalSource2[IncrementalSource2[\"MouseMove\"] = 1] = \"MouseMove\";\n  IncrementalSource2[IncrementalSource2[\"MouseInteraction\"] = 2] = \"MouseInteraction\";\n  IncrementalSource2[IncrementalSource2[\"Scroll\"] = 3] = \"Scroll\";\n  IncrementalSource2[IncrementalSource2[\"ViewportResize\"] = 4] = \"ViewportResize\";\n  IncrementalSource2[IncrementalSource2[\"Input\"] = 5] = \"Input\";\n  IncrementalSource2[IncrementalSource2[\"TouchMove\"] = 6] = \"TouchMove\";\n  IncrementalSource2[IncrementalSource2[\"MediaInteraction\"] = 7] = \"MediaInteraction\";\n  IncrementalSource2[IncrementalSource2[\"StyleSheetRule\"] = 8] = \"StyleSheetRule\";\n  IncrementalSource2[IncrementalSource2[\"CanvasMutation\"] = 9] = \"CanvasMutation\";\n  IncrementalSource2[IncrementalSource2[\"Font\"] = 10] = \"Font\";\n  IncrementalSource2[IncrementalSource2[\"Log\"] = 11] = \"Log\";\n  IncrementalSource2[IncrementalSource2[\"Drag\"] = 12] = \"Drag\";\n  IncrementalSource2[IncrementalSource2[\"StyleDeclaration\"] = 13] = \"StyleDeclaration\";\n  IncrementalSource2[IncrementalSource2[\"Selection\"] = 14] = \"Selection\";\n  IncrementalSource2[IncrementalSource2[\"AdoptedStyleSheet\"] = 15] = \"AdoptedStyleSheet\";\n  IncrementalSource2[IncrementalSource2[\"CustomElement\"] = 16] = \"CustomElement\";\n  return IncrementalSource2;\n})(IncrementalSource || {});\nvar MouseInteractions = /* @__PURE__ */ ((MouseInteractions2) => {\n  MouseInteractions2[MouseInteractions2[\"MouseUp\"] = 0] = \"MouseUp\";\n  MouseInteractions2[MouseInteractions2[\"MouseDown\"] = 1] = \"MouseDown\";\n  MouseInteractions2[MouseInteractions2[\"Click\"] = 2] = \"Click\";\n  MouseInteractions2[MouseInteractions2[\"ContextMenu\"] = 3] = \"ContextMenu\";\n  MouseInteractions2[MouseInteractions2[\"DblClick\"] = 4] = \"DblClick\";\n  MouseInteractions2[MouseInteractions2[\"Focus\"] = 5] = \"Focus\";\n  MouseInteractions2[MouseInteractions2[\"Blur\"] = 6] = \"Blur\";\n  MouseInteractions2[MouseInteractions2[\"TouchStart\"] = 7] = \"TouchStart\";\n  MouseInteractions2[MouseInteractions2[\"TouchMove_Departed\"] = 8] = \"TouchMove_Departed\";\n  MouseInteractions2[MouseInteractions2[\"TouchEnd\"] = 9] = \"TouchEnd\";\n  MouseInteractions2[MouseInteractions2[\"TouchCancel\"] = 10] = \"TouchCancel\";\n  return MouseInteractions2;\n})(MouseInteractions || {});\nvar PointerTypes = /* @__PURE__ */ ((PointerTypes2) => {\n  PointerTypes2[PointerTypes2[\"Mouse\"] = 0] = \"Mouse\";\n  PointerTypes2[PointerTypes2[\"Pen\"] = 1] = \"Pen\";\n  PointerTypes2[PointerTypes2[\"Touch\"] = 2] = \"Touch\";\n  return PointerTypes2;\n})(PointerTypes || {});\nvar CanvasContext = /* @__PURE__ */ ((CanvasContext2) => {\n  CanvasContext2[CanvasContext2[\"2D\"] = 0] = \"2D\";\n  CanvasContext2[CanvasContext2[\"WebGL\"] = 1] = \"WebGL\";\n  CanvasContext2[CanvasContext2[\"WebGL2\"] = 2] = \"WebGL2\";\n  return CanvasContext2;\n})(CanvasContext || {});\nvar MediaInteractions = /* @__PURE__ */ ((MediaInteractions2) => {\n  MediaInteractions2[MediaInteractions2[\"Play\"] = 0] = \"Play\";\n  MediaInteractions2[MediaInteractions2[\"Pause\"] = 1] = \"Pause\";\n  MediaInteractions2[MediaInteractions2[\"Seeked\"] = 2] = \"Seeked\";\n  MediaInteractions2[MediaInteractions2[\"VolumeChange\"] = 3] = \"VolumeChange\";\n  MediaInteractions2[MediaInteractions2[\"RateChange\"] = 4] = \"RateChange\";\n  return MediaInteractions2;\n})(MediaInteractions || {});\nvar NodeType = /* @__PURE__ */ ((NodeType2) => {\n  NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n  NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n  NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n  NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n  NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n  NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n  return NodeType2;\n})(NodeType || {});\nfunction isNodeInLinkedList(n2) {\n  return \"__ln\" in n2;\n}\nclass DoubleLinkedList {\n  constructor() {\n    __publicField(this, \"length\", 0);\n    __publicField(this, \"head\", null);\n    __publicField(this, \"tail\", null);\n  }\n  get(position) {\n    if (position >= this.length) {\n      throw new Error(\"Position outside of list range\");\n    }\n    let current = this.head;\n    for (let index2 = 0; index2 < position; index2++) {\n      current = (current == null ? void 0 : current.next) || null;\n    }\n    return current;\n  }\n  addNode(n2) {\n    const node2 = {\n      value: n2,\n      previous: null,\n      next: null\n    };\n    n2.__ln = node2;\n    if (n2.previousSibling && isNodeInLinkedList(n2.previousSibling)) {\n      const current = n2.previousSibling.__ln.next;\n      node2.next = current;\n      node2.previous = n2.previousSibling.__ln;\n      n2.previousSibling.__ln.next = node2;\n      if (current) {\n        current.previous = node2;\n      }\n    } else if (n2.nextSibling && isNodeInLinkedList(n2.nextSibling) && n2.nextSibling.__ln.previous) {\n      const current = n2.nextSibling.__ln.previous;\n      node2.previous = current;\n      node2.next = n2.nextSibling.__ln;\n      n2.nextSibling.__ln.previous = node2;\n      if (current) {\n        current.next = node2;\n      }\n    } else {\n      if (this.head) {\n        this.head.previous = node2;\n      }\n      node2.next = this.head;\n      this.head = node2;\n    }\n    if (node2.next === null) {\n      this.tail = node2;\n    }\n    this.length++;\n  }\n  removeNode(n2) {\n    const current = n2.__ln;\n    if (!this.head) {\n      return;\n    }\n    if (!current.previous) {\n      this.head = current.next;\n      if (this.head) {\n        this.head.previous = null;\n      } else {\n        this.tail = null;\n      }\n    } else {\n      current.previous.next = current.next;\n      if (current.next) {\n        current.next.previous = current.previous;\n      } else {\n        this.tail = current.previous;\n      }\n    }\n    if (n2.__ln) {\n      delete n2.__ln;\n    }\n    this.length--;\n  }\n}\nconst moveKey = (id, parentId) => `${id}@${parentId}`;\nclass MutationBuffer {\n  constructor() {\n    __publicField(this, \"frozen\", false);\n    __publicField(this, \"locked\", false);\n    __publicField(this, \"texts\", []);\n    __publicField(this, \"attributes\", []);\n    __publicField(this, \"attributeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"removes\", []);\n    __publicField(this, \"mapRemoves\", []);\n    __publicField(this, \"movedMap\", {});\n    __publicField(this, \"addedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"movedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"droppedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"removesSubTreeCache\", /* @__PURE__ */ new Set());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"blockClass\");\n    __publicField(this, \"blockSelector\");\n    __publicField(this, \"maskTextClass\");\n    __publicField(this, \"maskTextSelector\");\n    __publicField(this, \"inlineStylesheet\");\n    __publicField(this, \"maskInputOptions\");\n    __publicField(this, \"maskTextFn\");\n    __publicField(this, \"maskInputFn\");\n    __publicField(this, \"keepIframeSrcFn\");\n    __publicField(this, \"recordCanvas\");\n    __publicField(this, \"inlineImages\");\n    __publicField(this, \"slimDOMOptions\");\n    __publicField(this, \"dataURLOptions\");\n    __publicField(this, \"doc\");\n    __publicField(this, \"mirror\");\n    __publicField(this, \"iframeManager\");\n    __publicField(this, \"stylesheetManager\");\n    __publicField(this, \"shadowDomManager\");\n    __publicField(this, \"canvasManager\");\n    __publicField(this, \"processedNodeManager\");\n    __publicField(this, \"unattachedDoc\");\n    __publicField(this, \"processMutations\", (mutations) => {\n      mutations.forEach(this.processMutation);\n      this.emit();\n    });\n    __publicField(this, \"emit\", () => {\n      if (this.frozen || this.locked) {\n        return;\n      }\n      const adds = [];\n      const addedIds = /* @__PURE__ */ new Set();\n      const addList = new DoubleLinkedList();\n      const getNextId = (n2) => {\n        let ns = n2;\n        let nextId = IGNORED_NODE;\n        while (nextId === IGNORED_NODE) {\n          ns = ns && ns.nextSibling;\n          nextId = ns && this.mirror.getId(ns);\n        }\n        return nextId;\n      };\n      const pushAdd = (n2) => {\n        const parent = index.parentNode(n2);\n        if (!parent || !inDom(n2)) {\n          return;\n        }\n        let cssCaptured = false;\n        if (n2.nodeType === Node.TEXT_NODE) {\n          const parentTag = parent.tagName;\n          if (parentTag === \"TEXTAREA\") {\n            return;\n          } else if (parentTag === \"STYLE\" && this.addedSet.has(parent)) {\n            cssCaptured = true;\n          }\n        }\n        const parentId = isShadowRoot(parent) ? this.mirror.getId(getShadowHost(n2)) : this.mirror.getId(parent);\n        const nextId = getNextId(n2);\n        if (parentId === -1 || nextId === -1) {\n          return addList.addNode(n2);\n        }\n        const sn = serializeNodeWithId(n2, {\n          doc: this.doc,\n          mirror: this.mirror,\n          blockClass: this.blockClass,\n          blockSelector: this.blockSelector,\n          maskTextClass: this.maskTextClass,\n          maskTextSelector: this.maskTextSelector,\n          skipChild: true,\n          newlyAddedElement: true,\n          inlineStylesheet: this.inlineStylesheet,\n          maskInputOptions: this.maskInputOptions,\n          maskTextFn: this.maskTextFn,\n          maskInputFn: this.maskInputFn,\n          slimDOMOptions: this.slimDOMOptions,\n          dataURLOptions: this.dataURLOptions,\n          recordCanvas: this.recordCanvas,\n          inlineImages: this.inlineImages,\n          onSerialize: (currentN) => {\n            if (isSerializedIframe(currentN, this.mirror)) {\n              this.iframeManager.addIframe(currentN);\n            }\n            if (isSerializedStylesheet(currentN, this.mirror)) {\n              this.stylesheetManager.trackLinkElement(\n                currentN\n              );\n            }\n            if (hasShadowRoot(n2)) {\n              this.shadowDomManager.addShadowRoot(index.shadowRoot(n2), this.doc);\n            }\n          },\n          onIframeLoad: (iframe, childSn) => {\n            this.iframeManager.attachIframe(iframe, childSn);\n            this.shadowDomManager.observeAttachShadow(iframe);\n          },\n          onStylesheetLoad: (link, childSn) => {\n            this.stylesheetManager.attachLinkElement(link, childSn);\n          },\n          cssCaptured\n        });\n        if (sn) {\n          adds.push({\n            parentId,\n            nextId,\n            node: sn\n          });\n          addedIds.add(sn.id);\n        }\n      };\n      while (this.mapRemoves.length) {\n        this.mirror.removeNodeFromMap(this.mapRemoves.shift());\n      }\n      for (const n2 of this.movedSet) {\n        if (isParentRemoved(this.removesSubTreeCache, n2, this.mirror) && !this.movedSet.has(index.parentNode(n2))) {\n          continue;\n        }\n        pushAdd(n2);\n      }\n      for (const n2 of this.addedSet) {\n        if (!isAncestorInSet(this.droppedSet, n2) && !isParentRemoved(this.removesSubTreeCache, n2, this.mirror)) {\n          pushAdd(n2);\n        } else if (isAncestorInSet(this.movedSet, n2)) {\n          pushAdd(n2);\n        } else {\n          this.droppedSet.add(n2);\n        }\n      }\n      let candidate = null;\n      while (addList.length) {\n        let node2 = null;\n        if (candidate) {\n          const parentId = this.mirror.getId(index.parentNode(candidate.value));\n          const nextId = getNextId(candidate.value);\n          if (parentId !== -1 && nextId !== -1) {\n            node2 = candidate;\n          }\n        }\n        if (!node2) {\n          let tailNode = addList.tail;\n          while (tailNode) {\n            const _node = tailNode;\n            tailNode = tailNode.previous;\n            if (_node) {\n              const parentId = this.mirror.getId(index.parentNode(_node.value));\n              const nextId = getNextId(_node.value);\n              if (nextId === -1) continue;\n              else if (parentId !== -1) {\n                node2 = _node;\n                break;\n              } else {\n                const unhandledNode = _node.value;\n                const parent = index.parentNode(unhandledNode);\n                if (parent && parent.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n                  const shadowHost = index.host(parent);\n                  const parentId2 = this.mirror.getId(shadowHost);\n                  if (parentId2 !== -1) {\n                    node2 = _node;\n                    break;\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (!node2) {\n          while (addList.head) {\n            addList.removeNode(addList.head.value);\n          }\n          break;\n        }\n        candidate = node2.previous;\n        addList.removeNode(node2.value);\n        pushAdd(node2.value);\n      }\n      const payload = {\n        texts: this.texts.map((text) => {\n          const n2 = text.node;\n          const parent = index.parentNode(n2);\n          if (parent && parent.tagName === \"TEXTAREA\") {\n            this.genTextAreaValueMutation(parent);\n          }\n          return {\n            id: this.mirror.getId(n2),\n            value: text.value\n          };\n        }).filter((text) => !addedIds.has(text.id)).filter((text) => this.mirror.has(text.id)),\n        attributes: this.attributes.map((attribute) => {\n          const { attributes } = attribute;\n          if (typeof attributes.style === \"string\") {\n            const diffAsStr = JSON.stringify(attribute.styleDiff);\n            const unchangedAsStr = JSON.stringify(attribute._unchangedStyles);\n            if (diffAsStr.length < attributes.style.length) {\n              if ((diffAsStr + unchangedAsStr).split(\"var(\").length === attributes.style.split(\"var(\").length) {\n                attributes.style = attribute.styleDiff;\n              }\n            }\n          }\n          return {\n            id: this.mirror.getId(attribute.node),\n            attributes\n          };\n        }).filter((attribute) => !addedIds.has(attribute.id)).filter((attribute) => this.mirror.has(attribute.id)),\n        removes: this.removes,\n        adds\n      };\n      if (!payload.texts.length && !payload.attributes.length && !payload.removes.length && !payload.adds.length) {\n        return;\n      }\n      this.texts = [];\n      this.attributes = [];\n      this.attributeMap = /* @__PURE__ */ new WeakMap();\n      this.removes = [];\n      this.addedSet = /* @__PURE__ */ new Set();\n      this.movedSet = /* @__PURE__ */ new Set();\n      this.droppedSet = /* @__PURE__ */ new Set();\n      this.removesSubTreeCache = /* @__PURE__ */ new Set();\n      this.movedMap = {};\n      this.mutationCb(payload);\n    });\n    __publicField(this, \"genTextAreaValueMutation\", (textarea) => {\n      let item = this.attributeMap.get(textarea);\n      if (!item) {\n        item = {\n          node: textarea,\n          attributes: {},\n          styleDiff: {},\n          _unchangedStyles: {}\n        };\n        this.attributes.push(item);\n        this.attributeMap.set(textarea, item);\n      }\n      item.attributes.value = Array.from(\n        index.childNodes(textarea),\n        (cn) => index.textContent(cn) || \"\"\n      ).join(\"\");\n    });\n    __publicField(this, \"processMutation\", (m) => {\n      if (isIgnored(m.target, this.mirror, this.slimDOMOptions)) {\n        return;\n      }\n      switch (m.type) {\n        case \"characterData\": {\n          const value = index.textContent(m.target);\n          if (!isBlocked(m.target, this.blockClass, this.blockSelector, false) && value !== m.oldValue) {\n            this.texts.push({\n              value: needMaskingText(\n                m.target,\n                this.maskTextClass,\n                this.maskTextSelector,\n                true\n                // checkAncestors\n              ) && value ? this.maskTextFn ? this.maskTextFn(value, closestElementOfNode(m.target)) : value.replace(/[\\S]/g, \"*\") : value,\n              node: m.target\n            });\n          }\n          break;\n        }\n        case \"attributes\": {\n          const target = m.target;\n          let attributeName = m.attributeName;\n          let value = m.target.getAttribute(attributeName);\n          if (attributeName === \"value\") {\n            const type = getInputType(target);\n            value = maskInputValue({\n              element: target,\n              maskInputOptions: this.maskInputOptions,\n              tagName: target.tagName,\n              type,\n              value,\n              maskInputFn: this.maskInputFn\n            });\n          }\n          if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || value === m.oldValue) {\n            return;\n          }\n          let item = this.attributeMap.get(m.target);\n          if (target.tagName === \"IFRAME\" && attributeName === \"src\" && !this.keepIframeSrcFn(value)) {\n            if (!target.contentDocument) {\n              attributeName = \"rr_src\";\n            } else {\n              return;\n            }\n          }\n          if (!item) {\n            item = {\n              node: m.target,\n              attributes: {},\n              styleDiff: {},\n              _unchangedStyles: {}\n            };\n            this.attributes.push(item);\n            this.attributeMap.set(m.target, item);\n          }\n          if (attributeName === \"type\" && target.tagName === \"INPUT\" && (m.oldValue || \"\").toLowerCase() === \"password\") {\n            target.setAttribute(\"data-rr-is-password\", \"true\");\n          }\n          if (!ignoreAttribute(target.tagName, attributeName)) {\n            item.attributes[attributeName] = transformAttribute(\n              this.doc,\n              toLowerCase(target.tagName),\n              toLowerCase(attributeName),\n              value\n            );\n            if (attributeName === \"style\") {\n              if (!this.unattachedDoc) {\n                try {\n                  this.unattachedDoc = document.implementation.createHTMLDocument();\n                } catch (e2) {\n                  this.unattachedDoc = this.doc;\n                }\n              }\n              const old = this.unattachedDoc.createElement(\"span\");\n              if (m.oldValue) {\n                old.setAttribute(\"style\", m.oldValue);\n              }\n              for (const pname of Array.from(target.style)) {\n                const newValue = target.style.getPropertyValue(pname);\n                const newPriority = target.style.getPropertyPriority(pname);\n                if (newValue !== old.style.getPropertyValue(pname) || newPriority !== old.style.getPropertyPriority(pname)) {\n                  if (newPriority === \"\") {\n                    item.styleDiff[pname] = newValue;\n                  } else {\n                    item.styleDiff[pname] = [newValue, newPriority];\n                  }\n                } else {\n                  item._unchangedStyles[pname] = [newValue, newPriority];\n                }\n              }\n              for (const pname of Array.from(old.style)) {\n                if (target.style.getPropertyValue(pname) === \"\") {\n                  item.styleDiff[pname] = false;\n                }\n              }\n            } else if (attributeName === \"open\" && target.tagName === \"DIALOG\") {\n              if (target.matches(\"dialog:modal\")) {\n                item.attributes[\"rr_open_mode\"] = \"modal\";\n              } else {\n                item.attributes[\"rr_open_mode\"] = \"non-modal\";\n              }\n            }\n          }\n          break;\n        }\n        case \"childList\": {\n          if (isBlocked(m.target, this.blockClass, this.blockSelector, true))\n            return;\n          if (m.target.tagName === \"TEXTAREA\") {\n            this.genTextAreaValueMutation(m.target);\n            return;\n          }\n          m.addedNodes.forEach((n2) => this.genAdds(n2, m.target));\n          m.removedNodes.forEach((n2) => {\n            const nodeId = this.mirror.getId(n2);\n            const parentId = isShadowRoot(m.target) ? this.mirror.getId(index.host(m.target)) : this.mirror.getId(m.target);\n            if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || isIgnored(n2, this.mirror, this.slimDOMOptions) || !isSerialized(n2, this.mirror)) {\n              return;\n            }\n            if (this.addedSet.has(n2)) {\n              deepDelete(this.addedSet, n2);\n              this.droppedSet.add(n2);\n            } else if (this.addedSet.has(m.target) && nodeId === -1) ;\n            else if (isAncestorRemoved(m.target, this.mirror)) ;\n            else if (this.movedSet.has(n2) && this.movedMap[moveKey(nodeId, parentId)]) {\n              deepDelete(this.movedSet, n2);\n            } else {\n              this.removes.push({\n                parentId,\n                id: nodeId,\n                isShadow: isShadowRoot(m.target) && isNativeShadowDom(m.target) ? true : void 0\n              });\n              processRemoves(n2, this.removesSubTreeCache);\n            }\n            this.mapRemoves.push(n2);\n          });\n          break;\n        }\n      }\n    });\n    __publicField(this, \"genAdds\", (n2, target) => {\n      if (this.processedNodeManager.inOtherBuffer(n2, this)) return;\n      if (this.addedSet.has(n2) || this.movedSet.has(n2)) return;\n      if (this.mirror.hasNode(n2)) {\n        if (isIgnored(n2, this.mirror, this.slimDOMOptions)) {\n          return;\n        }\n        this.movedSet.add(n2);\n        let targetId = null;\n        if (target && this.mirror.hasNode(target)) {\n          targetId = this.mirror.getId(target);\n        }\n        if (targetId && targetId !== -1) {\n          this.movedMap[moveKey(this.mirror.getId(n2), targetId)] = true;\n        }\n      } else {\n        this.addedSet.add(n2);\n        this.droppedSet.delete(n2);\n      }\n      if (!isBlocked(n2, this.blockClass, this.blockSelector, false)) {\n        index.childNodes(n2).forEach((childN) => this.genAdds(childN));\n        if (hasShadowRoot(n2)) {\n          index.childNodes(index.shadowRoot(n2)).forEach((childN) => {\n            this.processedNodeManager.add(childN, this);\n            this.genAdds(childN, n2);\n          });\n        }\n      }\n    });\n  }\n  init(options) {\n    [\n      \"mutationCb\",\n      \"blockClass\",\n      \"blockSelector\",\n      \"maskTextClass\",\n      \"maskTextSelector\",\n      \"inlineStylesheet\",\n      \"maskInputOptions\",\n      \"maskTextFn\",\n      \"maskInputFn\",\n      \"keepIframeSrcFn\",\n      \"recordCanvas\",\n      \"inlineImages\",\n      \"slimDOMOptions\",\n      \"dataURLOptions\",\n      \"doc\",\n      \"mirror\",\n      \"iframeManager\",\n      \"stylesheetManager\",\n      \"shadowDomManager\",\n      \"canvasManager\",\n      \"processedNodeManager\"\n    ].forEach((key) => {\n      this[key] = options[key];\n    });\n  }\n  freeze() {\n    this.frozen = true;\n    this.canvasManager.freeze();\n  }\n  unfreeze() {\n    this.frozen = false;\n    this.canvasManager.unfreeze();\n    this.emit();\n  }\n  isFrozen() {\n    return this.frozen;\n  }\n  lock() {\n    this.locked = true;\n    this.canvasManager.lock();\n  }\n  unlock() {\n    this.locked = false;\n    this.canvasManager.unlock();\n    this.emit();\n  }\n  reset() {\n    this.shadowDomManager.reset();\n    this.canvasManager.reset();\n  }\n}\nfunction deepDelete(addsSet, n2) {\n  addsSet.delete(n2);\n  index.childNodes(n2).forEach((childN) => deepDelete(addsSet, childN));\n}\nfunction processRemoves(n2, cache) {\n  const queue = [n2];\n  while (queue.length) {\n    const next = queue.pop();\n    if (cache.has(next)) continue;\n    cache.add(next);\n    index.childNodes(next).forEach((n22) => queue.push(n22));\n  }\n  return;\n}\nfunction isParentRemoved(removes, n2, mirror2) {\n  if (removes.size === 0) return false;\n  return _isParentRemoved(removes, n2);\n}\nfunction _isParentRemoved(removes, n2, _mirror2) {\n  const node2 = index.parentNode(n2);\n  if (!node2) return false;\n  return removes.has(node2);\n}\nfunction isAncestorInSet(set, n2) {\n  if (set.size === 0) return false;\n  return _isAncestorInSet(set, n2);\n}\nfunction _isAncestorInSet(set, n2) {\n  const parent = index.parentNode(n2);\n  if (!parent) {\n    return false;\n  }\n  if (set.has(parent)) {\n    return true;\n  }\n  return _isAncestorInSet(set, parent);\n}\nlet errorHandler;\nfunction registerErrorHandler(handler) {\n  errorHandler = handler;\n}\nfunction unregisterErrorHandler() {\n  errorHandler = void 0;\n}\nconst callbackWrapper = (cb) => {\n  if (!errorHandler) {\n    return cb;\n  }\n  const rrwebWrapped = (...rest) => {\n    try {\n      return cb(...rest);\n    } catch (error) {\n      if (errorHandler && errorHandler(error) === true) {\n        return;\n      }\n      throw error;\n    }\n  };\n  return rrwebWrapped;\n};\nconst mutationBuffers = [];\nfunction getEventTarget(event) {\n  try {\n    if (\"composedPath\" in event) {\n      const path = event.composedPath();\n      if (path.length) {\n        return path[0];\n      }\n    } else if (\"path\" in event && event.path.length) {\n      return event.path[0];\n    }\n  } catch {\n  }\n  return event && event.target;\n}\nfunction initMutationObserver(options, rootEl) {\n  const mutationBuffer = new MutationBuffer();\n  mutationBuffers.push(mutationBuffer);\n  mutationBuffer.init(options);\n  const observer = new (mutationObserverCtor())(\n    callbackWrapper(mutationBuffer.processMutations.bind(mutationBuffer))\n  );\n  observer.observe(rootEl, {\n    attributes: true,\n    attributeOldValue: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\nfunction initMoveObserver({\n  mousemoveCb,\n  sampling,\n  doc,\n  mirror: mirror2\n}) {\n  if (sampling.mousemove === false) {\n    return () => {\n    };\n  }\n  const threshold = typeof sampling.mousemove === \"number\" ? sampling.mousemove : 50;\n  const callbackThreshold = typeof sampling.mousemoveCallback === \"number\" ? sampling.mousemoveCallback : 500;\n  let positions = [];\n  let timeBaseline;\n  const wrappedCb = throttle(\n    callbackWrapper(\n      (source) => {\n        const totalOffset = Date.now() - timeBaseline;\n        mousemoveCb(\n          positions.map((p) => {\n            p.timeOffset -= totalOffset;\n            return p;\n          }),\n          source\n        );\n        positions = [];\n        timeBaseline = null;\n      }\n    ),\n    callbackThreshold\n  );\n  const updatePosition = callbackWrapper(\n    throttle(\n      callbackWrapper((evt) => {\n        const target = getEventTarget(evt);\n        const { clientX, clientY } = legacy_isTouchEvent(evt) ? evt.changedTouches[0] : evt;\n        if (!timeBaseline) {\n          timeBaseline = nowTimestamp();\n        }\n        positions.push({\n          x: clientX,\n          y: clientY,\n          id: mirror2.getId(target),\n          timeOffset: nowTimestamp() - timeBaseline\n        });\n        wrappedCb(\n          typeof DragEvent !== \"undefined\" && evt instanceof DragEvent ? IncrementalSource.Drag : evt instanceof MouseEvent ? IncrementalSource.MouseMove : IncrementalSource.TouchMove\n        );\n      }),\n      threshold,\n      {\n        trailing: false\n      }\n    )\n  );\n  const handlers = [\n    on(\"mousemove\", updatePosition, doc),\n    on(\"touchmove\", updatePosition, doc),\n    on(\"drag\", updatePosition, doc)\n  ];\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initMouseInteractionObserver({\n  mouseInteractionCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  sampling\n}) {\n  if (sampling.mouseInteraction === false) {\n    return () => {\n    };\n  }\n  const disableMap = sampling.mouseInteraction === true || sampling.mouseInteraction === void 0 ? {} : sampling.mouseInteraction;\n  const handlers = [];\n  let currentPointerType = null;\n  const getHandler = (eventKey) => {\n    return (event) => {\n      const target = getEventTarget(event);\n      if (isBlocked(target, blockClass, blockSelector, true)) {\n        return;\n      }\n      let pointerType = null;\n      let thisEventKey = eventKey;\n      if (\"pointerType\" in event) {\n        switch (event.pointerType) {\n          case \"mouse\":\n            pointerType = PointerTypes.Mouse;\n            break;\n          case \"touch\":\n            pointerType = PointerTypes.Touch;\n            break;\n          case \"pen\":\n            pointerType = PointerTypes.Pen;\n            break;\n        }\n        if (pointerType === PointerTypes.Touch) {\n          if (MouseInteractions[eventKey] === MouseInteractions.MouseDown) {\n            thisEventKey = \"TouchStart\";\n          } else if (MouseInteractions[eventKey] === MouseInteractions.MouseUp) {\n            thisEventKey = \"TouchEnd\";\n          }\n        } else if (pointerType === PointerTypes.Pen) ;\n      } else if (legacy_isTouchEvent(event)) {\n        pointerType = PointerTypes.Touch;\n      }\n      if (pointerType !== null) {\n        currentPointerType = pointerType;\n        if (thisEventKey.startsWith(\"Touch\") && pointerType === PointerTypes.Touch || thisEventKey.startsWith(\"Mouse\") && pointerType === PointerTypes.Mouse) {\n          pointerType = null;\n        }\n      } else if (MouseInteractions[eventKey] === MouseInteractions.Click) {\n        pointerType = currentPointerType;\n        currentPointerType = null;\n      }\n      const e2 = legacy_isTouchEvent(event) ? event.changedTouches[0] : event;\n      if (!e2) {\n        return;\n      }\n      const id = mirror2.getId(target);\n      const { clientX, clientY } = e2;\n      callbackWrapper(mouseInteractionCb)({\n        type: MouseInteractions[thisEventKey],\n        id,\n        x: clientX,\n        y: clientY,\n        ...pointerType !== null && { pointerType }\n      });\n    };\n  };\n  Object.keys(MouseInteractions).filter(\n    (key) => Number.isNaN(Number(key)) && !key.endsWith(\"_Departed\") && disableMap[key] !== false\n  ).forEach((eventKey) => {\n    let eventName = toLowerCase(eventKey);\n    const handler = getHandler(eventKey);\n    if (window.PointerEvent) {\n      switch (MouseInteractions[eventKey]) {\n        case MouseInteractions.MouseDown:\n        case MouseInteractions.MouseUp:\n          eventName = eventName.replace(\n            \"mouse\",\n            \"pointer\"\n          );\n          break;\n        case MouseInteractions.TouchStart:\n        case MouseInteractions.TouchEnd:\n          return;\n      }\n    }\n    handlers.push(on(eventName, handler, doc));\n  });\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initScrollObserver({\n  scrollCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  sampling\n}) {\n  const updatePosition = callbackWrapper(\n    throttle(\n      callbackWrapper((evt) => {\n        const target = getEventTarget(evt);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const id = mirror2.getId(target);\n        if (target === doc && doc.defaultView) {\n          const scrollLeftTop = getWindowScroll(doc.defaultView);\n          scrollCb({\n            id,\n            x: scrollLeftTop.left,\n            y: scrollLeftTop.top\n          });\n        } else {\n          scrollCb({\n            id,\n            x: target.scrollLeft,\n            y: target.scrollTop\n          });\n        }\n      }),\n      sampling.scroll || 100\n    )\n  );\n  return on(\"scroll\", updatePosition, doc);\n}\nfunction initViewportResizeObserver({ viewportResizeCb }, { win }) {\n  let lastH = -1;\n  let lastW = -1;\n  const updateDimension = callbackWrapper(\n    throttle(\n      callbackWrapper(() => {\n        const height = getWindowHeight();\n        const width = getWindowWidth();\n        if (lastH !== height || lastW !== width) {\n          viewportResizeCb({\n            width: Number(width),\n            height: Number(height)\n          });\n          lastH = height;\n          lastW = width;\n        }\n      }),\n      200\n    )\n  );\n  return on(\"resize\", updateDimension, win);\n}\nconst INPUT_TAGS = [\"INPUT\", \"TEXTAREA\", \"SELECT\"];\nconst lastInputValueMap = /* @__PURE__ */ new WeakMap();\nfunction initInputObserver({\n  inputCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  ignoreClass,\n  ignoreSelector,\n  maskInputOptions,\n  maskInputFn,\n  sampling,\n  userTriggeredOnInput\n}) {\n  function eventHandler(event) {\n    let target = getEventTarget(event);\n    const userTriggered = event.isTrusted;\n    const tagName = target && target.tagName;\n    if (target && tagName === \"OPTION\") {\n      target = index.parentElement(target);\n    }\n    if (!target || !tagName || INPUT_TAGS.indexOf(tagName) < 0 || isBlocked(target, blockClass, blockSelector, true)) {\n      return;\n    }\n    if (target.classList.contains(ignoreClass) || ignoreSelector && target.matches(ignoreSelector)) {\n      return;\n    }\n    let text = target.value;\n    let isChecked = false;\n    const type = getInputType(target) || \"\";\n    if (type === \"radio\" || type === \"checkbox\") {\n      isChecked = target.checked;\n    } else if (maskInputOptions[tagName.toLowerCase()] || maskInputOptions[type]) {\n      text = maskInputValue({\n        element: target,\n        maskInputOptions,\n        tagName,\n        type,\n        value: text,\n        maskInputFn\n      });\n    }\n    cbWithDedup(\n      target,\n      userTriggeredOnInput ? { text, isChecked, userTriggered } : { text, isChecked }\n    );\n    const name = target.name;\n    if (type === \"radio\" && name && isChecked) {\n      doc.querySelectorAll(`input[type=\"radio\"][name=\"${name}\"]`).forEach((el) => {\n        if (el !== target) {\n          const text2 = el.value;\n          cbWithDedup(\n            el,\n            userTriggeredOnInput ? { text: text2, isChecked: !isChecked, userTriggered: false } : { text: text2, isChecked: !isChecked }\n          );\n        }\n      });\n    }\n  }\n  function cbWithDedup(target, v2) {\n    const lastInputValue = lastInputValueMap.get(target);\n    if (!lastInputValue || lastInputValue.text !== v2.text || lastInputValue.isChecked !== v2.isChecked) {\n      lastInputValueMap.set(target, v2);\n      const id = mirror2.getId(target);\n      callbackWrapper(inputCb)({\n        ...v2,\n        id\n      });\n    }\n  }\n  const events = sampling.input === \"last\" ? [\"change\"] : [\"input\", \"change\"];\n  const handlers = events.map(\n    (eventName) => on(eventName, callbackWrapper(eventHandler), doc)\n  );\n  const currentWindow = doc.defaultView;\n  if (!currentWindow) {\n    return () => {\n      handlers.forEach((h) => h());\n    };\n  }\n  const propertyDescriptor = currentWindow.Object.getOwnPropertyDescriptor(\n    currentWindow.HTMLInputElement.prototype,\n    \"value\"\n  );\n  const hookProperties = [\n    [currentWindow.HTMLInputElement.prototype, \"value\"],\n    [currentWindow.HTMLInputElement.prototype, \"checked\"],\n    [currentWindow.HTMLSelectElement.prototype, \"value\"],\n    [currentWindow.HTMLTextAreaElement.prototype, \"value\"],\n    // Some UI library use selectedIndex to set select value\n    [currentWindow.HTMLSelectElement.prototype, \"selectedIndex\"],\n    [currentWindow.HTMLOptionElement.prototype, \"selected\"]\n  ];\n  if (propertyDescriptor && propertyDescriptor.set) {\n    handlers.push(\n      ...hookProperties.map(\n        (p) => hookSetter(\n          p[0],\n          p[1],\n          {\n            set() {\n              callbackWrapper(eventHandler)({\n                target: this,\n                isTrusted: false\n                // userTriggered to false as this could well be programmatic\n              });\n            }\n          },\n          false,\n          currentWindow\n        )\n      )\n    );\n  }\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction getNestedCSSRulePositions(rule2) {\n  const positions = [];\n  function recurse(childRule, pos) {\n    if (hasNestedCSSRule(\"CSSGroupingRule\") && childRule.parentRule instanceof CSSGroupingRule || hasNestedCSSRule(\"CSSMediaRule\") && childRule.parentRule instanceof CSSMediaRule || hasNestedCSSRule(\"CSSSupportsRule\") && childRule.parentRule instanceof CSSSupportsRule || hasNestedCSSRule(\"CSSConditionRule\") && childRule.parentRule instanceof CSSConditionRule) {\n      const rules2 = Array.from(\n        childRule.parentRule.cssRules\n      );\n      const index2 = rules2.indexOf(childRule);\n      pos.unshift(index2);\n    } else if (childRule.parentStyleSheet) {\n      const rules2 = Array.from(childRule.parentStyleSheet.cssRules);\n      const index2 = rules2.indexOf(childRule);\n      pos.unshift(index2);\n    }\n    return pos;\n  }\n  return recurse(rule2, positions);\n}\nfunction getIdAndStyleId(sheet, mirror2, styleMirror) {\n  let id, styleId;\n  if (!sheet) return {};\n  if (sheet.ownerNode) id = mirror2.getId(sheet.ownerNode);\n  else styleId = styleMirror.getId(sheet);\n  return {\n    styleId,\n    id\n  };\n}\nfunction initStyleSheetObserver({ styleSheetRuleCb, mirror: mirror2, stylesheetManager }, { win }) {\n  if (!win.CSSStyleSheet || !win.CSSStyleSheet.prototype) {\n    return () => {\n    };\n  }\n  const insertRule = win.CSSStyleSheet.prototype.insertRule;\n  win.CSSStyleSheet.prototype.insertRule = new Proxy(insertRule, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        const [rule2, index2] = argumentsList;\n        const { id, styleId } = getIdAndStyleId(\n          thisArg,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            adds: [{ rule: rule2, index: index2 }]\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  win.CSSStyleSheet.prototype.addRule = function(selector, styleBlock, index2 = this.cssRules.length) {\n    const rule2 = `${selector} { ${styleBlock} }`;\n    return win.CSSStyleSheet.prototype.insertRule.apply(this, [rule2, index2]);\n  };\n  const deleteRule = win.CSSStyleSheet.prototype.deleteRule;\n  win.CSSStyleSheet.prototype.deleteRule = new Proxy(deleteRule, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        const [index2] = argumentsList;\n        const { id, styleId } = getIdAndStyleId(\n          thisArg,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            removes: [{ index: index2 }]\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  win.CSSStyleSheet.prototype.removeRule = function(index2) {\n    return win.CSSStyleSheet.prototype.deleteRule.apply(this, [index2]);\n  };\n  let replace;\n  if (win.CSSStyleSheet.prototype.replace) {\n    replace = win.CSSStyleSheet.prototype.replace;\n    win.CSSStyleSheet.prototype.replace = new Proxy(replace, {\n      apply: callbackWrapper(\n        (target, thisArg, argumentsList) => {\n          const [text] = argumentsList;\n          const { id, styleId } = getIdAndStyleId(\n            thisArg,\n            mirror2,\n            stylesheetManager.styleMirror\n          );\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replace: text\n            });\n          }\n          return target.apply(thisArg, argumentsList);\n        }\n      )\n    });\n  }\n  let replaceSync;\n  if (win.CSSStyleSheet.prototype.replaceSync) {\n    replaceSync = win.CSSStyleSheet.prototype.replaceSync;\n    win.CSSStyleSheet.prototype.replaceSync = new Proxy(replaceSync, {\n      apply: callbackWrapper(\n        (target, thisArg, argumentsList) => {\n          const [text] = argumentsList;\n          const { id, styleId } = getIdAndStyleId(\n            thisArg,\n            mirror2,\n            stylesheetManager.styleMirror\n          );\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replaceSync: text\n            });\n          }\n          return target.apply(thisArg, argumentsList);\n        }\n      )\n    });\n  }\n  const supportedNestedCSSRuleTypes = {};\n  if (canMonkeyPatchNestedCSSRule(\"CSSGroupingRule\")) {\n    supportedNestedCSSRuleTypes.CSSGroupingRule = win.CSSGroupingRule;\n  } else {\n    if (canMonkeyPatchNestedCSSRule(\"CSSMediaRule\")) {\n      supportedNestedCSSRuleTypes.CSSMediaRule = win.CSSMediaRule;\n    }\n    if (canMonkeyPatchNestedCSSRule(\"CSSConditionRule\")) {\n      supportedNestedCSSRuleTypes.CSSConditionRule = win.CSSConditionRule;\n    }\n    if (canMonkeyPatchNestedCSSRule(\"CSSSupportsRule\")) {\n      supportedNestedCSSRuleTypes.CSSSupportsRule = win.CSSSupportsRule;\n    }\n  }\n  const unmodifiedFunctions = {};\n  Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n    unmodifiedFunctions[typeKey] = {\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      insertRule: type.prototype.insertRule,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      deleteRule: type.prototype.deleteRule\n    };\n    type.prototype.insertRule = new Proxy(\n      unmodifiedFunctions[typeKey].insertRule,\n      {\n        apply: callbackWrapper(\n          (target, thisArg, argumentsList) => {\n            const [rule2, index2] = argumentsList;\n            const { id, styleId } = getIdAndStyleId(\n              thisArg.parentStyleSheet,\n              mirror2,\n              stylesheetManager.styleMirror\n            );\n            if (id && id !== -1 || styleId && styleId !== -1) {\n              styleSheetRuleCb({\n                id,\n                styleId,\n                adds: [\n                  {\n                    rule: rule2,\n                    index: [\n                      ...getNestedCSSRulePositions(thisArg),\n                      index2 || 0\n                      // defaults to 0\n                    ]\n                  }\n                ]\n              });\n            }\n            return target.apply(thisArg, argumentsList);\n          }\n        )\n      }\n    );\n    type.prototype.deleteRule = new Proxy(\n      unmodifiedFunctions[typeKey].deleteRule,\n      {\n        apply: callbackWrapper(\n          (target, thisArg, argumentsList) => {\n            const [index2] = argumentsList;\n            const { id, styleId } = getIdAndStyleId(\n              thisArg.parentStyleSheet,\n              mirror2,\n              stylesheetManager.styleMirror\n            );\n            if (id && id !== -1 || styleId && styleId !== -1) {\n              styleSheetRuleCb({\n                id,\n                styleId,\n                removes: [\n                  { index: [...getNestedCSSRulePositions(thisArg), index2] }\n                ]\n              });\n            }\n            return target.apply(thisArg, argumentsList);\n          }\n        )\n      }\n    );\n  });\n  return callbackWrapper(() => {\n    win.CSSStyleSheet.prototype.insertRule = insertRule;\n    win.CSSStyleSheet.prototype.deleteRule = deleteRule;\n    replace && (win.CSSStyleSheet.prototype.replace = replace);\n    replaceSync && (win.CSSStyleSheet.prototype.replaceSync = replaceSync);\n    Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n      type.prototype.insertRule = unmodifiedFunctions[typeKey].insertRule;\n      type.prototype.deleteRule = unmodifiedFunctions[typeKey].deleteRule;\n    });\n  });\n}\nfunction initAdoptedStyleSheetObserver({\n  mirror: mirror2,\n  stylesheetManager\n}, host2) {\n  var _a2, _b, _c;\n  let hostId = null;\n  if (host2.nodeName === \"#document\") hostId = mirror2.getId(host2);\n  else hostId = mirror2.getId(index.host(host2));\n  const patchTarget = host2.nodeName === \"#document\" ? (_a2 = host2.defaultView) == null ? void 0 : _a2.Document : (_c = (_b = host2.ownerDocument) == null ? void 0 : _b.defaultView) == null ? void 0 : _c.ShadowRoot;\n  const originalPropertyDescriptor = (patchTarget == null ? void 0 : patchTarget.prototype) ? Object.getOwnPropertyDescriptor(\n    patchTarget == null ? void 0 : patchTarget.prototype,\n    \"adoptedStyleSheets\"\n  ) : void 0;\n  if (hostId === null || hostId === -1 || !patchTarget || !originalPropertyDescriptor)\n    return () => {\n    };\n  Object.defineProperty(host2, \"adoptedStyleSheets\", {\n    configurable: originalPropertyDescriptor.configurable,\n    enumerable: originalPropertyDescriptor.enumerable,\n    get() {\n      var _a3;\n      return (_a3 = originalPropertyDescriptor.get) == null ? void 0 : _a3.call(this);\n    },\n    set(sheets) {\n      var _a3;\n      const result2 = (_a3 = originalPropertyDescriptor.set) == null ? void 0 : _a3.call(this, sheets);\n      if (hostId !== null && hostId !== -1) {\n        try {\n          stylesheetManager.adoptStyleSheets(sheets, hostId);\n        } catch (e2) {\n        }\n      }\n      return result2;\n    }\n  });\n  return callbackWrapper(() => {\n    Object.defineProperty(host2, \"adoptedStyleSheets\", {\n      configurable: originalPropertyDescriptor.configurable,\n      enumerable: originalPropertyDescriptor.enumerable,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      get: originalPropertyDescriptor.get,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      set: originalPropertyDescriptor.set\n    });\n  });\n}\nfunction initStyleDeclarationObserver({\n  styleDeclarationCb,\n  mirror: mirror2,\n  ignoreCSSAttributes,\n  stylesheetManager\n}, { win }) {\n  const setProperty = win.CSSStyleDeclaration.prototype.setProperty;\n  win.CSSStyleDeclaration.prototype.setProperty = new Proxy(setProperty, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        var _a2;\n        const [property, value, priority] = argumentsList;\n        if (ignoreCSSAttributes.has(property)) {\n          return setProperty.apply(thisArg, [property, value, priority]);\n        }\n        const { id, styleId } = getIdAndStyleId(\n          (_a2 = thisArg.parentRule) == null ? void 0 : _a2.parentStyleSheet,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            set: {\n              property,\n              value,\n              priority\n            },\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            index: getNestedCSSRulePositions(thisArg.parentRule)\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  const removeProperty = win.CSSStyleDeclaration.prototype.removeProperty;\n  win.CSSStyleDeclaration.prototype.removeProperty = new Proxy(removeProperty, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        var _a2;\n        const [property] = argumentsList;\n        if (ignoreCSSAttributes.has(property)) {\n          return removeProperty.apply(thisArg, [property]);\n        }\n        const { id, styleId } = getIdAndStyleId(\n          (_a2 = thisArg.parentRule) == null ? void 0 : _a2.parentStyleSheet,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            remove: {\n              property\n            },\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            index: getNestedCSSRulePositions(thisArg.parentRule)\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  return callbackWrapper(() => {\n    win.CSSStyleDeclaration.prototype.setProperty = setProperty;\n    win.CSSStyleDeclaration.prototype.removeProperty = removeProperty;\n  });\n}\nfunction initMediaInteractionObserver({\n  mediaInteractionCb,\n  blockClass,\n  blockSelector,\n  mirror: mirror2,\n  sampling,\n  doc\n}) {\n  const handler = callbackWrapper(\n    (type) => throttle(\n      callbackWrapper((event) => {\n        const target = getEventTarget(event);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const { currentTime, volume, muted, playbackRate, loop } = target;\n        mediaInteractionCb({\n          type,\n          id: mirror2.getId(target),\n          currentTime,\n          volume,\n          muted,\n          playbackRate,\n          loop\n        });\n      }),\n      sampling.media || 500\n    )\n  );\n  const handlers = [\n    on(\"play\", handler(MediaInteractions.Play), doc),\n    on(\"pause\", handler(MediaInteractions.Pause), doc),\n    on(\"seeked\", handler(MediaInteractions.Seeked), doc),\n    on(\"volumechange\", handler(MediaInteractions.VolumeChange), doc),\n    on(\"ratechange\", handler(MediaInteractions.RateChange), doc)\n  ];\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initFontObserver({ fontCb, doc }) {\n  const win = doc.defaultView;\n  if (!win) {\n    return () => {\n    };\n  }\n  const handlers = [];\n  const fontMap = /* @__PURE__ */ new WeakMap();\n  const originalFontFace = win.FontFace;\n  win.FontFace = function FontFace2(family, source, descriptors) {\n    const fontFace = new originalFontFace(family, source, descriptors);\n    fontMap.set(fontFace, {\n      family,\n      buffer: typeof source !== \"string\",\n      descriptors,\n      fontSource: typeof source === \"string\" ? source : JSON.stringify(Array.from(new Uint8Array(source)))\n    });\n    return fontFace;\n  };\n  const restoreHandler = patch(\n    doc.fonts,\n    \"add\",\n    function(original) {\n      return function(fontFace) {\n        setTimeout(\n          callbackWrapper(() => {\n            const p = fontMap.get(fontFace);\n            if (p) {\n              fontCb(p);\n              fontMap.delete(fontFace);\n            }\n          }),\n          0\n        );\n        return original.apply(this, [fontFace]);\n      };\n    }\n  );\n  handlers.push(() => {\n    win.FontFace = originalFontFace;\n  });\n  handlers.push(restoreHandler);\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initSelectionObserver(param) {\n  const { doc, mirror: mirror2, blockClass, blockSelector, selectionCb } = param;\n  let collapsed = true;\n  const updateSelection = callbackWrapper(() => {\n    const selection = doc.getSelection();\n    if (!selection || collapsed && (selection == null ? void 0 : selection.isCollapsed)) return;\n    collapsed = selection.isCollapsed || false;\n    const ranges = [];\n    const count = selection.rangeCount || 0;\n    for (let i2 = 0; i2 < count; i2++) {\n      const range = selection.getRangeAt(i2);\n      const { startContainer, startOffset, endContainer, endOffset } = range;\n      const blocked = isBlocked(startContainer, blockClass, blockSelector, true) || isBlocked(endContainer, blockClass, blockSelector, true);\n      if (blocked) continue;\n      ranges.push({\n        start: mirror2.getId(startContainer),\n        startOffset,\n        end: mirror2.getId(endContainer),\n        endOffset\n      });\n    }\n    selectionCb({ ranges });\n  });\n  updateSelection();\n  return on(\"selectionchange\", updateSelection);\n}\nfunction initCustomElementObserver({\n  doc,\n  customElementCb\n}) {\n  const win = doc.defaultView;\n  if (!win || !win.customElements) return () => {\n  };\n  const restoreHandler = patch(\n    win.customElements,\n    \"define\",\n    function(original) {\n      return function(name, constructor, options) {\n        try {\n          customElementCb({\n            define: {\n              name\n            }\n          });\n        } catch (e2) {\n          console.warn(`Custom element callback failed for ${name}`);\n        }\n        return original.apply(this, [name, constructor, options]);\n      };\n    }\n  );\n  return restoreHandler;\n}\nfunction mergeHooks(o2, hooks) {\n  const {\n    mutationCb,\n    mousemoveCb,\n    mouseInteractionCb,\n    scrollCb,\n    viewportResizeCb,\n    inputCb,\n    mediaInteractionCb,\n    styleSheetRuleCb,\n    styleDeclarationCb,\n    canvasMutationCb,\n    fontCb,\n    selectionCb,\n    customElementCb\n  } = o2;\n  o2.mutationCb = (...p) => {\n    if (hooks.mutation) {\n      hooks.mutation(...p);\n    }\n    mutationCb(...p);\n  };\n  o2.mousemoveCb = (...p) => {\n    if (hooks.mousemove) {\n      hooks.mousemove(...p);\n    }\n    mousemoveCb(...p);\n  };\n  o2.mouseInteractionCb = (...p) => {\n    if (hooks.mouseInteraction) {\n      hooks.mouseInteraction(...p);\n    }\n    mouseInteractionCb(...p);\n  };\n  o2.scrollCb = (...p) => {\n    if (hooks.scroll) {\n      hooks.scroll(...p);\n    }\n    scrollCb(...p);\n  };\n  o2.viewportResizeCb = (...p) => {\n    if (hooks.viewportResize) {\n      hooks.viewportResize(...p);\n    }\n    viewportResizeCb(...p);\n  };\n  o2.inputCb = (...p) => {\n    if (hooks.input) {\n      hooks.input(...p);\n    }\n    inputCb(...p);\n  };\n  o2.mediaInteractionCb = (...p) => {\n    if (hooks.mediaInteaction) {\n      hooks.mediaInteaction(...p);\n    }\n    mediaInteractionCb(...p);\n  };\n  o2.styleSheetRuleCb = (...p) => {\n    if (hooks.styleSheetRule) {\n      hooks.styleSheetRule(...p);\n    }\n    styleSheetRuleCb(...p);\n  };\n  o2.styleDeclarationCb = (...p) => {\n    if (hooks.styleDeclaration) {\n      hooks.styleDeclaration(...p);\n    }\n    styleDeclarationCb(...p);\n  };\n  o2.canvasMutationCb = (...p) => {\n    if (hooks.canvasMutation) {\n      hooks.canvasMutation(...p);\n    }\n    canvasMutationCb(...p);\n  };\n  o2.fontCb = (...p) => {\n    if (hooks.font) {\n      hooks.font(...p);\n    }\n    fontCb(...p);\n  };\n  o2.selectionCb = (...p) => {\n    if (hooks.selection) {\n      hooks.selection(...p);\n    }\n    selectionCb(...p);\n  };\n  o2.customElementCb = (...c2) => {\n    if (hooks.customElement) {\n      hooks.customElement(...c2);\n    }\n    customElementCb(...c2);\n  };\n}\nfunction initObservers(o2, hooks = {}) {\n  const currentWindow = o2.doc.defaultView;\n  if (!currentWindow) {\n    return () => {\n    };\n  }\n  mergeHooks(o2, hooks);\n  let mutationObserver;\n  if (o2.recordDOM) {\n    mutationObserver = initMutationObserver(o2, o2.doc);\n  }\n  const mousemoveHandler = initMoveObserver(o2);\n  const mouseInteractionHandler = initMouseInteractionObserver(o2);\n  const scrollHandler = initScrollObserver(o2);\n  const viewportResizeHandler = initViewportResizeObserver(o2, {\n    win: currentWindow\n  });\n  const inputHandler = initInputObserver(o2);\n  const mediaInteractionHandler = initMediaInteractionObserver(o2);\n  let styleSheetObserver = () => {\n  };\n  let adoptedStyleSheetObserver = () => {\n  };\n  let styleDeclarationObserver = () => {\n  };\n  let fontObserver = () => {\n  };\n  if (o2.recordDOM) {\n    styleSheetObserver = initStyleSheetObserver(o2, { win: currentWindow });\n    adoptedStyleSheetObserver = initAdoptedStyleSheetObserver(o2, o2.doc);\n    styleDeclarationObserver = initStyleDeclarationObserver(o2, {\n      win: currentWindow\n    });\n    if (o2.collectFonts) {\n      fontObserver = initFontObserver(o2);\n    }\n  }\n  const selectionObserver = initSelectionObserver(o2);\n  const customElementObserver = initCustomElementObserver(o2);\n  const pluginHandlers = [];\n  for (const plugin3 of o2.plugins) {\n    pluginHandlers.push(\n      plugin3.observer(plugin3.callback, currentWindow, plugin3.options)\n    );\n  }\n  return callbackWrapper(() => {\n    mutationBuffers.forEach((b) => b.reset());\n    mutationObserver == null ? void 0 : mutationObserver.disconnect();\n    mousemoveHandler();\n    mouseInteractionHandler();\n    scrollHandler();\n    viewportResizeHandler();\n    inputHandler();\n    mediaInteractionHandler();\n    styleSheetObserver();\n    adoptedStyleSheetObserver();\n    styleDeclarationObserver();\n    fontObserver();\n    selectionObserver();\n    customElementObserver();\n    pluginHandlers.forEach((h) => h());\n  });\n}\nfunction hasNestedCSSRule(prop) {\n  return typeof window[prop] !== \"undefined\";\n}\nfunction canMonkeyPatchNestedCSSRule(prop) {\n  return Boolean(\n    typeof window[prop] !== \"undefined\" && // Note: Generally, this check _shouldn't_ be necessary\n    // However, in some scenarios (e.g. jsdom) this can sometimes fail, so we check for it here\n    window[prop].prototype && \"insertRule\" in window[prop].prototype && \"deleteRule\" in window[prop].prototype\n  );\n}\nclass CrossOriginIframeMirror {\n  constructor(generateIdFn) {\n    __publicField(this, \"iframeIdToRemoteIdMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"iframeRemoteIdToIdMap\", /* @__PURE__ */ new WeakMap());\n    this.generateIdFn = generateIdFn;\n  }\n  getId(iframe, remoteId, idToRemoteMap, remoteToIdMap) {\n    const idToRemoteIdMap = idToRemoteMap || this.getIdToRemoteIdMap(iframe);\n    const remoteIdToIdMap = remoteToIdMap || this.getRemoteIdToIdMap(iframe);\n    let id = idToRemoteIdMap.get(remoteId);\n    if (!id) {\n      id = this.generateIdFn();\n      idToRemoteIdMap.set(remoteId, id);\n      remoteIdToIdMap.set(id, remoteId);\n    }\n    return id;\n  }\n  getIds(iframe, remoteId) {\n    const idToRemoteIdMap = this.getIdToRemoteIdMap(iframe);\n    const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n    return remoteId.map(\n      (id) => this.getId(iframe, id, idToRemoteIdMap, remoteIdToIdMap)\n    );\n  }\n  getRemoteId(iframe, id, map) {\n    const remoteIdToIdMap = map || this.getRemoteIdToIdMap(iframe);\n    if (typeof id !== \"number\") return id;\n    const remoteId = remoteIdToIdMap.get(id);\n    if (!remoteId) return -1;\n    return remoteId;\n  }\n  getRemoteIds(iframe, ids) {\n    const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n    return ids.map((id) => this.getRemoteId(iframe, id, remoteIdToIdMap));\n  }\n  reset(iframe) {\n    if (!iframe) {\n      this.iframeIdToRemoteIdMap = /* @__PURE__ */ new WeakMap();\n      this.iframeRemoteIdToIdMap = /* @__PURE__ */ new WeakMap();\n      return;\n    }\n    this.iframeIdToRemoteIdMap.delete(iframe);\n    this.iframeRemoteIdToIdMap.delete(iframe);\n  }\n  getIdToRemoteIdMap(iframe) {\n    let idToRemoteIdMap = this.iframeIdToRemoteIdMap.get(iframe);\n    if (!idToRemoteIdMap) {\n      idToRemoteIdMap = /* @__PURE__ */ new Map();\n      this.iframeIdToRemoteIdMap.set(iframe, idToRemoteIdMap);\n    }\n    return idToRemoteIdMap;\n  }\n  getRemoteIdToIdMap(iframe) {\n    let remoteIdToIdMap = this.iframeRemoteIdToIdMap.get(iframe);\n    if (!remoteIdToIdMap) {\n      remoteIdToIdMap = /* @__PURE__ */ new Map();\n      this.iframeRemoteIdToIdMap.set(iframe, remoteIdToIdMap);\n    }\n    return remoteIdToIdMap;\n  }\n}\nclass IframeManager {\n  constructor(options) {\n    __publicField(this, \"iframes\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"crossOriginIframeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"crossOriginIframeMirror\", new CrossOriginIframeMirror(genId));\n    __publicField(this, \"crossOriginIframeStyleMirror\");\n    __publicField(this, \"crossOriginIframeRootIdMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"mirror\");\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"wrappedEmit\");\n    __publicField(this, \"loadListener\");\n    __publicField(this, \"stylesheetManager\");\n    __publicField(this, \"recordCrossOriginIframes\");\n    this.mutationCb = options.mutationCb;\n    this.wrappedEmit = options.wrappedEmit;\n    this.stylesheetManager = options.stylesheetManager;\n    this.recordCrossOriginIframes = options.recordCrossOriginIframes;\n    this.crossOriginIframeStyleMirror = new CrossOriginIframeMirror(\n      this.stylesheetManager.styleMirror.generateId.bind(\n        this.stylesheetManager.styleMirror\n      )\n    );\n    this.mirror = options.mirror;\n    if (this.recordCrossOriginIframes) {\n      window.addEventListener(\"message\", this.handleMessage.bind(this));\n    }\n  }\n  addIframe(iframeEl) {\n    this.iframes.set(iframeEl, true);\n    if (iframeEl.contentWindow)\n      this.crossOriginIframeMap.set(iframeEl.contentWindow, iframeEl);\n  }\n  addLoadListener(cb) {\n    this.loadListener = cb;\n  }\n  attachIframe(iframeEl, childSn) {\n    var _a2, _b;\n    this.mutationCb({\n      adds: [\n        {\n          parentId: this.mirror.getId(iframeEl),\n          nextId: null,\n          node: childSn\n        }\n      ],\n      removes: [],\n      texts: [],\n      attributes: [],\n      isAttachIframe: true\n    });\n    if (this.recordCrossOriginIframes)\n      (_a2 = iframeEl.contentWindow) == null ? void 0 : _a2.addEventListener(\n        \"message\",\n        this.handleMessage.bind(this)\n      );\n    (_b = this.loadListener) == null ? void 0 : _b.call(this, iframeEl);\n    if (iframeEl.contentDocument && iframeEl.contentDocument.adoptedStyleSheets && iframeEl.contentDocument.adoptedStyleSheets.length > 0)\n      this.stylesheetManager.adoptStyleSheets(\n        iframeEl.contentDocument.adoptedStyleSheets,\n        this.mirror.getId(iframeEl.contentDocument)\n      );\n  }\n  handleMessage(message) {\n    const crossOriginMessageEvent = message;\n    if (crossOriginMessageEvent.data.type !== \"rrweb\" || // To filter out the rrweb messages which are forwarded by some sites.\n    crossOriginMessageEvent.origin !== crossOriginMessageEvent.data.origin)\n      return;\n    const iframeSourceWindow = message.source;\n    if (!iframeSourceWindow) return;\n    const iframeEl = this.crossOriginIframeMap.get(message.source);\n    if (!iframeEl) return;\n    const transformedEvent = this.transformCrossOriginEvent(\n      iframeEl,\n      crossOriginMessageEvent.data.event\n    );\n    if (transformedEvent)\n      this.wrappedEmit(\n        transformedEvent,\n        crossOriginMessageEvent.data.isCheckout\n      );\n  }\n  transformCrossOriginEvent(iframeEl, e2) {\n    var _a2;\n    switch (e2.type) {\n      case EventType.FullSnapshot: {\n        this.crossOriginIframeMirror.reset(iframeEl);\n        this.crossOriginIframeStyleMirror.reset(iframeEl);\n        this.replaceIdOnNode(e2.data.node, iframeEl);\n        const rootId = e2.data.node.id;\n        this.crossOriginIframeRootIdMap.set(iframeEl, rootId);\n        this.patchRootIdOnNode(e2.data.node, rootId);\n        return {\n          timestamp: e2.timestamp,\n          type: EventType.IncrementalSnapshot,\n          data: {\n            source: IncrementalSource.Mutation,\n            adds: [\n              {\n                parentId: this.mirror.getId(iframeEl),\n                nextId: null,\n                node: e2.data.node\n              }\n            ],\n            removes: [],\n            texts: [],\n            attributes: [],\n            isAttachIframe: true\n          }\n        };\n      }\n      case EventType.Meta:\n      case EventType.Load:\n      case EventType.DomContentLoaded: {\n        return false;\n      }\n      case EventType.Plugin: {\n        return e2;\n      }\n      case EventType.Custom: {\n        this.replaceIds(\n          e2.data.payload,\n          iframeEl,\n          [\"id\", \"parentId\", \"previousId\", \"nextId\"]\n        );\n        return e2;\n      }\n      case EventType.IncrementalSnapshot: {\n        switch (e2.data.source) {\n          case IncrementalSource.Mutation: {\n            e2.data.adds.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\n                \"parentId\",\n                \"nextId\",\n                \"previousId\"\n              ]);\n              this.replaceIdOnNode(n2.node, iframeEl);\n              const rootId = this.crossOriginIframeRootIdMap.get(iframeEl);\n              rootId && this.patchRootIdOnNode(n2.node, rootId);\n            });\n            e2.data.removes.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"parentId\", \"id\"]);\n            });\n            e2.data.attributes.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"id\"]);\n            });\n            e2.data.texts.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"id\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.Drag:\n          case IncrementalSource.TouchMove:\n          case IncrementalSource.MouseMove: {\n            e2.data.positions.forEach((p) => {\n              this.replaceIds(p, iframeEl, [\"id\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.ViewportResize: {\n            return false;\n          }\n          case IncrementalSource.MediaInteraction:\n          case IncrementalSource.MouseInteraction:\n          case IncrementalSource.Scroll:\n          case IncrementalSource.CanvasMutation:\n          case IncrementalSource.Input: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            return e2;\n          }\n          case IncrementalSource.StyleSheetRule:\n          case IncrementalSource.StyleDeclaration: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            this.replaceStyleIds(e2.data, iframeEl, [\"styleId\"]);\n            return e2;\n          }\n          case IncrementalSource.Font: {\n            return e2;\n          }\n          case IncrementalSource.Selection: {\n            e2.data.ranges.forEach((range) => {\n              this.replaceIds(range, iframeEl, [\"start\", \"end\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.AdoptedStyleSheet: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            this.replaceStyleIds(e2.data, iframeEl, [\"styleIds\"]);\n            (_a2 = e2.data.styles) == null ? void 0 : _a2.forEach((style) => {\n              this.replaceStyleIds(style, iframeEl, [\"styleId\"]);\n            });\n            return e2;\n          }\n        }\n      }\n    }\n    return false;\n  }\n  replace(iframeMirror, obj, iframeEl, keys) {\n    for (const key of keys) {\n      if (!Array.isArray(obj[key]) && typeof obj[key] !== \"number\") continue;\n      if (Array.isArray(obj[key])) {\n        obj[key] = iframeMirror.getIds(\n          iframeEl,\n          obj[key]\n        );\n      } else {\n        obj[key] = iframeMirror.getId(iframeEl, obj[key]);\n      }\n    }\n    return obj;\n  }\n  replaceIds(obj, iframeEl, keys) {\n    return this.replace(this.crossOriginIframeMirror, obj, iframeEl, keys);\n  }\n  replaceStyleIds(obj, iframeEl, keys) {\n    return this.replace(this.crossOriginIframeStyleMirror, obj, iframeEl, keys);\n  }\n  replaceIdOnNode(node2, iframeEl) {\n    this.replaceIds(node2, iframeEl, [\"id\", \"rootId\"]);\n    if (\"childNodes\" in node2) {\n      node2.childNodes.forEach((child) => {\n        this.replaceIdOnNode(child, iframeEl);\n      });\n    }\n  }\n  patchRootIdOnNode(node2, rootId) {\n    if (node2.type !== NodeType.Document && !node2.rootId) node2.rootId = rootId;\n    if (\"childNodes\" in node2) {\n      node2.childNodes.forEach((child) => {\n        this.patchRootIdOnNode(child, rootId);\n      });\n    }\n  }\n}\nclass ShadowDomManager {\n  constructor(options) {\n    __publicField(this, \"shadowDoms\", /* @__PURE__ */ new WeakSet());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"scrollCb\");\n    __publicField(this, \"bypassOptions\");\n    __publicField(this, \"mirror\");\n    __publicField(this, \"restoreHandlers\", []);\n    this.mutationCb = options.mutationCb;\n    this.scrollCb = options.scrollCb;\n    this.bypassOptions = options.bypassOptions;\n    this.mirror = options.mirror;\n    this.init();\n  }\n  init() {\n    this.reset();\n    this.patchAttachShadow(Element, document);\n  }\n  addShadowRoot(shadowRoot2, doc) {\n    if (!isNativeShadowDom(shadowRoot2)) return;\n    if (this.shadowDoms.has(shadowRoot2)) return;\n    this.shadowDoms.add(shadowRoot2);\n    const observer = initMutationObserver(\n      {\n        ...this.bypassOptions,\n        doc,\n        mutationCb: this.mutationCb,\n        mirror: this.mirror,\n        shadowDomManager: this\n      },\n      shadowRoot2\n    );\n    this.restoreHandlers.push(() => observer.disconnect());\n    this.restoreHandlers.push(\n      initScrollObserver({\n        ...this.bypassOptions,\n        scrollCb: this.scrollCb,\n        // https://gist.github.com/praveenpuglia/0832da687ed5a5d7a0907046c9ef1813\n        // scroll is not allowed to pass the boundary, so we need to listen the shadow document\n        doc: shadowRoot2,\n        mirror: this.mirror\n      })\n    );\n    setTimeout(() => {\n      if (shadowRoot2.adoptedStyleSheets && shadowRoot2.adoptedStyleSheets.length > 0)\n        this.bypassOptions.stylesheetManager.adoptStyleSheets(\n          shadowRoot2.adoptedStyleSheets,\n          this.mirror.getId(index.host(shadowRoot2))\n        );\n      this.restoreHandlers.push(\n        initAdoptedStyleSheetObserver(\n          {\n            mirror: this.mirror,\n            stylesheetManager: this.bypassOptions.stylesheetManager\n          },\n          shadowRoot2\n        )\n      );\n    }, 0);\n  }\n  /**\n   * Monkey patch 'attachShadow' of an IFrameElement to observe newly added shadow doms.\n   */\n  observeAttachShadow(iframeElement) {\n    if (!iframeElement.contentWindow || !iframeElement.contentDocument) return;\n    this.patchAttachShadow(\n      iframeElement.contentWindow.Element,\n      iframeElement.contentDocument\n    );\n  }\n  /**\n   * Patch 'attachShadow' to observe newly added shadow doms.\n   */\n  patchAttachShadow(element, doc) {\n    const manager = this;\n    this.restoreHandlers.push(\n      patch(\n        element.prototype,\n        \"attachShadow\",\n        function(original) {\n          return function(option) {\n            const sRoot = original.call(this, option);\n            const shadowRootEl = index.shadowRoot(this);\n            if (shadowRootEl && inDom(this))\n              manager.addShadowRoot(shadowRootEl, doc);\n            return sRoot;\n          };\n        }\n      )\n    );\n  }\n  reset() {\n    this.restoreHandlers.forEach((handler) => {\n      try {\n        handler();\n      } catch (e2) {\n      }\n    });\n    this.restoreHandlers = [];\n    this.shadowDoms = /* @__PURE__ */ new WeakSet();\n  }\n}\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar lookup = typeof Uint8Array === \"undefined\" ? [] : new Uint8Array(256);\nfor (var i$1 = 0; i$1 < chars.length; i$1++) {\n  lookup[chars.charCodeAt(i$1)] = i$1;\n}\nvar encode = function(arraybuffer) {\n  var bytes = new Uint8Array(arraybuffer), i2, len = bytes.length, base64 = \"\";\n  for (i2 = 0; i2 < len; i2 += 3) {\n    base64 += chars[bytes[i2] >> 2];\n    base64 += chars[(bytes[i2] & 3) << 4 | bytes[i2 + 1] >> 4];\n    base64 += chars[(bytes[i2 + 1] & 15) << 2 | bytes[i2 + 2] >> 6];\n    base64 += chars[bytes[i2 + 2] & 63];\n  }\n  if (len % 3 === 2) {\n    base64 = base64.substring(0, base64.length - 1) + \"=\";\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + \"==\";\n  }\n  return base64;\n};\nconst canvasVarMap = /* @__PURE__ */ new Map();\nfunction variableListFor$1(ctx, ctor) {\n  let contextMap = canvasVarMap.get(ctx);\n  if (!contextMap) {\n    contextMap = /* @__PURE__ */ new Map();\n    canvasVarMap.set(ctx, contextMap);\n  }\n  if (!contextMap.has(ctor)) {\n    contextMap.set(ctor, []);\n  }\n  return contextMap.get(ctor);\n}\nconst saveWebGLVar = (value, win, ctx) => {\n  if (!value || !(isInstanceOfWebGLObject(value, win) || typeof value === \"object\"))\n    return;\n  const name = value.constructor.name;\n  const list2 = variableListFor$1(ctx, name);\n  let index2 = list2.indexOf(value);\n  if (index2 === -1) {\n    index2 = list2.length;\n    list2.push(value);\n  }\n  return index2;\n};\nfunction serializeArg(value, win, ctx) {\n  if (value instanceof Array) {\n    return value.map((arg) => serializeArg(arg, win, ctx));\n  } else if (value === null) {\n    return value;\n  } else if (value instanceof Float32Array || value instanceof Float64Array || value instanceof Int32Array || value instanceof Uint32Array || value instanceof Uint8Array || value instanceof Uint16Array || value instanceof Int16Array || value instanceof Int8Array || value instanceof Uint8ClampedArray) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [Object.values(value)]\n    };\n  } else if (\n    // SharedArrayBuffer disabled on most browsers due to spectre.\n    // More info: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/SharedArrayBuffer\n    // value instanceof SharedArrayBuffer ||\n    value instanceof ArrayBuffer\n  ) {\n    const name = value.constructor.name;\n    const base64 = encode(value);\n    return {\n      rr_type: name,\n      base64\n    };\n  } else if (value instanceof DataView) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [\n        serializeArg(value.buffer, win, ctx),\n        value.byteOffset,\n        value.byteLength\n      ]\n    };\n  } else if (value instanceof HTMLImageElement) {\n    const name = value.constructor.name;\n    const { src } = value;\n    return {\n      rr_type: name,\n      src\n    };\n  } else if (value instanceof HTMLCanvasElement) {\n    const name = \"HTMLImageElement\";\n    const src = value.toDataURL();\n    return {\n      rr_type: name,\n      src\n    };\n  } else if (value instanceof ImageData) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [serializeArg(value.data, win, ctx), value.width, value.height]\n    };\n  } else if (isInstanceOfWebGLObject(value, win) || typeof value === \"object\") {\n    const name = value.constructor.name;\n    const index2 = saveWebGLVar(value, win, ctx);\n    return {\n      rr_type: name,\n      index: index2\n    };\n  }\n  return value;\n}\nconst serializeArgs = (args, win, ctx) => {\n  return args.map((arg) => serializeArg(arg, win, ctx));\n};\nconst isInstanceOfWebGLObject = (value, win) => {\n  const webGLConstructorNames = [\n    \"WebGLActiveInfo\",\n    \"WebGLBuffer\",\n    \"WebGLFramebuffer\",\n    \"WebGLProgram\",\n    \"WebGLRenderbuffer\",\n    \"WebGLShader\",\n    \"WebGLShaderPrecisionFormat\",\n    \"WebGLTexture\",\n    \"WebGLUniformLocation\",\n    \"WebGLVertexArrayObject\",\n    // In old Chrome versions, value won't be an instanceof WebGLVertexArrayObject.\n    \"WebGLVertexArrayObjectOES\"\n  ];\n  const supportedWebGLConstructorNames = webGLConstructorNames.filter(\n    (name) => typeof win[name] === \"function\"\n  );\n  return Boolean(\n    supportedWebGLConstructorNames.find(\n      (name) => value instanceof win[name]\n    )\n  );\n};\nfunction initCanvas2DMutationObserver(cb, win, blockClass, blockSelector) {\n  const handlers = [];\n  const props2D = Object.getOwnPropertyNames(\n    win.CanvasRenderingContext2D.prototype\n  );\n  for (const prop of props2D) {\n    try {\n      if (typeof win.CanvasRenderingContext2D.prototype[prop] !== \"function\") {\n        continue;\n      }\n      const restoreHandler = patch(\n        win.CanvasRenderingContext2D.prototype,\n        prop,\n        function(original) {\n          return function(...args) {\n            if (!isBlocked(this.canvas, blockClass, blockSelector, true)) {\n              setTimeout(() => {\n                const recordArgs = serializeArgs(args, win, this);\n                cb(this.canvas, {\n                  type: CanvasContext[\"2D\"],\n                  property: prop,\n                  args: recordArgs\n                });\n              }, 0);\n            }\n            return original.apply(this, args);\n          };\n        }\n      );\n      handlers.push(restoreHandler);\n    } catch {\n      const hookHandler = hookSetter(\n        win.CanvasRenderingContext2D.prototype,\n        prop,\n        {\n          set(v2) {\n            cb(this.canvas, {\n              type: CanvasContext[\"2D\"],\n              property: prop,\n              args: [v2],\n              setter: true\n            });\n          }\n        }\n      );\n      handlers.push(hookHandler);\n    }\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nfunction getNormalizedContextName(contextType) {\n  return contextType === \"experimental-webgl\" ? \"webgl\" : contextType;\n}\nfunction initCanvasContextObserver(win, blockClass, blockSelector, setPreserveDrawingBufferToTrue) {\n  const handlers = [];\n  try {\n    const restoreHandler = patch(\n      win.HTMLCanvasElement.prototype,\n      \"getContext\",\n      function(original) {\n        return function(contextType, ...args) {\n          if (!isBlocked(this, blockClass, blockSelector, true)) {\n            const ctxName = getNormalizedContextName(contextType);\n            if (!(\"__context\" in this)) this.__context = ctxName;\n            if (setPreserveDrawingBufferToTrue && [\"webgl\", \"webgl2\"].includes(ctxName)) {\n              if (args[0] && typeof args[0] === \"object\") {\n                const contextAttributes = args[0];\n                if (!contextAttributes.preserveDrawingBuffer) {\n                  contextAttributes.preserveDrawingBuffer = true;\n                }\n              } else {\n                args.splice(0, 1, {\n                  preserveDrawingBuffer: true\n                });\n              }\n            }\n          }\n          return original.apply(this, [contextType, ...args]);\n        };\n      }\n    );\n    handlers.push(restoreHandler);\n  } catch {\n    console.error(\"failed to patch HTMLCanvasElement.prototype.getContext\");\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nfunction patchGLPrototype(prototype, type, cb, blockClass, blockSelector, win) {\n  const handlers = [];\n  const props = Object.getOwnPropertyNames(prototype);\n  for (const prop of props) {\n    if (\n      //prop.startsWith('get') ||  // e.g. getProgramParameter, but too risky\n      [\n        \"isContextLost\",\n        \"canvas\",\n        \"drawingBufferWidth\",\n        \"drawingBufferHeight\"\n      ].includes(prop)\n    ) {\n      continue;\n    }\n    try {\n      if (typeof prototype[prop] !== \"function\") {\n        continue;\n      }\n      const restoreHandler = patch(\n        prototype,\n        prop,\n        function(original) {\n          return function(...args) {\n            const result2 = original.apply(this, args);\n            saveWebGLVar(result2, win, this);\n            if (\"tagName\" in this.canvas && !isBlocked(this.canvas, blockClass, blockSelector, true)) {\n              const recordArgs = serializeArgs(args, win, this);\n              const mutation = {\n                type,\n                property: prop,\n                args: recordArgs\n              };\n              cb(this.canvas, mutation);\n            }\n            return result2;\n          };\n        }\n      );\n      handlers.push(restoreHandler);\n    } catch {\n      const hookHandler = hookSetter(prototype, prop, {\n        set(v2) {\n          cb(this.canvas, {\n            type,\n            property: prop,\n            args: [v2],\n            setter: true\n          });\n        }\n      });\n      handlers.push(hookHandler);\n    }\n  }\n  return handlers;\n}\nfunction initCanvasWebGLMutationObserver(cb, win, blockClass, blockSelector) {\n  const handlers = [];\n  handlers.push(\n    ...patchGLPrototype(\n      win.WebGLRenderingContext.prototype,\n      CanvasContext.WebGL,\n      cb,\n      blockClass,\n      blockSelector,\n      win\n    )\n  );\n  if (typeof win.WebGL2RenderingContext !== \"undefined\") {\n    handlers.push(\n      ...patchGLPrototype(\n        win.WebGL2RenderingContext.prototype,\n        CanvasContext.WebGL2,\n        cb,\n        blockClass,\n        blockSelector,\n        win\n      )\n    );\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nconst encodedJs = \"KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=\";\nconst decodeBase64 = (base64) => Uint8Array.from(atob(base64), (c2) => c2.charCodeAt(0));\nconst blob = typeof window !== \"undefined\" && window.Blob && new Blob([decodeBase64(encodedJs)], { type: \"text/javascript;charset=utf-8\" });\nfunction WorkerWrapper(options) {\n  let objURL;\n  try {\n    objURL = blob && (window.URL || window.webkitURL).createObjectURL(blob);\n    if (!objURL) throw \"\";\n    const worker = new Worker(objURL, {\n      name: options == null ? void 0 : options.name\n    });\n    worker.addEventListener(\"error\", () => {\n      (window.URL || window.webkitURL).revokeObjectURL(objURL);\n    });\n    return worker;\n  } catch (e2) {\n    return new Worker(\n      \"data:text/javascript;base64,\" + encodedJs,\n      {\n        name: options == null ? void 0 : options.name\n      }\n    );\n  } finally {\n    objURL && (window.URL || window.webkitURL).revokeObjectURL(objURL);\n  }\n}\nclass CanvasManager {\n  constructor(options) {\n    __publicField(this, \"pendingCanvasMutations\", /* @__PURE__ */ new Map());\n    __publicField(this, \"rafStamps\", { latestId: 0, invokeId: null });\n    __publicField(this, \"mirror\");\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"resetObservers\");\n    __publicField(this, \"frozen\", false);\n    __publicField(this, \"locked\", false);\n    __publicField(this, \"processMutation\", (target, mutation) => {\n      const newFrame = this.rafStamps.invokeId && this.rafStamps.latestId !== this.rafStamps.invokeId;\n      if (newFrame || !this.rafStamps.invokeId)\n        this.rafStamps.invokeId = this.rafStamps.latestId;\n      if (!this.pendingCanvasMutations.has(target)) {\n        this.pendingCanvasMutations.set(target, []);\n      }\n      this.pendingCanvasMutations.get(target).push(mutation);\n    });\n    const {\n      sampling = \"all\",\n      win,\n      blockClass,\n      blockSelector,\n      recordCanvas,\n      dataURLOptions\n    } = options;\n    this.mutationCb = options.mutationCb;\n    this.mirror = options.mirror;\n    if (recordCanvas && sampling === \"all\")\n      this.initCanvasMutationObserver(win, blockClass, blockSelector);\n    if (recordCanvas && typeof sampling === \"number\")\n      this.initCanvasFPSObserver(sampling, win, blockClass, blockSelector, {\n        dataURLOptions\n      });\n  }\n  reset() {\n    this.pendingCanvasMutations.clear();\n    this.resetObservers && this.resetObservers();\n  }\n  freeze() {\n    this.frozen = true;\n  }\n  unfreeze() {\n    this.frozen = false;\n  }\n  lock() {\n    this.locked = true;\n  }\n  unlock() {\n    this.locked = false;\n  }\n  initCanvasFPSObserver(fps, win, blockClass, blockSelector, options) {\n    const canvasContextReset = initCanvasContextObserver(\n      win,\n      blockClass,\n      blockSelector,\n      true\n    );\n    const snapshotInProgressMap = /* @__PURE__ */ new Map();\n    const worker = new WorkerWrapper();\n    worker.onmessage = (e2) => {\n      const { id } = e2.data;\n      snapshotInProgressMap.set(id, false);\n      if (!(\"base64\" in e2.data)) return;\n      const { base64, type, width, height } = e2.data;\n      this.mutationCb({\n        id,\n        type: CanvasContext[\"2D\"],\n        commands: [\n          {\n            property: \"clearRect\",\n            // wipe canvas\n            args: [0, 0, width, height]\n          },\n          {\n            property: \"drawImage\",\n            // draws (semi-transparent) image\n            args: [\n              {\n                rr_type: \"ImageBitmap\",\n                args: [\n                  {\n                    rr_type: \"Blob\",\n                    data: [{ rr_type: \"ArrayBuffer\", base64 }],\n                    type\n                  }\n                ]\n              },\n              0,\n              0\n            ]\n          }\n        ]\n      });\n    };\n    const timeBetweenSnapshots = 1e3 / fps;\n    let lastSnapshotTime = 0;\n    let rafId;\n    const getCanvas = () => {\n      const matchedCanvas = [];\n      win.document.querySelectorAll(\"canvas\").forEach((canvas) => {\n        if (!isBlocked(canvas, blockClass, blockSelector, true)) {\n          matchedCanvas.push(canvas);\n        }\n      });\n      return matchedCanvas;\n    };\n    const takeCanvasSnapshots = (timestamp) => {\n      if (lastSnapshotTime && timestamp - lastSnapshotTime < timeBetweenSnapshots) {\n        rafId = requestAnimationFrame(takeCanvasSnapshots);\n        return;\n      }\n      lastSnapshotTime = timestamp;\n      getCanvas().forEach(async (canvas) => {\n        var _a2;\n        const id = this.mirror.getId(canvas);\n        if (snapshotInProgressMap.get(id)) return;\n        if (canvas.width === 0 || canvas.height === 0) return;\n        snapshotInProgressMap.set(id, true);\n        if ([\"webgl\", \"webgl2\"].includes(canvas.__context)) {\n          const context = canvas.getContext(canvas.__context);\n          if (((_a2 = context == null ? void 0 : context.getContextAttributes()) == null ? void 0 : _a2.preserveDrawingBuffer) === false) {\n            context.clear(context.COLOR_BUFFER_BIT);\n          }\n        }\n        const bitmap = await createImageBitmap(canvas);\n        worker.postMessage(\n          {\n            id,\n            bitmap,\n            width: canvas.width,\n            height: canvas.height,\n            dataURLOptions: options.dataURLOptions\n          },\n          [bitmap]\n        );\n      });\n      rafId = requestAnimationFrame(takeCanvasSnapshots);\n    };\n    rafId = requestAnimationFrame(takeCanvasSnapshots);\n    this.resetObservers = () => {\n      canvasContextReset();\n      cancelAnimationFrame(rafId);\n    };\n  }\n  initCanvasMutationObserver(win, blockClass, blockSelector) {\n    this.startRAFTimestamping();\n    this.startPendingCanvasMutationFlusher();\n    const canvasContextReset = initCanvasContextObserver(\n      win,\n      blockClass,\n      blockSelector,\n      false\n    );\n    const canvas2DReset = initCanvas2DMutationObserver(\n      this.processMutation.bind(this),\n      win,\n      blockClass,\n      blockSelector\n    );\n    const canvasWebGL1and2Reset = initCanvasWebGLMutationObserver(\n      this.processMutation.bind(this),\n      win,\n      blockClass,\n      blockSelector\n    );\n    this.resetObservers = () => {\n      canvasContextReset();\n      canvas2DReset();\n      canvasWebGL1and2Reset();\n    };\n  }\n  startPendingCanvasMutationFlusher() {\n    requestAnimationFrame(() => this.flushPendingCanvasMutations());\n  }\n  startRAFTimestamping() {\n    const setLatestRAFTimestamp = (timestamp) => {\n      this.rafStamps.latestId = timestamp;\n      requestAnimationFrame(setLatestRAFTimestamp);\n    };\n    requestAnimationFrame(setLatestRAFTimestamp);\n  }\n  flushPendingCanvasMutations() {\n    this.pendingCanvasMutations.forEach(\n      (_values, canvas) => {\n        const id = this.mirror.getId(canvas);\n        this.flushPendingCanvasMutationFor(canvas, id);\n      }\n    );\n    requestAnimationFrame(() => this.flushPendingCanvasMutations());\n  }\n  flushPendingCanvasMutationFor(canvas, id) {\n    if (this.frozen || this.locked) {\n      return;\n    }\n    const valuesWithType = this.pendingCanvasMutations.get(canvas);\n    if (!valuesWithType || id === -1) return;\n    const values = valuesWithType.map((value) => {\n      const { type: type2, ...rest } = value;\n      return rest;\n    });\n    const { type } = valuesWithType[0];\n    this.mutationCb({ id, type, commands: values });\n    this.pendingCanvasMutations.delete(canvas);\n  }\n}\nclass StylesheetManager {\n  constructor(options) {\n    __publicField(this, \"trackedLinkElements\", /* @__PURE__ */ new WeakSet());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"adoptedStyleSheetCb\");\n    __publicField(this, \"styleMirror\", new StyleSheetMirror());\n    this.mutationCb = options.mutationCb;\n    this.adoptedStyleSheetCb = options.adoptedStyleSheetCb;\n  }\n  attachLinkElement(linkEl, childSn) {\n    if (\"_cssText\" in childSn.attributes)\n      this.mutationCb({\n        adds: [],\n        removes: [],\n        texts: [],\n        attributes: [\n          {\n            id: childSn.id,\n            attributes: childSn.attributes\n          }\n        ]\n      });\n    this.trackLinkElement(linkEl);\n  }\n  trackLinkElement(linkEl) {\n    if (this.trackedLinkElements.has(linkEl)) return;\n    this.trackedLinkElements.add(linkEl);\n    this.trackStylesheetInLinkElement(linkEl);\n  }\n  adoptStyleSheets(sheets, hostId) {\n    if (sheets.length === 0) return;\n    const adoptedStyleSheetData = {\n      id: hostId,\n      styleIds: []\n    };\n    const styles = [];\n    for (const sheet of sheets) {\n      let styleId;\n      if (!this.styleMirror.has(sheet)) {\n        styleId = this.styleMirror.add(sheet);\n        styles.push({\n          styleId,\n          rules: Array.from(sheet.rules || CSSRule, (r2, index2) => ({\n            rule: stringifyRule(r2, sheet.href),\n            index: index2\n          }))\n        });\n      } else styleId = this.styleMirror.getId(sheet);\n      adoptedStyleSheetData.styleIds.push(styleId);\n    }\n    if (styles.length > 0) adoptedStyleSheetData.styles = styles;\n    this.adoptedStyleSheetCb(adoptedStyleSheetData);\n  }\n  reset() {\n    this.styleMirror.reset();\n    this.trackedLinkElements = /* @__PURE__ */ new WeakSet();\n  }\n  // TODO: take snapshot on stylesheet reload by applying event listener\n  trackStylesheetInLinkElement(_linkEl) {\n  }\n}\nclass ProcessedNodeManager {\n  constructor() {\n    __publicField(this, \"nodeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"active\", false);\n  }\n  inOtherBuffer(node2, thisBuffer) {\n    const buffers = this.nodeMap.get(node2);\n    return buffers && Array.from(buffers).some((buffer) => buffer !== thisBuffer);\n  }\n  add(node2, buffer) {\n    if (!this.active) {\n      this.active = true;\n      requestAnimationFrame(() => {\n        this.nodeMap = /* @__PURE__ */ new WeakMap();\n        this.active = false;\n      });\n    }\n    this.nodeMap.set(node2, (this.nodeMap.get(node2) || /* @__PURE__ */ new Set()).add(buffer));\n  }\n  destroy() {\n  }\n}\nlet wrappedEmit;\nlet takeFullSnapshot$1;\nlet canvasManager;\nlet recording = false;\ntry {\n  if (Array.from([1], (x2) => x2 * 2)[0] !== 2) {\n    const cleanFrame = document.createElement(\"iframe\");\n    document.body.appendChild(cleanFrame);\n    Array.from = ((_a = cleanFrame.contentWindow) == null ? void 0 : _a.Array.from) || Array.from;\n    document.body.removeChild(cleanFrame);\n  }\n} catch (err) {\n  console.debug(\"Unable to override Array.from\", err);\n}\nconst mirror = createMirror$2();\nfunction record(options = {}) {\n  const {\n    emit,\n    checkoutEveryNms,\n    checkoutEveryNth,\n    blockClass = \"rr-block\",\n    blockSelector = null,\n    ignoreClass = \"rr-ignore\",\n    ignoreSelector = null,\n    maskTextClass = \"rr-mask\",\n    maskTextSelector = null,\n    inlineStylesheet = true,\n    maskAllInputs,\n    maskInputOptions: _maskInputOptions,\n    slimDOMOptions: _slimDOMOptions,\n    maskInputFn,\n    maskTextFn,\n    hooks,\n    packFn,\n    sampling = {},\n    dataURLOptions = {},\n    mousemoveWait,\n    recordDOM = true,\n    recordCanvas = false,\n    recordCrossOriginIframes = false,\n    recordAfter = options.recordAfter === \"DOMContentLoaded\" ? options.recordAfter : \"load\",\n    userTriggeredOnInput = false,\n    collectFonts = false,\n    inlineImages = false,\n    plugins,\n    keepIframeSrcFn = () => false,\n    ignoreCSSAttributes = /* @__PURE__ */ new Set([]),\n    errorHandler: errorHandler2\n  } = options;\n  registerErrorHandler(errorHandler2);\n  const inEmittingFrame = recordCrossOriginIframes ? window.parent === window : true;\n  let passEmitsToParent = false;\n  if (!inEmittingFrame) {\n    try {\n      if (window.parent.document) {\n        passEmitsToParent = false;\n      }\n    } catch (e2) {\n      passEmitsToParent = true;\n    }\n  }\n  if (inEmittingFrame && !emit) {\n    throw new Error(\"emit function is required\");\n  }\n  if (!inEmittingFrame && !passEmitsToParent) {\n    return () => {\n    };\n  }\n  if (mousemoveWait !== void 0 && sampling.mousemove === void 0) {\n    sampling.mousemove = mousemoveWait;\n  }\n  mirror.reset();\n  const maskInputOptions = maskAllInputs === true ? {\n    color: true,\n    date: true,\n    \"datetime-local\": true,\n    email: true,\n    month: true,\n    number: true,\n    range: true,\n    search: true,\n    tel: true,\n    text: true,\n    time: true,\n    url: true,\n    week: true,\n    textarea: true,\n    select: true,\n    password: true\n  } : _maskInputOptions !== void 0 ? _maskInputOptions : { password: true };\n  const slimDOMOptions = _slimDOMOptions === true || _slimDOMOptions === \"all\" ? {\n    script: true,\n    comment: true,\n    headFavicon: true,\n    headWhitespace: true,\n    headMetaSocial: true,\n    headMetaRobots: true,\n    headMetaHttpEquiv: true,\n    headMetaVerification: true,\n    // the following are off for slimDOMOptions === true,\n    // as they destroy some (hidden) info:\n    headMetaAuthorship: _slimDOMOptions === \"all\",\n    headMetaDescKeywords: _slimDOMOptions === \"all\",\n    headTitleMutations: _slimDOMOptions === \"all\"\n  } : _slimDOMOptions ? _slimDOMOptions : {};\n  polyfill$1();\n  let lastFullSnapshotEvent;\n  let incrementalSnapshotCount = 0;\n  const eventProcessor = (e2) => {\n    for (const plugin3 of plugins || []) {\n      if (plugin3.eventProcessor) {\n        e2 = plugin3.eventProcessor(e2);\n      }\n    }\n    if (packFn && // Disable packing events which will be emitted to parent frames.\n    !passEmitsToParent) {\n      e2 = packFn(e2);\n    }\n    return e2;\n  };\n  wrappedEmit = (r2, isCheckout) => {\n    var _a2;\n    const e2 = r2;\n    e2.timestamp = nowTimestamp();\n    if (((_a2 = mutationBuffers[0]) == null ? void 0 : _a2.isFrozen()) && e2.type !== EventType.FullSnapshot && !(e2.type === EventType.IncrementalSnapshot && e2.data.source === IncrementalSource.Mutation)) {\n      mutationBuffers.forEach((buf) => buf.unfreeze());\n    }\n    if (inEmittingFrame) {\n      emit == null ? void 0 : emit(eventProcessor(e2), isCheckout);\n    } else if (passEmitsToParent) {\n      const message = {\n        type: \"rrweb\",\n        event: eventProcessor(e2),\n        origin: window.location.origin,\n        isCheckout\n      };\n      window.parent.postMessage(message, \"*\");\n    }\n    if (e2.type === EventType.FullSnapshot) {\n      lastFullSnapshotEvent = e2;\n      incrementalSnapshotCount = 0;\n    } else if (e2.type === EventType.IncrementalSnapshot) {\n      if (e2.data.source === IncrementalSource.Mutation && e2.data.isAttachIframe) {\n        return;\n      }\n      incrementalSnapshotCount++;\n      const exceedCount = checkoutEveryNth && incrementalSnapshotCount >= checkoutEveryNth;\n      const exceedTime = checkoutEveryNms && e2.timestamp - lastFullSnapshotEvent.timestamp > checkoutEveryNms;\n      if (exceedCount || exceedTime) {\n        takeFullSnapshot$1(true);\n      }\n    }\n  };\n  const wrappedMutationEmit = (m) => {\n    wrappedEmit({\n      type: EventType.IncrementalSnapshot,\n      data: {\n        source: IncrementalSource.Mutation,\n        ...m\n      }\n    });\n  };\n  const wrappedScrollEmit = (p) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.Scroll,\n      ...p\n    }\n  });\n  const wrappedCanvasMutationEmit = (p) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.CanvasMutation,\n      ...p\n    }\n  });\n  const wrappedAdoptedStyleSheetEmit = (a2) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.AdoptedStyleSheet,\n      ...a2\n    }\n  });\n  const stylesheetManager = new StylesheetManager({\n    mutationCb: wrappedMutationEmit,\n    adoptedStyleSheetCb: wrappedAdoptedStyleSheetEmit\n  });\n  const iframeManager = new IframeManager({\n    mirror,\n    mutationCb: wrappedMutationEmit,\n    stylesheetManager,\n    recordCrossOriginIframes,\n    wrappedEmit\n  });\n  for (const plugin3 of plugins || []) {\n    if (plugin3.getMirror)\n      plugin3.getMirror({\n        nodeMirror: mirror,\n        crossOriginIframeMirror: iframeManager.crossOriginIframeMirror,\n        crossOriginIframeStyleMirror: iframeManager.crossOriginIframeStyleMirror\n      });\n  }\n  const processedNodeManager = new ProcessedNodeManager();\n  canvasManager = new CanvasManager({\n    recordCanvas,\n    mutationCb: wrappedCanvasMutationEmit,\n    win: window,\n    blockClass,\n    blockSelector,\n    mirror,\n    sampling: sampling.canvas,\n    dataURLOptions\n  });\n  const shadowDomManager = new ShadowDomManager({\n    mutationCb: wrappedMutationEmit,\n    scrollCb: wrappedScrollEmit,\n    bypassOptions: {\n      blockClass,\n      blockSelector,\n      maskTextClass,\n      maskTextSelector,\n      inlineStylesheet,\n      maskInputOptions,\n      dataURLOptions,\n      maskTextFn,\n      maskInputFn,\n      recordCanvas,\n      inlineImages,\n      sampling,\n      slimDOMOptions,\n      iframeManager,\n      stylesheetManager,\n      canvasManager,\n      keepIframeSrcFn,\n      processedNodeManager\n    },\n    mirror\n  });\n  takeFullSnapshot$1 = (isCheckout = false) => {\n    if (!recordDOM) {\n      return;\n    }\n    wrappedEmit(\n      {\n        type: EventType.Meta,\n        data: {\n          href: window.location.href,\n          width: getWindowWidth(),\n          height: getWindowHeight()\n        }\n      },\n      isCheckout\n    );\n    stylesheetManager.reset();\n    shadowDomManager.init();\n    mutationBuffers.forEach((buf) => buf.lock());\n    const node2 = snapshot(document, {\n      mirror,\n      blockClass,\n      blockSelector,\n      maskTextClass,\n      maskTextSelector,\n      inlineStylesheet,\n      maskAllInputs: maskInputOptions,\n      maskTextFn,\n      maskInputFn,\n      slimDOM: slimDOMOptions,\n      dataURLOptions,\n      recordCanvas,\n      inlineImages,\n      onSerialize: (n2) => {\n        if (isSerializedIframe(n2, mirror)) {\n          iframeManager.addIframe(n2);\n        }\n        if (isSerializedStylesheet(n2, mirror)) {\n          stylesheetManager.trackLinkElement(n2);\n        }\n        if (hasShadowRoot(n2)) {\n          shadowDomManager.addShadowRoot(index.shadowRoot(n2), document);\n        }\n      },\n      onIframeLoad: (iframe, childSn) => {\n        iframeManager.attachIframe(iframe, childSn);\n        shadowDomManager.observeAttachShadow(iframe);\n      },\n      onStylesheetLoad: (linkEl, childSn) => {\n        stylesheetManager.attachLinkElement(linkEl, childSn);\n      },\n      keepIframeSrcFn\n    });\n    if (!node2) {\n      return console.warn(\"Failed to snapshot the document\");\n    }\n    wrappedEmit(\n      {\n        type: EventType.FullSnapshot,\n        data: {\n          node: node2,\n          initialOffset: getWindowScroll(window)\n        }\n      },\n      isCheckout\n    );\n    mutationBuffers.forEach((buf) => buf.unlock());\n    if (document.adoptedStyleSheets && document.adoptedStyleSheets.length > 0)\n      stylesheetManager.adoptStyleSheets(\n        document.adoptedStyleSheets,\n        mirror.getId(document)\n      );\n  };\n  try {\n    const handlers = [];\n    const observe = (doc) => {\n      var _a2;\n      return callbackWrapper(initObservers)(\n        {\n          mutationCb: wrappedMutationEmit,\n          mousemoveCb: (positions, source) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source,\n              positions\n            }\n          }),\n          mouseInteractionCb: (d) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.MouseInteraction,\n              ...d\n            }\n          }),\n          scrollCb: wrappedScrollEmit,\n          viewportResizeCb: (d) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.ViewportResize,\n              ...d\n            }\n          }),\n          inputCb: (v2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.Input,\n              ...v2\n            }\n          }),\n          mediaInteractionCb: (p) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.MediaInteraction,\n              ...p\n            }\n          }),\n          styleSheetRuleCb: (r2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.StyleSheetRule,\n              ...r2\n            }\n          }),\n          styleDeclarationCb: (r2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.StyleDeclaration,\n              ...r2\n            }\n          }),\n          canvasMutationCb: wrappedCanvasMutationEmit,\n          fontCb: (p) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.Font,\n              ...p\n            }\n          }),\n          selectionCb: (p) => {\n            wrappedEmit({\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source: IncrementalSource.Selection,\n                ...p\n              }\n            });\n          },\n          customElementCb: (c2) => {\n            wrappedEmit({\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source: IncrementalSource.CustomElement,\n                ...c2\n              }\n            });\n          },\n          blockClass,\n          ignoreClass,\n          ignoreSelector,\n          maskTextClass,\n          maskTextSelector,\n          maskInputOptions,\n          inlineStylesheet,\n          sampling,\n          recordDOM,\n          recordCanvas,\n          inlineImages,\n          userTriggeredOnInput,\n          collectFonts,\n          doc,\n          maskInputFn,\n          maskTextFn,\n          keepIframeSrcFn,\n          blockSelector,\n          slimDOMOptions,\n          dataURLOptions,\n          mirror,\n          iframeManager,\n          stylesheetManager,\n          shadowDomManager,\n          processedNodeManager,\n          canvasManager,\n          ignoreCSSAttributes,\n          plugins: ((_a2 = plugins == null ? void 0 : plugins.filter((p) => p.observer)) == null ? void 0 : _a2.map((p) => ({\n            observer: p.observer,\n            options: p.options,\n            callback: (payload) => wrappedEmit({\n              type: EventType.Plugin,\n              data: {\n                plugin: p.name,\n                payload\n              }\n            })\n          }))) || []\n        },\n        hooks\n      );\n    };\n    iframeManager.addLoadListener((iframeEl) => {\n      try {\n        handlers.push(observe(iframeEl.contentDocument));\n      } catch (error) {\n        console.warn(error);\n      }\n    });\n    const init = () => {\n      takeFullSnapshot$1();\n      handlers.push(observe(document));\n      recording = true;\n    };\n    if (document.readyState === \"interactive\" || document.readyState === \"complete\") {\n      init();\n    } else {\n      handlers.push(\n        on(\"DOMContentLoaded\", () => {\n          wrappedEmit({\n            type: EventType.DomContentLoaded,\n            data: {}\n          });\n          if (recordAfter === \"DOMContentLoaded\") init();\n        })\n      );\n      handlers.push(\n        on(\n          \"load\",\n          () => {\n            wrappedEmit({\n              type: EventType.Load,\n              data: {}\n            });\n            if (recordAfter === \"load\") init();\n          },\n          window\n        )\n      );\n    }\n    return () => {\n      handlers.forEach((h) => h());\n      processedNodeManager.destroy();\n      recording = false;\n      unregisterErrorHandler();\n    };\n  } catch (error) {\n    console.warn(error);\n  }\n}\nrecord.addCustomEvent = (tag, payload) => {\n  if (!recording) {\n    throw new Error(\"please add custom event after start recording\");\n  }\n  wrappedEmit({\n    type: EventType.Custom,\n    data: {\n      tag,\n      payload\n    }\n  });\n};\nrecord.freezePage = () => {\n  mutationBuffers.forEach((buf) => buf.freeze());\n};\nrecord.takeFullSnapshot = (isCheckout) => {\n  if (!recording) {\n    throw new Error(\"please take full snapshot after start recording\");\n  }\n  takeFullSnapshot$1(isCheckout);\n};\nrecord.mirror = mirror;\nvar n;\n!function(t2) {\n  t2[t2.NotStarted = 0] = \"NotStarted\", t2[t2.Running = 1] = \"Running\", t2[t2.Stopped = 2] = \"Stopped\";\n}(n || (n = {}));\nexport {\n  record\n};\n//# sourceMappingURL=record.js.map\n","import { isMobile } from \"./GleapHelper\";\nimport { record } from \"@rrweb/record\";\n\nexport default class GleapReplayRecorder {\n  startDate = undefined;\n  events = [];\n  bufferSize = 0;\n  stopFunction = undefined;\n  customOptions = {};\n\n  // GleapReplayRecorder singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapReplayRecorder();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  constructor() {}\n\n  setOptions(options) {\n    this.customOptions = options;\n  }\n\n  /**\n   * Start replays\n   * @returns\n   */\n  start() {\n    this.stop();\n\n    this.startDate = Date.now();\n    var events = this.events;\n\n    var options = {\n      inlineStylesheet: true,\n      blockClass: \"gl-block\",\n      ignoreClass: \"gl-ignore\",\n      maskTextClass: \"gl-mask\",\n      dataURLOptions: {\n        quality: 0.7,\n      },\n      recordCanvas: false,\n      sampling: {\n        scroll: 150,\n        mouseInteraction: {\n          MouseUp: false,\n          MouseDown: false,\n          Click: true,\n          ContextMenu: true,\n          DblClick: true,\n          Focus: true,\n          Blur: true,\n          TouchStart: true,\n          TouchEnd: false,\n        },\n      },\n      collectFonts: false,\n      recordCrossOriginIframes: false,\n    };\n\n    try {\n      this.stopFunction = record({\n        ...options,\n        ...this.customOptions,\n        emit(rrwebEvent) {\n          const { event } = ensureMaxMessageSize(rrwebEvent);\n          events.push(event);\n        },\n      });\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  /**\n   * Stop replays\n   * @returns\n   */\n  stop() {\n    if (this.stopFunction) {\n      this.stopFunction();\n    }\n\n    this.startDate = undefined;\n    this.events = [];\n    this.bufferSize = 0;\n  }\n\n  /**\n   * Get the current replay data\n   * @returns {Promise<void>}\n   */\n  getReplayData() {\n    const replayResult = {\n      startDate: this.startDate,\n      events: this.events,\n      baseUrl: window.location.origin,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      isMobile: isMobile(),\n      type: \"rrweb\",\n    };\n\n    return replayResult;\n  }\n}\n\nexport function ensureMaxMessageSize(data) {\n  let stringifiedData = JSON.stringify(data);\n  if (stringifiedData.length > 4000000) {\n    const dataURIRegex = /data:([\\w\\/\\-\\.]+);(\\w+),([^)\"]*)/gim;\n    const matches = stringifiedData.matchAll(dataURIRegex);\n    for (const match of matches) {\n      if (match[1].toLocaleLowerCase().slice(0, 6) === \"image/\") {\n        stringifiedData = stringifiedData.replace(\n          match[0],\n          \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAQSURBVHgBAQUA+v8ABRg5/wHSAVZN1mnaAAAAAElFTkSuQmCC\"\n        );\n      } else {\n        stringifiedData = stringifiedData.replace(match[0], \"\");\n      }\n    }\n  }\n  return { event: JSON.parse(stringifiedData), size: stringifiedData.length };\n}\n","export class ScreenDrawer {\n  rerender;\n  svgElement = null;\n  path = null;\n  strPath;\n  strokeWidth = 12;\n  strokeWidthRect = 6;\n  bufferSize = 4;\n  buffer = [];\n  startPoint = null;\n  tool = \"rect\";\n  color = \"#EB144C\";\n  mouseDown = null;\n  mouseMove = null;\n  mouseUp = null;\n  resizeListener = null;\n  pathBuffer = [];\n\n  constructor(rerender) {\n    const self = this;\n\n    this.rerender = rerender;\n\n    this.svgElement = document.querySelector(\".bb-capture-svg\");\n    this.svgElement.style.minHeight = `${document.documentElement.scrollHeight}px`;\n\n    // Window resize listener.\n    this.resizeListener = function (e) {\n      self.svgElement.style.minHeight = `${document.documentElement.scrollHeight}px`;\n    };\n    window.addEventListener(\"resize\", this.resizeListener, true);\n\n    this.mouseDown = function (e) {\n      e.preventDefault();\n\n      const colorpicker = document.querySelector(\n        \".bb-capture-toolbar-item-colorpicker\"\n      );\n      if (colorpicker) {\n        colorpicker.style.display = \"none\";\n      }\n\n      self.fadeOutToolbar();\n      if (self.tool === \"pen\" || self.tool === \"blur\") {\n        self.mouseDownPen(e);\n      }\n      if (self.tool === \"rect\") {\n        self.mouseDownRect(e);\n      }\n    };\n\n    this.mouseMove = function (e) {\n      e.preventDefault();\n      if (self.tool === \"pen\" || self.tool === \"blur\") {\n        self.mouseMovePen(e);\n      }\n      if (self.tool === \"rect\") {\n        self.mouseMoveRect(e);\n      }\n    };\n\n    this.mouseUp = function (e) {\n      e.preventDefault();\n      self.fadeInToolbar();\n      if (self.tool === \"pen\" || self.tool === \"blur\") {\n        self.mouseUpPen(e);\n      }\n      if (self.tool === \"rect\") {\n        self.mouseUpRect(e);\n      }\n    };\n\n    this.svgElement.addEventListener(\"mousedown\", this.mouseDown);\n    this.svgElement.addEventListener(\"mousemove\", this.mouseMove);\n    this.svgElement.addEventListener(\"mouseup\", this.mouseUp);\n    this.svgElement.addEventListener(\"touchstart\", this.mouseDown, false);\n    this.svgElement.addEventListener(\"touchmove\", this.mouseMove, false);\n    this.svgElement.addEventListener(\"touchend\", this.mouseUp, false);\n\n    setTimeout(() => {\n      this.rerender();\n    }, 100);\n  }\n\n  clear() {\n    if (this.svgElement) {\n      while (this.svgElement.firstChild) {\n        this.svgElement.firstChild.remove();\n      }\n    }\n  }\n\n  destroy() {\n    this.svgElement.removeEventListener(\"mousedown\", this.mouseDown);\n    this.svgElement.removeEventListener(\"mousemove\", this.mouseMove);\n    this.svgElement.removeEventListener(\"mouseup\", this.mouseUp);\n    this.svgElement.removeEventListener(\"touchstart\", this.mouseDown);\n    this.svgElement.removeEventListener(\"touchmove\", this.mouseMove);\n    this.svgElement.removeEventListener(\"touchend\", this.mouseUp);\n    window.removeEventListener(\"resize\", this.resizeListener);\n  }\n\n  mouseUpPen() {\n    if (this.path) {\n      this.path = null;\n    }\n  }\n\n  mouseUpRect() {\n    if (this.path) {\n      this.path = null;\n    }\n  }\n\n  mouseMovePen(e) {\n    if (this.path) {\n      this.appendToBuffer(this.getMousePosition(e));\n      this.updateSvgPath();\n    }\n  }\n\n  mouseMoveRect(e) {\n    if (this.path) {\n      var p = this.getMousePosition(e);\n      var w = Math.abs(p.x - this.startPoint.x);\n      var h = Math.abs(p.y - this.startPoint.y);\n      var x = p.x;\n      var y = p.y;\n      if (p.x > this.startPoint.x) {\n        x = this.startPoint.x;\n      }\n      if (p.y > this.startPoint.y) {\n        y = this.startPoint.y;\n      }\n\n      this.path.setAttributeNS(null, \"x\", x);\n      this.path.setAttributeNS(null, \"y\", y);\n      this.path.setAttributeNS(null, \"width\", w);\n      this.path.setAttributeNS(null, \"height\", h);\n    }\n  }\n\n  mouseDownRect(e) {\n    this.path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n    this.path.setAttribute(\"fill\", \"none\");\n    this.path.setAttribute(\"stroke\", this.color);\n    this.path.setAttribute(\"stroke-linecap\", \"round\");\n    this.path.setAttribute(\"stroke-width\", this.strokeWidthRect);\n\n    this.startPoint = this.getMousePosition(e);\n    this.appendPathToSvg(this.path);\n  }\n\n  mouseDownPen(e) {\n    var color = this.color + \"AA\";\n    var strokeWidth = this.strokeWidth;\n\n    if (this.tool === \"blur\") {\n      color = \"#000000\";\n      strokeWidth = 40;\n    }\n\n    this.path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n    this.path.setAttribute(\"fill\", \"none\");\n    this.path.setAttribute(\"stroke\", color);\n    this.path.setAttribute(\"stroke-linecap\", \"round\");\n    this.path.setAttribute(\"stroke-width\", strokeWidth);\n    this.buffer = [];\n    var pt = this.getMousePosition(e);\n    this.appendToBuffer(pt);\n    this.strPath = \"M\" + pt.x + \" \" + pt.y;\n    this.path.setAttribute(\"d\", this.strPath);\n    this.appendPathToSvg(this.path);\n  }\n\n  setTool(tool) {\n    this.tool = tool;\n  }\n\n  setColor(color) {\n    this.color = color;\n  }\n\n  getMousePosition(e) {\n    if (e.touches && e.touches.length > 0) {\n      return {\n        x: e.touches[0].clientX,\n        y: e.touches[0].clientY,\n      };\n    }\n\n    return {\n      x: e.clientX,\n      y: e.clientY,\n    };\n  }\n\n  // Calculate the average point, starting at offset in the buffer\n  getAveragePoint(offset) {\n    var len = this.buffer.length;\n    if (len % 2 === 1 || len >= this.bufferSize) {\n      var totalX = 0;\n      var totalY = 0;\n      var pt, i;\n      var count = 0;\n      for (i = offset; i < len; i++) {\n        count++;\n        pt = this.buffer[i];\n        totalX += pt.x;\n        totalY += pt.y;\n      }\n      return {\n        x: totalX / count,\n        y: totalY / count,\n      };\n    }\n    return null;\n  }\n\n  updateSvgPath() {\n    var pt = this.getAveragePoint(0);\n\n    if (pt) {\n      // Get the smoothed part of the path that will not change\n      this.strPath += \" L\" + pt.x + \" \" + pt.y;\n\n      // Get the last part of the path (close to the current mouse position)\n      // This part will change if the mouse moves again\n      var tmpPath = \"\";\n      for (var offset = 2; offset < this.buffer.length; offset += 2) {\n        pt = this.getAveragePoint(offset);\n        tmpPath += \" L\" + pt.x + \" \" + pt.y;\n      }\n\n      // Set the complete current path coordinates\n      this.path.setAttribute(\"d\", this.strPath + tmpPath);\n    }\n  }\n\n  appendToBuffer(pt) {\n    this.buffer.push(pt);\n    while (this.buffer.length > this.bufferSize) {\n      this.buffer.shift();\n    }\n  }\n\n  appendPathToSvg(path) {\n    this.svgElement.appendChild(path);\n    this.pathBuffer.push(path);\n    this.rerender();\n  }\n\n  removeLastAddedPathFromSvg() {\n    if (this.pathBuffer.length <= 0 || !this.svgElement) {\n      return;\n    }\n\n    this.svgElement.removeChild(this.pathBuffer[this.pathBuffer.length - 1]);\n\n    this.pathBuffer.pop();\n\n    this.rerender();\n  }\n\n  fadeOutToolbar() {\n    var fadeTarget = document.querySelector(\".bb-capture-toolbar\");\n    if (fadeTarget) {\n      fadeTarget.style.opacity = 0;\n      fadeTarget.style.pointerEvents = \"none\";\n    }\n  }\n\n  fadeInToolbar() {\n    var fadeTarget = document.querySelector(\".bb-capture-toolbar\");\n    if (fadeTarget) {\n      fadeTarget.style.opacity = 1;\n      fadeTarget.style.pointerEvents = \"auto\";\n    }\n  }\n}\n","export class GleapScrollStopper {\n  keys = { 37: 1, 38: 1, 39: 1, 40: 1 };\n  supportsPassive = false;\n  wheelOpt = this.supportsPassive ? { passive: false } : false;\n  wheelEvent =\n    \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : \"mousewheel\";\n  scrollDisabled = false;\n\n  // GleapScrollStopper singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapScrollStopper();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  constructor() {\n    const self = this;\n    try {\n      window.addEventListener(\n        \"test\",\n        null,\n        Object.defineProperty({}, \"passive\", {\n          get: function () {\n            self.supportsPassive = true;\n            self.wheelOpt = self.supportsPassive ? { passive: false } : false;\n          },\n        })\n      );\n    } catch (e) {}\n  }\n\n  preventDefault(e) {\n    e.preventDefault();\n  }\n\n  preventDefaultForScrollKeys(e) {\n    if (this.keys && this.keys[e.keyCode]) {\n      this.preventDefault(e);\n      return false;\n    }\n  }\n\n  static disableScroll() {\n    const instance = this.getInstance();\n    if (instance.scrollDisabled) {\n      return;\n    }\n\n    instance.scrollDisabled = true;\n\n    window.addEventListener(\"DOMMouseScroll\", instance.preventDefault, false); // older FF\n    window.addEventListener(\n      instance.wheelEvent,\n      instance.preventDefault,\n      instance.wheelOpt\n    ); // modern desktop\n    window.addEventListener(\n      \"touchmove\",\n      instance.preventDefault,\n      instance.wheelOpt\n    ); // mobile\n    window.addEventListener(\n      \"keydown\",\n      instance.preventDefaultForScrollKeys,\n      false\n    );\n  }\n\n  static enableScroll() {\n    const instance = this.getInstance();\n    if (!instance.scrollDisabled) {\n      return;\n    }\n\n    instance.scrollDisabled = false;\n    window.removeEventListener(\n      \"DOMMouseScroll\",\n      instance.preventDefault,\n      false\n    );\n    window.removeEventListener(\n      instance.wheelEvent,\n      instance.preventDefault,\n      instance.wheelOpt\n    );\n    window.removeEventListener(\n      \"touchmove\",\n      instance.preventDefault,\n      instance.wheelOpt\n    );\n    window.removeEventListener(\n      \"keydown\",\n      instance.preventDefaultForScrollKeys,\n      false\n    );\n  }\n}\n","import Gleap, { GleapTranslationManager, GleapFrameManager } from \"./Gleap\";\nimport { ScreenDrawer } from \"./ScreenDrawer\";\nimport { GleapScrollStopper } from \"./GleapScrollStopper\";\nimport { GleapScreenRecorder } from \"./GleapScreenRecorder\";\nimport { loadIcon } from \"./UI\";\n\nexport default class GleapMarkerManager {\n  type = \"screenshot\";\n  dragCursor = null;\n  screenRecorder = null;\n  callback = null;\n  screenDrawer = null;\n  escListener = null;\n  pageLeaveListener = null;\n  overrideLanguage = Gleap.getInstance().overrideLanguage;\n\n  constructor(type) {\n    this.type = type;\n  }\n\n  hideWidgetUI() {\n    const feedbackButton = document.querySelector(\".bb-feedback-button\");\n    if (feedbackButton) {\n      feedbackButton.style.display = \"none\";\n    }\n\n    const dialogUI = document.querySelector(\".bb-feedback-dialog-container\");\n    if (dialogUI) {\n      dialogUI.style.display = \"none\";\n    }\n  }\n\n  showWidgetUI() {\n    if (this.type === \"screenshot\") {\n      GleapScrollStopper.enableScroll();\n    }\n\n    // Stop screenrecording.\n    if (this.screenRecorder) {\n      this.screenRecorder.stopScreenRecording();\n    }\n\n    // Unregister ESC listener\n    this.unregisterListeners();\n\n    // Cleanup mouse pointer\n    this.cleanupMousePointer();\n\n    if (this.screenDrawer) {\n      this.screenDrawer.destroy();\n    }\n\n    // Remove the toolbar UI\n    const dialog = document.querySelector(\".bb-capture-toolbar\");\n    if (dialog) {\n      dialog.remove();\n    }\n\n    // Capture SVG ref\n    const captureSVG = document.querySelector(\".bb-capture-svg\");\n    if (captureSVG) {\n      captureSVG.classList.add(\"bb-capture-svg--preview\");\n    }\n\n    // Remove the preview UI\n    const videoPreviewContainer = document.querySelector(\".bb-capture-preview\");\n    if (videoPreviewContainer) {\n      videoPreviewContainer.remove();\n    }\n\n    // Feedback button\n    const feedbackButton = document.querySelector(\".bb-feedback-button\");\n    if (feedbackButton) {\n      feedbackButton.style.display = \"flex\";\n    }\n\n    // Feedback dialog container\n    const dialogUI = document.querySelector(\".bb-feedback-dialog-container\");\n    if (dialogUI) {\n      dialogUI.style.display = \"block\";\n    }\n\n    // Dismiss button\n    const dismissUI = document.querySelector(\".bb-capture-dismiss\");\n    if (dismissUI) {\n      dismissUI.style.display = \"none\";\n    }\n\n    // Hide the color picker\n    const colorPicker = document.querySelector(\n      \".bb-capture-toolbar-item-colorpicker\"\n    );\n    if (colorPicker) {\n      colorPicker.style.display = \"none\";\n    }\n\n    // Border layer\n    const borderLayer = document.querySelector(\n      \".bb-capture-editor-borderlayer\"\n    );\n    if (borderLayer) {\n      borderLayer.style.display = \"none\";\n    }\n  }\n\n  clear() {\n    const captureEditor = document.querySelector(\".bb-capture-editor\");\n    if (captureEditor) {\n      captureEditor.remove();\n    }\n  }\n\n  setMouseMove(x, y) {\n    if (!this.dragCursor) {\n      return;\n    }\n\n    this.dragCursor.style.left = `${x + 6}px`;\n    this.dragCursor.style.top = `${y - 26}px`;\n    this.dragCursor.style.right = null;\n  }\n\n  mouseMoveEventHandler(e) {\n    const x = e.clientX;\n    const y = e.clientY;\n    this.setMouseMove(x, y);\n  }\n\n  touchMoveEventHandler(e) {\n    const x = e.touches[0].clientX;\n    const y = e.touches[0].clientY;\n    this.setMouseMove(x, y);\n  }\n\n  setupMousePointer() {\n    const self = this;\n    this.dragCursor = document.querySelector(\".bb-capture-editor-drag-info\");\n    const captureSVG = document.querySelector(\".bb-capture-svg\");\n    captureSVG.addEventListener(\"mouseenter\", (e) => {\n      self.dragCursor.style.opacity = 1;\n    });\n\n    captureSVG.addEventListener(\"mouseleave\", (e) => {\n      self.dragCursor.style.opacity = 0;\n    });\n\n    document.documentElement.addEventListener(\n      \"mousemove\",\n      this.mouseMoveEventHandler.bind(this)\n    );\n    document.documentElement.addEventListener(\n      \"touchmove\",\n      this.touchMoveEventHandler.bind(this)\n    );\n  }\n\n  cleanupMousePointer() {\n    document.documentElement.removeEventListener(\n      \"mousemove\",\n      this.mouseMoveEventHandler\n    );\n    document.documentElement.removeEventListener(\n      \"touchmove\",\n      this.touchMoveEventHandler\n    );\n\n    // Clean up toolbar drag listeners\n    const dragHandle = document.querySelector(\".bb-capture-toolbar-item[data-type='drag']\");\n    if (dragHandle) {\n      dragHandle.removeEventListener(\"mousedown\", this.dragStart);\n      dragHandle.removeEventListener(\"touchstart\", this.dragStart);\n      document.removeEventListener(\"mousemove\", this.drag);\n      document.removeEventListener(\"touchmove\", this.drag);\n      document.removeEventListener(\"mouseup\", this.dragEnd);\n      document.removeEventListener(\"touchend\", this.dragEnd);\n    }\n\n    if (this.dragCursor) {\n      this.dragCursor.remove();\n    }\n  }\n\n  createEditorUI() {\n    // Add HTML for drawing and recording\n    var bugReportingEditor = document.createElement(\"div\");\n    bugReportingEditor.className = \"bb-capture-editor\";\n    bugReportingEditor.innerHTML = `\n          <div class=\"bb-capture-editor-borderlayer\"></div>\n          <svg class=\"bb-capture-svg\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" xml:space=\"preserve\"></svg>\n          <div class=\"bb-capture-dismiss\">${loadIcon(\"dismiss\")}</div>\n          <div class='bb-capture-editor-drag-info'>${loadIcon(\"rect\")}</div>\n          <div class=\"bb-capture-toolbar\">\n            <div class=\"bb-capture-toolbar-item bb-capture-item-rec bb-capture-toolbar-item-tool drag-handle-item\" data-type=\"drag\">\n              ${loadIcon(\"drag\")}\n            </div>\n            ${this.type === \"capture\"\n        ? `<div class=\"bb-capture-toolbar-item bb-capture-item-rec bb-capture-toolbar-item-recording\" data-type=\"recording\">\n                  ${loadIcon(\"recorderon\")}\n                  ${loadIcon(\"recorderoff\")}\n                  <span class=\"bb-tooltip bb-tooltip-screen-recording\"></span>\n                </div>\n                <div class=\"bb-capture-toolbar-item bb-capture-item-rec\" data-type=\"mic\">\n                  ${loadIcon(\"mic\")}\n                  <span class=\"bb-tooltip bb-tooltip-audio-recording\"></span>\n                </div>\n                <div class=\"bb-capture-toolbar-item-timer bb-capture-item-rec\">2:00</div>\n                <div class=\"bb-capture-toolbar-item-spacer\"></div>\n                <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem bb-capture-toolbar-item-tool\" data-type=\"pointer\">\n                  ${loadIcon(\"pointer\")}\n                </div>`\n        : \"\"\n      }\n            <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem bb-capture-toolbar-item-tool bb-capture-toolbar-item--active\" data-type=\"rect\">\n              ${loadIcon(\"rect\")}\n            </div>\n            <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem bb-capture-toolbar-item-tool\" data-type=\"pen\">\n              ${loadIcon(\"pen\")}\n            </div>\n            <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem bb-capture-toolbar-item-tool\" data-type=\"blur\">\n              ${loadIcon(\"blur\")}\n            </div>\n            <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem\" data-type=\"colorpicker\">\n              <div class=\"bb-capture-toolbar-item-selectedcolor\"></div>\n              <span class=\"bb-tooltip\">${GleapTranslationManager.translateText(\n        `pickAColor`\n      )}</span>\n            </div>\n            <div class=\"bb-capture-toolbar-item bb-capture-toolbar-drawingitem bb-capture-toolbar-item-tool\" data-type=\"undo\">\n              ${loadIcon(\"undo\")}\n              <span class=\"bb-tooltip\">${GleapTranslationManager.translateText(\n        `undo`\n      )}</span>\n            </div>\n            ${this.type !== \"capture\"\n        ? `<div class=\"bb-capture-button-next\">${GleapTranslationManager.translateText(\n          `next`\n        )}</div>`\n        : \"\"\n      }\n          </div>\n          <div class=\"bb-capture-toolbar-item-colorpicker\">\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#EB144C\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#FF6705\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#FDB903\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#9900EE\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#00D082\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#0A93E4\"></div>\n            <div class=\"bb-capture-toolbar-item-color\" data-color=\"#CCCCCC\"></div>\n          </div>\n          <div class=\"bb-capture-preview\">\n            <div class=\"bb-capture-preview-inner\">\n              <video controls muted autoplay></video>\n              <div class=\"bb-capture-preview-buttons\">\n                <div class=\"bb-capture-preview-retrybutton\">${GleapTranslationManager.translateText(\n        `retry`\n      )}</div>\n                <div class=\"bb-capture-preview-sendbutton\">${GleapTranslationManager.translateText(\n        `next`\n      )}</div>\n              </div>\n            </div>\n          </div>\n        `;\n    document.body.appendChild(bugReportingEditor);\n\n    // Set RTL layout\n    bugReportingEditor.setAttribute(\"dir\", GleapTranslationManager.getInstance().isRTLLayout ? \"rtl\" : \"ltr\");\n  }\n\n  showNextStep = function () {\n    // Adapt the UI\n    this.showWidgetUI();\n\n    if (this.callback) {\n      GleapFrameManager.getInstance().sendMessage({\n        name: \"set-form-data\",\n        data: {\n          formKey: \"capture\",\n          data: {\n            value: this.type,\n            dirty: true,\n          }\n        }\n      });\n      this.callback(true);\n    }\n  };\n\n  unregisterListeners() {\n    if (this.escListener) {\n      document.removeEventListener(\"keydown\", this.escListener);\n    }\n\n    if (this.pageLeaveListener) {\n      window.removeEventListener(\"beforeunload\", this.pageLeaveListener);\n    }\n  }\n\n  registerListeners() {\n    const self = this;\n\n    // Esc listener\n    this.escListener = function (evt) {\n      evt = evt || window.event;\n      var isEscape = false;\n      var isEnter = false;\n      if (\"key\" in evt) {\n        isEscape = evt.key === \"Escape\";\n        isEnter = evt.key === \"Enter\";\n      }\n      if (isEscape) {\n        self.dismiss();\n      }\n      if (self.type === \"screenshot\" && isEnter) {\n        self.showNextStep();\n      }\n    };\n    document.addEventListener(\"keydown\", this.escListener);\n\n    // Page leave listener\n    this.pageLeaveListener = function (event) {\n      event.preventDefault();\n      event.returnValue = \"\";\n    };\n    window.addEventListener(\"beforeunload\", this.pageLeaveListener);\n  }\n\n  show(callback) {\n    this.callback = callback;\n    const self = this;\n\n    // Register for listeners\n    this.registerListeners();\n\n    // Hide widget UI\n    this.hideWidgetUI();\n\n    // Create the editor UI\n    this.createEditorUI();\n\n    // Setup the mouse pointer\n    this.setupMousePointer();\n\n    // Setup screenshot data\n    if (this.type === \"screenshot\") {\n      // Overwrite snapshot position\n      Gleap.getInstance().setGlobalDataItem(\"snapshotPosition\", {\n        x: window.scrollX,\n        y: window.scrollY,\n      });\n\n      // Disable scroll\n      GleapScrollStopper.disableScroll();\n    } else {\n      // Setup screen recording\n      this.setupScreenRecording();\n    }\n\n    // Hook up the drawing.\n    this.screenDrawer = new ScreenDrawer(\n      this.captureScreenDrawerRerender.bind(this)\n    );\n\n    this.setupColorPicker();\n    this.setupToolbar();\n  }\n\n  setupColorPicker() {\n    const self = this;\n    const selectedColor = document.querySelector(\n      \".bb-capture-toolbar-item-selectedcolor\"\n    );\n    const colorItems = document.querySelectorAll(\n      \".bb-capture-toolbar-item-color\"\n    );\n    const colorpicker = document.querySelector(\n      \".bb-capture-toolbar-item-colorpicker\"\n    );\n\n    for (var i = 0; i < colorItems.length; i++) {\n      const colorItem = colorItems[i];\n      const hexColor = colorItem.getAttribute(\"data-color\");\n      colorItem.style.backgroundColor = hexColor;\n      colorItem.onclick = function () {\n        if (colorItem) {\n          self.screenDrawer.setColor(hexColor);\n          if (colorpicker) {\n            colorpicker.style.display = \"none\";\n          }\n          selectedColor.style.backgroundColor = colorItem.style.backgroundColor;\n          GleapMarkerManager.setPenColor(hexColor);\n        }\n      };\n    }\n  }\n\n  static setPenColor(hexColor) {\n    const penTips = document.querySelectorAll(\".bb-pen-tip\");\n    for (var j = 0; j < penTips.length; j++) {\n      penTips[j].style.fill = hexColor;\n    }\n  }\n\n  dismiss() {\n    this.showWidgetUI();\n\n    if (this.callback) {\n      this.callback(false);\n    }\n  }\n\n  setupToolbar() {\n    const self = this;\n    const toolbar = document.querySelector(\".bb-capture-toolbar\");\n    let isDragging = false;\n    let currentX;\n    let currentY;\n    let initialX;\n    let initialY;\n    let xOffset = 0;\n    let yOffset = 0;\n\n    const getTransformValues = () => {\n      const transform = window.getComputedStyle(toolbar).transform;\n      if (transform === 'none') return { x: 0, y: 0 };\n      const matrix = new DOMMatrix(transform);\n      return { x: matrix.m41, y: matrix.m42 };\n    };\n\n    this.dragStart = (e) => {\n      const { x, y } = getTransformValues();\n      xOffset = x;\n      yOffset = y;\n\n      if (e.type === \"mousedown\") {\n        initialX = e.clientX - xOffset;\n        initialY = e.clientY - yOffset;\n      } else {\n        initialX = e.touches[0].clientX - xOffset;\n        initialY = e.touches[0].clientY - yOffset;\n      }\n      isDragging = true;\n    };\n\n    this.dragEnd = () => {\n      isDragging = false;\n    };\n\n    this.drag = (e) => {\n      if (isDragging) {\n        e.preventDefault();\n        if (e.type === \"mousemove\") {\n          currentX = e.clientX - initialX;\n          currentY = e.clientY - initialY;\n        } else {\n          currentX = e.touches[0].clientX - initialX;\n          currentY = e.touches[0].clientY - initialY;\n        }\n\n        xOffset = currentX;\n        yOffset = currentY;\n\n        toolbar.style.transform = `translate(${currentX}px, ${currentY}px)`;\n      }\n    };\n\n    const dragHandle = document.querySelector(\".bb-capture-toolbar-item[data-type='drag']\");\n\n    dragHandle.addEventListener(\"mousedown\", this.dragStart);\n    dragHandle.addEventListener(\"touchstart\", this.dragStart);\n    document.addEventListener(\"mousemove\", this.drag);\n    document.addEventListener(\"touchmove\", this.drag);\n    document.addEventListener(\"mouseup\", this.dragEnd);\n    document.addEventListener(\"touchend\", this.dragEnd);\n\n    // Hook up dismiss button\n    const dismissButton = document.querySelector(\".bb-capture-dismiss\");\n    dismissButton.onclick = function () {\n      self.dismiss();\n    };\n\n    // Hook up send button\n    const nextButton = document.querySelector(\".bb-capture-button-next\");\n    if (nextButton) {\n      nextButton.onclick = this.showNextStep.bind(this);\n    }\n\n    const colorpicker = document.querySelector(\n      \".bb-capture-toolbar-item-colorpicker\"\n    );\n\n    // Capture SVG ref\n    const captureSVG = document.querySelector(\".bb-capture-svg\");\n\n    const chooseTool = function (type, toolbarItem) {\n      const toolbarTools = document.querySelectorAll(\n        \".bb-capture-toolbar-item-tool\"\n      );\n      for (let j = 0; j < toolbarTools.length; j++) {\n        toolbarTools[j].classList.remove(\"bb-capture-toolbar-item--active\");\n      }\n      toolbarItem.classList.add(\"bb-capture-toolbar-item--active\");\n      self.screenDrawer.setTool(type);\n      self.dragCursor.innerHTML = \"\";\n      if (type === \"pointer\") {\n        captureSVG.style.pointerEvents = \"none\";\n      } else {\n        captureSVG.style.pointerEvents = \"auto\";\n        try {\n          var svgClone = toolbarItem.querySelector(\"svg\").cloneNode(true);\n          if (svgClone && self.dragCursor) {\n            self.dragCursor.appendChild(svgClone);\n          }\n        } catch (exp) { }\n      }\n    }\n\n    // Setup toolbar items\n    var toolbarItems = document.querySelectorAll(\".bb-capture-toolbar-item\");\n    for (var i = 0; i < toolbarItems.length; i++) {\n      const toolbarItem = toolbarItems[i];\n      toolbarItem.onclick = function () {\n        const type = toolbarItem.getAttribute(\"data-type\");\n        if (colorpicker && type !== \"colorpicker\") {\n          colorpicker.style.display = \"none\";\n        }\n\n        // Mic & recording buttons\n        if (type === \"mic\") {\n          self.screenRecorder.toggleAudio();\n        }\n        if (type === \"recording\") {\n          if (self.screenRecorder.isRecording) {\n            self.screenRecorder.stopScreenRecording();\n          } else {\n            self.screenRecorder.startScreenRecording();\n            chooseTool(\"pointer\", document.querySelector(\".bb-capture-toolbar-item[data-type='pointer']\"));\n          }\n        }\n\n        // Marker buttons\n        if (self.type === \"capture\" && !self.screenRecorder.isRecording) {\n          // Inactivate buttons.\n          return;\n        }\n        if (\n          type === \"pen\" ||\n          type === \"blur\" ||\n          type === \"rect\" ||\n          type === \"pointer\"\n        ) {\n          chooseTool(type, toolbarItem);\n        }\n        if (type === \"colorpicker\") {\n          if (colorpicker.style.display === \"flex\") {\n            colorpicker.style.display = \"none\";\n          } else {\n            colorpicker.style.display = \"flex\";\n          }\n        }\n        if (type === \"undo\") {\n          self.screenDrawer.removeLastAddedPathFromSvg();\n        }\n      };\n    }\n  }\n\n  captureScreenDrawerRerender() {\n    if (!this.screenDrawer) {\n      return;\n    }\n\n    const itemInactiveClass = \"bb-capture-editor-item-inactive\";\n    const toolbarItems = document.querySelectorAll(\".bb-capture-toolbar-item\");\n    for (var i = 0; i < toolbarItems.length; i++) {\n      const toolbarItem = toolbarItems[i];\n      const type = toolbarItem.getAttribute(\"data-type\");\n      switch (type) {\n        case \"undo\":\n          if (\n            this.screenDrawer.pathBuffer != null &&\n            this.screenDrawer.pathBuffer.length > 0\n          ) {\n            toolbarItem.classList.remove(itemInactiveClass);\n          } else {\n            toolbarItem.classList.add(itemInactiveClass);\n          }\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  captureRenderer() {\n    if (!this.screenRecorder) {\n      return;\n    }\n\n    if (this.screenRecorder.file) {\n      Gleap.getInstance().setGlobalDataItem(\"screenRecordingData\", this.screenRecorder.file);\n    }\n\n    const itemInactiveClass = \"bb-capture-editor-item-inactive\";\n    const timerLabel = document.querySelector(\".bb-capture-toolbar-item-timer\");\n    const toolbarItems = document.querySelectorAll(\".bb-capture-toolbar-item\");\n    const screenRecordingTooltip = document.querySelector(\n      \".bb-tooltip-screen-recording\"\n    );\n    const audioRecordingTooltip = document.querySelector(\n      \".bb-tooltip-audio-recording\"\n    );\n    const captureEditor = document.querySelector(\".bb-capture-editor\");\n    const recordingClass = \"bb-capture-editor-recording\";\n    const notRecordingClass = \"bb-capture-editor-notrecording\";\n    if (this.screenRecorder.isRecording) {\n      captureEditor.classList.add(recordingClass);\n      captureEditor.classList.remove(notRecordingClass);\n    } else {\n      captureEditor.classList.add(notRecordingClass);\n      captureEditor.classList.remove(recordingClass);\n    }\n    \n    // Update UI.\n    const dialog = document.querySelector(\".bb-capture-toolbar\");\n    const videoPreviewContainer = document.querySelector(\".bb-capture-preview\");\n    videoPreviewContainer.style.display = this.screenRecorder.file\n      ? \"flex\"\n      : \"none\";\n    dialog.style.display = !this.screenRecorder.file ? \"flex\" : \"none\";\n\n    for (var i = 0; i < toolbarItems.length; i++) {\n      const toolbarItem = toolbarItems[i];\n      const type = toolbarItem.getAttribute(\"data-type\");\n      switch (type) {\n        case \"mic\":\n          if (\n            this.screenRecorder.audioAvailable &&\n            this.screenRecorder.available\n          ) {\n            toolbarItem.classList.remove(itemInactiveClass);\n            if (!this.screenRecorder.audioMuted) {\n              toolbarItem.classList.remove(\n                \"bb-capture-toolbar-item--inactivecross\"\n              );\n              audioRecordingTooltip.innerHTML = GleapTranslationManager.translateText(\n                \"mute\"\n              );\n            } else {\n              toolbarItem.classList.add(\n                \"bb-capture-toolbar-item--inactivecross\"\n              );\n              audioRecordingTooltip.innerHTML = GleapTranslationManager.translateText(\n                \"unmute\"\n              );\n            }\n          } else {\n            toolbarItem.classList.add(itemInactiveClass);\n            toolbarItem.classList.add(\"bb-capture-toolbar-item--inactivecross\");\n            audioRecordingTooltip.innerHTML = GleapTranslationManager.translateText(\n              \"browserNotSupported\"\n            );\n          }\n          break;\n\n        case \"recording\":\n          if (this.screenRecorder.available) {\n            toolbarItem.classList.remove(itemInactiveClass);\n            if (this.screenRecorder.isRecording) {\n              toolbarItem.setAttribute(\"data-active\", \"true\");\n              screenRecordingTooltip.innerHTML = GleapTranslationManager.translateText(\n                \"stopRecording\"\n              );\n              timerLabel.style.display = \"block\";\n            } else {\n              toolbarItem.setAttribute(\"data-active\", \"false\");\n              screenRecordingTooltip.innerHTML = GleapTranslationManager.translateText(\n                \"startRecording\"\n              );\n              timerLabel.style.display = \"none\";\n            }\n          } else {\n            // Recording is not available.\n            toolbarItem.classList.add(itemInactiveClass);\n            screenRecordingTooltip.innerHTML = GleapTranslationManager.translateText(\n              \"browserNotSupported\"\n            );\n          }\n          break;\n\n        default:\n          break;\n      }\n    }\n  }\n\n  setupScreenRecording() {\n    const self = this;\n\n    // Hook preview next button\n    const nextButtonPreview = document.querySelector(\n      \".bb-capture-preview-sendbutton\"\n    );\n    nextButtonPreview.onclick = this.showNextStep.bind(this);\n\n    // Hook retry button\n    const retryButton = document.querySelector(\n      \".bb-capture-preview-retrybutton\"\n    );\n    retryButton.onclick = function () {\n      self.screenRecorder.clearPreview();\n      if (self.screenDrawer) {\n        self.screenDrawer.clear();\n      }\n    };\n\n    // Setup screen recorder\n    this.screenRecorder = new GleapScreenRecorder(\n      this.captureRenderer.bind(this),\n      GleapTranslationManager.translateText(\n        \"accessToScreenSharingDenied\"\n      )\n    );\n  }\n}\n","import {\n  GleapFrameManager,\n  GleapFeedbackButtonManager,\n  GleapConfigManager,\n} from \"./Gleap\";\n\nexport default class GleapTranslationManager {\n  overrideLanguage = \"\";\n  isRTLLayout = false;\n\n  // GleapTranslationManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapTranslationManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Returns the language to override the default language.\n   * @returns {string}\n   */\n  getOverrideLanguage() {\n    return this.overrideLanguage;\n  }\n\n  /**\n   * Sets the language to override the default language.\n   * @param {*} language\n   */\n  setOverrideLanguage(language) {\n    this.overrideLanguage = language;\n  }\n\n  updateRTLSupport() {\n    // Update RTL support.\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n\n    this.isRTLLayout = false;\n    if (\n      flowConfig &&\n      flowConfig.localizationOptions &&\n      flowConfig.localizationOptions.rtl\n    ) {\n      this.isRTLLayout = true;\n    }\n\n    GleapFeedbackButtonManager.getInstance().updateFeedbackButtonState();\n    GleapFrameManager.getInstance().updateFrameStyle();\n  }\n\n  getActiveLanguage() {\n    var language = \"en\";\n    if (typeof navigator !== \"undefined\") {\n      language = navigator.language.toLowerCase();\n    }\n\n    // Get language from HTML lang attribute if available\n    if (typeof document !== \"undefined\" && document.documentElement) {\n      const htmlLang = document.documentElement.lang;\n      if (htmlLang && htmlLang.trim() !== \"\") {\n        language = htmlLang.toLowerCase().trim();\n      }\n    }\n\n    if (this.overrideLanguage && this.overrideLanguage !== \"\") {\n      language = this.overrideLanguage.toLowerCase();\n    }\n\n    return language;\n  }\n\n  static translateText(key) {\n    if (!key) {\n      return \"\";\n    }\n\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n    const staticTranslation = flowConfig.staticTranslations;\n\n    if (staticTranslation && staticTranslation[key]) {\n      return staticTranslation[key];\n    }\n\n    return key;\n  }\n\n  static translateTextWithVars(key, vars) {\n    if (!key) {\n      return \"\";\n    }\n\n    var template = this.translateText(key);\n    if (!template) {\n      return \"\";\n    }\n\n    return template.replace(/{(\\w+)}/g, function (_, key) {\n      return vars[key];\n    });\n  }\n}\n","import Gleap from \"./Gleap\";\n\nexport default class GleapShortcutListener {\n  shortCutListener = undefined;\n\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapShortcutListener();\n    }\n    return this.instance;\n  }\n\n  start() {\n    if (this.shortCutListener) {\n      return;\n    }\n\n    const charForEvent = function (event) {\n      var code;\n\n      if (event.key !== undefined) {\n        code = event.key;\n      } else if (event.keyIdentifier !== undefined) {\n        code = event.keyIdentifier;\n      } else if (event.keyCode !== undefined) {\n        code = event.keyCode;\n      }\n\n      return code;\n    };\n\n    this.shortCutListener = document.addEventListener(\"keyup\", function (e) {\n      const char = charForEvent(e);\n      if (\n        e.ctrlKey &&\n        (char === \"u\" || char === \"U\" || char === 85)\n      ) {\n        Gleap.startFeedbackFlowWithOptions(\"bugreporting\", {\n          autostartDrawing: true\n        });\n      }\n    });\n  }\n\n  stop() {\n    if (this.shortCutListener) {\n      document.removeEventListener(\"keyup\", this.shortCutListener);\n      this.shortCutListener = undefined;\n    }\n  }\n}","\nexport default class GleapPreFillManager {\n    formPreFill = {};\n  \n    // GleapPreFillManager singleton\n    static instance;\n    static getInstance() {\n      if (!this.instance) {\n        this.instance = new GleapPreFillManager();\n      }\n      return this.instance;\n    }\n  }\n  ","import Gleap, {\n  GleapFeedbackButtonManager,\n  GleapConfigManager,\n  GleapSession,\n  GleapAudioManager,\n  GleapTranslationManager,\n  GleapEventManager,\n} from \"./Gleap\";\nimport { loadFromGleapCache, saveToGleapCache } from \"./GleapHelper\";\nimport { loadIcon } from \"./UI\";\n\nexport default class GleapNotificationManager {\n  notificationContainer = null;\n  notifications = [];\n  unreadCount = 0;\n  unreadNotificationsKey = \"unread-notifications\";\n  isTabActive = true;\n  showNotificationBadge = true;\n\n  // Keep track of the current index of news being shown\n  currentNewsIndex = 0;\n\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapNotificationManager();\n    }\n    return this.instance;\n  }\n\n  constructor() {}\n\n  updateTabBarNotificationCount() {\n    GleapEventManager.notifyEvent(\"unread-count-changed\", this.unreadCount);\n  }\n\n  injectNotificationUI() {\n    if (this.notificationContainer) {\n      return;\n    }\n\n    var elem = document.createElement(\"div\");\n    elem.className = \"gleap-notification-container gleap-font\";\n    document.body.appendChild(elem);\n    this.notificationContainer = elem;\n\n    this.updateContainerStyle();\n    this.reloadNotificationsFromCache();\n  }\n\n  reloadNotificationsFromCache() {\n    try {\n      const notificationsFromCache = loadFromGleapCache(\n        this.unreadNotificationsKey\n      );\n      if (notificationsFromCache && notificationsFromCache.length > 0) {\n        let nots = notificationsFromCache.filter(\n          (notification) =>\n            new Date(notification.createdAt) >\n            new Date(Date.now() - 1 * 60 * 60 * 1000)\n        );\n\n        if (nots.length > 2) {\n          this.notifications = nots.splice(0, nots.length - 2);\n        } else {\n          this.notifications = nots;\n        }\n        this.renderNotifications();\n      }\n    } catch (exp) {}\n  }\n\n  setNotificationCount(unreadCount) {\n    this.unreadCount = unreadCount;\n    this.updateTabBarNotificationCount();\n\n    // Update the badge counter.\n    GleapFeedbackButtonManager.getInstance().updateNotificationBadge(\n      this.unreadCount\n    );\n  }\n\n  showNotification(notification) {\n    if (!(this.notificationContainer && notification && notification.data)) {\n      return;\n    }\n\n    const notificationsForOutbound = this.notifications.find(\n      (e) => notification.outbound === e.outbound\n    );\n    if (!notificationsForOutbound) {\n      this.notifications.push(notification);\n\n      // Play sound only if it's a new one\n      if (notification.sound) {\n        GleapAudioManager.ping();\n      }\n    }\n    if (this.notifications.length > 2) {\n      this.notifications.shift();\n    }\n\n    // Persist notifications.\n    saveToGleapCache(this.unreadNotificationsKey, this.notifications);\n\n    this.renderNotifications();\n  }\n\n  /**\n   * Renders notifications. For news-type notifications, only show\n   * one at a time if there are multiple, with a \"Next\" button to cycle.\n   * The \"Next\" button + pagination are placed within the news content area.\n   *\n   * - Sorts news notifications by createdAt (oldest first).\n   * - Shows \"Done\" on the last news item instead of \"Next\".\n   */\n  renderNotifications() {\n    if (!this.notificationContainer) {\n      return;\n    }\n\n    // Clear the existing notifications in the container (UI only).\n    this.clearAllNotifications(true);\n\n    // Append a close button (which clears everything).\n    const clearElem = document.createElement(\"div\");\n    clearElem.onclick = () => {\n      this.clearAllNotifications();\n      // Reset the news index when everything is closed\n      this.currentNewsIndex = 0;\n    };\n    clearElem.className = \"gleap-notification-close\";\n    clearElem.innerHTML = loadIcon(\"dismiss\");\n    this.notificationContainer.appendChild(clearElem);\n\n    // Separate out news notifications vs. others, then sort news by date ascending\n    const newsNotifications = this.notifications\n      .filter((n) => n.data.news)\n      .sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));\n\n    const otherNotifications = this.notifications.filter((n) => !n.data.news);\n\n    // --- Render NEWS notifications (with pagination) ---\n    if (newsNotifications.length > 0) {\n      // We only show ONE news item at a time if there's more than one\n      const currentIndex =\n        this.currentNewsIndex < newsNotifications.length\n          ? this.currentNewsIndex\n          : 0;\n      const currentNews = newsNotifications[currentIndex];\n\n      // Main wrapper for the news notification\n      const newsElem = document.createElement(\"div\");\n      newsElem.className = \"gleap-notification-item-news\";\n\n      // The container that holds image + content\n      const newsContainerElem = document.createElement(\"div\");\n      newsContainerElem.className = \"gleap-notification-item-news-container\";\n\n      // Create the image element (clickable)\n      if (\n        currentNews.data.coverImageUrl &&\n        currentNews.data.coverImageUrl !== \"\" &&\n        !currentNews.data.coverImageUrl.includes(\"NewsImagePlaceholder\")\n      ) {\n        const newsImageElem = document.createElement(\"img\");\n        newsImageElem.className = \"gleap-notification-item-news-image\";\n        newsImageElem.src = currentNews.data.coverImageUrl;\n\n        // Only the image is clickable\n        newsImageElem.onclick = (e) => {\n          e.stopPropagation();\n          this.openNews(currentNews);\n        };\n        newsContainerElem.appendChild(newsImageElem);\n      }\n\n      // The content container\n      const newsContentElem = document.createElement(\"div\");\n      newsContentElem.className = \"gleap-notification-item-news-content\";\n\n      // Title (clickable)\n      const newsTitleElem = document.createElement(\"div\");\n      newsTitleElem.className = \"gleap-notification-item-news-content-title\";\n\n      let content = currentNews.data.text || \"\";\n      content = content.replaceAll(\n        \"{{name}}\",\n        GleapSession.getInstance().getName()\n      );\n      newsTitleElem.innerText = content;\n\n      // Only the title is clickable\n      newsTitleElem.onclick = (e) => {\n        e.stopPropagation();\n        this.openNews(currentNews);\n      };\n\n      newsContentElem.appendChild(newsTitleElem);\n\n      // Description / Sender\n      const descHTML = this.renderDescription(currentNews);\n      if (descHTML) {\n        const descElem = document.createElement(\"div\");\n        descElem.className = \"gleap-notification-item-news-preview\";\n        descElem.innerHTML = descHTML;\n        newsContentElem.appendChild(descElem);\n      }\n\n      // If there's more than one news item, show pagination + next/done button\n      if (newsNotifications.length > 1) {\n        // Pagination container (still inside .gleap-notification-item-news-content)\n        const paginationElem = document.createElement(\"div\");\n        paginationElem.className = \"gleap-news-pagination\";\n\n        // Show current item / total\n        const pageIndicator = document.createElement(\"span\");\n        pageIndicator.className = \"gleap-news-page-indicator\";\n        pageIndicator.innerText = `${currentIndex + 1} / ${\n          newsNotifications.length\n        }`;\n        paginationElem.appendChild(pageIndicator);\n\n        // Next or Done button\n        const nextBtn = document.createElement(\"button\");\n        nextBtn.className = \"gleap-news-next-button\";\n\n        if (currentIndex < newsNotifications.length - 1) {\n          nextBtn.innerText = GleapTranslationManager.translateText(`next`);\n          nextBtn.onclick = (e) => {\n            e.stopPropagation(); // so we can click the button freely\n            this.currentNewsIndex++;\n            this.renderNotifications();\n          };\n        } else {\n          nextBtn.innerText = GleapTranslationManager.translateText(`done`);\n          nextBtn.onclick = (e) => {\n            e.stopPropagation();\n            this.clearAllNotifications();\n            this.currentNewsIndex = 0;\n          };\n        }\n        paginationElem.appendChild(nextBtn);\n        newsContentElem.appendChild(paginationElem);\n      }\n\n      // Append content to container\n      newsContainerElem.appendChild(newsContentElem);\n      // Append container to the main element\n      newsElem.appendChild(newsContainerElem);\n      // Finally append to the notification container\n      this.notificationContainer.appendChild(newsElem);\n    }\n\n    // --- Render OTHER notifications normally ---\n    for (let i = 0; i < otherNotifications.length; i++) {\n      const notification = otherNotifications[i];\n      let content = notification.data.text || \"\";\n      // Replace placeholders\n      content = content.replaceAll(\n        \"{{name}}\",\n        GleapSession.getInstance().getName()\n      );\n\n      const elem = document.createElement(\"div\");\n      elem.onclick = () => {\n        if (notification.data.conversation) {\n          Gleap.openConversation(\n            notification.data.conversation.shareToken,\n            true\n          );\n        } else if (notification.data.checklist) {\n          Gleap.openChecklist(notification.data.checklist.id, true);\n        } else {\n          Gleap.open();\n        }\n      };\n\n      // Check if it's a checklist type\n      if (notification.data.checklist) {\n        let progress = Math.round(\n          (notification.data.currentStep / notification.data.totalSteps) * 100\n        );\n        if (progress < 100) {\n          progress += 4;\n        }\n\n        elem.className = \"gleap-notification-item-checklist\";\n        elem.innerHTML = `\n          <div class=\"gleap-notification-item-checklist-container\">\n            <div class=\"gleap-notification-item-checklist-content\">\n              <div class=\"gleap-notification-item-checklist-content-title\">\n                ${notification.data.text}\n              </div>\n              <div class=\"gleap-notification-item-checklist-content-progress\">\n                <div class=\"gleap-notification-item-checklist-content-progress-inner\" style=\"width: ${progress}%;\"></div>\n              </div>\n              <div class=\"gleap-notification-item-checklist-content-next\">\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"\n                  fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M4 12H20M20 12L14 6M20 12L14 18\"\n                    stroke=\"currentColor\" stroke-width=\"2\"\n                    stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                </svg>\n                ${notification.data.nextStepTitle}\n              </div>\n            </div>\n          </div>`;\n      } else {\n        // Standard non-news notification\n        elem.className = \"gleap-notification-item\";\n        elem.innerHTML = `\n          ${\n            notification.data.sender &&\n            notification.data.sender.profileImageUrl &&\n            `<img src=\"${notification.data.sender.profileImageUrl}\" />`\n          }\n          <div class=\"gleap-notification-item-container\">\n            ${\n              notification.data.sender\n                ? `<div class=\"gleap-notification-item-sender\">\n                     ${notification.data.sender.name}\n                   </div>`\n                : \"\"\n            }\n            <div class=\"gleap-notification-item-content\">${content}</div>\n          </div>`;\n      }\n      this.notificationContainer.appendChild(elem);\n    }\n\n    const hasNotifications =\n      newsNotifications.length > 0 || otherNotifications.length > 0;\n    if (!hasNotifications) {\n      // Clear the notification container\n      this.clearAllNotifications(true);\n    }\n  }\n\n  /**\n   * Helper to open news from a given notification.\n   */\n  openNews(notification) {\n    if (notification.data.news) {\n      Gleap.openNewsArticle(notification.data.news.id, true);\n    } else {\n      Gleap.open();\n    }\n  }\n\n  /**\n   * Helper to render preview or sender info for news notifications.\n   */\n  renderDescription(notification) {\n    const { previewText, sender } = notification.data;\n    if (previewText && previewText.length > 0) {\n      return previewText;\n    } else if (sender) {\n      // Return HTML for the sender name + optional image\n      return `\n        <div class=\"gleap-notification-item-news-sender\">\n          ${\n            sender.profileImageUrl\n              ? `<img src=\"${sender.profileImageUrl}\" alt=\"${sender.name}\" />`\n              : \"\"\n          }\n          ${sender.name}\n        </div>\n      `;\n    }\n    return \"\";\n  }\n\n  /**\n   * Clears all notifications from the container.\n   *\n   * @param {boolean} uiOnly - Whether to only clear the UI or also the notifications.\n   */\n  clearAllNotifications(uiOnly = false) {\n    if (!this.notificationContainer) {\n      return;\n    }\n\n    if (!uiOnly) {\n      this.notifications = [];\n      // Reset currentNewsIndex whenever we clear them out\n      this.currentNewsIndex = 0;\n      saveToGleapCache(this.unreadNotificationsKey, this.notifications);\n    }\n\n    while (this.notificationContainer.firstChild) {\n      this.notificationContainer.removeChild(\n        this.notificationContainer.firstChild\n      );\n    }\n  }\n\n  updateContainerStyle() {\n    if (!this.notificationContainer) {\n      return;\n    }\n\n    const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n    const classLeft = \"gleap-notification-container--left\";\n    const classNoButton = \"gleap-notification-container--no-button\";\n    this.notificationContainer.classList.remove(classLeft);\n    this.notificationContainer.classList.remove(classNoButton);\n\n    if (\n      flowConfig.feedbackButtonPosition ===\n        GleapFeedbackButtonManager.FEEDBACK_BUTTON_CLASSIC_LEFT ||\n      flowConfig.feedbackButtonPosition ===\n        GleapFeedbackButtonManager.FEEDBACK_BUTTON_BOTTOM_LEFT\n    ) {\n      this.notificationContainer.classList.add(classLeft);\n    }\n\n    if (GleapFeedbackButtonManager.getInstance().buttonHidden === null) {\n      if (\n        flowConfig.feedbackButtonPosition ===\n        GleapFeedbackButtonManager.FEEDBACK_BUTTON_NONE\n      ) {\n        this.notificationContainer.classList.add(classNoButton);\n      }\n    } else {\n      if (GleapFeedbackButtonManager.getInstance().buttonHidden) {\n        this.notificationContainer.classList.add(classNoButton);\n      }\n    }\n\n    this.notificationContainer.setAttribute(\n      \"dir\",\n      GleapTranslationManager.getInstance().isRTLLayout ? \"rtl\" : \"ltr\"\n    );\n  }\n}\n","import {\n  GleapFrameManager,\n  GleapConfigManager,\n} from \"./Gleap\";\n\nexport default class GleapAiChatbarManager {\n  aiUIContainer = null;\n  shadowRoot = null;\n  innerContainer = null;\n  quickActionsContainer = null;\n  quickActions = [];\n  animationTimeouts = new Set();\n  inputText = '';\n  inputElement = null;\n  sendButton = null;\n  manuallyHidden = false;\n  placeholder = 'Ask me anything...';\n  onMessageSend = null;\n  isHidden = true;\n  config = null;\n\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapAiChatbarManager();\n    }\n    return this.instance;\n  }\n\n  constructor() {\n    // Bind methods to ensure proper context\n    this.show = this.show.bind(this);\n    this.hide = this.hide.bind(this);\n    this.destroy = this.destroy.bind(this);\n  }\n\n  setConfig(config) {\n    this.config = config;\n\n    if (config.placeholder) {\n      this.setPlaceholder(config.placeholder);\n    }\n\n    if (config.quickActions && config.quickActions.length > 0) {\n      this.setQuickActions(config.quickActions);\n    }\n\n    if (config.enabled) {\n      this.show();\n    }\n  }\n\n  updateUIVisibility() {\n    if (!this.config?.enabled) {\n      return;\n    }\n\n    const isOpened = GleapFrameManager.getInstance().isOpened();\n    if (isOpened) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  setPlaceholder(placeholder) {\n    this.placeholder = placeholder;\n\n    if (this.inputElement) {\n      this.inputElement.placeholder = placeholder;\n    }\n  }\n\n  setOnMessageSend(callback) {\n    this.onMessageSend = callback;\n  }\n\n  arraysEqual(arr1, arr2) {\n    // Quick length check\n    if (arr1.length !== arr2.length) {\n      return false;\n    }\n\n    // Compare each element\n    for (let i = 0; i < arr1.length; i++) {\n      if (arr1[i] !== arr2[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  show() {\n    if (!this.config?.enabled) {\n      return;\n    }\n\n    if (this.manuallyHidden) {\n      return;\n    }\n\n    if (!this.aiUIContainer) {\n      return;\n    }\n\n    if (!this.isHidden) {\n      return;\n    }\n\n    if (GleapFrameManager.getInstance().isOpened()) {\n      return;\n    }\n\n    this.isHidden = false;\n    this.aiUIContainer.style.display = \"block\";\n    this.aiUIContainer.setAttribute('aria-hidden', 'false');\n    // Remove fade-out from inner container and reset animation\n    if (this.innerContainer) {\n      this.innerContainer.classList.remove('fade-out');\n\n      // Get feedback button style and update positioning classes\n      const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n\n      // Remove previously added positioning classes\n      this.innerContainer.classList.remove('gleap-ai-ui-container--bottom-right');\n      this.innerContainer.classList.remove('gleap-ai-ui-container--bottom-left');\n\n      // Add the appropriate positioning class based on config\n      if (flowConfig?.feedbackButtonPosition === \"BOTTOM_RIGHT\") {\n        this.innerContainer.classList.add('gleap-ai-ui-container--bottom-right');\n      } else if (flowConfig?.feedbackButtonPosition === \"BOTTOM_LEFT\") {\n        this.innerContainer.classList.add('gleap-ai-ui-container--bottom-left');\n      }\n    }\n  }\n\n  hide() {\n    if (this.isHidden) {\n      return;\n    }\n\n    if (!this.aiUIContainer) {\n      return;\n    }\n\n    this.isHidden = true;\n\n    // Fade out the inner container\n    if (this.innerContainer) {\n      this.innerContainer.classList.add('fade-out');\n    }\n\n    // Hide the whole component after animation\n    const timeoutId = setTimeout(() => {\n      if (this.aiUIContainer) {\n        this.aiUIContainer.style.display = \"none\";\n        this.aiUIContainer.setAttribute('aria-hidden', 'true');\n      }\n      this.animationTimeouts.delete(timeoutId);\n    }, 300);\n\n    this.animationTimeouts.add(timeoutId);\n  }\n\n  setQuickActions(quickActions) {\n    if (!Array.isArray(quickActions)) {\n      return;\n    }\n\n    // Check if they changed using array comparison\n    if (this.arraysEqual(this.quickActions, quickActions)) {\n      return;\n    }\n\n    this.quickActions = quickActions;\n    this.updateQuickActions();\n  }\n\n  updateQuickActions() {\n    if (!this.quickActionsContainer) return;\n\n    // Clear existing content\n    this.quickActionsContainer.innerHTML = '';\n\n    // Add new actions with staggered animation\n    this.quickActions.slice(0, 2).forEach((action, index) => {\n      if (typeof action !== 'string' || !action.trim()) {\n        return;\n      }\n\n      const actionElement = document.createElement('div');\n      actionElement.className = 'gleap-ai-ui-quick-action';\n      actionElement.textContent = action.trim();\n      actionElement.setAttribute('role', 'button');\n      actionElement.setAttribute('tabindex', '0');\n      actionElement.setAttribute('aria-label', `Quick action: ${action.trim()}`);\n\n      // Add click and keyboard support\n      actionElement.addEventListener('click', () => {\n        this.sendMessage(action.trim());\n      });\n\n      actionElement.addEventListener('keydown', (e) => {\n        if (e.key === 'Enter' || e.key === ' ') {\n          e.preventDefault();\n          this.sendMessage(action.trim());\n        }\n      });\n\n      this.quickActionsContainer.appendChild(actionElement);\n\n      // Trigger animation with delay\n      const timeoutId = setTimeout(() => {\n        if (actionElement.parentNode) {\n          actionElement.classList.add('animate-in');\n        }\n        this.animationTimeouts.delete(timeoutId);\n      }, index * 150 + 500);\n\n      this.animationTimeouts.add(timeoutId);\n    });\n  }\n\n  injectAIUI() {\n    if (this.aiUIContainer) {\n      return;\n    }\n\n    if (!document.body) {\n      console.error('GleapAiChatbarManager: Document body not available');\n      return;\n    }\n\n    // Create the host element (this will be in the main document)\n    const elem = document.createElement(\"div\");\n    elem.className = \"gleap-ai-ui-widget\";\n    elem.setAttribute('role', 'dialog');\n    elem.setAttribute('aria-label', 'AI Assistant');\n    elem.setAttribute('aria-hidden', 'true');\n    document.body.appendChild(elem);\n    this.aiUIContainer = elem;\n\n    // Create shadow DOM on the host element\n    this.shadowRoot = this.aiUIContainer.attachShadow({ mode: 'open' });\n\n    // Add styles to shadow DOM\n    this.addStylesToShadow();\n\n    // Create and add HTML content directly to shadow DOM\n    this.createUIInShadow();\n\n    // Update the UI visibility\n    this.updateUIVisibility();\n  }\n\n  addStylesToShadow() {\n    const style = document.createElement('style');\n    style.textContent = `\n      .gleap-font, .gleap-font * {\n        font-style: normal;\n        font-variant-caps: normal;\n        font-variant-ligatures: normal;\n        font-variant-numeric: normal;\n        font-variant-east-asian: normal;\n        font-weight: normal;\n        font-stretch: normal;\n        font-size: 100%;\n        line-height: 1;\n        font-family: system-ui, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n      }\n\n      .gleap-ai-ui-container {\n        position: fixed;\n        bottom: 20px;\n        left: 0;\n        right: 0;\n        height: 0;\n        z-index: 999999;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-end;\n        align-items: center;\n        opacity: 0;\n        transform: translateY(20px);\n        animation: fadeUpInContainer 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;\n      }\n      \n      .gleap-ai-ui-quick-actions {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 8px;\n        margin-bottom: 12px;\n        opacity: 0;\n        transform: translateY(10px);\n        animation: fadeUpIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) 0.5s forwards;\n        max-width: 100%;\n      }\n      \n      .gleap-ai-ui-quick-action {\n        background: #fff;\n        color: #000;\n        padding: 8px 12px;\n        border-radius: 16px;\n        border-bottom-right-radius: 4px;\n        font-size: 13px;\n        cursor: pointer;\n        border: 1px solid rgba(30, 24, 24, 0.13);\n        transition: background-color 0.2s, transform 0.2s;\n        box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n        opacity: 0;\n        transform: translateY(15px) scale(0.95);\n        flex-shrink: 0;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n      \n      .gleap-ai-ui-quick-action.animate-in {\n        animation: fadeUpInAction 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;\n      }\n      \n      .gleap-ai-ui-quick-action:nth-child(1).animate-in {\n        animation-delay: 0.5s;\n      }\n      \n      .gleap-ai-ui-quick-action:nth-child(2).animate-in {\n        animation-delay: 0.65s;\n      }\n      \n      .gleap-ai-ui-quick-action:hover {\n        background: #000;\n        color: #fff;\n        border: 1px solid #000000;\n        transform: translateY(-2px) scale(1.02);\n      }\n      \n      .gleap-ai-ui-input-container {\n        position: relative;\n        width: auto;\n        min-width: min(280px, calc(100vw - 40px));\n        margin: 0 auto;\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        opacity: 0;\n        transform: translateY(15px);\n        animation: fadeUpIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) 0.45s forwards;\n      }\n      \n      .gleap-ai-ui-input-container:focus-within,\n      .gleap-ai-ui-container.active .gleap-ai-ui-input-container {\n        min-width: 430px;\n      }\n\n      @media (max-width: 580px) {\n        .gleap-ai-ui-container {\n          bottom: 23px;\n          align-items: flex-start;\n          left: 20px;\n          right: 20px;\n        }\n\n        .gleap-ai-ui-quick-actions {\n          justify-content: flex-start;\n          gap: 6px;\n          margin-bottom: 10px;\n          width: 100%;\n        }\n\n        .gleap-ai-ui-quick-action {\n          max-width: calc(50% - 28px);\n        }\n\n        .gleap-ai-ui-container--bottom-right {\n          right: 78px;\n        }\n\n        .gleap-ai-ui-container--bottom-left {\n          left: 78px;\n        }\n\n        .gleap-ai-ui-input-container:focus-within,\n        .gleap-ai-ui-input-container {\n          min-width: auto !important;\n          width: 100% !important;\n          max-width: 100% !important;\n          margin: 0px !important;\n        }\n      }\n      \n      .animated-gradient-border-wrapper {\n        position: absolute;\n        overflow: hidden;\n        border-radius: 50px;\n        transition: all 0.2s ease-in-out;\n        left: -2px;\n        top: -2px;\n        right: -2px;\n        bottom: -2px;\n      }\n      \n      .animated-gradient-border-wrapper-glow {\n        position: absolute;\n        overflow: hidden;\n        border-radius: 50px;\n        filter: blur(15px);\n        left: -2px;\n        top: -2px;\n        right: -2px;\n        bottom: -2px;\n      }\n      \n      .group:hover .animated-gradient-border-wrapper,\n      .group:focus-within .animated-gradient-border-wrapper {\n        left: -4px;\n        top: -4px;\n        right: -4px;\n        bottom: -4px;\n      }\n      \n      .group:hover .animated-gradient-border-wrapper-glow,\n      .group:focus-within .animated-gradient-border-wrapper-glow {\n        left: -4px;\n        top: -4px;\n        right: -4px;\n        bottom: -4px;\n      }\n      \n      .animated-gradient-border-wrapper:before,\n      .animated-gradient-border-wrapper-glow:before {\n        content: \"\";\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 99999px;\n        height: 99999px;\n        background-repeat: no-repeat;\n        background-position: 0 0;\n        opacity: 0.4;\n        background-image: conic-gradient(\n          #0000,\n          #b6e0dc,\n          #eaef8c,\n          #fdc19e,\n          #f29be5,\n          #c4aeff,\n          #0000 95%\n        );\n        filter: blur(20px);\n        transform: translate(-50%, -50%) rotate(0deg);\n        transition: opacity 0.5s ease-in-out;\n        animation: border-spin 4s linear infinite;\n      }\n      \n      .group:hover .animated-gradient-border-wrapper-glow:before {\n        opacity: 1;\n      }\n      \n      .bg-gradient-blur {\n        position: relative;\n        background: white;\n        border-radius: 42px;\n        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n        overflow: hidden;\n        z-index: 1;\n      }\n      \n      .gleap-ai-ui-input {\n        position: relative;\n        z-index: 1;\n        width: 100%;\n        height: 42px;\n        padding: 0px;\n        border-radius: 42px;\n      }\n\n      .gleap-ai-ui-input-content {\n        display: flex;\n        align-items: center;\n        padding: 0px;\n        height: 100%;\n      }\n      \n      .gleap-ai-ui-input input {\n        flex-grow: 1;\n        height: 100%;\n        padding-left: 16px;\n        padding-right: 8px;\n        border: none;\n        background: transparent;\n        font-size: 16px;\n        line-height: 24px;\n        font-weight: 400;\n        color: #000;\n        outline: none;\n        box-sizing: border-box;\n      }\n\n      .gleap-ai-ui-input-send-button {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 34px;\n        height: 34px;\n        border-radius: 50%;\n        background: #efefef;\n        margin-left: 0px;\n        margin-right: 4px;\n      }\n\n      .gleap-ai-ui-input-send-button svg {\n        width: 18px;\n        height: 18px;\n        flex-shrink: 0;\n        color: #666;\n        pointer-events: none;\n        z-index: 2;\n        transition: color 0.2s ease;\n      }\n\n      .gleap-ai-ui-container.active .gleap-ai-ui-input-send-button {\n        background: #000;\n        transition: background-color 0.2s ease;\n      }\n\n      .gleap-ai-ui-container.active .gleap-ai-ui-input-send-button svg {\n        color: #fff;\n      }\n      \n      .gleap-ai-ui-input input::placeholder {\n        color: rgba(0, 0, 0, 0.6);\n        transition: color 0.2s ease;\n      }\n\n      .gleap-ai-ui-container--noglow .animated-gradient-border-wrapper,\n      .gleap-ai-ui-container--noglow .animated-gradient-border-wrapper {\n        display: none !important;\n      }\n\n      .gleap-ai-ui-container--dark .bg-gradient-blur {\n        background-color: rgba(80, 80, 80, 0.68);\n        backdrop-filter: blur(24px);\n      }\n\n      .gleap-ai-ui-container--dark .gleap-ai-ui-input-send-button {\n        background-color: rgba(255, 255, 255, 0.44);\n      }\n\n      .gleap-ai-ui-container--dark .gleap-ai-ui-input-send-button svg {\n        color: rgba(0, 0, 0, 0.6);\n      }\n      \n      .gleap-ai-ui-container--dark .gleap-ai-ui-input input::placeholder {\n        color: rgba(255, 255, 255, 0.44);\n      }\n\n      .gleap-ai-ui-container--dark .gleap-ai-ui-input input {\n        color: #fff;\n      }\n\n      .gleap-ai-ui-container--dark .gleap-ai-ui-input-container:focus-within .gleap-ai-ui-input-send-button,\n      .gleap-ai-ui-container--dark.active .gleap-ai-ui-input-container .gleap-ai-ui-input-send-button {\n        background-color: #fff;\n      }\n\n      .gleap-ai-ui-container--dark .gleap-ai-ui-input-container:focus-within .gleap-ai-ui-input-send-button svg,\n      .gleap-ai-ui-container--dark.active .gleap-ai-ui-input-container .gleap-ai-ui-input-send-button svg {\n        color: #000;\n      }\n      \n      @keyframes gradient-shift {\n        0% {\n          background-position: 0% 50%;\n        }\n        50% {\n          background-position: 100% 50%;\n        }\n        100% {\n          background-position: 0% 50%;\n        }\n      }\n      \n      @keyframes border-spin {\n        0% {\n          transform: translate(-50%, -50%) rotate(0deg);\n        }\n        100% {\n          transform: translate(-50%, -50%) rotate(-360deg);\n        }\n      }\n      \n      @keyframes fadeUpIn {\n        0% {\n          opacity: 0;\n          transform: translateY(20px) scale(0.95);\n        }\n        100% {\n          opacity: 1;\n          transform: translateY(0) scale(1);\n        }\n      }\n      \n      @keyframes fadeUpInAction {\n        0% {\n          opacity: 0;\n          transform: translateY(15px) scale(0.95);\n        }\n        100% {\n          opacity: 1;\n          transform: translateY(0) scale(1);\n        }\n      }\n      \n      @keyframes fadeUpInContainer {\n        0% {\n          opacity: 0;\n          transform: translateY(20px);\n        }\n        100% {\n          opacity: 1;\n          transform: translateY(0);\n        }\n      }\n      \n      @keyframes fadeOutDownContainer {\n        0% {\n          opacity: 1;\n          transform: translateY(0);\n        }\n        100% {\n          opacity: 0;\n          transform: translateY(20px);\n        }\n      }\n      \n      .gleap-ai-ui-container.fade-out {\n        animation: fadeOutDownContainer 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards !important;\n      }      \n    `;\n    this.shadowRoot.appendChild(style);\n  }\n\n  createUIInShadow() {\n    let extraClasses = '';\n    if (this.config?.style === 'light' || this.config?.style === 'dark') {\n      extraClasses += ' gleap-ai-ui-container--noglow';\n    }\n    if (this.config?.style === 'dark' || this.config?.style === 'dark-glow') {\n      extraClasses += ' gleap-ai-ui-container--dark';\n    }\n\n    // Create the main container div inside shadow DOM\n    this.innerContainer = document.createElement(\"div\");\n    this.innerContainer.className = \"gleap-ai-ui-container\" + extraClasses;\n\n    // Create the HTML structure inside shadow DOM\n    this.innerContainer.innerHTML = `\n      <div class=\"gleap-ai-ui-quick-actions\"></div>\n      <div class=\"gleap-ai-ui-input-container\">\n        <div class=\"relative group\" style=\"--border-width: 2px; --border-width-hover: 4px;\">\n          <div class=\"animated-gradient-border-wrapper\"></div>\n          <div class=\"animated-gradient-border-wrapper animated-gradient-border-wrapper-glow\"></div>\n          <div class=\"bg-gradient-blur\">\n            <div class=\"gleap-ai-ui-input\">\n              <div class=\"gleap-ai-ui-input-content\">\n                <input name=\"AI question\" type=\"text\" placeholder=\"${this.placeholder}\" />\n                <div class=\"gleap-ai-ui-input-send-button\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 640\"><path fill=\"currentColor\" d=\"M342.6 81.4C330.1 68.9 309.8 68.9 297.3 81.4L137.3 241.4C124.8 253.9 124.8 274.2 137.3 286.7C149.8 299.2 170.1 299.2 182.6 286.7L288 181.3L288 552C288 569.7 302.3 584 320 584C337.7 584 352 569.7 352 552L352 181.3L457.4 286.7C469.9 299.2 490.2 299.2 502.7 286.7C515.2 274.2 515.2 253.9 502.7 241.4L342.7 81.4z\"/></svg>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n\n    // Append the container directly to shadow DOM\n    this.shadowRoot.appendChild(this.innerContainer);\n\n    // Get the quick actions container\n    this.quickActionsContainer = this.shadowRoot.querySelector(\".gleap-ai-ui-quick-actions\");\n\n    // Get input and send button elements\n    this.inputElement = this.shadowRoot.querySelector(\"input\");\n    this.sendButton = this.shadowRoot.querySelector(\".gleap-ai-ui-input-send-button\");\n\n    // Add input event listener\n    this.setupInputListener();\n\n    // Update the quick actions\n    this.updateQuickActions();\n  }\n\n  setupInputListener() {\n    if (!this.inputElement || !this.sendButton) {\n      return;\n    }\n\n    this.inputElement.addEventListener('input', (e) => {\n      this.inputText = e.target.value.trim();\n      this.updateSendButtonState();\n    });\n\n    // Add Enter key listener for sending message\n    this.inputElement.addEventListener('keydown', (e) => {\n      if (e.key === 'Enter' && this.inputText.length > 0) {\n        e.preventDefault();\n        this.sendMessage(this.inputText);\n      }\n    });\n\n    // Add click listener for send button\n    this.sendButton.addEventListener('click', () => {\n      if (this.inputText.length > 0) {\n        this.sendMessage(this.inputText);\n      }\n    });\n  }\n\n  updateSendButtonState() {\n    if (!this.sendButton || !this.innerContainer) {\n      return;\n    }\n\n    if (this.inputText.length > 0) {\n      this.innerContainer.classList.add('active');\n    } else {\n      this.innerContainer.classList.remove('active');\n    }\n  }\n\n  sendMessage(question) {\n    if (!question || question.trim().length === 0) {\n      return;\n    }\n\n    // Call the callback if it exists\n    if (this.onMessageSend && typeof this.onMessageSend === 'function') {\n      this.onMessageSend(question.trim());\n    }\n\n    // Reset the input text\n    this.inputText = '';\n    if (this.inputElement) {\n      this.inputElement.value = '';\n    }\n    this.updateSendButtonState();\n  }\n\n  destroy() {\n    // Clear all pending timeouts\n    this.animationTimeouts.forEach(timeoutId => {\n      clearTimeout(timeoutId);\n    });\n    this.animationTimeouts.clear();\n\n    // Remove DOM elements\n    if (this.aiUIContainer) {\n      this.aiUIContainer.remove();\n      this.aiUIContainer = null;\n    }\n\n    // Clear references\n    this.shadowRoot = null;\n    this.innerContainer = null;\n    this.quickActionsContainer = null;\n    this.quickActions = [];\n    this.inputElement = null;\n    this.sendButton = null;\n    this.inputText = '';\n    this.onMessageSend = null;\n\n    // Reset singleton instance\n    GleapAiChatbarManager.instance = null;\n  }\n}\n","import Gleap, { GleapFrameManager } from \"./Gleap\";\n\nexport default class GleapBannerManager {\n  bannerUrl = \"https://outboundmedia.gleap.io\";\n  bannerContainer = null;\n  bannerData = null;\n  disabled = false;\n\n  // GleapBannerManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapBannerManager();\n    }\n    return this.instance;\n  }\n\n  constructor() {\n    this.startCommunication();\n  }\n\n  setBannerUrl(url) {\n    this.bannerUrl = url;\n  }\n\n  startCommunication() {\n    // Add window message listener.\n    window.addEventListener(\"message\", (event) => {\n      if (!this.bannerUrl?.includes(event.origin)) {\n        return;\n      }\n\n      try {\n        const data = JSON.parse(event.data);\n\n        if (data?.type !== \"BANNER\") {\n          return;\n        }\n\n        if (data.name === \"banner-loaded\" && this.bannerData) {\n          this.sendMessage({\n            name: \"banner-data\",\n            data: this.bannerData,\n          });\n        }\n        if (data.name === \"banner-height\") {\n          document.documentElement.style.setProperty(\n            \"--gleap-margin-top\",\n            data.data.height + \"px\"\n          );\n        }\n        if (data.name === \"banner-data-set\") {\n          document.body.classList.add(\"gleap-b-shown\");\n\n          if (this.bannerData?.format === \"floating\") {\n            document.body.classList.add(\"gleap-b-f\");\n          }\n        }\n        if (data.name === \"banner-close\") {\n          this.removeBannerUI();\n        }\n        if (data.name === \"start-conversation\") {\n          Gleap.startBot(data.data?.botId);\n        }\n        if (data.name === \"start-custom-action\") {\n          Gleap.triggerCustomAction(data.data?.action);\n        }\n        if (data.name === \"start-product-tour\") {\n          Gleap.startProductTour(data.data?.tourId, true);\n        }\n        if (data.name === \"open-url\") {\n          const url = data.data;\n          const newTab = data.newTab ? true : false;\n          GleapFrameManager.getInstance().urlHandler(url, newTab);\n        }\n        if (data.name === \"show-form\") {\n          Gleap.startFeedbackFlow(data.data?.formId);\n        }\n        if (data.name === \"show-survey\") {\n          Gleap.showSurvey(data.data?.formId, data.data?.surveyFormat);\n        }\n        if (data.name === \"show-news-article\") {\n          Gleap.openNewsArticle(data.data?.articleId);\n        }\n        if (data.name === \"show-help-article\") {\n          Gleap.openHelpCenterArticle(data.data?.articleId);\n        }\n        if (data.name === \"show-checklist\") {\n          Gleap.startChecklist(\n            data.data?.checklistId,\n            true,\n            data.data?.sharedKey\n          );\n        }\n      } catch (exp) {}\n    });\n  }\n\n  removeBannerUI() {\n    if (this.bannerContainer) {\n      document.body.removeChild(this.bannerContainer);\n      this.bannerContainer = null;\n    }\n\n    document.body.classList.remove(\"gleap-b-shown\");\n    document.body.classList.remove(\"gleap-b-f\");\n  }\n\n  disable() {\n    this.disabled = true;\n    this.removeBannerUI();\n  }\n\n  /**\n   * Injects the feedback button into the current DOM.\n   */\n  injectBannerUI(bannerData) {\n    if (!document.body) {\n      return false;\n    }\n\n    if (this.disabled) {\n      return false;\n    }\n\n    if (this.bannerContainer) {\n      this.removeBannerUI();\n    }\n\n    this.bannerData = bannerData;\n\n    var elem = document.createElement(\"div\");\n    elem.className = \"gleap-b\";\n    elem.innerHTML = `<iframe src=\"${this.bannerUrl}\" class=\"gleap-b-frame\" scrolling=\"no\" title=\"Gleap Banner\" role=\"dialog\" frameborder=\"0\"></iframe>`;\n    document.body.appendChild(elem);\n    this.bannerContainer = elem;\n  }\n\n  sendMessage(data) {\n    try {\n      const gleapBFrame = document.querySelector(\".gleap-b-frame\");\n      if (gleapBFrame && gleapBFrame.contentWindow) {\n        gleapBFrame.contentWindow.postMessage(\n          JSON.stringify({\n            ...data,\n            type: \"banner\",\n          }),\n          \"*\"\n        );\n      }\n    } catch (e) {}\n  }\n\n  showBanner(bannerData) {\n    this.injectBannerUI(bannerData);\n  }\n}\n","import Gleap, { GleapConfigManager, GleapFrameManager } from \"./Gleap\";\n\nexport default class GleapModalManager {\n  modalUrl = \"https://outboundmedia.gleap.io/modal\";\n  modalContainer = null;\n  modalData = null;\n  modalBackdropClickListener = null;\n  disabled = false;\n  // singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapModalManager();\n    }\n    return this.instance;\n  }\n\n  constructor() {\n    this._listenForMessages();\n  }\n\n  setModalUrl(url) {\n    this.modalUrl = url;\n  }\n\n  disable() {\n    this.disabled = true;\n    this.hideModal();\n  }\n\n  _listenForMessages() {\n    window.addEventListener(\"message\", (event) => {\n      if (!this.modalUrl?.includes(event.origin)) {\n        return;\n      }\n\n      try {\n        const data = JSON.parse(event.data);\n\n        if (data?.type !== \"MODAL\") {\n          return;\n        }\n\n        if (data.name === \"modal-loaded\" && this.modalData) {\n          const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n          const primaryColor = flowConfig.color ? flowConfig.color : \"#485BFF\";\n          const backgroundColor = flowConfig.backgroundColor\n            ? flowConfig.backgroundColor\n            : \"#FFFFFF\";\n\n          this._postMessage({\n            name: \"modal-data\",\n            data: {\n              ...this.modalData,\n              primaryColor: primaryColor,\n              backgroundColor: backgroundColor,\n            },\n          });\n        }\n        if (data.name === \"modal-height\") {\n          const height = data?.data?.height;\n          if (height) {\n            // Set the height of the modal iframe\n            const iframe =\n              this.modalContainer.querySelector(\".gleap-modal-frame\");\n            if (iframe) {\n              iframe.style.height = `${height}px`;\n            }\n          }\n        }\n        if (data.name === \"modal-data-set\") {\n          // TODO: Implement\n        }\n        if (data.name === \"modal-close\") {\n          this.hideModal();\n        }\n        if (data.name === \"start-conversation\") {\n          Gleap.startBot(data.data?.botId);\n        }\n        if (data.name === \"start-custom-action\") {\n          Gleap.triggerCustomAction(data.data?.action);\n        }\n        if (data.name === \"start-product-tour\") {\n          Gleap.startProductTour(data.data?.tourId, true);\n        }\n        if (data.name === \"open-url\") {\n          const url = data.data;\n          const newTab = data.newTab ? true : false;\n          GleapFrameManager.getInstance().urlHandler(url, newTab);\n        }\n        if (data.name === \"show-form\") {\n          Gleap.startFeedbackFlow(data.data?.formId);\n        }\n        if (data.name === \"show-survey\") {\n          Gleap.showSurvey(data.data?.formId, data.data?.surveyFormat);\n        }\n        if (data.name === \"show-news-article\") {\n          Gleap.openNewsArticle(data.data?.articleId);\n        }\n        if (data.name === \"show-help-article\") {\n          Gleap.openHelpCenterArticle(data.data?.articleId);\n        }\n        if (data.name === \"show-checklist\") {\n          Gleap.startChecklist(\n            data.data?.checklistId,\n            true,\n            data.data?.sharedKey\n          );\n        }\n      } catch (exp) {}\n    });\n  }\n\n  _injectModalUI(modalData) {\n    if (!document.body) return false;\n\n    if (this.disabled) {\n      return false;\n    }\n\n    if (this.modalContainer) {\n      this.hideModal();\n    }\n\n    this.modalData = modalData;\n\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"gleap-modal-wrapper\";\n    wrapper.innerHTML = `\n      <div class=\"gleap-modal-backdrop\"></div>\n      <div class=\"gleap-modal\">\n        <iframe\n          src=\"${this.modalUrl}\"\n          class=\"gleap-modal-frame\"\n          scrolling=\"no\"\n          title=\"Gleap Modal\"\n          role=\"dialog\"\n          frameborder=\"0\"\n          allow=\"autoplay; encrypted-media; fullscreen; microphone *;\"\n        ></iframe>\n      </div>\n    `;\n    document.body.appendChild(wrapper);\n    this.modalContainer = wrapper;\n\n    // Add on backdrop click listener\n    this.modalBackdropClickListener = this.modalContainer\n      .querySelector(\".gleap-modal-backdrop\")\n      .addEventListener(\"click\", () => {\n        if (this.modalData?.showCloseButton ?? true) {\n          this.hideModal();\n        }\n      });\n\n    // lock background scroll\n    document.body.classList.add(\"gleap-modal-open\");\n  }\n\n  _postMessage(message) {\n    try {\n      const frame = this.modalContainer.querySelector(\".gleap-modal-frame\");\n      if (frame?.contentWindow) {\n        frame.contentWindow.postMessage(\n          JSON.stringify({ ...message, type: \"modal\" }),\n          this.modalUrl\n        );\n      }\n    } catch (err) {}\n  }\n\n  showModal(modalData) {\n    if (modalData && modalData.config) {\n      this._injectModalUI(modalData.config);\n    }\n  }\n\n  hideModal() {\n    if (!this.modalContainer) return;\n\n    if (this.modalBackdropClickListener) {\n      this.modalContainer\n        .querySelector(\".gleap-modal-backdrop\")\n        .removeEventListener(\"click\", this.modalBackdropClickListener);\n    }\n\n    document.body.removeChild(this.modalContainer);\n    this.modalContainer = null;\n    document.body.classList.remove(\"gleap-modal-open\");\n  }\n}\n","export default class GleapAudioManager {\n    static audio;\n    static settings = {\n        play: true\n    };\n\n    static playSound(play) {\n        this.settings.play = play;\n    }\n\n    static ping() {\n        try {\n            if (!this.settings.play) {\n                return;\n            }\n\n            if (!this.audio) {\n                this.audio = new Audio('https://js.gleap.io/res/ping.mp3');\n            }\n\n            const playPromise = this.audio.play();\n            if (playPromise !== undefined) {\n                playPromise.then(_ => { })\n                    .catch(error => { });\n            }\n        } catch (exp) { }\n    }\n}\n","export default class GleapTagManager {\n  tags = [];\n\n  // GleapTagManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapTagManager();\n    }\n    return this.instance;\n  }\n\n  /**\n   * Returns the tags\n   * @returns {*}\n   */\n  getTags() {\n    return this.tags;\n  }\n\n  /**\n   * Sets the tags sent with every ticket.\n   * @param {*} tags Array of strings\n   */\n  setTags(tags) {\n    this.tags = tags;\n  }\n}\n","/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nexport function getID( el )\n{\n  const id = el.getAttribute( 'id' );\n\n  if( id !== null && id !== '')\n  {\n    // if the ID starts with a number or contains \":\" selecting with a hash will cause a DOMException\n    return id.match(/(?:^\\d|:)/) ? `[id=\"${id}\"]` : '#' + id;\n  }\n  return null;\n}\n","/**\n * Get class names for an element\n *\n * @pararm { Element } el\n * @return { Array }\n */\nexport function getClasses( el )\n{\n  if( !el.hasAttribute( 'class' ) )\n  {\n    return [];\n  }\n\n    try {\n      let classList = Array.prototype.slice.call( el.classList )\n\n      // return only the valid CSS selectors based on RegEx\n      return classList.filter(item => !/^[a-z_-][a-z\\d_-]*$/i.test( item ) ? null : item );\n    } catch (e) {\n      let className = el.getAttribute( 'class' );\n\n    // remove duplicate and leading/trailing whitespaces\n    className = className.trim().replace( /\\s+/g, ' ' );\n\n    // split into separate classnames\n    return className.split( ' ' );\n  }\n}\n\n/**\n * Returns the Class selectors of the element\n * @param  { Object } element\n * @return { Array }\n */\nexport function getClassSelectors( el )\n{\n  const classList = getClasses( el ).filter( Boolean );\n  return classList.map( cl => `.${cl}` );\n}\n","/**\n * Recursively combinate items.\n * @param  { Array } result\n * @param  { Array } items\n * @param  { Array } data\n * @param  { Number } start\n * @param  { Number } end\n * @param  { Number } index\n * @param  { Number } k\n */\nfunction kCombinations( result, items, data, start, end, index, k )\n{\n    if( index === k )\n    {\n        result.push( data.slice( 0, index ).join( '' ) );\n        return;\n    }\n\n    for( let i = start; i <= end && end - i + 1 >= k - index; ++i )\n    {\n        data[index] = items[i];\n        kCombinations( result, items, data, i + 1, end, index + 1, k );\n    }\n}\n\n/**\n * Returns all the possible selector combinations\n * @param  { Array } items\n * @param  { Number } k\n * @return { Array }\n */\nexport function getCombinations( items, k )\n{\n    const result = [],\n          n = items.length,\n          data = [];\n\n    for( var l = 1; l <= k; ++l )\n    {\n        kCombinations( result, items, data, 0, n - 1, 0, l );\n    }\n\n    return result;\n}\n","/**\n * Determines if the passed el is a DOM element\n */\nexport function isElement( el )\n{\n  let isElem;\n\n  if ( typeof HTMLElement === 'object' )\n  {\n    isElem = el instanceof HTMLElement;\n  }\n  else\n  {\n    isElem = !!el && ( typeof el === 'object' ) && el.nodeType === 1 && typeof el.nodeName === 'string';\n  }\n  return isElem;\n}\n","import { isElement } from './isElement';\n\n/**\n * Returns the selectors based on the position of the element relative to its siblings\n * @param  { Object } element\n * @return { Array }\n */\nexport function getNthChild( element )\n{\n  let counter = 0;\n  let k;\n  let sibling;\n  const { parentNode } = element;\n\n  if( Boolean( parentNode ) )\n  {\n    const { childNodes } = parentNode;\n    const len = childNodes.length;\n    for ( k = 0; k < len; k++ )\n    {\n      sibling = childNodes[ k ];\n      if( isElement( sibling ) )\n      {\n        counter++;\n        if( sibling === element )\n        {\n          return `:nth-child(${counter})`;\n        }\n      }\n    }\n  }\n  return null;\n}\n","/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nexport function getTag( el )\n{\n  return el.tagName.toLowerCase().replace(/:/g, '\\\\:');\n}\n","/**\n * Checks if the selector is unique\n * @param  { Object } element\n * @param  { String } selector\n * @return { Array }\n */\nexport function isUnique( el, selector )\n{\n  if( !Boolean( selector ) ) return false;\n  const elems = el.ownerDocument.querySelectorAll( selector );\n  return elems.length === 1 && elems[ 0 ] === el;\n}\n","/**\n * Expose `unique`\n */\n\nimport { getID } from './getID';\nimport { getClassSelectors } from './getClasses';\nimport { getCombinations } from './getCombinations';\nimport { getAttributes } from './getAttributes';\nimport { getNthChild } from './getNthChild';\nimport { getTag } from './getTag';\nimport { isUnique } from './isUnique';\nimport { getParents } from './getParents';\n\n\n/**\n * Returns all the selectors of the elmenet\n * @param  { Object } element\n * @return { Object }\n */\nfunction getAllSelectors( el, selectors, attributesToIgnore )\n{\n  const funcs =\n    {\n      'Tag'        : getTag,\n      'NthChild'   : getNthChild,\n      'Attributes' : elem => getAttributes( elem, attributesToIgnore ),\n      'Class'      : getClassSelectors,\n      'ID'         : getID,\n    };\n\n  return selectors.reduce( ( res, next ) =>\n  {\n    res[ next ] = funcs[ next ]( el );\n    return res;\n  }, {} );\n}\n\n/**\n * Tests uniqueNess of the element inside its parent\n * @param  { Object } element\n * @param { String } Selectors\n * @return { Boolean }\n */\nfunction testUniqueness( element, selector )\n{\n  try {\n    const { parentNode } = element;\n    const elements = parentNode.querySelectorAll( selector );\n    return elements.length === 1 && elements[ 0 ] === element;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Tests all selectors for uniqueness and returns the first unique selector.\n * @param  { Object } element\n * @param  { Array } selectors\n * @return { String }\n */\nfunction getFirstUnique( element, selectors )\n{\n    return selectors.find( testUniqueness.bind( null, element ) );\n}\n\n/**\n * Checks all the possible selectors of an element to find one unique and return it\n * @param  { Object } element\n * @param  { Array } items\n * @param  { String } tag\n * @return { String }\n */\nfunction getUniqueCombination( element, items, tag )\n{\n  let combinations = getCombinations( items, 3 ),\n      firstUnique = getFirstUnique( element, combinations );\n\n  if( Boolean( firstUnique ) )\n  {\n      return firstUnique;\n  }\n\n  if( Boolean( tag ) )\n  {\n      combinations = combinations.map( combination => tag + combination );\n      firstUnique = getFirstUnique( element, combinations );\n\n      if( Boolean( firstUnique ) )\n      {\n          return firstUnique;\n      }\n  }\n\n  return null;\n}\n\n/**\n * Returns a uniqueSelector based on the passed options\n * @param  { DOM } element\n * @param  { Array } options\n * @return { String }\n */\nfunction getUniqueSelector( element, selectorTypes, attributesToIgnore, excludeRegex )\n{\n  let foundSelector;\n\n  const elementSelectors = getAllSelectors( element, selectorTypes, attributesToIgnore );\n\n  if( excludeRegex && excludeRegex instanceof RegExp )\n  {\n    elementSelectors.ID = excludeRegex.test( elementSelectors.ID ) ? null : elementSelectors.ID;\n    elementSelectors.Class = elementSelectors.Class.filter( className => !excludeRegex.test( className ) );\n  }\n\n  for( let selectorType of selectorTypes )\n  {\n      const { ID, Tag, Class : Classes, Attributes, NthChild } = elementSelectors;\n      switch ( selectorType )\n      {\n        case 'ID' :\n        if ( Boolean( ID ) && testUniqueness( element, ID ) )\n        {\n            return ID;\n        }\n        break;\n\n        case 'Tag':\n          if ( Boolean( Tag ) && testUniqueness( element, Tag ) )\n          {\n              return Tag;\n          }\n          break;\n\n        case 'Class':\n          if ( Boolean( Classes ) && Classes.length )\n          {\n            foundSelector = getUniqueCombination( element, Classes, Tag );\n            if (foundSelector) {\n              return foundSelector;\n            }\n          }\n          break;\n\n        case 'Attributes':\n          if ( Boolean( Attributes ) && Attributes.length )\n          {\n            foundSelector = getUniqueCombination( element, Attributes, Tag );\n            if ( foundSelector )\n            {\n              return foundSelector;\n            }\n          }\n          break;\n\n        case 'NthChild':\n          if ( Boolean( NthChild ) )\n          {\n            return NthChild\n          }\n      }\n  }\n  return '*';\n}\n\n/**\n * Generate unique CSS selector for given DOM element\n *\n * @param {Element} el\n * @return {String}\n * @api private\n */\n\nexport default function unique( el, options={} )\n{\n  const {\n    selectorTypes = ['ID', 'Class', 'Tag', 'NthChild'],\n    attributesToIgnore = ['id', 'class', 'length'],\n    excludeRegex = null,\n  } = options;\n  const allSelectors = [];\n  const parents = getParents( el );\n\n  for( let elem of parents )\n  {\n    const selector = getUniqueSelector( elem, selectorTypes, attributesToIgnore, excludeRegex );\n    if( Boolean( selector ) )\n    {\n      allSelectors.push( selector );\n    }\n  }\n\n  const selectors = [];\n  for( let it of allSelectors )\n  {\n    selectors.unshift( it );\n    const selector = selectors.join( ' > ' );\n    if( isUnique( el, selector ) )\n    {\n      return selector;\n    }\n  }\n\n  return null;\n}\n","/**\n * Returns the Attribute selectors of the element\n * @param  { DOM Element } element\n * @param  { Array } array of attributes to ignore\n * @return { Array }\n */\nexport function getAttributes( el, attributesToIgnore = ['id', 'class', 'length'] )\n{\n  const { attributes } = el;\n  const attrs = [ ...attributes ];\n\n  return attrs.reduce( ( sum, next ) =>\n  {\n    if ( ! ( attributesToIgnore.indexOf( next.nodeName ) > -1 ) )\n    {\n      sum.push( `[${next.nodeName}=\"${next.value}\"]` );\n    }\n    return sum;\n  }, [] );\n}\n","import { isElement } from './isElement';\n\n/**\n * Returns all the element and all of its parents\n * @param { DOM Element }\n * @return { Array of DOM elements }\n */\nexport function getParents( el )\n{\n  const parents = [];\n  let currentElement = el;\n  while( isElement( currentElement ) )\n  {\n    parents.push( currentElement );\n    currentElement = currentElement.parentNode;\n  }\n\n  return parents;\n}\n","/**\n * Utility function to get the bounding rectangle of an element.\n * @param {HTMLElement} el - The target element.\n * @returns {Object} An object containing x, y, width, and height.\n */\nfunction getElementBounds(el) {\n  const rect = el.getBoundingClientRect();\n  return {\n    x: window.pageXOffset + rect.left,\n    y: window.pageYOffset + rect.top,\n    width: el.offsetWidth,\n    height: el.offsetHeight,\n  };\n}\n\n/**\n * Class representing an overlay element.\n */\nclass ElementOverlay {\n  /**\n   * Create an ElementOverlay.\n   * @param {Object} options - Configuration options.\n   * @param {string} [options.className] - CSS class name for the overlay.\n   * @param {Object} [options.style] - Style overrides for the overlay.\n   */\n  constructor(options) {\n    // Create and style the overlay element.\n    this.overlay = document.createElement(\"div\");\n    this.overlay.className = options.className || \"_ext-element-overlay\";\n    this.overlay.style.background =\n      (options.style && options.style.background) || \"rgba(250, 240, 202, 0.2)\";\n    this.overlay.style.borderColor =\n      (options.style && options.style.borderColor) || \"#F95738\";\n    this.overlay.style.borderStyle =\n      (options.style && options.style.borderStyle) || \"solid\";\n    this.overlay.style.borderRadius =\n      (options.style && options.style.borderRadius) || \"1px\";\n    this.overlay.style.borderWidth =\n      (options.style && options.style.borderWidth) || \"1px\";\n    this.overlay.style.boxSizing =\n      (options.style && options.style.boxSizing) || \"border-box\";\n    this.overlay.style.cursor =\n      (options.style && options.style.cursor) || \"crosshair\";\n    this.overlay.style.position =\n      (options.style && options.style.position) || \"absolute\";\n    this.overlay.style.zIndex =\n      (options.style && options.style.zIndex) || \"2147483647\";\n    this.overlay.style.margin =\n      (options.style && options.style.margin) || \"0px\";\n    this.overlay.style.padding =\n      (options.style && options.style.padding) || \"0px\";\n\n    // Create a container that will host a Shadow DOM.\n    this.shadowContainer = document.createElement(\"div\");\n    this.shadowContainer.className = \"_ext-element-overlay-container\";\n    this.shadowContainer.style.position = \"absolute\";\n    this.shadowContainer.style.top = \"0px\";\n    this.shadowContainer.style.left = \"0px\";\n    this.shadowContainer.style.margin = \"0px\";\n    this.shadowContainer.style.padding = \"0px\";\n    this.shadowRoot = this.shadowContainer.attachShadow({ mode: \"open\" });\n  }\n\n  /**\n   * Adds the overlay to the DOM.\n   * @param {Node} parent - The parent element.\n   * @param {boolean} useShadowDOM - Whether to use Shadow DOM.\n   */\n  addToDOM(parent, useShadowDOM) {\n    this.usingShadowDOM = useShadowDOM;\n    if (useShadowDOM) {\n      parent.insertBefore(this.shadowContainer, parent.firstChild);\n      this.shadowRoot.appendChild(this.overlay);\n    } else {\n      parent.appendChild(this.overlay);\n    }\n  }\n\n  /**\n   * Removes the overlay from the DOM.\n   */\n  removeFromDOM() {\n    this.setBounds({ x: 0, y: 0, width: 0, height: 0 });\n    if (this.overlay.remove) {\n      this.overlay.remove();\n    } else if (this.overlay.parentNode) {\n      this.overlay.parentNode.removeChild(this.overlay);\n    }\n    if (this.usingShadowDOM) {\n      if (this.shadowContainer.remove) {\n        this.shadowContainer.remove();\n      } else if (this.shadowContainer.parentNode) {\n        this.shadowContainer.parentNode.removeChild(this.shadowContainer);\n      }\n    }\n  }\n\n  /**\n   * Enables pointer events on the overlay.\n   */\n  captureCursor() {\n    this.overlay.style.pointerEvents = \"auto\";\n  }\n\n  /**\n   * Disables pointer events on the overlay.\n   */\n  ignoreCursor() {\n    this.overlay.style.pointerEvents = \"none\";\n  }\n\n  /**\n   * Sets the position and size of the overlay.\n   * @param {Object} bounds - The bounding box.\n   * @param {number} bounds.x - The x-coordinate.\n   * @param {number} bounds.y - The y-coordinate.\n   * @param {number} bounds.width - The width.\n   * @param {number} bounds.height - The height.\n   */\n  setBounds(bounds) {\n    const { x, y, width, height } = bounds;\n    this.overlay.style.left = x + \"px\";\n    this.overlay.style.top = y + \"px\";\n    this.overlay.style.width = width + \"px\";\n    this.overlay.style.height = height + \"px\";\n  }\n}\n\n/**\n * Class representing an element picker that uses the overlay.\n */\nclass ElementPicker {\n  /**\n   * Create an ElementPicker.\n   * @param {Object} [overlayOptions] - Options to pass to ElementOverlay.\n   */\n  constructor(overlayOptions) {\n    this.active = false;\n    this.overlay = new ElementOverlay(overlayOptions || {});\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.tick = this.tick.bind(this);\n  }\n\n  /**\n   * Starts the element picking process.\n   * @param {Object} options - Picker options.\n   * @param {Node} [options.parentElement] - Parent element to attach the overlay.\n   * @param {boolean} [options.useShadowDOM=true] - Whether to use Shadow DOM.\n   * @param {Function} [options.onClick] - Callback invoked on click.\n   * @param {Function} [options.onHover] - Callback invoked on hover.\n   * @param {Function} [options.elementFilter] - Function to filter elements.\n   * @returns {boolean} True if started successfully, false if already active.\n   */\n  start(options) {\n    if (this.active) {\n      return false;\n    }\n    this.active = true;\n    this.options = options;\n\n    document.addEventListener(\"mousemove\", this.handleMouseMove, true);\n    document.addEventListener(\"click\", this.handleClick, true);\n\n    const parentElement = options.parentElement || document.body;\n    const useShadowDOM =\n      options.useShadowDOM !== undefined ? options.useShadowDOM : true;\n    this.overlay.addToDOM(parentElement, useShadowDOM);\n    this.tick();\n\n    return true;\n  }\n\n  /**\n   * Stops the element picking process.\n   */\n  stop() {\n    this.active = false;\n    this.options = undefined;\n\n    document.removeEventListener(\"mousemove\", this.handleMouseMove, true);\n    document.removeEventListener(\"click\", this.handleClick, true);\n\n    this.overlay.removeFromDOM();\n    this.target = undefined;\n    this.mouseX = undefined;\n    this.mouseY = undefined;\n\n    if (this.tickReq) {\n      window.cancelAnimationFrame(this.tickReq);\n    }\n  }\n\n  /**\n   * Handles mouse move events.\n   * @param {MouseEvent} event - The mousemove event.\n   */\n  handleMouseMove(event) {\n    this.mouseX = event.clientX;\n    this.mouseY = event.clientY;\n  }\n\n  /**\n   * Handles click events.\n   * @param {MouseEvent} event - The click event.\n   */\n  handleClick(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    event.stopImmediatePropagation();\n\n    if (this.target && this.options && this.options.onClick) {\n      this.options.onClick(this.target);\n    }\n  }\n\n  /**\n   * The tick function that continuously updates the target element.\n   */\n  tick() {\n    this.updateTarget();\n    this.tickReq = window.requestAnimationFrame(this.tick);\n  }\n\n  /**\n   * Updates the target element based on the current mouse position.\n   */\n  updateTarget() {\n    if (this.mouseX === undefined || this.mouseY === undefined) {\n      return;\n    }\n\n    // Temporarily ignore the overlay's pointer events to detect the underlying element.\n    this.overlay.ignoreCursor();\n    const elAtCursor = document.elementFromPoint(this.mouseX, this.mouseY);\n    const newTarget = elAtCursor;\n    this.overlay.captureCursor();\n\n    // If the target hasn't changed, do nothing.\n    if (!newTarget || newTarget === this.target) {\n      return;\n    }\n\n    // If an element filter is provided and the new target doesn't match, clear the target.\n    if (this.options && this.options.elementFilter) {\n      if (!this.options.elementFilter(newTarget)) {\n        this.target = undefined;\n        this.overlay.setBounds({ x: 0, y: 0, width: 0, height: 0 });\n        return;\n      }\n    }\n\n    this.target = newTarget;\n    const bounds = getElementBounds(newTarget);\n    this.overlay.setBounds(bounds);\n\n    if (this.options && this.options.onHover) {\n      this.options.onHover(newTarget);\n    }\n  }\n}\n\nexport default ElementPicker;\n","import unique from \"./unique-selector/src/unique-selector\";\nimport ElementPicker from \"./ElementPicker\";\n\nclass GleapAdminHelper {\n  picker = null;\n  onElementPicked = null;\n\n  stopPicker = () => {\n    if (this.picker) {\n      this.picker.stop();\n      this.picker = null;\n      return;\n    }\n  };\n\n  startPicker = () => {\n    this.stopPicker();\n    var self = this;\n\n    const style = {\n      borderColor: \"#2142E7\",\n      background: \"transparent\",\n      borderWidth: \"4px\",\n      borderRadius: \"5px\",\n    };\n    this.picker = new ElementPicker({ style });\n    this.picker.start({\n      useShadowDOM: false,\n      onClick: (el) => {\n        try {\n          let selector;\n          const tourId = el.getAttribute(\"data-gleap-tour\");\n          if (tourId) {\n            selector = `[data-gleap-tour=\"${tourId}\"]`;\n          } else {\n            selector = unique(el);\n          }\n\n          self.onElementPicked && self.onElementPicked(selector);\n        } catch (e) {\n          console.error(\"Error while getting unique selector\", e);\n        }\n      },\n      elementFilter: (el) => {\n        if (\n          el.classList.contains(\"gleap-admin-collapse-ui\") ||\n          el.closest(\".gleap-admin-collapse-ui\")\n        ) {\n          return false;\n        }\n        return true;\n      },\n    });\n  };\n\n  setMode = (mode) => {\n    this.mode = mode;\n    if (mode === \"navigate\") {\n      this.stopPicker();\n    }\n    if (mode === \"picker\") {\n      this.startPicker();\n    }\n  };\n}\n\nexport default GleapAdminHelper;\n","import { loadIcon } from \"./UI\";\nimport GleapAdminHelper from \"./GleapAdminHelper\";\nimport Gleap, { GleapModalManager, GleapProductTours, GleapBannerManager } from \"./Gleap\";\n\nexport default class GleapAdminManager {\n  libraryInstance = null;\n  lastUrl = undefined;\n  injectedFrame = false;\n  gleapFrameContainer = null;\n  gleapCollapseUI = null;\n  injectedCollapseUI = false;\n  gleapFrame = null;\n  configData = null;\n  adminHelper = null;\n  status = \"navigate\";\n  initialized = false;\n\n  // GleapAdminManager singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapAdminManager();\n    }\n\n    return this.instance;\n  }\n\n  logCurrentPage() {\n    const currentUrl = window.location.href;\n    if (currentUrl && currentUrl !== this.lastUrl) {\n      this.lastUrl = currentUrl;\n\n      this.sendMessageToTourBuilder({\n        name: \"page-changed\",\n        data: {\n          page: currentUrl,\n        },\n      });\n    }\n  }\n\n  startPageListener() {\n    const self = this;\n    setInterval(function () {\n      self.logCurrentPage();\n    }, 1000);\n  }\n\n  initAdminHelper() {\n    const self = this;\n\n    // Disable product tours.\n    this.initialized = true;\n    GleapProductTours.getInstance().disable();\n    GleapBannerManager.getInstance().disable();\n    GleapModalManager.getInstance().disable();\n    Gleap.close();\n    Gleap.showFeedbackButton(false);\n\n    self.adminHelper = new GleapAdminHelper();\n\n    try {\n      self.adminHelper.onElementPicked = (selector) => {\n        self.toggleCollapseUI(true);\n        self.sendMessageToTourBuilder({\n          name: \"element-picked\",\n          data: {\n            selector,\n          },\n        });\n      };\n    } catch (e) {\n      console.log(e);\n    }\n\n    self.injectFrame();\n    self.injectCollapseUI();\n    self.setFrameHeight(\"loading\");\n  }\n\n  setFrameHeight(state) {\n    if (this.gleapFrameContainer) {\n      var height = \"\";\n      if (state === \"picker\" || state === \"navigate\") {\n        height = \"65px\";\n      } else if (state === \"editor\") {\n        height = \"100vh\";\n      } else {\n        height = \"0px\";\n      }\n      this.gleapFrameContainer.style.height = height;\n    }\n  }\n\n  start() {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n\n    if (window.gleapAdminDisabled) {\n      return;\n    }\n\n    var self = this;\n\n    // Add window message listener.\n    window.addEventListener(\"message\", (event) => {\n      if (event.origin !== \"https://app.gleap.io\") {\n        return;\n      }\n\n      try {\n        const data = JSON.parse(event.data);\n\n        if (data.type === \"admin\") {\n          if (data.name === \"load\") {\n            self.configData = data.data;\n            self.initAdminHelper();\n          }\n\n          if (data.name === \"smartlink-search-result\") {\n            this.sendMessageToTourBuilder({\n              name: \"smartlink-search-result\",\n              data: data.data,\n            });\n          }\n\n          if (data.name === \"translate-complete\") {\n            this.sendMessageToTourBuilder({\n              name: \"translate-complete\",\n              data: data.data,\n            });\n          }\n        }\n\n        if (data.type === \"tourbuilder\") {\n          if (data.name === \"loaddata\") {\n            this.sendMessageToTourBuilder({\n              name: \"data\",\n              data: {\n                ...self.configData,\n                currentPage: window.location.href,\n              },\n            });\n          }\n\n          if (data.name === \"highlight-element\") {\n            // Cleanup.\n            document\n              .querySelectorAll(\".gleap-admin-highlight\")\n              .forEach((el) => {\n                el.classList.remove(\"gleap-admin-highlight\");\n              });\n\n            // Find the element and highlight it.\n            if (data?.data?.selector) {\n              const element = document.querySelector(data?.data?.selector);\n              if (element) {\n                element.classList.add(\"gleap-admin-highlight\");\n              }\n            }\n          }\n\n          if (data.name === \"smartlink-search\") {\n            this.sendMessage({\n              name: \"smartlink-search\",\n              data: data.data,\n            });\n          }\n\n          if (data.name === \"product-tour-started\") {\n            this.sendMessage({\n              name: \"product-tour-started\",\n              data: data.data,\n            });\n          }\n\n          if (data.name === \"translate\") {\n            this.sendMessage({\n              name: \"translate\",\n              data: data.data,\n            });\n          }\n\n          if (data.name === \"save\") {\n            this.sendMessage({\n              name: \"save\",\n              data: data.data,\n            });\n          }\n\n          if (data.name === \"update-steps\") {\n            this.sendMessage({\n              name: \"update-steps\",\n              data: data.data,\n            });\n          }\n\n          if (data.name === \"click\") {\n            try {\n              document.querySelector(data.data.selector).click();\n            } catch (e) {\n              console.log(e);\n            }\n          }\n\n          if (data.name === \"status-changed\") {\n            self.status = data.data;\n            this.setFrameHeight(self.status);\n            self.adminHelper.stopPicker();\n\n            if (self.status === \"picker\") {\n              self.adminHelper.startPicker();\n            }\n          }\n        }\n      } catch (exp) {}\n    });\n\n    this.sendMessage({\n      name: \"init\",\n    });\n\n    this.startPageListener();\n  }\n\n  sendMessage(data) {\n    try {\n      if (window && window.opener) {\n        window.opener.postMessage(\n          JSON.stringify({\n            ...data,\n            type: \"admin\",\n          }),\n          \"*\"\n        );\n      }\n    } catch (e) {}\n  }\n\n  sendMessageToTourBuilder(data) {\n    try {\n      if (this.gleapFrame && this.gleapFrame.contentWindow) {\n        this.gleapFrame.contentWindow.postMessage(\n          JSON.stringify({\n            ...data,\n            type: \"tourbuilder\",\n          }),\n          \"*\"\n        );\n      }\n    } catch (e) {}\n  }\n\n  toggleCollapseUI = (onlyIfActive = false) => {\n    const COLLAPSE_UI_ACTIVE_CLASS = \"gleap-admin-collapse-ui-active\";\n    const FRAME_CONTAINER_ACTIVE_CLASS = \"gleap-admin-frame-container-active\";\n\n    // Helper function to check if an element has an active class\n    const isActive = (element, activeClass) =>\n      element && element.classList.contains(activeClass);\n\n    // Check if onlyIfActive is true and if the UI elements are already inactive\n    if (\n      onlyIfActive &&\n      (!isActive(this.gleapCollapseUI, COLLAPSE_UI_ACTIVE_CLASS) ||\n        !isActive(this.gleapFrameContainer, FRAME_CONTAINER_ACTIVE_CLASS))\n    ) {\n      return; // Return early without toggling the UI\n    }\n\n    // Toggle the UI elements\n    if (this.gleapCollapseUI) {\n      this.gleapCollapseUI.classList.toggle(COLLAPSE_UI_ACTIVE_CLASS);\n    }\n    if (this.gleapFrameContainer) {\n      this.gleapFrameContainer.classList.toggle(FRAME_CONTAINER_ACTIVE_CLASS);\n    }\n  };\n\n  injectCollapseUI = () => {\n    if (this.injectedCollapseUI) {\n      return;\n    }\n    this.injectedCollapseUI = true;\n\n    // Inject widget HTML.\n    var elem = document.createElement(\"div\");\n    elem.className = \"gleap-admin-collapse-ui\";\n    elem.innerHTML = `<div class=\"gleap-admin-collapse-ui-icon\">\n    ${loadIcon(\"arrowdown\")}\n    </div>`;\n    document.body.appendChild(elem);\n\n    this.gleapCollapseUI = elem;\n\n    elem.addEventListener(\"click\", (e) => {\n      e.stopImmediatePropagation();\n      e.stopPropagation();\n      e.preventDefault();\n\n      this.toggleCollapseUI();\n    });\n  };\n\n  injectFrame = () => {\n    if (this.injectedFrame) {\n      return;\n    }\n    this.injectedFrame = true;\n\n    // Inject widget HTML.\n    var elem = document.createElement(\"div\");\n    elem.className = \"gleap-admin-frame-container\";\n    elem.innerHTML = `<iframe src=\"https://app.gleap.io/${\n      this?.configData?.type === \"tooltips\"\n        ? \"tooltipbuilder\"\n        : \"producttourbuilder\"\n    }\" class=\"gleap-admin-frame\" scrolling=\"no\" title=\"Gleap Admin Window\" allow=\"autoplay; encrypted-media; fullscreen;\" frameborder=\"0\"></iframe>`;\n    document.body.appendChild(elem);\n\n    this.gleapFrameContainer = elem;\n    this.gleapFrame = document.querySelector(\".gleap-admin-frame\");\n  };\n}\n","const GleapTours = (function () {\n  \"use strict\";\n  let currentConfig = {};\n  function configure(config = {}) {\n    currentConfig = {\n      animate: true,\n      allowClose: true,\n      overlayOpacity: 0.7,\n      smoothScroll: false,\n      disableActiveInteraction: false,\n      showProgress: false,\n      stagePadding: 10,\n      stageRadius: 5,\n      popoverOffset: 10,\n      showButtons: [\"next\", \"previous\", \"close\"],\n      disableButtons: [],\n      overlayColor: \"#000\",\n      ...config,\n    };\n  }\n  function getConfig(key) {\n    return key ? currentConfig[key] : currentConfig;\n  }\n  function easeInOutQuad(elapsed, initialValue, amountOfChange, duration) {\n    if ((elapsed /= duration / 2) < 1) {\n      return (amountOfChange / 2) * elapsed * elapsed + initialValue;\n    }\n    return (\n      (-amountOfChange / 2) * (--elapsed * (elapsed - 2) - 1) + initialValue\n    );\n  }\n  function getFocusableElements(parentEls) {\n    const focusableQuery =\n      'a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])';\n    return parentEls\n      .flatMap((parentEl) => {\n        const isParentFocusable = parentEl.matches(focusableQuery);\n        const focusableEls = Array.from(\n          parentEl.querySelectorAll(focusableQuery)\n        );\n        return [...(isParentFocusable ? [parentEl] : []), ...focusableEls];\n      })\n      .filter((el) => {\n        return (\n          getComputedStyle(el).pointerEvents !== \"none\" && isElementVisible(el)\n        );\n      });\n  }\n  function bringInView(element) {\n    if (!element || isElementInView(element)) {\n      return;\n    }\n    const shouldSmoothScroll = getConfig(\"smoothScroll\");\n    element.scrollIntoView({\n      // Removing the smooth scrolling for elements which exist inside the scrollable parent\n      // This was causing the highlight to not properly render\n      behavior:\n        !shouldSmoothScroll || hasScrollableParent(element) ? \"auto\" : \"smooth\",\n      inline: \"center\",\n      block: \"center\",\n    });\n  }\n  function hasScrollableParent(e) {\n    if (!e || !e.parentElement) {\n      return;\n    }\n    const parent = e.parentElement;\n    return parent.scrollHeight > parent.clientHeight;\n  }\n  function isElementInView(element) {\n    const rect = element.getBoundingClientRect();\n    return (\n      rect.top >= 0 &&\n      rect.left >= 0 &&\n      rect.bottom <=\n        (window.innerHeight || document.documentElement.clientHeight) &&\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n    );\n  }\n  function isElementVisible(el) {\n    return !!(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n  }\n  let currentState = {};\n  function setState(key, value) {\n    currentState[key] = value;\n  }\n  function getState(key) {\n    return key ? currentState[key] : currentState;\n  }\n  function resetState() {\n    currentState = {};\n  }\n  let registeredListeners = {};\n  function listen(hook, callback) {\n    registeredListeners[hook] = callback;\n  }\n  function emit(hook) {\n    var _a;\n    (_a = registeredListeners[hook]) == null\n      ? void 0\n      : _a.call(registeredListeners);\n  }\n  function destroyEmitter() {\n    registeredListeners = {};\n  }\n  function transitionStage(elapsed, duration, from, to) {\n    let activeStagePosition = getState(\"__activeStagePosition\");\n    const fromDefinition = activeStagePosition\n      ? activeStagePosition\n      : from.getBoundingClientRect();\n    const toDefinition = to.getBoundingClientRect();\n    const x = easeInOutQuad(\n      elapsed,\n      fromDefinition.x,\n      toDefinition.x - fromDefinition.x,\n      duration\n    );\n    const y = easeInOutQuad(\n      elapsed,\n      fromDefinition.y,\n      toDefinition.y - fromDefinition.y,\n      duration\n    );\n    const width = easeInOutQuad(\n      elapsed,\n      fromDefinition.width,\n      toDefinition.width - fromDefinition.width,\n      duration\n    );\n    const height = easeInOutQuad(\n      elapsed,\n      fromDefinition.height,\n      toDefinition.height - fromDefinition.height,\n      duration\n    );\n    activeStagePosition = {\n      x,\n      y,\n      width,\n      height,\n    };\n    renderOverlay(activeStagePosition);\n    setState(\"__activeStagePosition\", activeStagePosition);\n  }\n  function trackActiveElement(element) {\n    if (!element) {\n      return;\n    }\n    const definition = element.getBoundingClientRect();\n    const activeStagePosition = {\n      x: definition.x,\n      y: definition.y,\n      width: definition.width,\n      height: definition.height,\n    };\n    setState(\"__activeStagePosition\", activeStagePosition);\n    renderOverlay(activeStagePosition);\n  }\n  function refreshOverlay() {\n    const activeStagePosition = getState(\"__activeStagePosition\");\n    const overlaySvg = getState(\"__overlaySvg\");\n    if (!activeStagePosition) {\n      return;\n    }\n    if (!overlaySvg) {\n      console.warn(\"No stage svg found.\");\n      return;\n    }\n    const windowX = window.innerWidth;\n    const windowY = window.innerHeight;\n    overlaySvg.setAttribute(\"viewBox\", `0 0 ${windowX} ${windowY}`);\n  }\n  function mountOverlay(stagePosition) {\n    const overlaySvg = createOverlaySvg(stagePosition);\n    document.body.appendChild(overlaySvg);\n    onDriverClick(overlaySvg, (e) => {\n      const target = e.target;\n      if (target.tagName !== \"path\") {\n        return;\n      }\n      emit(\"overlayClick\");\n    });\n    setState(\"__overlaySvg\", overlaySvg);\n  }\n  function renderOverlay(stagePosition) {\n    const overlaySvg = getState(\"__overlaySvg\");\n    if (!overlaySvg) {\n      mountOverlay(stagePosition);\n      return;\n    }\n    const pathElement = overlaySvg.firstElementChild;\n    if ((pathElement == null ? void 0 : pathElement.tagName) !== \"path\") {\n      throw new Error(\"no path element found in stage svg\");\n    }\n    pathElement.setAttribute(\"d\", generateStageSvgPathString(stagePosition));\n  }\n  function createOverlaySvg(stage) {\n    const windowX = window.innerWidth;\n    const windowY = window.innerHeight;\n    const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    svg.classList.add(\"gleap-tour-overlay\", \"gleap-tour-overlay-animated\");\n    svg.setAttribute(\"viewBox\", `0 0 ${windowX} ${windowY}`);\n    svg.setAttribute(\"xmlSpace\", \"preserve\");\n    svg.setAttribute(\"xmlnsXlink\", \"http://www.w3.org/1999/xlink\");\n    svg.setAttribute(\"version\", \"1.1\");\n    svg.setAttribute(\"preserveAspectRatio\", \"xMinYMin slice\");\n    svg.style.fillRule = \"evenodd\";\n    svg.style.clipRule = \"evenodd\";\n    svg.style.strokeLinejoin = \"round\";\n    svg.style.strokeMiterlimit = \"2\";\n    svg.style.zIndex = \"10000\";\n    svg.style.position = \"fixed\";\n    svg.style.top = \"0\";\n    svg.style.left = \"0\";\n    svg.style.width = \"100%\";\n    svg.style.height = \"100%\";\n    const stagePath = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"path\"\n    );\n    stagePath.setAttribute(\"d\", generateStageSvgPathString(stage));\n    stagePath.style.fill = getConfig(\"overlayColor\") || \"rgb(0,0,0)\";\n    stagePath.style.opacity = `${getConfig(\"overlayOpacity\")}`;\n    stagePath.style.pointerEvents = \"auto\";\n    stagePath.style.cursor = \"auto\";\n    svg.appendChild(stagePath);\n    return svg;\n  }\n  function generateStageSvgPathString(stage) {\n    const windowX = window.innerWidth;\n    const windowY = window.innerHeight;\n    const stagePadding = getConfig(\"stagePadding\") || 0;\n    const stageRadius = getConfig(\"stageRadius\") || 0;\n    const stageWidth = stage.width + stagePadding * 2;\n    const stageHeight = stage.height + stagePadding * 2;\n    const limitedRadius = Math.min(\n      stageRadius,\n      stageWidth / 2,\n      stageHeight / 2\n    );\n    const normalizedRadius = Math.floor(Math.max(limitedRadius, 0));\n    const highlightBoxX = stage.x - stagePadding + normalizedRadius;\n    const highlightBoxY = stage.y - stagePadding;\n    const highlightBoxWidth = stageWidth - normalizedRadius * 2;\n    const highlightBoxHeight = stageHeight - normalizedRadius * 2;\n    return `M${windowX},0L0,0L0,${windowY}L${windowX},${windowY}L${windowX},0Z\n    M${highlightBoxX},${highlightBoxY} h${highlightBoxWidth} a${normalizedRadius},${normalizedRadius} 0 0 1 ${normalizedRadius},${normalizedRadius} v${highlightBoxHeight} a${normalizedRadius},${normalizedRadius} 0 0 1 -${normalizedRadius},${normalizedRadius} h-${highlightBoxWidth} a${normalizedRadius},${normalizedRadius} 0 0 1 -${normalizedRadius},-${normalizedRadius} v-${highlightBoxHeight} a${normalizedRadius},${normalizedRadius} 0 0 1 ${normalizedRadius},-${normalizedRadius} z`;\n  }\n  function destroyOverlay() {\n    const overlaySvg = getState(\"__overlaySvg\");\n    if (overlaySvg) {\n      overlaySvg.remove();\n    }\n  }\n  function mountDummyElement() {\n    const existingDummy = document.getElementById(\"gleap-tour-dummy-element\");\n    if (existingDummy) {\n      return existingDummy;\n    }\n    let element = document.createElement(\"div\");\n    element.id = \"gleap-tour-dummy-element\";\n    element.style.width = \"0\";\n    element.style.height = \"0\";\n    element.style.pointerEvents = \"none\";\n    element.style.opacity = \"0\";\n    element.style.position = \"fixed\";\n    element.style.top = \"50%\";\n    element.style.left = \"50%\";\n    document.body.appendChild(element);\n    return element;\n  }\n  function highlight(step, attemptTime = 5000) {\n    const { element } = step;\n    let elemObj = element;\n    if (typeof elemObj === \"string\") {\n      try {\n        elemObj = document.querySelector(element);\n      } catch (error) {\n        // This will escape colons within IDs but not affect pseudo-classes or other valid uses of colons\n        let refactoredElement = element.replace(\n          /(#[^#\\s]+)/g,\n          function (match) {\n            return match.replace(/:/g, \"\\\\:\");\n          }\n        );\n        elemObj = document.querySelector(refactoredElement);\n      }\n    }\n    if (element && !elemObj && attemptTime >= 0) {\n      setTimeout(() => {\n        hidePopover();\n        highlight(step, attemptTime - 100);\n      }, 100);\n\n      return;\n    }\n\n    if (!elemObj) {\n      if (step.mode === \"INPUT\" || step.mode === \"CLICK\") {\n        return getConfig(\"onElementNotFound\")(step);\n      }\n    }\n\n    if (!elemObj) {\n      elemObj = mountDummyElement();\n    }\n\n    transferHighlight(elemObj, step);\n  }\n  function refreshActiveHighlight() {\n    const activeHighlight = getState(\"__activeElement\");\n    const activeStep = getState(\"__activeStep\");\n    if (!activeHighlight) {\n      return;\n    }\n    trackActiveElement(activeHighlight);\n    refreshOverlay();\n    repositionPopover(activeHighlight, activeStep);\n  }\n  function transferHighlight(toElement, toStep) {\n    const duration = 400;\n    const start = Date.now();\n    const fromStep = getState(\"__activeStep\");\n    const fromElement = getState(\"__activeElement\") || toElement;\n    const isFirstHighlight = !fromElement || fromElement === toElement;\n    const isToDummyElement = toElement.id === \"gleap-tour-dummy-element\";\n    const isFromDummyElement = fromElement.id === \"gleap-tour-dummy-element\";\n    const isAnimatedTour = getConfig(\"animate\");\n    const highlightStartedHook =\n      toStep.onHighlightStarted || getConfig(\"onHighlightStarted\");\n    const highlightedHook =\n      (toStep == null ? void 0 : toStep.onHighlighted) ||\n      getConfig(\"onHighlighted\");\n    const deselectedHook =\n      (fromStep == null ? void 0 : fromStep.onDeselected) ||\n      getConfig(\"onDeselected\");\n    const config = getConfig();\n    const state = getState();\n    if (!isFirstHighlight && deselectedHook) {\n      deselectedHook(isFromDummyElement ? void 0 : fromElement, fromStep, {\n        config,\n        state,\n      });\n    }\n    if (highlightStartedHook) {\n      highlightStartedHook(isToDummyElement ? void 0 : toElement, toStep, {\n        config,\n        state,\n      });\n    }\n    const hasDelayedPopover = !isFirstHighlight && isAnimatedTour;\n    let isPopoverRendered = false;\n    hidePopover();\n    setState(\"previousStep\", fromStep);\n    setState(\"previousElement\", fromElement);\n    setState(\"activeStep\", toStep);\n    setState(\"activeElement\", toElement);\n    const animate = () => {\n      const transitionCallback = getState(\"__transitionCallback\");\n      if (transitionCallback !== animate) {\n        return;\n      }\n      const elapsed = Date.now() - start;\n      const timeRemaining = duration - elapsed;\n      const isHalfwayThrough = timeRemaining <= duration / 2;\n      if (\n        toStep.popover &&\n        isHalfwayThrough &&\n        !isPopoverRendered &&\n        hasDelayedPopover\n      ) {\n        renderPopover(toElement, toStep);\n        isPopoverRendered = true;\n      }\n      if (getConfig(\"animate\") && elapsed < duration) {\n        transitionStage(elapsed, duration, fromElement, toElement);\n      } else {\n        trackActiveElement(toElement);\n        if (highlightedHook) {\n          highlightedHook(isToDummyElement ? void 0 : toElement, toStep, {\n            config: getConfig(),\n            state: getState(),\n          });\n        }\n        setState(\"__transitionCallback\", void 0);\n        setState(\"__previousStep\", fromStep);\n        setState(\"__previousElement\", fromElement);\n        setState(\"__activeStep\", toStep);\n        setState(\"__activeElement\", toElement);\n      }\n      window.requestAnimationFrame(animate);\n    };\n    setState(\"__transitionCallback\", animate);\n    window.requestAnimationFrame(animate);\n    bringInView(toElement);\n    if (!hasDelayedPopover && toStep.popover) {\n      renderPopover(toElement, toStep);\n    }\n    fromElement.classList.remove(\n      \"gleap-tour-active-element\",\n      \"gleap-tour-no-interaction\"\n    );\n    fromElement.removeAttribute(\"aria-haspopup\");\n    fromElement.removeAttribute(\"aria-expanded\");\n    fromElement.removeAttribute(\"aria-controls\");\n    const disableActiveInteraction =\n      toStep.disableActiveInteraction ??\n      getConfig(\"disableActiveInteraction\") ??\n      false;\n    if (disableActiveInteraction) {\n      toElement.classList.add(\"gleap-tour-no-interaction\");\n    }\n    toElement.classList.add(\"gleap-tour-active-element\");\n    toElement.setAttribute(\"aria-haspopup\", \"dialog\");\n    toElement.setAttribute(\"aria-expanded\", \"true\");\n    toElement.setAttribute(\"aria-controls\", \"gleap-tour-popover-content\");\n  }\n  function destroyHighlight() {\n    var _a;\n    (_a = document.getElementById(\"gleap-tour-dummy-element\")) == null\n      ? void 0\n      : _a.remove();\n    document\n      .querySelectorAll(\".gleap-tour-active-element\")\n      .forEach((element) => {\n        element.classList.remove(\n          \"gleap-tour-active-element\",\n          \"gleap-tour-no-interaction\"\n        );\n        element.removeAttribute(\"aria-haspopup\");\n        element.removeAttribute(\"aria-expanded\");\n        element.removeAttribute(\"aria-controls\");\n      });\n  }\n  function requireRefresh() {\n    const resizeTimeout = getState(\"__resizeTimeout\");\n    if (resizeTimeout) {\n      window.cancelAnimationFrame(resizeTimeout);\n    }\n    setState(\n      \"__resizeTimeout\",\n      window.requestAnimationFrame(refreshActiveHighlight)\n    );\n  }\n  function trapFocus(e) {\n    var _a;\n    const isActivated = getState(\"isInitialized\");\n    if (!isActivated) {\n      return;\n    }\n    const isTabKey = e.key === \"Tab\" || e.keyCode === 9;\n    if (!isTabKey) {\n      return;\n    }\n    const activeElement = getState(\"__activeElement\");\n    const popoverEl = (_a = getState(\"popover\")) == null ? void 0 : _a.wrapper;\n    const focusableEls = getFocusableElements([\n      ...(popoverEl ? [popoverEl] : []),\n      ...(activeElement ? [activeElement] : []),\n    ]);\n    const firstFocusableEl = focusableEls[0];\n    const lastFocusableEl = focusableEls[focusableEls.length - 1];\n    e.preventDefault();\n    if (e.shiftKey) {\n      const previousFocusableEl =\n        focusableEls[focusableEls.indexOf(document.activeElement) - 1] ||\n        lastFocusableEl;\n      previousFocusableEl == null ? void 0 : previousFocusableEl.focus();\n    } else {\n      const nextFocusableEl =\n        focusableEls[focusableEls.indexOf(document.activeElement) + 1] ||\n        firstFocusableEl;\n      nextFocusableEl == null ? void 0 : nextFocusableEl.focus();\n    }\n  }\n  function onKeyup(e) {\n    var _a;\n    const allowKeyboardControl =\n      (_a = getConfig(\"allowKeyboardControl\")) != null ? _a : true;\n    if (!allowKeyboardControl) {\n      return;\n    }\n    if (e.key === \"Escape\") {\n      emit(\"escapePress\");\n    } else if (e.key === \"ArrowRight\") {\n      emit(\"arrowRightPress\");\n    } else if (e.key === \"ArrowLeft\") {\n      emit(\"arrowLeftPress\");\n    }\n  }\n  function onDriverClick(element, listener, shouldPreventDefault) {\n    const listenerWrapper = (e, listener2) => {\n      const target = e.target;\n      if (!element.contains(target)) {\n        return;\n      }\n      if (!shouldPreventDefault || shouldPreventDefault(target)) {\n        e.preventDefault();\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n      }\n      listener2 == null ? void 0 : listener2(e);\n    };\n    const useCapture = true;\n    document.addEventListener(\"pointerdown\", listenerWrapper, useCapture);\n    document.addEventListener(\"mousedown\", listenerWrapper, useCapture);\n    document.addEventListener(\"pointerup\", listenerWrapper, useCapture);\n    document.addEventListener(\"mouseup\", listenerWrapper, useCapture);\n    document.addEventListener(\n      \"click\",\n      (e) => {\n        listenerWrapper(e, listener);\n      },\n      useCapture\n    );\n  }\n  function initEvents() {\n    window.addEventListener(\"keyup\", onKeyup, false);\n    window.addEventListener(\"keydown\", trapFocus, false);\n    window.addEventListener(\"resize\", requireRefresh);\n    window.addEventListener(\"scroll\", requireRefresh);\n  }\n  function destroyEvents() {\n    window.removeEventListener(\"keyup\", onKeyup);\n    window.removeEventListener(\"resize\", requireRefresh);\n    window.removeEventListener(\"scroll\", requireRefresh);\n  }\n  function hidePopover() {\n    const popover = getState(\"popover\");\n    if (!popover) {\n      return;\n    }\n    popover.wrapper.style.display = \"none\";\n  }\n  function renderPopover(element, step) {\n    var _a, _b;\n    let popover = getState(\"popover\");\n    if (popover) {\n      document.body.removeChild(popover.wrapper);\n    }\n    popover = createPopover();\n    document.body.appendChild(popover.wrapper);\n    const {\n      title,\n      description,\n      showButtons,\n      disableButtons,\n      showProgress,\n      nextBtnText = getConfig(\"nextBtnText\") || \"Next\",\n      prevBtnText = getConfig(\"prevBtnText\") || \"Previous\",\n      progressText = getConfig(\"progressText\") || \"{current} of {total}\",\n    } = step.popover || {};\n    popover.nextButton.innerHTML = nextBtnText;\n    popover.previousButton.innerHTML = prevBtnText;\n    popover.progress.innerHTML = progressText;\n    if (title) {\n      popover.title.innerHTML = title;\n      popover.title.style.display = \"block\";\n    } else {\n      popover.title.style.display = \"none\";\n    }\n    if (description) {\n      popover.description.innerHTML = description;\n      popover.description.style.display = \"block\";\n    } else {\n      popover.description.style.display = \"none\";\n    }\n    const showButtonsConfig = showButtons || getConfig(\"showButtons\");\n    const showProgressConfig =\n      showProgress || getConfig(\"showProgress\") || false;\n    const showFooter =\n      (showButtonsConfig == null\n        ? void 0\n        : showButtonsConfig.includes(\"next\")) ||\n      (showButtonsConfig == null\n        ? void 0\n        : showButtonsConfig.includes(\"previous\")) ||\n      showProgressConfig;\n    popover.closeButton.style.display = showButtonsConfig.includes(\"close\")\n      ? \"block\"\n      : \"none\";\n    if (showFooter) {\n      popover.footer.style.display = \"flex\";\n      popover.progress.style.display = showProgressConfig ? \"block\" : \"none\";\n      popover.nextButton.style.display = showButtonsConfig.includes(\"next\")\n        ? \"block\"\n        : \"none\";\n      popover.previousButton.style.display = showButtonsConfig.includes(\n        \"previous\"\n      )\n        ? \"block\"\n        : \"none\";\n    } else {\n      popover.footer.style.display = \"none\";\n    }\n    const disabledButtonsConfig =\n      disableButtons || getConfig(\"disableButtons\") || [];\n    if (\n      disabledButtonsConfig == null\n        ? void 0\n        : disabledButtonsConfig.includes(\"next\")\n    ) {\n      popover.nextButton.disabled = true;\n      popover.nextButton.classList.add(\"gleap-tour-popover-btn-disabled\");\n    }\n    if (\n      disabledButtonsConfig == null\n        ? void 0\n        : disabledButtonsConfig.includes(\"previous\")\n    ) {\n      popover.previousButton.disabled = true;\n      popover.previousButton.classList.add(\"gleap-tour-popover-btn-disabled\");\n    }\n    if (\n      disabledButtonsConfig == null\n        ? void 0\n        : disabledButtonsConfig.includes(\"close\")\n    ) {\n      popover.closeButton.disabled = true;\n      popover.closeButton.classList.add(\"gleap-tour-popover-btn-disabled\");\n    }\n    const popoverWrapper = popover.wrapper;\n    popoverWrapper.style.display = \"block\";\n    popoverWrapper.style.left = \"\";\n    popoverWrapper.style.top = \"\";\n    popoverWrapper.style.bottom = \"\";\n    popoverWrapper.style.right = \"\";\n    popoverWrapper.id = \"gleap-tour-popover-content\";\n    popoverWrapper.setAttribute(\"role\", \"dialog\");\n    popoverWrapper.setAttribute(\"aria-labelledby\", \"gleap-tour-popover-title\");\n    popoverWrapper.setAttribute(\n      \"aria-describedby\",\n      \"gleap-tour-popover-description\"\n    );\n    const popoverArrow = popover.arrow;\n    popoverArrow.className = \"gleap-tour-popover-arrow\";\n    const customPopoverClass =\n      ((_a = step.popover) == null ? void 0 : _a.popoverClass) ||\n      getConfig(\"popoverClass\") ||\n      \"\";\n    popoverWrapper.className =\n      `gleap-tour-popover ${customPopoverClass}`.trim();\n    onDriverClick(\n      popover.wrapper,\n      (e) => {\n        var _a2, _b2, _c;\n        const target = e.target;\n        const onNextClick =\n          ((_a2 = step.popover) == null ? void 0 : _a2.onNextClick) ||\n          getConfig(\"onNextClick\");\n        const onPrevClick =\n          ((_b2 = step.popover) == null ? void 0 : _b2.onPrevClick) ||\n          getConfig(\"onPrevClick\");\n        const onCloseClick =\n          ((_c = step.popover) == null ? void 0 : _c.onCloseClick) ||\n          getConfig(\"onCloseClick\");\n        if (target.classList.contains(\"gleap-tour-popover-next-btn\")) {\n          if (onNextClick) {\n            return onNextClick(element, step, {\n              config: getConfig(),\n              state: getState(),\n            });\n          } else {\n            return emit(\"nextClick\");\n          }\n        }\n        if (target.classList.contains(\"gleap-tour-popover-prev-btn\")) {\n          if (onPrevClick) {\n            return onPrevClick(element, step, {\n              config: getConfig(),\n              state: getState(),\n            });\n          } else {\n            return emit(\"prevClick\");\n          }\n        }\n        if (target.classList.contains(\"gleap-tour-popover-close-btn\")) {\n          if (onCloseClick) {\n            return onCloseClick(element, step, {\n              config: getConfig(),\n              state: getState(),\n            });\n          } else {\n            return emit(\"closeClick\");\n          }\n        }\n        return void 0;\n      },\n      (target) => {\n        return (\n          !(popover == null ? void 0 : popover.description.contains(target)) &&\n          !(popover == null ? void 0 : popover.title.contains(target)) &&\n          typeof target.className === \"string\" &&\n          target.className.includes(\"gleap-tour-popover\")\n        );\n      }\n    );\n    setState(\"popover\", popover);\n    const onPopoverRender =\n      ((_b = step.popover) == null ? void 0 : _b.onPopoverRender) ||\n      getConfig(\"onPopoverRender\");\n    if (onPopoverRender) {\n      onPopoverRender(popover, {\n        config: getConfig(),\n        state: getState(),\n      });\n    }\n    repositionPopover(element, step);\n    bringInView(popoverWrapper);\n    const isToDummyElement = element.classList.contains(\n      \"gleap-tour-dummy-element\"\n    );\n    const focusableElement = getFocusableElements([\n      popoverWrapper,\n      ...(isToDummyElement ? [] : [element]),\n    ]);\n    if (focusableElement.length > 0) {\n      focusableElement[0].focus();\n    }\n  }\n  function getPopoverDimensions() {\n    const popover = getState(\"popover\");\n    if (!(popover == null ? void 0 : popover.wrapper)) {\n      return;\n    }\n    const boundingClientRect = popover.wrapper.getBoundingClientRect();\n    const stagePadding = getConfig(\"stagePadding\") || 0;\n    const popoverOffset = getConfig(\"popoverOffset\") || 0;\n    return {\n      width: boundingClientRect.width + stagePadding + popoverOffset,\n      height: boundingClientRect.height + stagePadding + popoverOffset,\n      realWidth: boundingClientRect.width,\n      realHeight: boundingClientRect.height,\n    };\n  }\n  function calculateTopForLeftRight(alignment, config) {\n    const {\n      elementDimensions,\n      popoverDimensions,\n      popoverPadding,\n      popoverArrowDimensions,\n    } = config;\n    if (alignment === \"start\") {\n      return Math.max(\n        Math.min(\n          elementDimensions.top - popoverPadding,\n          window.innerHeight -\n            popoverDimensions.realHeight -\n            popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    if (alignment === \"end\") {\n      return Math.max(\n        Math.min(\n          elementDimensions.top -\n            (popoverDimensions == null\n              ? void 0\n              : popoverDimensions.realHeight) +\n            elementDimensions.height +\n            popoverPadding,\n          window.innerHeight -\n            (popoverDimensions == null\n              ? void 0\n              : popoverDimensions.realHeight) -\n            popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    if (alignment === \"center\") {\n      return Math.max(\n        Math.min(\n          elementDimensions.top +\n            elementDimensions.height / 2 -\n            (popoverDimensions == null\n              ? void 0\n              : popoverDimensions.realHeight) /\n              2,\n          window.innerHeight -\n            (popoverDimensions == null\n              ? void 0\n              : popoverDimensions.realHeight) -\n            popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    return 0;\n  }\n  function calculateLeftForTopBottom(alignment, config) {\n    const {\n      elementDimensions,\n      popoverDimensions,\n      popoverPadding,\n      popoverArrowDimensions,\n    } = config;\n    if (alignment === \"start\") {\n      return Math.max(\n        Math.min(\n          elementDimensions.left - popoverPadding,\n          window.innerWidth -\n            popoverDimensions.realWidth -\n            popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    if (alignment === \"end\") {\n      return Math.max(\n        Math.min(\n          elementDimensions.left -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) +\n            elementDimensions.width +\n            popoverPadding,\n          window.innerWidth -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) -\n            popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    if (alignment === \"center\") {\n      return Math.max(\n        Math.min(\n          elementDimensions.left +\n            elementDimensions.width / 2 -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) /\n              2,\n          window.innerWidth -\n            (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) -\n            popoverArrowDimensions.width\n        ),\n        popoverArrowDimensions.width\n      );\n    }\n    return 0;\n  }\n  function repositionPopover(element, step) {\n    const popover = getState(\"popover\");\n    if (!popover) {\n      return;\n    }\n    const { align = \"start\", side = \"left\" } =\n      (step == null ? void 0 : step.popover) || {};\n    const requiredAlignment = align;\n    const requiredSide =\n      element.id === \"gleap-tour-dummy-element\" ? \"over\" : side;\n    const popoverPadding = getConfig(\"stagePadding\") || 0;\n    const popoverDimensions = getPopoverDimensions();\n    const popoverArrowDimensions = popover.arrow.getBoundingClientRect();\n    const elementDimensions = element.getBoundingClientRect();\n    const topValue = elementDimensions.top - popoverDimensions.height;\n    let isTopOptimal = topValue >= 0;\n    const bottomValue =\n      window.innerHeight -\n      (elementDimensions.bottom + popoverDimensions.height);\n    let isBottomOptimal = bottomValue >= 0;\n    const leftValue = elementDimensions.left - popoverDimensions.width;\n    let isLeftOptimal = leftValue >= 0;\n    const rightValue =\n      window.innerWidth - (elementDimensions.right + popoverDimensions.width);\n    let isRightOptimal = rightValue >= 0;\n    const noneOptimal =\n      !isTopOptimal && !isBottomOptimal && !isLeftOptimal && !isRightOptimal;\n    let popoverRenderedSide = requiredSide;\n    if (requiredSide === \"top\" && isTopOptimal) {\n      isRightOptimal = isLeftOptimal = isBottomOptimal = false;\n    } else if (requiredSide === \"bottom\" && isBottomOptimal) {\n      isRightOptimal = isLeftOptimal = isTopOptimal = false;\n    } else if (requiredSide === \"left\" && isLeftOptimal) {\n      isRightOptimal = isTopOptimal = isBottomOptimal = false;\n    } else if (requiredSide === \"right\" && isRightOptimal) {\n      isLeftOptimal = isTopOptimal = isBottomOptimal = false;\n    }\n    if (requiredSide === \"over\") {\n      const leftToSet = window.innerWidth / 2 - popoverDimensions.realWidth / 2;\n      const topToSet =\n        window.innerHeight / 2 - popoverDimensions.realHeight / 2;\n      popover.wrapper.style.left = `${leftToSet}px`;\n      popover.wrapper.style.right = `auto`;\n      popover.wrapper.style.top = `${topToSet}px`;\n      popover.wrapper.style.bottom = `auto`;\n    } else if (noneOptimal) {\n      const leftValue2 =\n        window.innerWidth / 2 -\n        (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) / 2;\n      const bottomValue2 = 10;\n      popover.wrapper.style.left = `${leftValue2}px`;\n      popover.wrapper.style.right = `auto`;\n      popover.wrapper.style.bottom = `${bottomValue2}px`;\n      popover.wrapper.style.top = `auto`;\n    } else if (isLeftOptimal) {\n      const leftToSet = Math.min(\n        leftValue,\n        window.innerWidth -\n          (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) -\n          popoverArrowDimensions.width\n      );\n      const topToSet = calculateTopForLeftRight(requiredAlignment, {\n        elementDimensions,\n        popoverDimensions,\n        popoverPadding,\n        popoverArrowDimensions,\n      });\n      popover.wrapper.style.left = `${leftToSet}px`;\n      popover.wrapper.style.top = `${topToSet}px`;\n      popover.wrapper.style.bottom = `auto`;\n      popover.wrapper.style.right = \"auto\";\n      popoverRenderedSide = \"left\";\n    } else if (isRightOptimal) {\n      const rightToSet = Math.min(\n        rightValue,\n        window.innerWidth -\n          (popoverDimensions == null ? void 0 : popoverDimensions.realWidth) -\n          popoverArrowDimensions.width\n      );\n      const topToSet = calculateTopForLeftRight(requiredAlignment, {\n        elementDimensions,\n        popoverDimensions,\n        popoverPadding,\n        popoverArrowDimensions,\n      });\n      popover.wrapper.style.right = `${rightToSet}px`;\n      popover.wrapper.style.top = `${topToSet}px`;\n      popover.wrapper.style.bottom = `auto`;\n      popover.wrapper.style.left = \"auto\";\n      popoverRenderedSide = \"right\";\n    } else if (isTopOptimal) {\n      const topToSet = Math.min(\n        topValue,\n        window.innerHeight -\n          popoverDimensions.realHeight -\n          popoverArrowDimensions.width\n      );\n      let leftToSet = calculateLeftForTopBottom(requiredAlignment, {\n        elementDimensions,\n        popoverDimensions,\n        popoverPadding,\n        popoverArrowDimensions,\n      });\n      popover.wrapper.style.top = `${topToSet}px`;\n      popover.wrapper.style.left = `${leftToSet}px`;\n      popover.wrapper.style.bottom = `auto`;\n      popover.wrapper.style.right = \"auto\";\n      popoverRenderedSide = \"top\";\n    } else if (isBottomOptimal) {\n      const bottomToSet = Math.min(\n        bottomValue,\n        window.innerHeight -\n          (popoverDimensions == null ? void 0 : popoverDimensions.realHeight) -\n          popoverArrowDimensions.width\n      );\n      let leftToSet = calculateLeftForTopBottom(requiredAlignment, {\n        elementDimensions,\n        popoverDimensions,\n        popoverPadding,\n        popoverArrowDimensions,\n      });\n      popover.wrapper.style.left = `${leftToSet}px`;\n      popover.wrapper.style.bottom = `${bottomToSet}px`;\n      popover.wrapper.style.top = `auto`;\n      popover.wrapper.style.right = \"auto\";\n      popoverRenderedSide = \"bottom\";\n    }\n    if (!noneOptimal) {\n      renderPopoverArrow(requiredAlignment, popoverRenderedSide, element);\n    } else {\n      popover.arrow.classList.add(\"gleap-tour-popover-arrow-none\");\n    }\n  }\n  function renderPopoverArrow(alignment, side, element) {\n    const popover = getState(\"popover\");\n    if (!popover) {\n      return;\n    }\n    const elementDimensions = element.getBoundingClientRect();\n    const popoverDimensions = getPopoverDimensions();\n    const popoverArrow = popover.arrow;\n    const popoverWidth = popoverDimensions.width;\n    const windowWidth = window.innerWidth;\n    const elementWidth = elementDimensions.width;\n    const elementLeft = elementDimensions.left;\n    const popoverHeight = popoverDimensions.height;\n    const windowHeight = window.innerHeight;\n    const elementTop = elementDimensions.top;\n    const elementHeight = elementDimensions.height;\n    popoverArrow.className = \"gleap-tour-popover-arrow\";\n    let arrowSide = side;\n    let arrowAlignment = alignment;\n    if (side === \"top\") {\n      if (elementLeft + elementWidth <= 0) {\n        arrowSide = \"right\";\n        arrowAlignment = \"end\";\n      } else if (elementLeft + elementWidth - popoverWidth <= 0) {\n        arrowSide = \"top\";\n        arrowAlignment = \"start\";\n      }\n      if (elementLeft >= windowWidth) {\n        arrowSide = \"left\";\n        arrowAlignment = \"end\";\n      } else if (elementLeft + popoverWidth >= windowWidth) {\n        arrowSide = \"top\";\n        arrowAlignment = \"end\";\n      }\n    } else if (side === \"bottom\") {\n      if (elementLeft + elementWidth <= 0) {\n        arrowSide = \"right\";\n        arrowAlignment = \"start\";\n      } else if (elementLeft + elementWidth - popoverWidth <= 0) {\n        arrowSide = \"bottom\";\n        arrowAlignment = \"start\";\n      }\n      if (elementLeft >= windowWidth) {\n        arrowSide = \"left\";\n        arrowAlignment = \"start\";\n      } else if (elementLeft + popoverWidth >= windowWidth) {\n        arrowSide = \"bottom\";\n        arrowAlignment = \"end\";\n      }\n    } else if (side === \"left\") {\n      if (elementTop + elementHeight <= 0) {\n        arrowSide = \"bottom\";\n        arrowAlignment = \"end\";\n      } else if (elementTop + elementHeight - popoverHeight <= 0) {\n        arrowSide = \"left\";\n        arrowAlignment = \"start\";\n      }\n      if (elementTop >= windowHeight) {\n        arrowSide = \"top\";\n        arrowAlignment = \"end\";\n      } else if (elementTop + popoverHeight >= windowHeight) {\n        arrowSide = \"left\";\n        arrowAlignment = \"end\";\n      }\n    } else if (side === \"right\") {\n      if (elementTop + elementHeight <= 0) {\n        arrowSide = \"bottom\";\n        arrowAlignment = \"start\";\n      } else if (elementTop + elementHeight - popoverHeight <= 0) {\n        arrowSide = \"right\";\n        arrowAlignment = \"start\";\n      }\n      if (elementTop >= windowHeight) {\n        arrowSide = \"top\";\n        arrowAlignment = \"start\";\n      } else if (elementTop + popoverHeight >= windowHeight) {\n        arrowSide = \"right\";\n        arrowAlignment = \"end\";\n      }\n    } else;\n    if (!arrowSide) {\n      popoverArrow.classList.add(\"gleap-tour-popover-arrow-none\");\n    } else {\n      popoverArrow.classList.add(`gleap-tour-popover-arrow-side-${arrowSide}`);\n      popoverArrow.classList.add(\n        `gleap-tour-popover-arrow-align-${arrowAlignment}`\n      );\n    }\n  }\n  function createPopover() {\n    const wrapper = document.createElement(\"div\");\n    wrapper.classList.add(\"gleap-tour-popover\");\n    const arrow = document.createElement(\"div\");\n    arrow.classList.add(\"gleap-tour-popover-arrow\");\n    const title = document.createElement(\"div\");\n    title.id = \"gleap-tour-popover-title\";\n    title.classList.add(\"gleap-tour-popover-title\");\n    title.style.display = \"none\";\n    title.innerText = \"Popover Title\";\n    const description = document.createElement(\"div\");\n    description.id = \"gleap-tour-popover-description\";\n    description.classList.add(\"gleap-tour-popover-description\");\n    description.style.display = \"none\";\n    description.innerText = \"Popover description is here\";\n    const closeButton = document.createElement(\"button\");\n    closeButton.type = \"button\";\n    closeButton.classList.add(\"gleap-tour-popover-close-btn\");\n    closeButton.setAttribute(\"aria-label\", \"Close\");\n    closeButton.innerHTML = \"&times;\";\n    const footer = document.createElement(\"div\");\n    footer.classList.add(\"gleap-tour-popover-footer\");\n    const progress = document.createElement(\"span\");\n    progress.classList.add(\"gleap-tour-popover-progress-text\");\n    progress.innerText = \"\";\n    const footerButtons = document.createElement(\"span\");\n    footerButtons.classList.add(\"gleap-tour-popover-navigation-btns\");\n    const previousButton = document.createElement(\"button\");\n    previousButton.type = \"button\";\n    previousButton.classList.add(\"gleap-tour-popover-prev-btn\");\n    previousButton.innerHTML = \"&larr; Previous\";\n    const nextButton = document.createElement(\"button\");\n    nextButton.type = \"button\";\n    nextButton.classList.add(\"gleap-tour-popover-next-btn\");\n    nextButton.innerHTML = \"Next &rarr;\";\n    footerButtons.appendChild(previousButton);\n    footerButtons.appendChild(nextButton);\n    footer.appendChild(progress);\n    footer.appendChild(footerButtons);\n    wrapper.appendChild(closeButton);\n    wrapper.appendChild(arrow);\n    wrapper.appendChild(title);\n    wrapper.appendChild(description);\n    wrapper.appendChild(footer);\n    return {\n      wrapper,\n      arrow,\n      title,\n      description,\n      footer,\n      previousButton,\n      nextButton,\n      closeButton,\n      footerButtons,\n      progress,\n    };\n  }\n  function destroyPopover() {\n    var _a;\n    const popover = getState(\"popover\");\n    if (!popover) {\n      return;\n    }\n    (_a = popover.wrapper.parentElement) == null\n      ? void 0\n      : _a.removeChild(popover.wrapper);\n  }\n  function driver(options = {}) {\n    configure(options);\n    function handleClose() {\n      if (!getConfig(\"allowClose\")) {\n        return;\n      }\n      destroy();\n    }\n    function moveNext() {\n      const activeIndex = getState(\"activeIndex\");\n      const steps = getConfig(\"steps\") || [];\n      if (typeof activeIndex === \"undefined\") {\n        return;\n      }\n      const nextStepIndex = activeIndex + 1;\n      if (steps[nextStepIndex]) {\n        drive(nextStepIndex);\n      } else {\n        destroy();\n      }\n    }\n    function movePrevious() {\n      const activeIndex = getState(\"activeIndex\");\n      const steps = getConfig(\"steps\") || [];\n      if (typeof activeIndex === \"undefined\") {\n        return;\n      }\n      const previousStepIndex = activeIndex - 1;\n      if (steps[previousStepIndex]) {\n        drive(previousStepIndex);\n      } else {\n        destroy();\n      }\n    }\n    function moveTo(index) {\n      const steps = getConfig(\"steps\") || [];\n      if (steps[index]) {\n        drive(index);\n      } else {\n        destroy();\n      }\n    }\n    function handleArrowLeft() {\n      var _a;\n      const isTransitioning = getState(\"__transitionCallback\");\n      if (isTransitioning) {\n        return;\n      }\n      const activeIndex = getState(\"activeIndex\");\n      const activeStep = getState(\"__activeStep\");\n      const activeElement = getState(\"__activeElement\");\n\n      if (activeStep.mode === \"CLICK\") {\n        return;\n      }\n      if (\n        typeof activeIndex === \"undefined\" ||\n        typeof activeStep === \"undefined\"\n      ) {\n        return;\n      }\n      const currentStepIndex = getState(\"activeIndex\");\n      if (typeof currentStepIndex === \"undefined\") {\n        return;\n      }\n      const onPrevClick =\n        ((_a = activeStep.popover) == null ? void 0 : _a.onPrevClick) ||\n        getConfig(\"onPrevClick\");\n      if (onPrevClick) {\n        return onPrevClick(activeElement, activeStep, {\n          config: getConfig(),\n          state: getState(),\n        });\n      }\n      movePrevious();\n    }\n    function handleArrowRight() {\n      var _a;\n      const isTransitioning = getState(\"__transitionCallback\");\n      if (isTransitioning) {\n        return;\n      }\n      const activeIndex = getState(\"activeIndex\");\n      const activeStep = getState(\"__activeStep\");\n      const activeElement = getState(\"__activeElement\");\n\n      if (activeStep.mode === \"CLICK\") {\n        return;\n      }\n      if (\n        typeof activeIndex === \"undefined\" ||\n        typeof activeStep === \"undefined\"\n      ) {\n        return;\n      }\n      const onNextClick =\n        ((_a = activeStep.popover) == null ? void 0 : _a.onNextClick) ||\n        getConfig(\"onNextClick\");\n      if (onNextClick) {\n        return onNextClick(activeElement, activeStep, {\n          config: getConfig(),\n          state: getState(),\n        });\n      }\n      moveNext();\n    }\n    function init() {\n      if (getState(\"isInitialized\")) {\n        return;\n      }\n      setState(\"isInitialized\", true);\n      document.body.classList.add(\n        \"gleap-tour-active\",\n        getConfig(\"animate\") ? \"gleap-tour-fade\" : \"gleap-tour-simple\"\n      );\n      initEvents();\n      listen(\"overlayClick\", handleClose);\n      listen(\"escapePress\", handleClose);\n      listen(\"arrowLeftPress\", handleArrowLeft);\n      listen(\"arrowRightPress\", handleArrowRight);\n    }\n    function drive(stepIndex = 0) {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      const steps = getConfig(\"steps\");\n      if (!steps) {\n        console.error(\"No steps to drive through\");\n        destroy();\n        return;\n      }\n      if (!steps[stepIndex]) {\n        destroy();\n        return;\n      }\n      setState(\"__activeOnDestroyed\", document.activeElement);\n      setState(\"activeIndex\", stepIndex);\n      const currentStep = steps[stepIndex];\n      const hasNextStep = steps[stepIndex + 1];\n      const hasPreviousStep = steps[stepIndex - 1];\n      const doneBtnText =\n        ((_a = currentStep.popover) == null ? void 0 : _a.doneBtnText) ||\n        getConfig(\"doneBtnText\") ||\n        \"Done\";\n      const allowsClosing = getConfig(\"allowClose\");\n      const showProgress =\n        typeof ((_b = currentStep.popover) == null\n          ? void 0\n          : _b.showProgress) !== \"undefined\"\n          ? (_c = currentStep.popover) == null\n            ? void 0\n            : _c.showProgress\n          : getConfig(\"showProgress\");\n      const progressText =\n        ((_d = currentStep.popover) == null ? void 0 : _d.progressText) ||\n        getConfig(\"progressText\") ||\n        \"{{current}} of {{total}}\";\n      const progressTextReplaced = progressText\n        .replace(\"{{current}}\", `${stepIndex + 1}`)\n        .replace(\"{{total}}\", `${steps.length}`);\n      const configuredButtons =\n        ((_e = currentStep.popover) == null ? void 0 : _e.showButtons) ||\n        getConfig(\"showButtons\");\n      const calculatedButtons = [\n        \"next\",\n        \"previous\",\n        ...(allowsClosing ? [\"close\"] : []),\n      ].filter((b) => {\n        return (\n          !(configuredButtons == null ? void 0 : configuredButtons.length) ||\n          configuredButtons.includes(b)\n        );\n      });\n      const onNextClick =\n        ((_f = currentStep.popover) == null ? void 0 : _f.onNextClick) ||\n        getConfig(\"onNextClick\");\n      const onPrevClick =\n        ((_g = currentStep.popover) == null ? void 0 : _g.onPrevClick) ||\n        getConfig(\"onPrevClick\");\n      const onCloseClick =\n        ((_h = currentStep.popover) == null ? void 0 : _h.onCloseClick) ||\n        getConfig(\"onCloseClick\");\n      highlight({\n        ...currentStep,\n        popover: {\n          showButtons: calculatedButtons,\n          nextBtnText: !hasNextStep ? doneBtnText : void 0,\n          disableButtons: [...(!hasPreviousStep ? [\"previous\"] : [])],\n          showProgress,\n          progressText: progressTextReplaced,\n          onNextClick: onNextClick\n            ? onNextClick\n            : () => {\n                if (!hasNextStep) {\n                  destroy();\n                } else {\n                  drive(stepIndex + 1);\n                }\n              },\n          onPrevClick: onPrevClick\n            ? onPrevClick\n            : () => {\n                drive(stepIndex - 1);\n              },\n          onCloseClick: onCloseClick\n            ? onCloseClick\n            : () => {\n                destroy();\n              },\n          ...((currentStep == null ? void 0 : currentStep.popover) || {}),\n        },\n      });\n    }\n    function destroy(withOnDestroyStartedHook = true) {\n      const activeElement = getState(\"__activeElement\");\n      const activeStep = getState(\"__activeStep\");\n      const activeOnDestroyed = getState(\"__activeOnDestroyed\");\n      const onDestroyStarted = getConfig(\"onDestroyStarted\");\n      if (withOnDestroyStartedHook && onDestroyStarted) {\n        const isActiveDummyElement =\n          !activeElement ||\n          (activeElement == null ? void 0 : activeElement.id) ===\n            \"gleap-tour-dummy-element\";\n        onDestroyStarted(\n          isActiveDummyElement ? void 0 : activeElement,\n          activeStep,\n          {\n            config: getConfig(),\n            state: getState(),\n          }\n        );\n        return;\n      }\n      const onDeselected =\n        (activeStep == null ? void 0 : activeStep.onDeselected) ||\n        getConfig(\"onDeselected\");\n      const onDestroyed = getConfig(\"onDestroyed\");\n      document.body.classList.remove(\n        \"gleap-tour-active\",\n        \"gleap-tour-fade\",\n        \"gleap-tour-simple\"\n      );\n      destroyEvents();\n      destroyPopover();\n      destroyHighlight();\n      destroyOverlay();\n      destroyEmitter();\n      resetState();\n      if (activeElement && activeStep) {\n        const isActiveDummyElement =\n          activeElement.id === \"gleap-tour-dummy-element\";\n        if (onDeselected) {\n          onDeselected(\n            isActiveDummyElement ? void 0 : activeElement,\n            activeStep,\n            {\n              config: getConfig(),\n              state: getState(),\n            }\n          );\n        }\n        if (onDestroyed) {\n          onDestroyed(\n            isActiveDummyElement ? void 0 : activeElement,\n            activeStep,\n            {\n              config: getConfig(),\n              state: getState(),\n            }\n          );\n        }\n      }\n      if (activeOnDestroyed) {\n        activeOnDestroyed.focus();\n      }\n    }\n    return {\n      isActive: () => getState(\"isInitialized\") || false,\n      refresh: requireRefresh,\n      drive: (stepIndex = 0) => {\n        init();\n        drive(stepIndex);\n      },\n      setConfig: configure,\n      setSteps: (steps) => {\n        resetState();\n        configure({\n          ...getConfig(),\n          steps,\n        });\n      },\n      getConfig,\n      getState,\n      getActiveIndex: () => getState(\"activeIndex\"),\n      isFirstStep: () => getState(\"activeIndex\") === 0,\n      isLastStep: () => {\n        const steps = getConfig(\"steps\") || [];\n        const activeIndex = getState(\"activeIndex\");\n        return activeIndex !== void 0 && activeIndex === steps.length - 1;\n      },\n      getActiveStep: () => getState(\"activeStep\"),\n      getActiveElement: () => getState(\"activeElement\"),\n      getPreviousElement: () => getState(\"previousElement\"),\n      getPreviousStep: () => getState(\"previousStep\"),\n      moveNext,\n      movePrevious,\n      moveTo,\n      hasNextStep: () => {\n        const steps = getConfig(\"steps\") || [];\n        const activeIndex = getState(\"activeIndex\");\n        return activeIndex !== void 0 && steps[activeIndex + 1];\n      },\n      hasPreviousStep: () => {\n        const steps = getConfig(\"steps\") || [];\n        const activeIndex = getState(\"activeIndex\");\n        return activeIndex !== void 0 && steps[activeIndex - 1];\n      },\n      highlight: (step) => {\n        init();\n        highlight({\n          ...step,\n          popover: step.popover\n            ? {\n                showButtons: [],\n                showProgress: false,\n                progressText: \"\",\n                ...step.popover,\n              }\n            : void 0,\n        });\n      },\n      destroy: () => {\n        destroy(false);\n      },\n    };\n  }\n  return driver;\n})({});\n\nexport default GleapTours;\n","import { GleapConfigManager, GleapTranslationManager } from \"./Gleap\";\nimport { calculateContrast, loadIcon } from \"./UI\";\n\nconst localStorageKey = \"gleap-tour-data\";\nconst pointerContainerId = \"copilot-pointer-container\";\nconst styleId = \"copilot-tour-styles\";\nconst copilotJoinedContainerId = \"copilot-joined-container\";\n\nfunction estimateReadTime(text) {\n  if (typeof window === \"undefined\") return;\n\n  const wordsPerSecond = 3.6; // Average reading speed\n  const wordCount = text.split(/\\s+/).filter((word) => word.length > 0).length;\n  const readTimeInSeconds = Math.ceil(wordCount / wordsPerSecond);\n  return readTimeInSeconds + 1;\n}\n\nfunction htmlToPlainText(html) {\n  if (typeof window === \"undefined\") return;\n\n  const tempDiv = document.createElement(\"div\");\n  tempDiv.innerHTML = html;\n  return tempDiv.textContent || \"\";\n}\n\nfunction scrollToElement(element) {\n  if (typeof window === \"undefined\") return;\n\n  if (element) {\n    element.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"center\",\n      inline: \"center\",\n    });\n  }\n}\n\nfunction performClickAnimation(posX, posY) {\n  if (typeof window === \"undefined\") return;\n\n  const wave = document.createElement(\"div\");\n  wave.className = \"click-wave\";\n  wave.style.left = `${posX - 17}px`;\n  wave.style.top = `${posY - 17}px`;\n  document.body.appendChild(wave);\n  setTimeout(() => {\n    wave.remove();\n  }, 800);\n}\n\nfunction waitForElement(selector, timeout = 5000) {\n  if (typeof window === \"undefined\") return;\n\n  const pollInterval = 100;\n  const maxAttempts = timeout / pollInterval;\n  let attempts = 0;\n  return new Promise((resolve, reject) => {\n    const interval = setInterval(() => {\n      const element = document.querySelector(selector);\n      if (element) {\n        clearInterval(interval);\n        resolve(element);\n      } else if (attempts >= maxAttempts) {\n        clearInterval(interval);\n        reject(new Error(`Element not found for selector: ${selector}`));\n      }\n      attempts++;\n    }, pollInterval);\n  });\n}\n\nfunction smoothScrollToY(yPosition) {\n  if (typeof window === \"undefined\") return;\n\n  const viewportHeight = window.innerHeight;\n  const targetScrollPosition = yPosition - viewportHeight / 2;\n  window.scrollTo({\n    top: targetScrollPosition,\n    behavior: \"smooth\",\n  });\n}\n\nasync function canPlayAudio() {\n  if (typeof window === \"undefined\") return;\n\n  const audio = new Audio(\n    \"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEARKwAABCxAgAEABAAZGF0YQAAAAA=\"\n  );\n  try {\n    await audio.play();\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n\n// Helper: Check if an element is fully visible in the viewport.\nfunction isElementFullyVisible(el) {\n  if (typeof window === \"undefined\") return;\n\n  const rect = el.getBoundingClientRect();\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <= window.innerHeight &&\n    rect.right <= window.innerWidth\n  );\n}\n\n// Helper: Get scrollable ancestors of an element.\nfunction getScrollableAncestors(el) {\n  if (typeof window === \"undefined\") return;\n\n  let ancestors = [];\n  let current = el.parentElement;\n  while (current) {\n    const style = window.getComputedStyle(current);\n    if (\n      (style.overflowY === \"auto\" || style.overflowY === \"scroll\") &&\n      current.scrollHeight > current.clientHeight\n    ) {\n      ancestors.push(current);\n    }\n    current = current.parentElement;\n  }\n  return ancestors;\n}\n\nexport default class GleapCopilotTours {\n  productTourData = undefined;\n  productTourId = undefined;\n  currentActiveIndex = undefined;\n  lastArrowPositionX = undefined;\n  lastArrowPositionY = undefined;\n  onCompleteCallback = undefined;\n  audioMuted = false;\n  currentAudio = undefined;\n\n  // Cached pointer container.\n  _pointerContainer = null;\n  // For scroll handling.\n  _scrollListeners = [];\n  _currentAnchor = null;\n  _currentStep = null;\n  _scrollDebounceTimer = null;\n\n  // GleapReplayRecorder singleton.\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapCopilotTours();\n    }\n    return this.instance;\n  }\n\n  constructor() {\n    const self = this;\n\n    if (typeof window !== \"undefined\") {\n      this._scrollListeners = [];\n      this._currentAnchor = null;\n      this._currentStep = null;\n      this._scrollDebounceTimer = null;\n\n      window.addEventListener(\"resize\", () => {\n        if (\n          self.productTourId &&\n          self.currentActiveIndex >= 0 &&\n          self.productTourData &&\n          self.productTourData.steps\n        ) {\n          const steps = self.productTourData.steps;\n          const currentStep = steps[self.currentActiveIndex];\n          if (\n            currentStep &&\n            currentStep.selector &&\n            currentStep.selector !== \"\"\n          ) {\n            self.updatePointerPosition(\n              document.querySelector(currentStep.selector),\n              currentStep\n            );\n          }\n        }\n      });\n    }\n  }\n\n  disable() {\n    this.disabled = true;\n    \n    this.cleanup();\n  }\n\n  startWithConfig(tourId, config, onCompleteCallback = undefined) {\n    if (typeof window === \"undefined\") return;\n    if (this.productTourId) return;\n    if (this.disabled) return;\n\n    this.productTourId = tourId;\n    this.productTourData = config;\n    this.currentActiveIndex = 0;\n    this.onCompleteCallback = onCompleteCallback;\n    this.start();\n  }\n\n  storeUncompletedTour() {\n    if (typeof window === \"undefined\") return;\n    if (this.productTourId && this.productTourData) {\n      try {\n        let data = JSON.parse(\n          JSON.stringify({\n            tourData: this.productTourData,\n            tourId: this.productTourId,\n          })\n        );\n        data.tourData.steps = data.tourData.steps.slice(\n          this.currentActiveIndex || 0,\n          data.tourData.steps.length\n        );\n        localStorage.setItem(localStorageKey, JSON.stringify(data));\n      } catch (e) {\n        // Optionally log error in development mode.\n      }\n    } else {\n      localStorage.removeItem(localStorageKey);\n    }\n  }\n\n  // Attach scroll listeners with a debounce to update the pointer position after scrolling stops.\n  attachScrollListeners(anchor, currentStep) {\n    if (typeof window === \"undefined\") return;\n    if (!anchor) return;\n    const scrollableAncestors = getScrollableAncestors(anchor);\n    // Also include window.\n    scrollableAncestors.push(window);\n    scrollableAncestors.forEach((el) => {\n      const handler = () => {\n        clearTimeout(this._scrollDebounceTimer);\n        this._scrollDebounceTimer = setTimeout(() => {\n          this.updatePointerPosition(anchor, currentStep);\n        }, 150);\n      };\n      el.addEventListener(\"scroll\", handler, { passive: true });\n      this._scrollListeners.push({ el, handler });\n    });\n  }\n\n  // Remove scroll listeners and clear debounce timer.\n  removeScrollListeners() {\n    if (typeof window === \"undefined\") return;\n    if (this._scrollListeners && this._scrollListeners.length > 0) {\n      this._scrollListeners.forEach(({ el, handler }) => {\n        el.removeEventListener(\"scroll\", handler);\n      });\n      this._scrollListeners = [];\n    }\n    if (this._scrollDebounceTimer) {\n      clearTimeout(this._scrollDebounceTimer);\n      this._scrollDebounceTimer = null;\n    }\n  }\n\n  // Updated pointer position:\n  // 1. Scroll the element into view.\n  // 2. After the element is fully visible (or after a maximum delay), update the pointer position to point towards the element.\n  updatePointerPosition(anchor, currentStep) {\n    if (typeof window === \"undefined\") return;\n    try {\n      const container =\n        this._pointerContainer || document.getElementById(pointerContainerId);\n      if (!container) return;\n\n      if (!anchor) {\n        container.style.position = \"fixed\";\n        container.style.left = \"50%\";\n        container.style.top = \"50%\";\n        container.style.transform = \"translate(-50%, -50%)\";\n        smoothScrollToY(window.innerHeight / 2);\n        this.removeScrollListeners();\n        this._currentAnchor = null;\n        this._currentStep = null;\n        return;\n      }\n\n      // Step 1: Scroll the element into view.\n      scrollToElement(anchor);\n\n      // Step 2: Poll until the element is fully visible (or after maximum polls).\n      const pollInterval = 100;\n      const maxPolls = 20;\n      let pollCount = 0;\n      const updateFinalPosition = () => {\n        if (isElementFullyVisible(anchor) || pollCount >= maxPolls) {\n          // Compute final target coordinates.\n          const anchorRect = anchor.getBoundingClientRect();\n          const targetX = anchorRect.left + anchorRect.width / 2;\n          const targetY = anchorRect.top + anchorRect.height / 2 + 10; // 10px downward offset.\n          container.style.position = \"fixed\";\n          container.style.left = `${targetX}px`;\n          container.style.top = `${targetY}px`;\n          container.style.transform = \"translate(-50%, -50%)\";\n\n          // Adjust container if too far right.\n          let containerWidthSpace = 350;\n          if (containerWidthSpace > window.innerWidth - 40) {\n            containerWidthSpace = window.innerWidth - 40;\n          }\n          if (targetX + containerWidthSpace > window.innerWidth - 20) {\n            container.classList.add(\"copilot-pointer-container-right\");\n          } else {\n            container.classList.remove(\"copilot-pointer-container-right\");\n          }\n\n          // Reattach scroll listeners if the target or step has changed.\n          if (\n            this._currentAnchor !== anchor ||\n            this._currentStep !== currentStep\n          ) {\n            this.removeScrollListeners();\n            this._currentAnchor = anchor;\n            this._currentStep = currentStep;\n            this.attachScrollListeners(anchor, currentStep);\n          }\n        } else {\n          pollCount++;\n          setTimeout(updateFinalPosition, pollInterval);\n        }\n      };\n      updateFinalPosition();\n    } catch (e) {\n      // Optionally log errors.\n    }\n  }\n\n  cleanup() {\n    if (typeof window === \"undefined\") return;\n    document.body.classList.add(\"gl-copilot-fade-out\");\n    if (this.currentAudio) {\n      this.currentAudio.pause();\n    }\n    setTimeout(() => {\n      if (this._pointerContainer) {\n        this._pointerContainer.remove();\n        this._pointerContainer = null;\n      } else {\n        const container = document.getElementById(pointerContainerId);\n        if (container) container.remove();\n      }\n      const copilotInfoContainer = document.getElementById(\n        copilotJoinedContainerId\n      );\n      if (copilotInfoContainer) copilotInfoContainer.remove();\n      const styleNode = document.getElementById(styleId);\n      if (styleNode) styleNode.remove();\n      document.body.classList.remove(\"gl-copilot-fade-out\");\n    }, 800);\n\n    this.productTourId = undefined;\n    this.productTourData = undefined;\n    \n    this.removeScrollListeners();\n  }\n\n  toggleAudio(muted = false) {\n    this.audioMuted = muted;\n    if (this.currentAudio) {\n      this.currentAudio.muted = this.audioMuted;\n    }\n    document.querySelector(`.${copilotJoinedContainerId}-mute`).innerHTML =\n      loadIcon(this.audioMuted ? \"unmute\" : \"mute\");\n  }\n\n  setupCopilotTour() {\n    if (typeof window === \"undefined\") return;\n\n    const primaryColor =\n      GleapConfigManager.getInstance().flowConfig?.color ?? \"#485BFF\";\n    const contrastColor = calculateContrast(primaryColor);\n\n    let styleNode = document.getElementById(styleId);\n    if (!styleNode) {\n      styleNode = document.createElement(\"style\");\n      styleNode.id = styleId;\n      styleNode.type = \"text/css\";\n      styleNode.textContent = `\n        #${pointerContainerId} {\n          position: absolute;\n          top: 0;\n          left: 0;\n          display: flex;\n          align-items: flex-start;\n          pointer-events: none;\n          z-index: 2147483610;\n          transition: all 0.5s ease;\n        }\n        .${pointerContainerId}-clickmode {\n          cursor: pointer;\n          pointer-events: all !important;\n        }\n        .${pointerContainerId}-clickmode #copilot-info-bubble-content {\n          display: flex !important;\n        }\n        .${pointerContainerId}-clickmode svg {\n          display: none !important;\n        }\n        #${pointerContainerId} svg {\n          width: 20px;\n          height: auto;\n          fill: none;\n        }\n        #copilot-info-bubble {\n          position: relative;\n        }\n        #copilot-info-bubble-content-container {\n          position: absolute;\n          top: 0px;\n          left: 0px;\n          min-width: min(300px, 80vw);\n          display: flex;\n          flex-direction: column;\n          align-items: flex-start;\n        }\n        .${pointerContainerId}-right #copilot-info-bubble-content-container {\n          left: auto !important;\n          right: 0px !important;\n          align-items: flex-end;\n        }\n        .${pointerContainerId}-right .copilot-info-bubble-content {\n          margin-right: 5px;\n        }\n        .${pointerContainerId}-right svg {\n          transform: scaleX(-1);\n        }\n        #copilot-info-bubble-content svg {\n          width: 16px;\n          height: 16px;\n          display: inline-block !important;\n          margin-left: 5px;\n        }\n        #copilot-info-bubble-content {\n          margin-top: 18px;\n          margin-left: 5px;\n          padding: 10px 15px;\n          border-radius: 20px;\n          background-color: black;\n          color: white;\n          font-family: Arial, sans-serif;\n          font-size: 14px;\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n          max-width: 100%;\n          white-space: normal;\n          overflow-wrap: break-word;\n          word-break: normal;\n          hyphens: none;\n        }\n        .${pointerContainerId}-right #copilot-info-bubble-content {\n          margin-top: 30px;\n          margin-left: 0px;\n          margin-right: 5px;\n        }\n        .click-wave {\n          position: absolute;\n          width: 34px;\n          height: 34px;\n          border-radius: 50%;\n          background-color: rgba(0, 0, 0, 0.5);\n          pointer-events: none;\n          z-index: 2147483611;\n          animation: click-wave-animation 0.8s ease forwards;\n        }\n        @keyframes click-wave-animation {\n          0% {\n            transform: scale(0.2);\n            opacity: 1;\n          }\n          100% {\n            transform: scale(2);\n            opacity: 0;\n          }\n        }\n        @keyframes slideInFromTop {\n          0% {\n            transform: translateY(-100%);\n            opacity: 0;\n          }\n          100% {\n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n        .${copilotJoinedContainerId} {\n          position: fixed;\n          top: 20px;\n          right: 20px;\n          z-index: 2147483610;\n          background: #fff;\n          padding: 6px;\n          border-radius: 10px;\n          box-shadow: 0 0 20px 0 #C294F2;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          border: 1px solid rgba(192, 146, 242, 0.5);\n          animation: slideInFromTop 0.5s ease-out forwards;\n        }\n        .${copilotJoinedContainerId} span {\n          font-size: 13px;\n          color: #000;\n          font-family: sans-serif;\n        }\n        .${copilotJoinedContainerId}-avatar {\n          width: 24px;\n          height: 24px;\n          flex-shrink: 0;\n          border-radius: 6px;\n        }\n        .${copilotJoinedContainerId}-mute {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        .${copilotJoinedContainerId}-mute svg {\n          width: 20px;\n          height: auto;\n          cursor: pointer;\n          animation: pulsate 2s infinite;\n        }\n        .${copilotJoinedContainerId}-mute svg:hover {\n          opacity: 0.8;\n        }\n        .${copilotJoinedContainerId}-dismiss {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding-right: 3px;\n        }\n        .${copilotJoinedContainerId}-dismiss svg {\n          width: 15px;\n          height: auto;\n          cursor: pointer;\n        }\n        .${copilotJoinedContainerId}-dismiss svg:hover {\n          opacity: 0.8;\n        }\n        @keyframes pulsate {\n          0% {\n            transform: scale(1);\n            opacity: 1;\n          }\n          50% {\n            transform: scale(1.1);\n            opacity: 0.8;\n          }\n          100% {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n        @keyframes glCoFadeIn {\n          0% {\n            opacity: 0;\n          }\n          100% {\n            opacity: 1;\n          }\n        }\n        @keyframes glCoFadeOut {\n          0% {\n            opacity: 1;\n          }\n          100% {\n            opacity: 0;\n          }\n        }\n\n        .gleap-audio-unmute-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100vw;\n          height: 100vh;\n          background-color: rgba(0, 0, 0, 0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 2147483620;\n        }\n\n        .gleap-audio-unmute-modal {\n          background-color: #fff;\n          padding: 20px;\n          border-radius: 8px;\n          box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n          text-align: center;\n          max-width: 90%;\n          width: 400px;\n        }\n\n        .gleap-audio-unmute-modal p {\n          margin-bottom: 20px;\n          font-size: 16px;\n          line-height: 22px;\n          font-weight: normal;\n        }\n\n        .gleap-audio-unmute-button {\n          background: ${primaryColor};\n          color: ${contrastColor};\n          outline: none;\n          border: none;\n          padding: 10px 14px;\n          border-radius: 12px;\n          font-size: 14px;\n          font-weight: bold;\n          cursor: pointer;\n        }\n\n        .gleap-audio-unmute-button:hover {\n          opacity: 0.8;\n        }\n\n        .gleap-tour-continue-button {\n          color: ${primaryColor};\n          text-decoration: none;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: bold;\n          border: none;\n          background: none;\n          padding: 0;\n          margin: 0;\n          margin-left: 20px;\n        }\n\n        .gleap-tour-continue-button:hover {\n          opacity: 0.8;\n        }\n\n        body.gl-copilot-fade-out::before,\n        body.gl-copilot-fade-out::after,\n        body.gl-copilot-fade-out #${copilotJoinedContainerId} {\n          animation: glCoFadeOut 0.8s ease-out forwards;\n        }\n        ${\n          this.productTourData?.playVoice ?? true\n            ? \"\"\n            : `\n          .${copilotJoinedContainerId}-mute {\n            display: none;\n          }\n        `\n        }\n        ${\n          this.productTourData.gradient\n            ? `body::before {\n          content: \"\";\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100vw;\n          height: 100vh;\n          pointer-events: all;\n          z-index: 2147483609;\n          box-sizing: border-box;\n          border: 18px solid transparent;\n          filter: blur(25px);\n          border-image-slice: 1;\n          border-image-source: linear-gradient(45deg, #ED5587, #FBE6A9, #a6e3f8, #C294F2);\n          animation: glCoFadeIn 1.5s ease-out forwards;\n        }\n  \n        body::after {\n          content: \"\";\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100vw;\n          height: 100vh;\n          pointer-events: all;\n          z-index: 2147483609;\n          opacity: 0.5;\n          box-sizing: border-box;\n          border: 3px solid transparent;\n          border-image-slice: 1;\n          border-image-source: linear-gradient(45deg, #ED5587, #FBE6A9, #a6e3f8, #C294F2);\n          animation: glCoFadeIn 1.5s ease-out forwards;\n        }`\n            : `body::after {\n          content: \"\";\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100vw;\n          height: 100vh;\n          pointer-events: all;\n          z-index: 2147483609;\n          opacity: 0;\n        }`\n        }\n      `;\n      document.head.appendChild(styleNode);\n    }\n\n    const container = document.createElement(\"div\");\n    container.id = pointerContainerId;\n    container.style.opacity = 0;\n    // Cache the pointer container.\n    this._pointerContainer = container;\n\n    const svgMouse = document.createElementNS(\n      \"http://www.w3.org/2000/svg\",\n      \"svg\"\n    );\n    svgMouse.setAttribute(\"viewBox\", \"0 0 380 476\");\n    svgMouse.innerHTML =\n      '<path d=\"M352.595 268.315L352.581 268.302L352.566 268.29L78.6092 24.7278C71.6245 18.433 62.5487 15 53.2 15C32.1157 15 15 32.1157 15 53.2V424C15 444.34 31.4714 461 52 461C62.6797 461 72.8089 456.467 79.8863 448.38C79.8871 448.379 79.8879 448.378 79.8886 448.378L180.804 333.1H327.9C348.384 333.1 365 316.484 365 296C365 285.404 360.46 275.344 352.595 268.315Z\" fill=\"black\" stroke=\"white\" stroke-width=\"30\"/>';\n\n    const infoBubble = document.createElement(\"div\");\n    infoBubble.id = \"copilot-info-bubble\";\n    infoBubble.innerHTML = `<div id='copilot-info-bubble-content-container'><div id='copilot-info-bubble-content'></div></div>`;\n\n    const copilotInfoContainer = document.createElement(\"div\");\n    copilotInfoContainer.id = copilotJoinedContainerId;\n    copilotInfoContainer.classList.add(copilotJoinedContainerId);\n    copilotInfoContainer.innerHTML = `\n      <img class=\"${copilotJoinedContainerId}-avatar\" src=\"${\n      this.productTourData?.kaiAvatar\n    }\" />\n      <span>${this.productTourData?.kaiSlug}</span>\n      <div class=\"${copilotJoinedContainerId}-mute\">\n        ${loadIcon(this.audioMuted ? \"unmute\" : \"mute\")}\n      </div>\n      ${\n        this.productTourData?.allowClose\n          ? `<div class=\"${copilotJoinedContainerId}-dismiss\">\n               ${loadIcon(\"dismiss\")}\n             </div>`\n          : \"\"\n      }\n    `;\n    document.body.appendChild(copilotInfoContainer);\n\n    const self = this;\n\n    document\n      .querySelector(`.${copilotJoinedContainerId}-mute`)\n      .addEventListener(\"click\", () => {\n        this.toggleAudio(!this.audioMuted);\n      });\n\n    if (this.productTourData?.allowClose) {\n      document\n        .querySelector(`.${copilotJoinedContainerId}-dismiss`)\n        .addEventListener(\"click\", () => {\n          this.completeTour(false);\n        });\n    }\n\n    container.appendChild(svgMouse);\n    container.appendChild(infoBubble);\n    document.body.appendChild(container);\n  }\n\n  start() {\n    if (typeof window === \"undefined\") return;\n    if (this.disabled) return;\n\n    const config = this.productTourData;\n    if (!config) return;\n    canPlayAudio().then((supported) => {\n      this.audioMuted = !supported;\n      this.setupCopilotTour();\n\n      if (this.audioMuted && config?.showUnmuteModal) {\n        this.showAudioUnmuteModal();\n      } else {\n        setTimeout(() => {\n          this.renderNextStep();\n        }, 1500);\n      }\n    });\n  }\n\n  showAudioUnmuteModal() {\n    // Create the overlay element\n    const modalOverlay = document.createElement(\"div\");\n    modalOverlay.classList.add(\"gleap-audio-unmute-modal-overlay\");\n\n    // Create the modal container element\n    const modal = document.createElement(\"div\");\n    modal.classList.add(\"gleap-audio-unmute-modal\");\n\n    // Create and add the modal message\n    const message = document.createElement(\"p\");\n    message.textContent = this.productTourData?.unmuteModalTitle;\n    modal.appendChild(message);\n\n    // Create the \"Unmute Audio\" button\n    const unmuteButton = document.createElement(\"button\");\n    unmuteButton.classList.add(\"gleap-audio-unmute-button\");\n    unmuteButton.textContent = this.productTourData?.unmuteModalButton;\n    unmuteButton.addEventListener(\"click\", () => {\n      this.toggleAudio(false);\n      if (modalOverlay.parentNode) {\n        modalOverlay.parentNode.removeChild(modalOverlay);\n      }\n      setTimeout(() => {\n        this.renderNextStep();\n      }, 1000);\n    });\n    modal.appendChild(unmuteButton);\n\n    // Create the \"Start Anyway\" button\n    const startAnywayButton = document.createElement(\"button\");\n    startAnywayButton.classList.add(\"gleap-tour-continue-button\");\n    startAnywayButton.textContent = this.productTourData?.unmuteModalContinue;\n    startAnywayButton.addEventListener(\"click\", () => {\n      if (modalOverlay.parentNode) {\n        modalOverlay.parentNode.removeChild(modalOverlay);\n      }\n      setTimeout(() => {\n        this.renderNextStep();\n      }, 1000);\n    });\n    modal.appendChild(startAnywayButton);\n\n    // Build the modal and attach it to the DOM\n    modalOverlay.appendChild(modal);\n    document.body.appendChild(modalOverlay);\n  }\n\n  completeTour(success = true) {\n    if (typeof window === \"undefined\") return;\n    this.cleanup();\n    if (this.onCompleteCallback) {\n      this.onCompleteCallback(success);\n    }\n  }\n\n  renderNextStep() {\n    if (typeof window === \"undefined\") return;\n    if (this.disabled) return;\n\n    const self = this;\n    const config = this.productTourData;\n    const steps = config.steps;\n    if (this.currentActiveIndex >= steps.length) {\n      setTimeout(() => {\n        this.completeTour();\n      }, 500);\n      return;\n    }\n    const currentStep = steps[this.currentActiveIndex];\n    const handleStep = (element) => {\n      this._pointerContainer.style.display = \"flex\";\n      if (currentStep.selector && currentStep.selector.length > 0 && !element) {\n        this.completeTour(false);\n        return;\n      }\n      const gotToNextStep = () => {\n        if (currentStep.mode === \"INPUT\" && element) {\n          function proceedClickmode() {\n            document\n              .querySelector(`#${pointerContainerId}`)\n              .classList.remove(\"copilot-pointer-container-clickmode\");\n            element.classList.remove(\"gleap-input-highlight\");\n            document.getElementById(pointerContainerId).style.display = \"none\";\n            self.currentActiveIndex++;\n            self.storeUncompletedTour();\n            self.renderNextStep();\n          }\n          const inputModeType = currentStep.inputType ?? \"default\";\n          if (inputModeType === \"default\") {\n            function handleInputEvent(e) {\n              if (e?.target?.value?.length === 0) return;\n              const cursor = document.getElementById(\n                `copilot-info-bubble-content`\n              );\n              if (!cursor) return;\n              cursor.innerHTML = `${GleapTranslationManager.translateText(\n                \"next\"\n              )} <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\">\n  <path fill=\"currentColor\" d=\"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z\"/>\n</svg>`;\n              cursor.addEventListener(\"click\", proceedClickmode, {\n                once: true,\n              });\n              element.classList.add(\"gleap-input-highlight\");\n              document\n                .querySelector(`#${pointerContainerId}`)\n                .classList.add(\"copilot-pointer-container-clickmode\");\n              element.removeEventListener(\"input\", handleInputEvent);\n            }\n            element.addEventListener(\"input\", handleInputEvent, {\n              once: false,\n            });\n            if (element.hasAttribute(\"contenteditable\")) {\n              element.addEventListener(\"keyup\", handleInputEvent, {\n                once: false,\n              });\n            }\n            element.addEventListener(\n              \"blur\",\n              () => {\n                element.focus();\n              },\n              { once: true }\n            );\n            element.focus();\n          } else {\n            const inputValue = currentStep.inputValue ?? \"\";\n            let index = 0;\n            function typeCharacter() {\n              if (index < inputValue.length) {\n                element.value += inputValue[index];\n                index++;\n                setTimeout(typeCharacter, 100);\n              } else {\n                setTimeout(() => {\n                  proceedClickmode();\n                }, 1200);\n              }\n            }\n            typeCharacter();\n          }\n          return;\n        }\n        self.currentActiveIndex++;\n        self.storeUncompletedTour();\n        if (currentStep.mode === \"CLICK\" && element) {\n          const rect = element.getBoundingClientRect();\n          const scrollX = window.scrollX || 0;\n          const scrollY = window.scrollY || 0;\n          performClickAnimation(\n            rect.left + rect.width / 2 + scrollX,\n            rect.top + rect.height / 2 + scrollY\n          );\n          element.click();\n        }\n        self.renderNextStep();\n      };\n\n      this.updatePointerPosition(element, currentStep);\n      const message = currentStep?.message\n        ? htmlToPlainText(currentStep.message)\n        : \"\";\n      document.getElementById(`copilot-info-bubble-content`).textContent =\n        message;\n      this._pointerContainer.style.opacity = 1;\n      const readTime = estimateReadTime(message);\n      const continueWithNoAudio = () => {\n        this.currentAudio = undefined;\n        setTimeout(() => {\n          gotToNextStep();\n        }, readTime * 1000);\n      };\n      if (currentStep.voice && currentStep.voice.length > 0) {\n        this.currentAudio = new Audio(currentStep.voice);\n        if (this.audioMuted) {\n          this.currentAudio.muted = true;\n        }\n        this.currentAudio.addEventListener(\"ended\", () => {\n          setTimeout(() => {\n            gotToNextStep();\n          }, 1000);\n        });\n        this.currentAudio\n          .play()\n          .then(() => {})\n          .catch((error) => {\n            continueWithNoAudio();\n          });\n      } else {\n        continueWithNoAudio();\n      }\n    };\n\n    const elementPromise = currentStep.selector\n      ? waitForElement(currentStep.selector)\n      : Promise.resolve(null);\n    elementPromise.then(handleStep).catch(() => handleStep(null));\n  }\n}\n","import { loadIcon } from \"./UI\";\nimport GleapTours from \"./GleapTours\";\nimport Gleap, { GleapEventManager, GleapSession } from \"./Gleap\";\nimport GleapCopilotTours from \"./GleapCopilotTours\";\n\nconst localStorageKey = \"gleap-tour-data\";\n\nexport default class GleapProductTours {\n  productTourData = undefined;\n  productTourId = undefined;\n  unmuted = false;\n  currentActiveIndex = undefined;\n  gleapTourObj = undefined;\n  disabled = false;\n\n  // GleapReplayRecorder singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new GleapProductTours();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  disable() {\n    if (this.gleapTourObj) {\n      this.gleapTourObj.destroy();\n    }\n\n    // Disable copilot tours.\n    GleapCopilotTours.getInstance().disable();\n\n    this.gleapTourObj = undefined;\n    this.disabled = true;\n  }\n\n  constructor() {\n    const self = this;\n\n    if (typeof window !== \"undefined\") {\n      const beforeUnloadListener = (event) => {\n        if (\n          !self?.disabled &&\n          self?.productTourId &&\n          self?.productTourData &&\n          self?.productTourData?.tourType !== \"cobrowse\"\n        ) {\n          self.storeUncompletedTour();\n        }\n      };\n\n      if (typeof window !== \"undefined\") {\n        window.addEventListener(\"beforeunload\", beforeUnloadListener);\n      }\n    }\n  }\n\n  startWithConfig(tourId, config, delay = 0, manually = false) {\n    // Prevent multiple tours from being started.\n    if (this.productTourId || this.disabled) {\n      return;\n    }\n\n    this.productTourId = tourId;\n    this.productTourData = config;\n    this.currentActiveIndex = 0;\n\n    if (manually) {\n      this.start();\n    } else {\n      const self = this;\n\n      // Validate product tour.\n      GleapSession.getInstance()\n        .validateProductTour(tourId)\n        .then(() => {\n          if (delay > 0) {\n            return setTimeout(() => {\n              self.start();\n            }, delay);\n          } else {\n            return this.start();\n          }\n        })\n        .catch((error) => {\n          console.log(\"Product tour is not live. Cleaning up...\");\n          console.error(error);\n\n          self.onComplete(false);\n        });\n    }\n  }\n\n  onComplete(success = true) {\n    const comData = {\n      tourId: this.productTourId,\n    };\n\n    if (success) {\n      GleapEventManager.notifyEvent(\"productTourCompleted\", comData);\n      Gleap.trackEvent(`tour-${this.productTourId}-completed`, comData);\n    } else {\n      GleapEventManager.notifyEvent(\"productTourQuit\", comData);\n      Gleap.trackEvent(`tour-${this.productTourId}-quit`, comData);\n    }\n\n    // Clear data.\n    if (this.gleapTourObj) {\n      this.gleapTourObj.destroy();\n    }\n\n    this.gleapTourObj = undefined;\n    this.productTourData = undefined;\n    this.productTourId = undefined;\n    this.currentActiveIndex = undefined;\n    this.clearUncompletedTour();\n  }\n\n  loadUncompletedTour() {\n    try {\n      const data = JSON.parse(localStorage.getItem(localStorageKey));\n      if (data?.tourData && data?.tourId) {\n        return data;\n      }\n    } catch (e) {}\n\n    return null;\n  }\n\n  storeUncompletedTour() {\n    if (this.productTourId && this.productTourData) {\n      try {\n        let data = JSON.parse(\n          JSON.stringify({\n            tourData: this.productTourData,\n            tourId: this.productTourId,\n          })\n        );\n\n        data.tourData.steps = data.tourData.steps.slice(\n          this.currentActiveIndex || 0,\n          data.tourData.steps.length\n        );\n\n        localStorage.setItem(localStorageKey, JSON.stringify(data));\n      } catch (e) {}\n    } else {\n      this.clearUncompletedTour();\n    }\n  }\n\n  clearUncompletedTour() {\n    try {\n      localStorage.removeItem(localStorageKey);\n    } catch (e) {}\n  }\n\n  start() {\n    const config = this.productTourData;\n    if (!config) {\n      return;\n    }\n\n    if (config.tourType === \"cobrowse\") {\n      return GleapCopilotTours.getInstance().startWithConfig(\n        this.productTourId,\n        config,\n        (success) => {\n          this.onComplete(success);\n        }\n      );\n    }\n\n    this.unmuted = false;\n    const steps = config.steps;\n    const self = this;\n\n    var driverSteps = [];\n\n    for (let i = 0; i < steps.length; i++) {\n      const step = steps[i];\n\n      const isClickMode = step.mode === \"CLICK\";\n      const isInputMode = step.mode === \"INPUT\";\n      const isInteractionMode = step.mode === \"INTERACTION\";\n\n      var message = \"\";\n      var hasSender = false;\n\n      if (step.type === \"video-pointer\") {\n        message = `<div class=\"gleap-tour-video\">\n              <video class=\"gleap-tour-video-obj\" muted autoplay>\n                <source src=\"${step.videoUrl}\" type=\"video/mp4\">\n              </video>\n              <div class=\"gleap-tour-video-playpause\">${loadIcon(\n                \"unmute\"\n              )}</div>\n            </div>`;\n      } else {\n        var senderHTML = ``;\n\n        if (config.sender && config.sender.firstName) {\n          hasSender = true;\n          senderHTML = `<div class=\"gleap-tour-sender\">\n                <div class=\"gleap-tour-sender-image\" style=\"background-image: url('${config.sender.profileImageUrl}');\"></div>\n                <div class=\"gleap-tour-sender-name\">${config.sender.firstName}</div>\n              </div>`;\n        }\n\n        message = `${senderHTML}<div class=\"gleap-tour-message\">${step.message}</div>`;\n      }\n\n      const disableInteraction = !isClickMode && !isInputMode && !isInteractionMode;\n\n      var driverStep = {\n        disableActiveInteraction: disableInteraction,\n        mode: step.mode,\n        popover: {\n          description: message,\n          popoverClass: `gleap-tour-popover-${step.type} ${\n            !hasSender && \"gleap-tour-popover-no-sender\"\n          } ${config.allowClose && \"gleap-tour-popover-can-close\"}`,\n          ...(isClickMode\n            ? {\n                showButtons: [],\n              }\n            : {}),\n        },\n      };\n      if (step.selector && step.selector.length > 0) {\n        driverStep.element = step.selector;\n      }\n      driverSteps.push(driverStep);\n    }\n\n    var buttons = [\"next\", \"close\"];\n\n    if (config.backButton) {\n      buttons.push(\"previous\");\n    }\n\n    function onDocumentClick(evnt) {\n      try {\n        var gleapTourPopover = document.querySelector(\".gleap-tour-popover\");\n        if (gleapTourPopover && !gleapTourPopover.contains(evnt.target)) {\n          const stepIndex = self.gleapTourObj.getActiveIndex();\n          const step = steps[stepIndex];\n          const element = self.gleapTourObj.getActiveElement();\n\n          if (step?.mode === \"CLICK\" && evnt?.target !== element) {\n            const isInsideElement = element.contains(evnt?.target);\n            if (!isInsideElement) {\n              // Ignore clicks outside of the actual element.\n              return;\n            }\n          }\n\n          // Store next step index.\n          self.currentActiveIndex = (self.currentActiveIndex || 0) + 1;\n          self.storeUncompletedTour();\n\n          if (\n            (element && element.tagName === \"INPUT\") ||\n            step.mode === \"INPUT\" ||\n            step.mode === \"INTERACTION\" ||\n            evnt?.target?.id.includes(\"tooltip-svg\")\n          ) {\n            // Prevent.\n          } else {\n            self.gleapTourObj.moveNext();\n          }\n        }\n      } catch (e) {}\n    }\n\n    this.gleapTourObj = GleapTours({\n      showProgress: true,\n      allowKeyboardControl: false,\n      steps: driverSteps,\n      showProgress: steps.length > 1,\n      allowClose: config.allowClose,\n      nextBtnText: config.nextText,\n      doneBtnText: config.doneText,\n      prevBtnText: config.prevText,\n      showButtons: buttons,\n      onHighlightStarted: (element, step, config) => {\n        this.currentActiveIndex = config?.state?.activeIndex;\n        this.storeUncompletedTour();\n      },\n      onElementNotFound: (step) => {\n        document.removeEventListener(\"click\", onDocumentClick);\n\n        this.onComplete(false);\n      },\n      onDestroyStarted: () => {\n        if (!this.gleapTourObj.hasNextStep()) {\n          // Mark as completed.\n          this.onComplete(true);\n        } else {\n          // Mark as quit.\n          this.onComplete(false);\n        }\n\n        document.removeEventListener(\"click\", onDocumentClick);\n      },\n      onPopoverRender: (popoverElement) => {\n        // Fix for images and videos.\n        if (popoverElement) {\n          const mediaElements = document.querySelectorAll(\n            \".gleap-tour-popover-description img, .gleap-tour-popover-description video\"\n          );\n\n          const performRequentialRefresh = () => {\n            setTimeout(() => {\n              this.gleapTourObj.refresh();\n            }, 500);\n            setTimeout(() => {\n              this.gleapTourObj.refresh();\n            }, 750);\n          };\n\n          for (let i = 0; i < mediaElements.length; i++) {\n            const mediaElement = mediaElements[i];\n            if (mediaElement.tagName === \"IMG\") {\n              mediaElement.addEventListener(\"load\", () => {\n                performRequentialRefresh();\n              });\n              mediaElement.addEventListener(\"error\", () => {\n                performRequentialRefresh();\n              });\n            } else if (mediaElement.tagName === \"VIDEO\") {\n              mediaElement.addEventListener(\"canplaythrough\", () => {\n                performRequentialRefresh();\n              });\n              mediaElement.addEventListener(\"error\", () => {\n                performRequentialRefresh();\n              });\n            }\n          }\n        }\n\n        const playingClass = \"gleap-tour-video--playing\";\n        const playPauseContainer = document.querySelector(\n          \".gleap-tour-video-playpause\"\n        );\n\n        const videoElement = document.querySelector(\".gleap-tour-video-obj\");\n        if (videoElement) {\n          const videoContainer = videoElement.closest(\".gleap-tour-video\");\n\n          if (self.unmuted) {\n            if (videoElement) {\n              videoElement.pause();\n              videoElement.muted = false;\n              videoElement.play();\n              videoContainer.classList.add(playingClass);\n            }\n          }\n\n          videoElement.addEventListener(\"ended\", function () {\n            playPauseContainer.innerHTML = loadIcon(\"replay\");\n            playPauseContainer.classList.add(\n              \"gleap-tour-video-svg--fullscreen\"\n            );\n            videoContainer.classList.remove(playingClass);\n          });\n\n          videoElement.addEventListener(\"play\", function () {\n            playPauseContainer.classList.remove(\n              \"gleap-tour-video-svg--fullscreen\"\n            );\n          });\n\n          if (playPauseContainer) {\n            playPauseContainer.addEventListener(\"click\", () => clickVideo());\n          }\n\n          const clickVideo = () => {\n            if (videoElement.muted) {\n              self.unmuted = true;\n\n              videoElement.pause();\n              videoElement.currentTime = 0;\n              videoElement.muted = false;\n              videoElement.play();\n\n              playPauseContainer.innerHTML = loadIcon(\"mute\");\n              videoContainer.classList.add(playingClass);\n            } else if (videoElement.paused) {\n              videoElement.muted = false;\n              videoElement.play();\n\n              playPauseContainer.innerHTML = loadIcon(\"mute\");\n              videoContainer.classList.add(playingClass);\n            } else {\n              videoElement.pause();\n              playPauseContainer.innerHTML = loadIcon(\"unmute\");\n              videoContainer.classList.remove(playingClass);\n            }\n          };\n        }\n      },\n    });\n    this.gleapTourObj.drive();\n\n    document.addEventListener(\"click\", onDocumentClick, true);\n  }\n}\n","import { injectStyledCSS } from \"./UI\";\nimport GleapNetworkIntercepter from \"./GleapNetworkIntercepter\";\nimport {\n  fixGleapHeight,\n  gleapDataParser,\n  runFunctionWhenDomIsReady,\n} from \"./GleapHelper\";\nimport GleapSession from \"./GleapSession\";\nimport GleapStreamedEvent from \"./GleapStreamedEvent\";\nimport GleapConfigManager from \"./GleapConfigManager\";\nimport GleapFeedback from \"./GleapFeedback\";\nimport GleapFrameManager from \"./GleapFrameManager\";\nimport GleapMetaDataManager from \"./GleapMetaDataManager\";\nimport GleapConsoleLogManager from \"./GleapConsoleLogManager\";\nimport GleapClickListener from \"./GleapClickListener\";\nimport GleapFeedbackButtonManager from \"./GleapFeedbackButtonManager\";\nimport GleapCustomDataManager from \"./GleapCustomDataManager\";\nimport GleapEventManager from \"./GleapEventManager\";\nimport GleapCustomActionManager from \"./GleapCustomActionManager\";\nimport GleapReplayRecorder from \"./GleapReplayRecorder\";\nimport GleapMarkerManager from \"./GleapMarkerManager\";\nimport GleapTranslationManager from \"./GleapTranslationManager\";\nimport GleapShortcutListener from \"./GleapShortcutListener\";\nimport GleapPreFillManager from \"./GleapPreFillManager\";\nimport GleapNotificationManager from \"./GleapNotificationManager\";\nimport GleapAiChatbarManager from \"./GleapAiChatbarManager\";\nimport GleapBannerManager from \"./GleapBannerManager\";\nimport GleapModalManager from \"./GleapModalManager\";\nimport GleapAudioManager from \"./GleapAudioManager\";\nimport GleapTagManager from \"./GleapTagManager\";\nimport GleapAdminManager from \"./GleapAdminManager\";\nimport GleapProductTours from \"./GleapProductTours\";\nimport { checkPageFilter } from \"./GleapPageFilter\";\nimport { registerGleapChecklist } from \"./GleapChecklist\";\nimport ChecklistNetworkManager from \"./ChecklistNetworkManager\";\n\nif (\n  typeof window !== \"undefined\" &&\n  typeof HTMLCanvasElement !== \"undefined\" &&\n  HTMLCanvasElement.prototype &&\n  HTMLCanvasElement.prototype.__originalGetContext === undefined\n) {\n  HTMLCanvasElement.prototype.__originalGetContext =\n    HTMLCanvasElement.prototype.getContext;\n  HTMLCanvasElement.prototype.getContext = function (type, options) {\n    return this.__originalGetContext(type, {\n      ...options,\n      preserveDrawingBuffer: true,\n    });\n  };\n}\n\nif (\n  typeof customElements !== \"undefined\" &&\n  typeof HTMLElement !== \"undefined\" &&\n  typeof window !== \"undefined\"\n) {\n  registerGleapChecklist();\n}\n\nclass Gleap {\n  static invoked = true;\n  static silentCrashReportSent = false;\n  initialized = false;\n  offlineMode = false;\n  disablePageTracking = false;\n  disableInAppNotifications = false;\n\n  // Global data\n  globalData = {\n    screenRecordingData: null,\n    webReplay: null,\n    snapshotPosition: {\n      x: 0,\n      y: 0,\n    },\n  };\n\n  // Gleap singleton\n  static instance;\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new Gleap();\n      return this.instance;\n    } else {\n      return this.instance;\n    }\n  }\n\n  /**\n   * Main constructor\n   */\n  constructor() {\n    if (typeof window !== \"undefined\") {\n      // Make sure all instances are ready.\n      GleapMetaDataManager.getInstance();\n      GleapConsoleLogManager.getInstance().start();\n      GleapClickListener.getInstance().start();\n      GleapAdminManager.getInstance().start();\n      GleapAiChatbarManager.getInstance().setOnMessageSend((question) => {\n        Gleap.askAI(question, true);\n      });\n    }\n  }\n\n  /**\n   * Sets the development environment\n   * @param {*} environment\n   */\n  static setEnvironment(environment) {\n    GleapMetaDataManager.getInstance().environment = environment;\n  }\n\n  /**\n   * Set tags to be submitted with each ticket.\n   * @param {*} tags\n   */\n  static setTags(tags) {\n    GleapTagManager.getInstance().setTags(tags);\n  }\n\n  /**\n   * Sets a custom URL handler.\n   * @param {*} urlHandler\n   */\n  static setUrlHandler(urlHandler) {\n    GleapFrameManager.getInstance().setUrlHandler(urlHandler);\n  }\n\n  /**\n   * Active the Gleap offline mode.\n   * @param {*} offlineMode\n   */\n  static setOfflineMode(offlineMode) {\n    const instance = this.getInstance();\n    instance.offlineMode = offlineMode;\n  }\n\n  /**\n   * Disable the in-app notifications.\n   * @param {*} disableInAppNotifications\n   */\n  static setDisableInAppNotifications(disableInAppNotifications) {\n    const instance = this.getInstance();\n    instance.disableInAppNotifications = disableInAppNotifications;\n  }\n\n  /**\n   * Disable the default page tracking.\n   * @param {*} disablePageTracking\n   */\n  static setDisablePageTracking(disablePageTracking) {\n    const instance = this.getInstance();\n    instance.disablePageTracking = disablePageTracking;\n  }\n\n  /**\n   * Revert console log overwrite.\n   */\n  static disableConsoleLogOverwrite() {\n    GleapConsoleLogManager.getInstance().stop();\n  }\n\n  /**\n   * Set the AI tools.\n   * @param {*} tools\n   */\n  static setAiTools(tools) {\n    GleapConfigManager.getInstance().setAiTools(tools);\n    GleapFrameManager.getInstance().sendConfigUpdate();\n  }\n\n  /**\n   * Attaches external network logs.\n   */\n  static attachNetworkLogs(networkLogs) {\n    GleapNetworkIntercepter.getInstance().externalRequests =\n      gleapDataParser(networkLogs);\n  }\n\n  /**\n   * Add entry to logs.\n   * @param {*} message\n   * @param {*} logLevel\n   * @returns\n   */\n  static log(message, logLevel = \"INFO\") {\n    GleapConsoleLogManager.getInstance().addLog(message, logLevel);\n  }\n\n  /**\n   * Initializes the SDK\n   * @param {*} sdkKey\n   */\n  static initialize(sdkKey) {\n    const instance = this.getInstance();\n    if (instance.initialized) {\n      console.warn(\"Gleap already initialized.\");\n      return;\n    }\n\n    instance.initialized = true;\n\n    try {\n      fixGleapHeight();\n    } catch (error) { }\n\n    // Start session\n    const sessionInstance = GleapSession.getInstance();\n    sessionInstance.sdkKey = sdkKey;\n    sessionInstance.setOnSessionReady(() => {\n      // Run auto configuration.\n      setTimeout(() => {\n        GleapConfigManager.getInstance()\n          .start()\n          .then(() => {\n            GleapStreamedEvent.getInstance().start();\n\n            runFunctionWhenDomIsReady(() => {\n              // Inject the widget buttons\n              GleapFeedbackButtonManager.getInstance().injectFeedbackButton();\n\n              // Inject the notification container\n              GleapNotificationManager.getInstance().injectNotificationUI();\n\n              // Inject the AI UI container\n              GleapAiChatbarManager.getInstance().injectAIUI();\n\n              // Check for uncompleted tour.\n              Gleap.checkForUncompletedTour();\n\n              // Check for URL params.\n              Gleap.checkForUrlParams();\n\n              // Notify event.\n              GleapEventManager.notifyEvent(\"initialized\");\n            });\n          })\n          .catch(function (err) {\n            console.warn(\"Failed to initialize Gleap.\");\n          });\n      }, 0);\n    });\n    sessionInstance.startSession();\n  }\n\n  static openURL(url, newTab = false) {\n    GleapFrameManager.getInstance().urlHandler(url, newTab);\n  }\n\n  static checkForUrlParams() {\n    if (typeof window === \"undefined\" || !window.location.search) {\n      return;\n    }\n\n    try {\n      const urlParams = new URLSearchParams(window.location.search);\n\n      const widget = urlParams.get(\"gleap_widget\");\n      if (widget && widget.length > 0) {\n        Gleap.open();\n      }\n\n      const conversationFlow = urlParams.get(\"gleap_conversation\");\n      if (conversationFlow && conversationFlow.length > 0) {\n        if (conversationFlow === \"true\") {\n          Gleap.startConversation(true);\n        } else {\n          Gleap.startBot(conversationFlow, true);\n        }\n      }\n\n      const feedbackFlow = urlParams.get(\"gleap_feedback\");\n      if (feedbackFlow && feedbackFlow.length > 0) {\n        Gleap.startFeedbackFlow(feedbackFlow);\n      }\n      const surveyFlow = urlParams.get(\"gleap_survey\");\n      const surveyFlowFormat = urlParams.get(\"gleap_survey_format\");\n      if (surveyFlow && surveyFlow.length > 0) {\n        Gleap.showSurvey(\n          surveyFlow,\n          surveyFlowFormat === \"survey_full\" ? \"survey_full\" : \"survey\"\n        );\n      }\n      const tourId = urlParams.get(\"gleap_tour\");\n      if (tourId && tourId.length > 0) {\n        var tourDelay = parseInt(urlParams.get(\"gleap_tour_delay\"));\n        if (isNaN(tourDelay)) {\n          tourDelay = 2;\n        }\n\n        setTimeout(() => {\n          Gleap.startProductTour(tourId);\n        }, tourDelay * 1000);\n      }\n    } catch (exp) { }\n  }\n\n  /**\n   * Destroy\n   * @returns\n   */\n  static destroy() {\n    GleapReplayRecorder.getInstance().stop();\n    GleapStreamedEvent.getInstance().stop();\n    GleapFrameManager.getInstance().destroy();\n    GleapFeedbackButtonManager.getInstance().destroy();\n    GleapNotificationManager.getInstance().clearAllNotifications(true);\n    GleapAiChatbarManager.getInstance().destroy();\n    GleapSession.getInstance().clearSession(0, false);\n    GleapBannerManager.getInstance().removeBannerUI();\n\n    // Reset the initialized flag and clear the instance\n    this.instance = null;\n  }\n\n  /**\n   * Close any open banner.\n   */\n  static closeBanner() {\n    GleapBannerManager.getInstance().removeBannerUI();\n  }\n\n  /**\n   * Close any open modal.\n   */\n  static closeModal() {\n    GleapModalManager.getInstance().hideModal();\n  }\n\n  /**\n   * Show the AI bar.\n   */\n  static showAiChatbar() {\n    GleapAiChatbarManager.getInstance().manuallyHidden = false;\n    GleapAiChatbarManager.getInstance().show();\n  }\n\n  /**\n   * Hide the AI search.\n   */\n  static hideAiChatbar() {\n    GleapAiChatbarManager.getInstance().manuallyHidden = true;\n    GleapAiChatbarManager.getInstance().hide();\n  }\n\n  /**\n   * Set the AI quick actions.\n   * @param {Array<string>} quickActions\n   */\n  static setAiChatbarQuickActions(quickActions) {\n    GleapAiChatbarManager.getInstance().setQuickActions(quickActions);\n  }\n\n  /**\n   * Set the AI chatbar placeholder.\n   * @param {string} placeholder\n   */\n  static setAiChatbarPlaceholder(placeholder) {\n    GleapAiChatbarManager.getInstance().setPlaceholder(placeholder);\n  }\n\n  /**\n   * Enable or disable Gleap session tracking through cookies.\n   * @param {*} useCookies\n   */\n  static setUseCookies(useCookies) {\n    GleapSession.getInstance().useCookies = useCookies;\n  }\n\n  /**\n   * Indentifies the user session\n   * @param {string} userId\n   * @param {*} userData\n   */\n  static identify(userId, userData, userHash) {\n    return GleapSession.getInstance().identifySession(\n      userId,\n      gleapDataParser(userData),\n      userHash\n    );\n  }\n\n  /**\n   * Updates the contact data.\n   * @param {*} userData\n   */\n  static updateContact(userData) {\n    return GleapSession.getInstance().updateSession(gleapDataParser(userData));\n  }\n\n  /**\n   * Clears the current contact.\n   */\n  static clearIdentity() {\n    GleapSession.getInstance().clearSession();\n  }\n\n  /**\n   * Returns the current user session\n   */\n  static getIdentity() {\n    return GleapSession.getInstance().getSession();\n  }\n\n  /**\n   * Returns whether the user is identified or not.\n   */\n  static isUserIdentified() {\n    const session = GleapSession.getInstance().session;\n    if (session && session.userId && session.userId.length > 0) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Widget opened status\n   * @returns {boolean} isOpened\n   */\n  static isOpened() {\n    return GleapFrameManager.getInstance().isOpened();\n  }\n\n  /**\n   * Hides any open Gleap dialogs.\n   */\n  static hide() {\n    GleapFrameManager.getInstance().hideWidget();\n  }\n\n  /**\n   * Sets the maximum network request count.\n   */\n  static setMaxNetworkRequests(maxRequests) {\n    GleapNetworkIntercepter.getInstance().setMaxRequests(maxRequests);\n  }\n\n  /**\n   * Sets the maximum network request count.\n   */\n  static startNetworkLogger() {\n    GleapNetworkIntercepter.getInstance().start();\n  }\n\n  /**\n   * Sets the network logger blacklist.\n   * @param {Array} networkLogBlacklist\n   */\n  static setNetworkLogsBlacklist(networkLogBlacklist) {\n    GleapNetworkIntercepter.getInstance().setBlacklist(networkLogBlacklist);\n  }\n\n  /**\n   * Sets the network logger props to ignore.\n   * @param {Array} filters\n   */\n  static setNetworkLogPropsToIgnore(filters) {\n    GleapNetworkIntercepter.getInstance().setFilters(filters);\n  }\n\n  /**\n   * Set custom replay options.\n   * @param {*} options\n   */\n  static setReplayOptions(options) {\n    GleapReplayRecorder.getInstance().setOptions(options);\n  }\n\n  /**\n   * Closes any open Gleap dialogs.\n   * @param {boolean} resetRoutes\n   */\n  static close(resetRoutes = false) {\n    GleapFrameManager.getInstance().hideWidget(resetRoutes);\n  }\n\n  /**\n   * Starts the Gleap flow.\n   */\n  static open() {\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Track a custom event\n   * @param {string} name\n   * @param {any} data\n   */\n  static trackEvent(name, data) {\n    GleapStreamedEvent.getInstance().logEvent(name, data);\n  }\n\n  /**\n   * Logs a custom event\n   * @param {string} name\n   * @param {any} data\n   * @deprecated Please use trackEvent instead.\n   */\n  static logEvent(name, data) {\n    GleapStreamedEvent.getInstance().logEvent(name, data);\n  }\n\n  /**\n   * Prefills a specific form field.\n   * @param {*} key\n   * @param {*} value\n   */\n  static preFillForm(data) {\n    const cleanedData = gleapDataParser(data);\n    GleapPreFillManager.getInstance().formPreFill = cleanedData;\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"prefill-form-data\",\n        data: cleanedData,\n      },\n      true\n    );\n  }\n\n  /**\n   * Register events for Gleap.\n   * @param {*} eventName\n   * @param {*} callback\n   */\n  static on(eventName, callback) {\n    GleapEventManager.on(eventName, callback);\n  }\n\n  /**\n   * Enable or disable shortcuts\n   * @param {boolean} enabled\n   */\n  static enableShortcuts(enabled) {\n    if (enabled) {\n      GleapShortcutListener.getInstance().start();\n    } else {\n      GleapShortcutListener.getInstance().stop();\n    }\n  }\n\n  /**\n   * Show or hide the feedback button\n   * @param {*} show\n   * @returns\n   */\n  static showFeedbackButton(show) {\n    GleapFeedbackButtonManager.getInstance().toggleFeedbackButton(show);\n  }\n\n  /**\n   * Sets the app version code.\n   * @param {string} appVersionCode\n   */\n  static setAppVersionCode(appVersionCode) {\n    GleapMetaDataManager.setAppVersionCode(appVersionCode);\n  }\n\n  /**\n   * Sets the app version code.\n   * @param {string} appVersionCode\n   */\n  static setAppBuildNumber(appBuildNumber) {\n    GleapMetaDataManager.setAppBuildNumber(appBuildNumber);\n  }\n\n  /**\n   * Set a custom ws api url.\n   * @param {string} wsApiUrl\n   */\n  static setWSApiUrl(wsApiUrl) {\n    GleapSession.getInstance().wsApiUrl = wsApiUrl;\n  }\n\n  /**\n   * Set a custom api url.\n   * @param {string} apiUrl\n   */\n  static setApiUrl(apiUrl) {\n    GleapSession.getInstance().apiUrl = apiUrl;\n  }\n\n  /**\n   * Set a custom banner url.\n   * @param {string} bannerUrl\n   */\n  static setBannerUrl(bannerUrl) {\n    GleapBannerManager.getInstance().setBannerUrl(bannerUrl);\n  }\n\n  /**\n   * Set a custom modal url.\n   * @param {string} modalUrl\n   */\n  static setModalUrl(modalUrl) {\n    GleapModalManager.getInstance().setModalUrl(modalUrl);\n  }\n\n  /**\n   * Set a custom frame api url.\n   * @param {string} frameUrl\n   */\n  static setFrameUrl(frameUrl) {\n    GleapFrameManager.getInstance().frameUrl = frameUrl;\n  }\n\n  /**\n   * This method is used to set ticket attributes programmatically.\n   * @param {*} key The key of the attribute you want to add.\n   * @param {*} value The value to set.\n   */\n  static setTicketAttribute(key, value) {\n    GleapCustomDataManager.getInstance().setTicketAttribute(key, value);\n  }\n\n  /**\n   * This method is used to unset ticket attributes programmatically.\n   * @param {*} key The key of the attribute you want to unset.\n   */\n  static unsetTicketAttribute(key) {\n    GleapCustomDataManager.getInstance().unsetTicketAttribute(key);\n  }\n\n  /**\n   * This method is used to clear ticket attributes programmatically.\n   */\n  static clearTicketAttributes() {\n    GleapCustomDataManager.getInstance().clearTicketAttributes();\n  }\n\n  /**\n   * Set custom data that will be attached to the bug-report.\n   * @param {*} data\n   */\n  static attachCustomData(data) {\n    GleapCustomDataManager.getInstance().attachCustomData(data);\n  }\n\n  /**\n   * Add one key value pair to the custom data object\n   * @param {*} key The key of the custom data entry you want to add.\n   * @param {*} value The custom data you want to add.\n   */\n  static setCustomData(key, value) {\n    GleapCustomDataManager.getInstance().setCustomData(key, value);\n  }\n\n  /**\n   * Remove one key value pair of the custom data object\n   * @param {*} key The key of the custom data entry you want to remove.\n   */\n  static removeCustomData(key) {\n    GleapCustomDataManager.getInstance().removeCustomData(key);\n  }\n\n  /**\n   * Clear the custom data\n   */\n  static clearCustomData() {\n    GleapCustomDataManager.getInstance().clearCustomData();\n  }\n\n  /**\n   * Play or mute the sound.\n   * @param {*} play\n   */\n  static playSound(play) {\n    GleapAudioManager.playSound(play);\n  }\n\n  /**\n   * Show or hide the notification badge count.\n   * @param {boolean} showNotificationBadge show or hide the notification badge\n   *\n   */\n  static showTabNotificationBadge(showNotificationBadge) {\n    const notificationInstance = GleapNotificationManager.getInstance();\n    notificationInstance.showNotificationBadge = showNotificationBadge;\n    notificationInstance.updateTabBarNotificationCount();\n  }\n\n  /**\n   * Override the browser language.\n   * @param {string} language country code with two letters\n   */\n  static setLanguage(language) {\n    GleapTranslationManager.getInstance().setOverrideLanguage(language);\n\n    if (Gleap.getInstance().initialized) {\n      setTimeout(() => {\n        Gleap.getInstance().softReInitialize();\n\n        // Update language for contact.\n        Gleap.updateContact({\n          lang: language,\n        });\n      }, 1000);\n    }\n  }\n\n  /**\n   * Register custom action\n   * @param {*} action\n   */\n  static registerCustomAction(customAction) {\n    GleapCustomActionManager.registerCustomAction(customAction);\n  }\n\n  /**\n   * Triggers a custom action\n   * @param {*} actionName\n   */\n  static triggerCustomAction(name) {\n    GleapCustomActionManager.triggerCustomAction(name);\n  }\n\n  /**\n   * Sets a custom color scheme.\n   * @param {string} primaryColor\n   */\n  static setStyles(\n    primaryColor,\n    headerColor,\n    buttonColor,\n    backgroundColor = \"#ffffff\",\n    borderRadius = 20,\n    buttonX = 20,\n    buttonY = 20,\n    buttonStyle = GleapFeedbackButtonManager.FEEDBACK_BUTTON_BOTTOM_LEFT\n  ) {\n    runFunctionWhenDomIsReady(() => {\n      injectStyledCSS(\n        primaryColor,\n        headerColor,\n        buttonColor,\n        borderRadius,\n        backgroundColor,\n        buttonX,\n        buttonY,\n        buttonStyle\n      );\n    });\n  }\n\n  /**\n   * Sends a silent feedback report\n   * @param {*} formData\n   * @param {*} priority\n   * @param {*} excludeData\n   */\n  static sendSilentCrashReport(\n    description = \"\",\n    priority = \"MEDIUM\",\n    excludeData = {\n      screenshot: true,\n      replays: true,\n      attachments: true,\n    }\n  ) {\n    return Gleap.sendSilentCrashReportWithFormData(\n      {\n        description,\n      },\n      priority,\n      excludeData\n    );\n  }\n\n  /**\n   * Sends a silent feedback report\n   * @param {*} formData\n   * @param {*} priority\n   * @param {*} excludeData\n   */\n  static sendSilentCrashReportWithFormData(\n    formData,\n    priority = \"MEDIUM\",\n    excludeData = {\n      screenshot: true,\n      replays: true,\n      attachments: true,\n    }\n  ) {\n    if (this.silentCrashReportSent) {\n      return;\n    }\n\n    this.silentCrashReportSent = true;\n    setTimeout(() => {\n      this.silentCrashReportSent = false;\n    }, 10000);\n\n    const excludeDataCleaned = excludeData ? gleapDataParser(excludeData) : {};\n    const sessionInstance = GleapSession.getInstance();\n    if (!sessionInstance.ready) {\n      return;\n    }\n\n    var newFormData = formData ? formData : {};\n    if (sessionInstance.session.email) {\n      newFormData.reportedBy = sessionInstance.session.email;\n    }\n\n    const feedback = new GleapFeedback(\n      \"CRASH\",\n      priority,\n      newFormData,\n      true,\n      excludeDataCleaned\n    );\n    feedback\n      .sendFeedback()\n      .then(() => { })\n      .catch((error) => { });\n  }\n\n  /**\n   * Shows a survey manually.\n   * @param {*} actionType\n   * @param {*} format\n   */\n  static showSurvey(actionType, format = \"survey\") {\n    Gleap.startFeedbackFlowWithOptions(\n      actionType,\n      {\n        hideBackButton: true,\n        format,\n      },\n      true\n    );\n  }\n\n  /**\n   * Starts a classic feedback form.\n   */\n  static startClassicForm(formId, showBackButton) {\n    Gleap.startFeedbackFlowWithOptions(formId, {\n      hideBackButton: !showBackButton,\n    });\n  }\n\n  /**\n   * Starts the bug reporting flow.\n   */\n  static startFeedbackFlow(feedbackFlow, showBackButton) {\n    Gleap.startFeedbackFlowWithOptions(feedbackFlow, {\n      hideBackButton: !showBackButton,\n    });\n  }\n\n  /**\n   * Starts the bug reporting flow.\n   */\n  static startFeedbackFlowWithOptions(\n    feedbackFlow,\n    options = {},\n    isSurvey = false\n  ) {\n    const { autostartDrawing, hideBackButton, format } = options;\n    const sessionInstance = GleapSession.getInstance();\n    if (!sessionInstance.ready) {\n      return;\n    }\n\n    // Initially set scroll position\n    Gleap.getInstance().setGlobalDataItem(\"snapshotPosition\", {\n      x: window.scrollX,\n      y: window.scrollY,\n    });\n\n    var action = \"start-feedbackflow\";\n    if (isSurvey) {\n      action = \"start-survey\";\n    }\n\n    GleapFrameManager.getInstance().setAppMode(isSurvey ? format : \"widget\");\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: action,\n        data: {\n          flow: feedbackFlow,\n          hideBackButton: hideBackButton,\n          format,\n        },\n      },\n      true\n    );\n\n    if (autostartDrawing) {\n      GleapFrameManager.getInstance().showDrawingScreen(\"screenshot\");\n    } else {\n      GleapFrameManager.getInstance().showWidget();\n    }\n  }\n\n  /**\n   * Opens the conversations overview.\n   */\n  static openConversations(showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"open-conversations\",\n        data: {\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens a conversation\n   */\n  static openConversation(shareToken, showBackButton = true) {\n    if (!shareToken) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"open-conversation\",\n        data: {\n          shareToken,\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Starts a new conversation\n   */\n  static startConversation(showBackButton = true) {\n    Gleap.startBot(\"\", showBackButton);\n  }\n\n  /**\n   * Starts a new conversation and attaches the bot with the given id.\n   */\n  static startBot(botId, showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"start-bot\",\n        data: {\n          botId: botId ? botId : \"\",\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Starts a new conversation and attaches the bot with the given id.\n   */\n  static askAI(question, showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"ask-ai\",\n        data: {\n          question,\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens a help center collection\n   */\n  static openHelpCenterCollection(collectionId, showBackButton = true) {\n    if (!collectionId) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"open-help-collection\",\n        data: {\n          collectionId,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens a help article\n   */\n  static openHelpCenterArticle(articleId, showBackButton = true) {\n    if (!articleId) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"open-help-article\",\n        data: {\n          articleId,\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens the help center.\n   */\n  static openHelpCenter(showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"open-helpcenter\",\n        data: {\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Search for news articles in the help center\n   */\n  static searchHelpCenter(term, showBackButton = true) {\n    if (!term) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"open-helpcenter-search\",\n        data: {\n          term,\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens a news article\n   */\n  static openNewsArticle(id, showBackButton = true) {\n    if (!id) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"open-news-article\",\n        data: {\n          id,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Open the checklists overview.\n   */\n  static openChecklists(showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"open-checklists\",\n        data: {},\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Starts a new checklist and opens it.\n   */\n  static startChecklist(\n    outboundId,\n    showBackButton = true,\n    sharedKey = undefined\n  ) {\n    if (!outboundId) {\n      return false;\n    }\n\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"start-checklist\",\n        data: {\n          outboundId: outboundId,\n          hideBackButton: !showBackButton,\n          ...(sharedKey ? { sharedKey: sharedKey } : {}),\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n\n    return true;\n  }\n\n  /**\n   * Open an existing checklist.\n   */\n  static openChecklist(checklistId, showBackButton = true) {\n    if (!checklistId) {\n      return;\n    }\n\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"open-checklist\",\n        data: {\n          id: checklistId,\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Gets the full checklist data by validating the outbound ID and fetching the data.\n   * @param {string} outboundId - The outbound checklist ID to get data for.\n   * @param {string} [sharedKey] - Optional shared key for the checklist.\n   * @returns {Promise<object>} A promise that resolves with the full checklist data.\n   *\n   * Available events for checklist updates (use Gleap.on() to listen):\n   * - 'checklist-loaded': Fired when a checklist is initially loaded\n   * - 'checklist-update': Fired when checklist data is updated\n   * - 'checklist-step-completed': Fired when a step is marked as completed\n   * - 'checklist-completed': Fired when the entire checklist is completed\n   */\n  static getChecklistData(outboundId, sharedKey) {\n    if (!outboundId) {\n      return Promise.reject(new Error(\"outboundId is required\"));\n    }\n\n    const networkManager = ChecklistNetworkManager.getInstance();\n\n    // First validate the checklist to get the internal ID\n    return networkManager\n      .validateChecklist(outboundId, sharedKey)\n      .then((internalId) => {\n        // Then fetch the full checklist data\n        return networkManager.fetchChecklist(internalId);\n      });\n  }\n\n  /**\n   * Opens the news overview.\n   */\n  static openNews(showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"open-news\",\n        data: {\n          hideBackButton: !showBackButton,\n        },\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  /**\n   * Opens the feature requests overview.\n   */\n  static openFeatureRequests(showBackButton = true) {\n    GleapFrameManager.getInstance().setAppMode(\"widget\");\n\n    GleapFrameManager.getInstance().sendMessage(\n      {\n        name: \"open-feature-requests\",\n        data: {},\n      },\n      true\n    );\n\n    GleapFrameManager.getInstance().showWidget();\n  }\n\n  isLiveMode() {\n    if (this.offlineMode === true) {\n      return false;\n    }\n\n    var hostname = window.location.hostname;\n    const isLocalHost =\n      [\"localhost\", \"127.0.0.1\", \"0.0.0.0\", \"\", \"::1\"].includes(hostname) ||\n      hostname.startsWith(\"192.168.\") ||\n      hostname.startsWith(\"10.0.\") ||\n      hostname.endsWith(\".local\") ||\n      !hostname.includes(\".\");\n    return !isLocalHost;\n  }\n\n  softReInitialize() {\n    GleapFrameManager.getInstance().destroy();\n    GleapConfigManager.getInstance()\n      .start()\n      .then(() => {\n        // Update the feedback button.\n        GleapFeedbackButtonManager.getInstance().refresh();\n\n        // Inject the notification container\n        GleapNotificationManager.getInstance().injectNotificationUI();\n\n        // Inject the AI UI container\n        GleapAiChatbarManager.getInstance().injectAIUI();\n      })\n      .catch(function (err) {\n        console.warn(\"Failed to initialize Gleap.\");\n      });\n  }\n\n  /**\n   * Performs an action.\n   * @param {*} action\n   */\n  performActions(actions) {\n    for (let i = 0; i < actions.length; i++) {\n      const action = actions[i];\n      if (action && action.actionType) {\n        if (action.pageFilter && window && window.location) {\n          const passed = checkPageFilter(\n            window.location.href,\n            action.pageFilter,\n            action.pageFilterType\n          );\n\n          if (!passed) {\n            continue;\n          }\n        }\n\n        if (action.actionType === \"notification\") {\n          if (action?.data?.checklist?.popupType === \"widget\") {\n            Gleap.openChecklist(action.data.checklist.id, true);\n          } else {\n            if (!this.disableInAppNotifications) {\n              Gleap.showNotification(action);\n            }\n          }\n        } else if (action.actionType === \"banner\") {\n          Gleap.showBanner(action);\n        } else if (action.actionType === \"modal\") {\n          Gleap.showModal(action);\n        } else if (action.actionType === \"tour\") {\n          Gleap.startProductTourWithConfig(action.outbound, action.data, false);\n        } else {\n          Gleap.showSurvey(action.actionType, action.format);\n        }\n      }\n    }\n  }\n\n  static startProductTour(tourId, checkStartUrl = false) {\n    const self = this;\n    GleapSession.getInstance()\n      .startProductTourConfig(tourId)\n      .then((config) => {\n        if (\n          checkStartUrl &&\n          config?.startURL &&\n          !window?.location?.href?.includes(config?.baseURL)\n        ) {\n          window.location.href = `${config.startURL}?gleap_tour=${tourId}&gleap_tour_delay=1`;\n          return;\n        }\n\n        self.startProductTourWithConfig(tourId, config, true);\n      })\n      .catch((error) => { });\n  }\n\n  static checkForUncompletedTour() {\n    const tourData = GleapProductTours.getInstance().loadUncompletedTour();\n    if (tourData) {\n      GleapProductTours.getInstance().startWithConfig(\n        tourData.tourId,\n        tourData.tourData,\n        500\n      );\n    }\n  }\n\n  static startProductTourWithConfig(tourId, config, manually = false) {\n    GleapProductTours.getInstance().startWithConfig(\n      tourId,\n      config,\n      0,\n      manually\n    );\n  }\n\n  static showBanner(data) {\n    try {\n      GleapBannerManager.getInstance().showBanner(data);\n    } catch (e) { }\n  }\n\n  static showModal(data) {\n    try {\n      GleapModalManager.getInstance().showModal(data);\n    } catch (e) { }\n  }\n\n  static showNotification(data) {\n    GleapNotificationManager.getInstance().showNotification(data);\n  }\n\n  /**\n   * Sets a global data value\n   * @param {*} key\n   * @param {*} value\n   */\n  setGlobalDataItem(key, value) {\n    this.globalData[key] = value;\n  }\n\n  /**\n   * Gets a global data value\n   * @param {*} key\n   * @returns\n   */\n  getGlobalDataItem(key) {\n    return this.globalData[key];\n  }\n\n  /**\n   * Takes the current replay and assigns it to the global data array.\n   */\n  takeCurrentReplay() {\n    const replayData = GleapReplayRecorder.getInstance().getReplayData();\n    this.setGlobalDataItem(\"webReplay\", replayData);\n  }\n}\n\n// Check for unperformed Gleap actions.\nif (typeof window !== \"undefined\") {\n  const GleapActions = window.GleapActions;\n  if (GleapActions && GleapActions.length > 0) {\n    for (var i = 0; i < GleapActions.length; i++) {\n      const GLAction = GleapActions[i];\n      if (GLAction && GLAction.e && Gleap[GLAction.e]) {\n        Gleap[GLAction.e].apply(Gleap, GLAction.a);\n      }\n    }\n  }\n}\n\nconst handleGleapLink = (href) => {\n  try {\n    const urlParts = href.split(\"/\");\n    const type = urlParts[2];\n    if (type === \"article\") {\n      const identifier = urlParts[3];\n      Gleap.openHelpCenterArticle(identifier, true);\n    }\n\n    if (type === \"collection\") {\n      const identifier = urlParts[3];\n      Gleap.openHelpCenterCollection(identifier, true);\n    }\n\n    if (type === \"flow\") {\n      const identifier = urlParts[3];\n      Gleap.startFeedbackFlow(identifier, true);\n    }\n\n    if (type === \"survey\") {\n      const identifier = urlParts[3];\n      Gleap.showSurvey(identifier);\n    }\n\n    if (type === \"bot\") {\n      const identifier = urlParts[3];\n      Gleap.startBot(identifier, true);\n    }\n\n    if (type === \"news\") {\n      const identifier = urlParts[3];\n      Gleap.openNewsArticle(identifier, true);\n    }\n\n    if (type === \"checklist\") {\n      const identifier = urlParts[3];\n      Gleap.startChecklist(identifier, true, urlParts[4]);\n    }\n\n    if (type === \"tour\") {\n      const identifier = urlParts[3];\n      Gleap.startProductTour(identifier);\n    }\n  } catch (e) {\n    console.error(\"Failed to handle Gleap link: \", href);\n  }\n};\n\nexport {\n  GleapNetworkIntercepter,\n  GleapAudioManager,\n  GleapNotificationManager,\n  GleapAiChatbarManager,\n  GleapBannerManager,\n  GleapModalManager,\n  GleapPreFillManager,\n  GleapShortcutListener,\n  GleapMarkerManager,\n  GleapTranslationManager,\n  GleapReplayRecorder,\n  GleapFeedback,\n  GleapConsoleLogManager,\n  GleapCustomActionManager,\n  GleapEventManager,\n  GleapCustomDataManager,\n  GleapFeedbackButtonManager,\n  GleapClickListener,\n  GleapSession,\n  GleapStreamedEvent,\n  GleapConfigManager,\n  GleapFrameManager,\n  GleapMetaDataManager,\n  GleapTagManager,\n  GleapProductTours,\n  GleapAdminManager,\n  handleGleapLink,\n};\n\nexport default Gleap;\n","/**\n * Gleap Checklist Web Component\n *\n * Displays an interactive checklist fetched from the Gleap API.\n * Allows users to view steps, mark them as done, trigger actions,\n * and automatically updates based on external events. Includes localization support\n * via GleapTranslationManager.\n *\n * Waits for a Gleap session to be available before initializing and\n * reloads when the session changes (via 'session-updated' event).\n *\n * @element gleap-checklist\n *\n * @attr {string} checklistId - The outbound ID of the checklist to display. Required.\n * @attr {boolean} [info=true] - Whether to display the info section (title, description, sender).\n * @attr {boolean} [progressbar=true] - Whether to display the progress bar.\n * @attr {boolean} [dark=false] - Apply dark mode styling.\n * @attr {boolean} [floating=false] - When set to \"true\", shows a small bubble that expands on click.\n *\n * @cssprop --color-bg - Background color.\n * @cssprop --color-font-title - Title text color.\n * @cssprop --color-font-text - Body text color.\n * @cssprop --color-font-light - Lighter text color.\n * @cssprop --color-primary - Primary accent color.\n * @cssprop --color-primary-light - Light primary color shade.\n * @cssprop --color-primary-contrast - Text color for primary buttons.\n * @cssprop --color-border - Border color.\n * @cssprop --color-gray-light - Light gray background/border color.\n * @cssprop --color-gray-lighter - Even lighter gray background.\n * @cssprop --color-gray-dark - Darker gray text/icon color.\n * @cssprop --color-success - Success color (e.g., for completed items).\n * @cssprop --color-success-light - Contrast color for success elements.\n * @cssprop --radius-sm - Small border radius.\n * @cssprop --radius-lg - Large border radius.\n * @cssprop --radius-full - Full (pill) border radius.\n * @cssprop --shadow-sm - Small box shadow.\n * @cssprop --shadow-md - Medium box shadow.\n * @cssprop --animation-duration - Duration for animations (e.g., accordion).\n * @cssprop --animation-timing - Timing function for animations.\n */\nimport ChecklistNetworkManager from \"./ChecklistNetworkManager\";\nimport Gleap, {\n  GleapConfigManager,\n  GleapSession,\n  GleapTranslationManager,\n  GleapEventManager,\n} from \"./Gleap\";\n\nexport const registerGleapChecklist = () => {\n  if (\n    typeof customElements !== \"undefined\" &&\n    typeof HTMLElement !== \"undefined\" &&\n    typeof window !== \"undefined\"\n  ) {\n    class GleapChecklist extends HTMLElement {\n      /** @private {number} */\n      activeStep = -1;\n      /** @private {object|null} */\n      checklistData = null;\n      /** @private {boolean} */\n      _isInitialLoad = false;\n      /** @private {boolean} */\n      _initialActiveSet = false;\n      /** @private {boolean} Flag indicating if the component has loaded data at least once. */\n      _hasLoaded = false;\n      /** @private {boolean} Flag indicating if a Gleap session is currently considered active by the component. */\n      _isSessionReady = false;\n\n      /** @private {Function} */\n      _boundHandleChecklistUpdate = this.handleChecklistUpdate.bind(this);\n      /** @private {Function} */\n      _boundHandleSessionUpdate = this.handleSessionUpdate.bind(this);\n\n      constructor() {\n        super();\n        this.attachShadow({ mode: \"open\" });\n        // Ensure NetworkManager instance is created only if Gleap is available\n        try {\n          if (\n            typeof GleapSession !== \"undefined\" &&\n            typeof ChecklistNetworkManager !== \"undefined\"\n          ) {\n            this._networkManager = ChecklistNetworkManager.getInstance();\n          } else {\n            this._networkManager = null;\n          }\n        } catch (e) {\n          this._networkManager = null;\n        }\n        // Bind click handlers for floating mode.\n        this._boundFloatingLauncherClick =\n          this.handleFloatingLauncherClick.bind(this);\n        this._boundFloatingCloseClick =\n          this.handleFloatingCloseClick.bind(this);\n        this._floatingHideTimeout = null;\n      }\n\n      // --- Observed Attributes ---\n      static get observedAttributes() {\n        return [\n          \"checklistId\",\n          \"info\",\n          \"progressbar\",\n          \"dark\",\n          \"floating\",\n          \"sharedKey\",\n        ];\n      }\n\n      // --- Lifecycle Callbacks ---\n      connectedCallback() {\n        window.addEventListener(\n          \"checkListUpdate\",\n          this._boundHandleChecklistUpdate\n        );\n        window.addEventListener(\n          \"session-updated\",\n          this._boundHandleSessionUpdate\n        );\n        window.addEventListener(\n          \"resize\",\n          (this._boundResizeHandler = this.handleResize.bind(this))\n        );\n        this._checkSessionAndLoad();\n      }\n\n      disconnectedCallback() {\n        window.removeEventListener(\n          \"checkListUpdate\",\n          this._boundHandleChecklistUpdate\n        );\n        window.removeEventListener(\n          \"session-updated\",\n          this._boundHandleSessionUpdate\n        );\n        window.removeEventListener(\"resize\", this._boundResizeHandler);\n        this.removeFloatingClickListeners();\n        if (this._floatingHideTimeout) {\n          clearTimeout(this._floatingHideTimeout);\n          this._floatingHideTimeout = null;\n        }\n        this.checklistData = null;\n        this.activeStep = -1;\n        this._hasLoaded = false;\n        this._isSessionReady = false;\n        this._initialActiveSet = false;\n        this.renderResponse();\n      }\n\n      handleResize() {\n        this.updateActiveTaskMaxHeight();\n      }\n\n      attributeChangedCallback(name, oldValue, newValue) {\n        if (oldValue !== newValue) {\n          if (name === \"checklistId\" && this._isSessionReady) {\n            this.loadChecklist();\n          } else if (name !== \"checklistId\" && this._hasLoaded) {\n            if (this.checklistData) {\n              this.renderChecklist(this.checklistData);\n            }\n          }\n        }\n      }\n\n      // --- Session Handling ---\n      _checkSessionAndLoad() {\n        const gleapSessionInstance = this._getGleapSessionInstance();\n        const hasChecklistId = this.getAttribute(\"checklistId\");\n\n        if (gleapSessionInstance.ready && hasChecklistId) {\n          this._isSessionReady = true;\n          this._networkManager = ChecklistNetworkManager.getInstance();\n          this.loadChecklist();\n        } else {\n          this._isSessionReady = false;\n          this._hasLoaded = false;\n          this.checklistData = null;\n          this.activeStep = -1;\n          this._initialActiveSet = false;\n          this.renderResponse();\n        }\n      }\n\n      handleSessionUpdate() {\n        this._checkSessionAndLoad();\n      }\n\n      _getGleapSessionInstance() {\n        try {\n          return typeof GleapSession !== \"undefined\"\n            ? GleapSession.getInstance()\n            : null;\n        } catch (e) {\n          return null;\n        }\n      }\n\n      // --- Getters for Configuration ---\n      get infoEnabled() {\n        const attr = this.getAttribute(\"info\");\n        return attr === null || attr.toLowerCase() !== \"false\";\n      }\n\n      get progressbarEnabled() {\n        const attr = this.getAttribute(\"progressbar\");\n        return attr === null || attr.toLowerCase() !== \"false\";\n      }\n\n      get floatingEnabled() {\n        return this.getAttribute(\"floating\") === \"true\";\n      }\n\n      // --- Translation Helpers ---\n      _translate(key, defaultValue = \"\") {\n        return GleapTranslationManager.translateText(key) || defaultValue;\n      }\n\n      _translateWithVars(key, vars, defaultValue = \"\") {\n        return (\n          GleapTranslationManager.translateTextWithVars(key, vars) ||\n          defaultValue\n        );\n      }\n\n      // --- SVG Icons ---\n      getCheckIcon() {\n        return `<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style=\"display: block;\">\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L9.70711 17.7071C9.31658 18.0976 8.68342 18.0976 8.29289 17.7071L3.29289 12.7071C2.90237 12.3166 2.90237 11.6834 3.29289 11.2929C3.68342 10.9024 4.31658 10.9024 4.70711 11.2929L9 15.5858L19.2929 5.29289C19.6834 4.90237 20.3166 4.90237 20.7071 5.29289Z\" fill=\"currentColor\"/>\n                  </svg>`;\n      }\n\n      // --- Data Loading and Handling ---\n      loadChecklist() {\n        if (!this._isSessionReady || !this._networkManager) {\n          return;\n        }\n        const checklistId = this.getAttribute(\"checklistId\");\n        if (checklistId) {\n          this.activeStep = -1;\n          this._initialActiveSet = false;\n          this.validateChecklist(checklistId);\n        } else {\n          this.renderResponse();\n          this.checklistData = null;\n          this._hasLoaded = false;\n        }\n      }\n\n      getQueryParams() {\n        const gleapSessionInstance = this._getGleapSessionInstance();\n        if (!gleapSessionInstance?.session) {\n          return \"\";\n        }\n        const session = gleapSessionInstance.session;\n        let lang = \"en\";\n        try {\n          if (typeof GleapTranslationManager !== \"undefined\") {\n            lang =\n              GleapTranslationManager.getInstance().getActiveLanguage() || \"en\";\n          }\n        } catch (e) {}\n        return `gleapId=${session.gleapId || \"\"}&gleapHash=${\n          session.gleapHash || \"\"\n        }&lang=${lang}`;\n      }\n\n      makeRequest(method, url, data, callback) {\n        const gleapSessionInstance = this._getGleapSessionInstance();\n        if (!gleapSessionInstance?.session) {\n          const mockXhr = {\n            readyState: 4,\n            status: 0,\n            responseText: \"Session unavailable\",\n            _isMock: true,\n          };\n          callback(mockXhr);\n          return;\n        }\n        const xhr = new XMLHttpRequest();\n        xhr.open(method, url);\n        try {\n          gleapSessionInstance.injectSession(xhr);\n        } catch (e) {}\n        if (data) {\n          xhr.setRequestHeader(\n            \"Content-Type\",\n            \"application/json;charset=UTF-8\"\n          );\n        }\n        xhr.onreadystatechange = () => {\n          if (xhr.readyState === 4) {\n            callback(xhr);\n          }\n        };\n        xhr.onerror = () => {\n          callback(xhr);\n        };\n        xhr.send(data ? JSON.stringify(data) : null);\n      }\n\n      validateChecklist(outboundId) {\n        if (!this._isSessionReady || !this._networkManager) {\n          return;\n        }\n        this.checklistData = null;\n        this._hasLoaded = false;\n        this.renderResponse();\n        const sharedKey = this.getAttribute(\"sharedKey\");\n\n        this._networkManager\n          .validateChecklist(outboundId, sharedKey)\n          .then((internalId) => {\n            if (!this.isConnected || !this._isSessionReady || !internalId) {\n              return;\n            }\n            this.fetchChecklist(internalId);\n          })\n          .catch((error) => {\n            this.renderResponse();\n            this.checklistData = null;\n            this._hasLoaded = false;\n          });\n      }\n\n      fetchChecklist(checklistId) {\n        if (!this._isSessionReady || !this._networkManager) {\n          return;\n        }\n        this._isInitialLoad = !this._hasLoaded;\n        this._networkManager\n          .fetchChecklist(checklistId)\n          .then((data) => {\n            if (!this.isConnected || !this._isSessionReady || !data) {\n              this._hasLoaded = false;\n              this.checklistData = null;\n              this._checkSessionAndLoad();\n              return;\n            }\n            this.checklistData = data;\n            this._hasLoaded = true;\n            if (data.status === \"done\") {\n              this.renderResponse();\n              return;\n            }\n            if (this._isInitialLoad && !this._initialActiveSet) {\n              const steps = data.outbound?.config?.steps || [];\n              const completedSteps = data.completedSteps || [];\n              const firstIncompleteIndex = steps.findIndex(\n                (step) => !completedSteps.includes(step.id)\n              );\n              this.activeStep =\n                firstIncompleteIndex >= 0 ? firstIncompleteIndex : -1;\n              if (this.activeStep !== -1) {\n                this._initialActiveSet = true;\n              }\n            }\n            this.renderChecklist(this.checklistData);\n            \n            // Notify external listeners about the initial checklist load\n            GleapEventManager.notifyEvent(\"checklist-loaded\", {\n              checklistId: this.checklistData.id,\n              outboundId: this.checklistData.outbound?.id,\n              completedSteps: this.checklistData.completedSteps,\n              status: this.checklistData.status,\n              data: this.checklistData\n            });\n          })\n          .catch((error) => {\n            this.renderResponse();\n            this.checklistData = null;\n            this._hasLoaded = false;\n          });\n      }\n\n      updateChecklist(id, data) {\n        const gleapSessionInstance = this._getGleapSessionInstance();\n        if (!gleapSessionInstance?.session) {\n          return;\n        }\n        const apiUrl = gleapSessionInstance.apiUrl;\n        if (!apiUrl) {\n          return;\n        }\n        const session = gleapSessionInstance.session;\n        const gleapId = session?.gleapId ?? \"\";\n        const gleapHash = session?.gleapHash ?? \"\";\n        let lang = \"en\";\n        try {\n          if (typeof GleapTranslationManager !== \"undefined\") {\n            lang =\n              GleapTranslationManager.getInstance().getActiveLanguage() || \"en\";\n          }\n        } catch (e) {}\n        let url = `${apiUrl}/outbound/checklists/${id}`;\n        if (data.checkedStep) {\n          url += `/increment/${data.checkedStep}`;\n        }\n        url += `?gleapId=${gleapId}&gleapHash=${gleapHash}&lang=${lang}`;\n        this.makeRequest(\"PUT\", url, data, (xhr) => {\n          if (xhr._isMock) return;\n          if (!(xhr.status === 200 || xhr.status === 204)) {\n            // Update failed\n          }\n        });\n      }\n\n      // --- External Update Handling ---\n      handleChecklistUpdate(event) {\n        if (!this._hasLoaded || !this.checklistData) {\n          return;\n        }\n        const updateData = event.detail;\n        if (!updateData || updateData.id !== this.checklistData.id) {\n          return;\n        }\n        const previousCompletedSteps = [\n          ...(this.checklistData.completedSteps || []),\n        ];\n        let dataChanged = false;\n        let activeStepCompleted = false;\n        const currentlyActiveStepIndex = this.activeStep;\n        if (\n          updateData.completedSteps &&\n          JSON.stringify(updateData.completedSteps) !==\n            JSON.stringify(previousCompletedSteps)\n        ) {\n          this.checklistData.completedSteps = [...updateData.completedSteps];\n          dataChanged = true;\n          if (currentlyActiveStepIndex !== -1) {\n            const activeStepId =\n              this.checklistData.outbound?.config?.steps?.[\n                currentlyActiveStepIndex\n              ]?.id;\n            if (\n              activeStepId &&\n              this.checklistData.completedSteps.includes(activeStepId) &&\n              !previousCompletedSteps.includes(activeStepId)\n            ) {\n              activeStepCompleted = true;\n            }\n          }\n        }\n        if (\n          updateData.status &&\n          updateData.status !== this.checklistData.status\n        ) {\n          this.checklistData.status = updateData.status;\n          dataChanged = true;\n        }\n        if (activeStepCompleted) {\n          const steps = this.checklistData.outbound?.config?.steps || [];\n          let nextActiveStep = -1;\n          for (let i = currentlyActiveStepIndex + 1; i < steps.length; i++) {\n            if (!this.checklistData.completedSteps.includes(steps[i].id)) {\n              nextActiveStep = i;\n              break;\n            }\n          }\n          if (this.activeStep !== nextActiveStep) {\n            this.setActiveStep(nextActiveStep);\n          }\n          dataChanged = true;\n        }\n        if (dataChanged) {\n          this.renderChecklist(this.checklistData);\n          \n          // Notify external listeners about the checklist update\n          GleapEventManager.notifyEvent(\"checklist-update\", {\n            checklistId: this.checklistData.id,\n            outboundId: this.checklistData.outbound?.id,\n            completedSteps: this.checklistData.completedSteps,\n            status: this.checklistData.status,\n            data: this.checklistData\n          });\n        }\n      }\n\n      // --- Floating (Click-based) Listeners ---\n      handleFloatingLauncherClick(event) {\n        event.stopPropagation();\n\n        if (this.checklistData.status === \"done\") {\n          return;\n        }\n\n        const tasks = this.shadowRoot.querySelector(\".checklist-tasks\");\n        if (tasks) {\n          tasks.style.display =\n            tasks.style.display === \"block\" ? \"none\" : \"block\";\n        }\n      }\n\n      handleFloatingCloseClick(event) {\n        event.stopPropagation();\n        const tasks = this.shadowRoot.querySelector(\".checklist-tasks\");\n        if (tasks) {\n          tasks.style.display = \"none\";\n        }\n      }\n\n      addFloatingClickListeners() {\n        const launcher = this.shadowRoot.querySelector(\n          \".checklist-floating-launcher\"\n        );\n        if (launcher) {\n          launcher.addEventListener(\"click\", this._boundFloatingLauncherClick);\n        }\n        const header = this.shadowRoot.querySelector(\n          \".checklist-floating-header\"\n        );\n        if (header) {\n          header.addEventListener(\"click\", this._boundFloatingCloseClick);\n        }\n      }\n\n      removeFloatingClickListeners() {\n        const launcher = this.shadowRoot.querySelector(\n          \".checklist-floating-launcher\"\n        );\n        if (launcher) {\n          launcher.removeEventListener(\n            \"click\",\n            this._boundFloatingLauncherClick\n          );\n        }\n        const header = this.shadowRoot.querySelector(\n          \".checklist-floating-header\"\n        );\n        if (header) {\n          header.removeEventListener(\"click\", this._boundFloatingCloseClick);\n        }\n      }\n\n      // --- Rendering Logic ---\n      renderResponse() {\n        this.shadowRoot.innerHTML = \"\";\n      }\n\n      /**\n       * Renders the floating launcher. When called with the default class (\"checklist-floating\")\n       * it shows a chevron icon; when called with \"checklist-floating-header\" it shows a close icon.\n       */\n      renderFloatingLauncher(\n        outbound,\n        className = \"checklist-floating\",\n        renderDoneState = false\n      ) {\n        const steps = outbound.config?.steps || [];\n        const completedSteps = this.checklistData?.completedSteps || [];\n        let progress = 0;\n        if (this.progressbarEnabled && steps.length > 0) {\n          const totalSteps = steps.length;\n          const doneSteps = completedSteps.length;\n          progress = totalSteps > 0 ? (doneSteps / totalSteps) * 100 : 0;\n        }\n\n        // Determine the next incomplete step\n        const nextIncompleteStep = steps.find(\n          (step) => !completedSteps.includes(step.id)\n        );\n        let titleText =\n          steps.length > 0\n            ? nextIncompleteStep\n              ? nextIncompleteStep.title ||\n                this._translateWithVars(\n                  \"stepDefaultTitle\",\n                  { index: steps.indexOf(nextIncompleteStep) + 1 },\n                  `Step ${steps.indexOf(nextIncompleteStep) + 1}`\n                )\n              : \"\"\n            : outbound.subject || \"\";\n\n        let subtitleText =\n          steps.length > 0\n            ? nextIncompleteStep\n              ? nextIncompleteStep.description || \"\"\n              : \"\"\n            : outbound.message || \"\";\n\n        if (renderDoneState) {\n          titleText = outbound.config?.successTitle || \"\";\n          subtitleText = outbound.config?.successMessage || \"\";\n          progress = 100;\n        }\n\n        const circumference = 2 * Math.PI * 7;\n        const computedOffset = circumference - (progress / 100) * circumference;\n\n        const isHeader = className === \"checklist-floating-header\";\n        const icon = isHeader\n          ? `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n               <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n               <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n             </svg>`\n          : `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n               <polyline points=\"6 9 12 15 18 9\"></polyline>\n             </svg>`;\n\n        return `\n          <div part=\"${className}\" class=\"${\n          isHeader ? \"checklist-floating-header\" : \"checklist-floating-launcher\"\n        } ${renderDoneState ? \"checklist-floating-launcher--done\" : \"\"}\">\n            <div class=\"floating-header\">\n              <div class=\"floating-circular-progress\">\n                <svg viewBox=\"0 0 20 20\">\n                  <circle class=\"track\" cx=\"10\" cy=\"10\" r=\"7\"></circle>\n                  <circle class=\"progress\" cx=\"10\" cy=\"10\" r=\"7\" stroke-dasharray=\"${circumference.toFixed(\n                    2\n                  )}\" stroke-dashoffset=\"${computedOffset.toFixed(2)}\"></circle>\n                </svg>\n              </div>\n              <div class=\"floating-title\">${titleText}</div>\n              ${\n                renderDoneState\n                  ? \"\"\n                  : `<span class=\"floating-icon\">${icon}</span>`\n              }\n            </div>\n            <div class=\"floating-subtitle\">${subtitleText}</div>\n          </div>\n        `;\n      }\n\n      renderInfoSection(outbound) {\n        if (!this.infoEnabled || !outbound) return \"\";\n        const subject =\n          outbound.subject ||\n          this._translate(\"checklistDefaultTitle\", \"Checklist\");\n        const message = outbound.message || \"\";\n        let senderHtml = \"\";\n        if (outbound.sender?.profileImageUrl) {\n          senderHtml = `\n            <div part=\"sender\" class=\"checklists-sender\">\n              <img part=\"sender-image\" src=\"${\n                outbound.sender.profileImageUrl\n              }\" alt=\"${\n            outbound.sender.firstName || \"Sender\"\n          }'s profile picture\" style=\"object-fit: cover;\" />\n              <span part=\"sender-name\">${outbound.sender.firstName || \"\"}</span>\n            </div>`;\n        }\n        return `\n          <div part=\"info\" class=\"checklists-info\">\n            ${\n              subject\n                ? `<div part=\"info-title\" class=\"checklists-title\">${subject}</div>`\n                : \"\"\n            }\n            ${\n              message\n                ? `<div part=\"info-description\" class=\"checklists-description\">${message}</div>`\n                : \"\"\n            }\n            ${senderHtml}\n          </div>`;\n      }\n\n      renderProgressSection(steps = [], completedSteps = []) {\n        if (!this.progressbarEnabled || !steps.length) return \"\";\n        const totalSteps = steps.length;\n        const doneSteps = completedSteps.length;\n        const progress = totalSteps > 0 ? (doneSteps / totalSteps) * 100 : 0;\n        let duration = 0;\n        steps.forEach((step) => {\n          if (!completedSteps.includes(step.id) && step.duration > 0) {\n            duration += step.duration;\n          }\n        });\n        const progressLabel = this._translateWithVars(\n          \"taskProgress\",\n          { a: doneSteps, b: totalSteps },\n          `${doneSteps} of ${totalSteps} done`\n        );\n        const durationLabel =\n          duration > 0\n            ? this._translateWithVars(\n                \"aboutMinutes\",\n                { a: duration },\n                `About ${duration} min left`\n              )\n            : \"\";\n        return `\n          <div part=\"progress-labels\" class=\"checklist-progress-labels\">\n            <div part=\"progress-label-primary\" class=\"checklist-progress-label\">${progressLabel}</div>\n            ${\n              durationLabel\n                ? `<div part=\"progress-label-secondary\" class=\"checklist-progress-label\">${durationLabel}</div>`\n                : \"\"\n            }\n          </div>\n          <div part=\"progress-bar\" class=\"checklist-progress-bar\">\n            <div part=\"progress-bar-progress\" class=\"checklist-progress-bar-progress\" style=\"width: ${progress}%;\"></div>\n          </div>`;\n      }\n\n      renderTasks(steps = [], completedSteps = []) {\n        if (!steps || steps.length === 0)\n          return `<p>${this._translate(\n            \"noStepsDefined\",\n            \"No steps defined.\"\n          )}</p>`;\n        return steps\n          .map((step, index) => {\n            const isTaskDone = completedSteps.includes(step.id);\n            const isActive = this.activeStep === index;\n            const badge = isTaskDone\n              ? `<span part=\"task-badge\" class=\"checklist-task-header--badge checklist-task-header--badge-done\">${this.getCheckIcon()}</span>`\n              : `<span part=\"task-badge\" class=\"checklist-task-header--badge\">${\n                  index + 1\n                }</span>`;\n            const stepTitle =\n              step.title ||\n              this._translateWithVars(\n                \"stepDefaultTitle\",\n                { index: index + 1 },\n                `Step ${index + 1}`\n              );\n            const stepDescription = step.description || \"\";\n            const actionButtonText =\n              step.actionTitle ||\n              this._translate(\"actionDefaultTitle\", \"Action\");\n            const actionHtml =\n              step.action && step.action !== \"none\"\n                ? `<div part=\"task-action\" class=\"checklist-task-body-action\" data-action-index=\"${index}\">\n                      <button type=\"button\" class=\"action-button form-send-button\">${actionButtonText}</button>\n                   </div>`\n                : \"\";\n            const markDoneLabel = this._translate(\"markAsDone\", \"Mark as done\");\n            const markDoneHtml =\n              step.allowMarkDone && !isTaskDone\n                ? `<div part=\"task-mark-done\" class=\"checklist-task-body-markdone\" data-markdone-index=\"${index}\">\n                      ${this.getCheckIcon()}\n                      <div class=\"checklist-task-body-markdone-label\">${markDoneLabel}</div>\n                   </div>`\n                : \"\";\n            const taskClasses = [\n              \"checklist-task\",\n              isTaskDone ? \"checklist-task--done\" : \"\",\n              isActive ? \"checklist-task--active\" : \"\",\n            ]\n              .filter(Boolean)\n              .join(\" \");\n            return `\n              <div part=\"task\" class=\"${taskClasses}\" data-task-index=\"${index}\">\n                <div part=\"task-header\" class=\"checklist-task-header\" role=\"button\" aria-expanded=\"${isActive}\" aria-controls=\"task-body-${index}\">\n                  ${badge}\n                  <div part=\"task-header-title\" class=\"checklist-task-header--title\">${stepTitle}</div>\n                  <span part=\"task-header-chevron\" class=\"checklist-task-header--chevron\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                      <polyline points=\"6 9 12 15 18 9\"></polyline>\n                    </svg>\n                  </span>\n                </div>\n                <div part=\"task-body\" class=\"checklist-task-body\" id=\"task-body-${index}\">\n                  <div part=\"task-body-inner\" class=\"checklist-task-body-inner\">\n                    ${\n                      stepDescription\n                        ? `<div part=\"task-body-content\" class=\"checklist-task-body-content\">${stepDescription}</div>`\n                        : \"\"\n                    }\n                    ${actionHtml}\n                    ${markDoneHtml}\n                  </div>\n                </div>\n              </div>`;\n          })\n          .join(\"\");\n      }\n\n      renderChecklist(data) {\n        if (!this._hasLoaded || !data || !data.outbound) {\n          this._checkSessionAndLoad();\n          return;\n        }\n        const { outbound } = data;\n        const steps = outbound.config?.steps || [];\n        const completedSteps = data.completedSteps || [];\n        const isDone =\n          data.status === \"done\" ||\n          (steps.length > 0 && completedSteps.length >= steps.length);\n        let content = \"\";\n        if (isDone) {\n          const successTitle = outbound.config?.successTitle || \"\";\n          const successMessage = outbound.config?.successMessage || \"\";\n          if (this.floatingEnabled) {\n            content = this.renderFloatingLauncher(\n              outbound,\n              \"checklist-floating-launcher\",\n              true\n            );\n          } else {\n            content = `\n              <div part=\"content\" class=\"checklists-content checklists-content--done\">\n                <div part=\"success-icon\" class=\"checklists-success-icon\">\n                  <span part=\"success-icon-circle\" class=\"checklists-success-icon--circle\">${this.getCheckIcon()}</span>\n                </div>\n                <div part=\"success-title\" class=\"checklists-title\">${successTitle}</div>\n                <div part=\"success-description\" class=\"checklists-description\">${successMessage}</div>\n              </div>`;\n          }\n          if (this.activeStep !== -1) this.activeStep = -1;\n        } else {\n          content = `\n            <div part=\"content\" class=\"checklists-content\">\n              ${!this.floatingEnabled ? this.renderInfoSection(outbound) : \"\"}\n              ${\n                !this.floatingEnabled\n                  ? this.renderProgressSection(steps, completedSteps)\n                  : \"\"\n              }\n              ${\n                this.floatingEnabled\n                  ? this.renderFloatingLauncher(outbound)\n                  : \"\"\n              }\n              <div part=\"tasks\" class=\"checklist-tasks\">\n                ${\n                  this.floatingEnabled\n                    ? this.renderFloatingLauncher(\n                        outbound,\n                        \"checklist-floating-header\"\n                      )\n                    : \"\"\n                }\n                ${this.renderTasks(steps, completedSteps)}\n              </div>\n            </div>`;\n        }\n\n        const flowConfig = GleapConfigManager.getInstance().getFlowConfig();\n        const primaryColor = flowConfig.color ? flowConfig.color : \"#485BFF\";\n\n        const styles = `\n          <style>\n            :host {\n              display: block;\n              --color-bg: #ffffff;\n              --color-font-title: #1f2937;\n              --color-font-text: #4b5563;\n              --color-font-light: #6b7280;\n              --color-primary: ${primaryColor};\n              --color-primary-light: ${primaryColor}22;\n              --color-primary-contrast: #ffffff;\n              --color-border: #e5e7eb;\n              --color-gray-light: #f3f4f6;\n              --color-gray-lighter: #f9fafb;\n              --color-gray-dark: #6b7280;\n              --color-success: #10b981;\n              --color-success-light: #ffffff;\n              --radius-sm: 4px;\n              --radius-lg: 12px;\n              --radius-full: 9999px;\n              --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n              --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -2px rgba(0, 0, 0, 0.08);\n              --shadow-lg: rgba(0, 0, 0, 0.2) 0px 7px 29px 0px;\n              --animation-duration: 0.2s;\n              --animation-timing: ease-in-out;\n              font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n              box-sizing: border-box;\n            }\n            :host([dark]) {\n              --color-bg: #1f2937;\n              --color-font-title: #f9fafb;\n              --color-font-text: #d1d5db;\n              --color-font-light: #9ca3af;\n              --color-primary: ${primaryColor};\n              --color-primary-light: ${primaryColor}22;\n              --color-primary-contrast: #ffffff;\n              --color-border: #374151;\n              --color-gray-light: #374151;\n              --color-gray-lighter: #111827;\n              --color-gray-dark: #9ca3af;\n              --color-success: #34d399;\n              --color-success-light: #1f2937;\n            }\n            *, *:before, *:after { box-sizing: inherit; }\n            .checklists-content { color: var(--color-font-text); }\n            .checklists-content--done { text-align: center; }\n            .checklists-info { margin-bottom: 24px; text-align: center; }\n            .checklists-title { font-size: 1.25rem; font-weight: 600; margin-bottom: 8px; color: var(--color-font-title); }\n            .checklists-description { font-size: 0.9rem; margin-bottom: 16px; color: var(--color-font-text); line-height: 1.5; }\n            .checklists-sender { display: flex; align-items: center; justify-content: center; gap: 8px; }\n            .checklists-sender img { width: 28px; height: 28px; border-radius: var(--radius-full); object-fit: cover; }\n            .checklists-sender span { font-size: 0.875rem; color: var(--color-font-light); font-weight: 500; }\n            .checklists-success-icon { margin-bottom: 16px; line-height: 0; }\n            .checklists-success-icon--circle { display: inline-flex; align-items: center; justify-content: center; width: 44px; height: 44px; border-radius: var(--radius-full); background-color: var(--color-success); color: var(--color-success-light); font-size: 22px; }\n            .checklist-progress-labels { display: flex; justify-content: space-between; margin-bottom: 8px; }\n            .checklist-progress-label { font-size: 0.75rem; color: var(--color-font-light); font-weight: 500; }\n            .checklist-progress-bar { width: 100%; height: 6px; background-color: var(--color-gray-light); border-radius: var(--radius-full); overflow: hidden; margin-bottom: 20px; }\n            .checklist-progress-bar-progress { height: 100%; background-color: var(--color-primary); transition: width var(--animation-duration) var(--animation-timing); border-radius: var(--radius-full); }\n            .checklist-tasks { display: flex; flex-direction: column; gap: 12px; }\n            .checklist-task { border: 1px solid var(--color-border); border-radius: var(--radius-lg); background-color: var(--color-bg); box-shadow: var(--shadow-sm); overflow: hidden; transition: background-color var(--animation-duration) var(--animation-timing), border-color var(--animation-duration) var(--animation-timing); }\n            .checklist-task-header { display: flex; align-items: center; padding: 15px 20px; cursor: pointer; gap: 12px; position: relative; }\n            .checklist-task-header:hover { background: var(--color-gray-lighter); }\n            .checklist-task-header:hover .checklist-task-header--chevron {\n              color: var(--color-font-title);\n            }\n            .checklist-task-header--badge { display: flex; align-items: center; justify-content: center; width: 28px; height: 28px; border-radius: var(--radius-full); background-color: var(--color-primary-light); color: var(--color-primary); font-size: 0.875rem; font-weight: 600; flex-shrink: 0; transition: background-color var(--animation-duration) var(--animation-timing), color var(--animation-duration) var(--animation-timing); line-height: 1; }\n            .checklist-task-header--badge svg { width: 16px; height: 16px; }\n            .checklist-task-header--title { flex-grow: 1; font-size: 0.9rem; font-weight: 500; color: var(--color-font-title); transition: font-weight var(--animation-duration) var(--animation-timing), color var(--animation-duration) var(--animation-timing), text-decoration var(--animation-duration) var(--animation-timing); }\n            .checklist-task-header--chevron { color: var(--color-font-light); transition: transform var(--animation-duration) var(--animation-timing); flex-shrink: 0; margin-left: auto; }\n            .checklist-task-header--chevron svg { display: block; width: 18px; height: 18px; }\n            .checklist-task-body {\n              overflow: hidden;\n              transition: max-height var(--animation-duration) var(--animation-timing), opacity var(--animation-duration) var(--animation-timing);\n              max-height: 0;\n              opacity: 0;\n            }\n            .checklist-task--active .checklist-task-body {\n              max-height: var(--task-body-active-height, 200px);\n              opacity: 1;\n            }\n            .checklist-task-body-inner { padding: 4px 16px 20px 60px; font-size: 0.875rem; color: var(--color-font-text); line-height: 1.5; }\n            .checklist-task-body-content { margin-bottom: 16px; }\n            .checklist-task-body-content p:first-child { margin-top: 0; }\n            .checklist-task-body-content p:last-child { margin-bottom: 0; }\n            .checklist-task-body-action { margin-top: 16px; }\n            .action-button { display: inline-flex; align-items: center; justify-content: center; background-color: var(--color-primary); color: var(--color-primary-contrast); padding: 10px 18px; font-size: 0.875rem; font-weight: 500; border-radius: var(--radius-lg); border: none; text-align: center; cursor: pointer; transition: background-color var(--animation-duration) var(--animation-timing), box-shadow var(--animation-duration) var(--animation-timing); box-shadow: var(--shadow-sm); }\n            .action-button:hover { background-color: color-mix(in srgb, var(--color-primary) 90%, black); box-shadow: var(--shadow-md); }\n            .action-button:focus { outline: 2px solid color-mix(in srgb, var(--color-primary) 50%, transparent); outline-offset: 2px; }\n            .checklist-task-body-markdone { margin-top: 20px; border-top: 1px solid var(--color-border); padding: 16px 0 0px 0; display: flex; align-items: center; cursor: pointer; color: var(--color-primary); transition: color var(--animation-duration) var(--animation-timing); }\n            .checklist-task-body-markdone:hover { color: color-mix(in srgb, var(--color-primary) 80%, black); }\n            .checklist-task-body-markdone svg { width: 18px; height: 18px; margin-right: 6px; flex-shrink: 0; font-size: 18px; }\n            .checklist-task-body-markdone-label { font-size: 0.875rem; font-weight: 500; line-height: 1; }\n            .checklist-task--active .checklist-task-header--title { font-weight: 600; }\n            .checklist-task--active .checklist-task-header--chevron { transform: rotate(180deg); }\n            .checklist-task--active .checklist-task-header:hover { background: linear-gradient(180deg, var(--color-gray-lighter), transparent); }\n            .checklist-task--done { background-color: var(--color-gray-lighter); border-color: var(--color-gray-light); box-shadow: none; }\n            .checklist-task--done .checklist-task-header--badge { background-color: var(--color-success); color: var(--color-success-light); }\n            .checklist-task--done .checklist-task-header--title { color: var(--color-font-light); }\n            .checklist-task--done .checklist-task-body-inner { color: var(--color-font-light); }\n            .checklist-task--done .checklist-task-header--title {\n              text-decoration: line-through;\n            }\n  \n            /* -------------------------\n               Floating style addition\n               Only applies if floating=\"true\"\n               ------------------------- */\n            :host([floating=\"true\"]) .checklists-content {\n              position: relative;\n            }\n            :host([floating=\"true\"]) .checklist-tasks {\n              position: absolute;\n              bottom: 0;\n              left: 0;\n              z-index: 1000;\n              max-height: 90vh;\n              display: none;\n              padding: 0px;\n              min-width: min(380px, 90vw);\n              background-color: var(--color-bg);\n              border-radius: var(--radius-lg);\n              box-shadow: var(--shadow-lg);\n              overflow: hidden;\n            }\n            :host([floating=\"true\"]) .checklist-task {\n              border-radius: 0px;\n              border: none;\n              box-shadow: none;\n              border-bottom: 1px solid var(--color-border);\n            }\n            :host([floating=\"true\"]) .checklist-task:last-child {\n              border-bottom: none;\n            }\n            :host([floating=\"true\"]) .checklist-task--done {\n              background-color: transparent;\n            }\n            :host([floating=\"true\"]) .checklist-task-header:hover {\n              background: linear-gradient(180deg, var(--color-gray-lighter), transparent);\n            }\n  \n            /* -------------------------\n               Floating Launcher Styles\n               ------------------------- */\n            .checklist-floating-launcher {\n              padding: 12px;\n              background-color: var(--color-bg);\n              border: 1px solid var(--color-border);\n              border-radius: var(--radius-lg);\n              box-shadow: var(--shadow-md);\n              transition: transform 0.3s ease;\n              cursor: pointer;\n            }\n            .checklist-floating-launcher--done {\n              cursor: default !important;\n            }\n            .checklist-floating-header {\n              padding: 20px;\n              padding-bottom: 16px;\n              border-bottom: 1px solid var(--color-border);\n              cursor: pointer;\n            }\n            .checklist-floating-header:hover .floating-icon,\n            .checklist-floating-launcher:hover .floating-icon {\n              color: var(--color-font-title);\n            }\n            .floating-header {\n              display: flex;\n              align-items: center;\n              justify-content: flex-start;\n            }\n            .floating-title {\n              font-size: 0.875rem;\n              font-weight: 600;\n              color: var(--color-font-title);\n              max-width: calc(100% - 32px);\n              display: -webkit-box;\n              -webkit-line-clamp: 1;\n              -webkit-box-orient: vertical;\n              overflow: hidden;\n            }\n            .floating-subtitle {\n              font-size: 0.875rem;\n              color: var(--color-font-text);\n              margin-top: 8px;\n              max-width: 100%;\n              display: -webkit-box;\n              -webkit-line-clamp: 1;\n              -webkit-box-orient: vertical;\n              overflow: hidden;\n            }\n            .floating-circular-progress {\n              width: 26px;\n              height: 26px;\n              margin-right: 6px;\n            }\n            .floating-circular-progress svg {\n              width: 100%;\n              height: 100%;\n              transform: rotate(-90deg);\n            }\n            .floating-circular-progress .track {\n              fill: none;\n              stroke: var(--color-gray-light);\n              stroke-width: 3;\n            }\n            .floating-circular-progress .progress {\n              fill: none;\n              stroke: var(--color-primary);\n              stroke-width: 3;\n              stroke-linecap: round;\n              transition: stroke-dashoffset var(--animation-duration) var(--animation-timing);\n            }\n            .checklist-floating-launcher--done .floating-circular-progress .progress {\n              stroke: var(--color-success);\n            }\n            .floating-icon {\n              margin-left: auto;\n              color: var(--color-font-light);\n            }\n          </style>\n        `;\n        this.shadowRoot.innerHTML = styles + content;\n        this.addTaskEventListeners();\n        if (this.floatingEnabled) {\n          this.addFloatingClickListeners();\n        }\n        if (this.activeStep !== -1) {\n          this.toggleTask(this.activeStep, true);\n        }\n      }\n\n      updateActiveTaskMaxHeight() {\n        if (this.activeStep !== -1) {\n          const taskBodyInner = this.shadowRoot.querySelector(\n            `.checklist-task[data-task-index=\"${this.activeStep}\"] .checklist-task-body-inner`\n          );\n          const container = this.shadowRoot.querySelector(\n            `.checklist-task[data-task-index=\"${this.activeStep}\"] .checklist-task-body`\n          );\n          if (taskBodyInner && container) {\n            const height = taskBodyInner.offsetHeight;\n            container.style.setProperty(\n              \"--task-body-active-height\",\n              `${height}px`\n            );\n          }\n        }\n      }\n\n      // --- Event Listener Setup ---\n      addTaskEventListeners() {\n        const tasks = this.shadowRoot.querySelectorAll(\".checklist-task\");\n        tasks.forEach((task) => {\n          const header = task.querySelector(\".checklist-task-header\");\n          const index = parseInt(task.getAttribute(\"data-task-index\"), 10);\n          if (header) {\n            header.addEventListener(\"click\", () => {\n              const newActiveStep = this.activeStep === index ? -1 : index;\n              this.setActiveStep(newActiveStep);\n            });\n          }\n          const markDoneBtn = task.querySelector(\n            \".checklist-task-body-markdone\"\n          );\n          if (markDoneBtn) {\n            markDoneBtn.addEventListener(\"click\", (e) => {\n              e.stopPropagation();\n              if (!this.checklistData?.outbound?.config?.steps) return;\n              const step = this.checklistData.outbound.config.steps[index];\n              if (!step) return;\n              const previouslyActiveStep = this.activeStep;\n              if (!this.checklistData.completedSteps)\n                this.checklistData.completedSteps = [];\n              if (!this.checklistData.completedSteps.includes(step.id)) {\n                this.checklistData.completedSteps.push(step.id);\n                \n                // Notify external listeners about the step completion\n                GleapEventManager.notifyEvent(\"checklist-step-completed\", {\n                  checklistId: this.checklistData.id,\n                  outboundId: this.checklistData.outbound?.id,\n                  stepId: step.id,\n                  stepIndex: index,\n                  step: step,\n                  completedSteps: this.checklistData.completedSteps,\n                  status: this.checklistData.status,\n                  data: this.checklistData\n                });\n                const allSteps = this.checklistData.outbound.config.steps;\n                let nextActiveStep = -1;\n                if (previouslyActiveStep === index) {\n                  for (let i = index + 1; i < allSteps.length; i++) {\n                    if (\n                      !this.checklistData.completedSteps.includes(\n                        allSteps[i].id\n                      )\n                    ) {\n                      nextActiveStep = i;\n                      break;\n                    }\n                  }\n                  this.setActiveStep(nextActiveStep);\n                }\n                // Preserve the state of the floating modal.\n                setTimeout(() => {\n                  let isModalOpen = false;\n                  if (this.floatingEnabled) {\n                    const tasksModal =\n                      this.shadowRoot.querySelector(\".checklist-tasks\");\n                    isModalOpen =\n                      tasksModal && tasksModal.style.display === \"block\";\n                  }\n                  this.renderChecklist(this.checklistData);\n                  if (this.floatingEnabled && isModalOpen) {\n                    const tasksModal =\n                      this.shadowRoot.querySelector(\".checklist-tasks\");\n                    if (tasksModal) tasksModal.style.display = \"block\";\n                  }\n                }, 300);\n                const updateData = { checkedStep: step.id };\n                if (\n                  allSteps.length > 0 &&\n                  this.checklistData.completedSteps.length >= allSteps.length\n                ) {\n                  this.checklistData.status = \"done\";\n                  updateData.status = \"done\";\n                  \n                  // Notify external listeners about the checklist completion\n                  GleapEventManager.notifyEvent(\"checklist-completed\", {\n                    checklistId: this.checklistData.id,\n                    outboundId: this.checklistData.outbound?.id,\n                    completedSteps: this.checklistData.completedSteps,\n                    status: this.checklistData.status,\n                    data: this.checklistData\n                  });\n                }\n                this.updateChecklist(this.checklistData.id, updateData);\n              }\n            });\n          }\n          const actionBtn = task.querySelector(\n            \".checklist-task-body-action .action-button\"\n          );\n          if (actionBtn) {\n            actionBtn.addEventListener(\"click\", (e) => {\n              e.stopPropagation();\n              if (\n                !this.checklistData?.outbound?.config?.steps ||\n                typeof Gleap === \"undefined\"\n              )\n                return;\n              const step = this.checklistData.outbound.config.steps[index];\n              if (!step || !step.action || step.action === \"none\") return;\n              try {\n                if (step.action === \"BOT\") Gleap.startBot(step.botId);\n                else if (step.action === \"CUSTOM_ACTION\")\n                  Gleap.triggerCustomAction(step.actionBody);\n                else if (step.action === \"REDIRECT_URL\") {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  e.stopImmediatePropagation();\n                  Gleap.openURL(step.actionBody, !!step.actionOpenInNewTab);\n                } else if (step.action === \"FEEDBACK_FLOW\")\n                  Gleap.startFeedbackFlow(step.formId);\n                else if (step.action === \"NEWS_ARTICLE\")\n                  Gleap.openNewsArticle(step.articleId);\n                else if (step.action === \"HELP_ARTICLE\")\n                  Gleap.openHelpCenterArticle(step.articleId);\n                else if (step.action === \"CHECKLIST\")\n                  Gleap.startChecklist(step.outboundId, true, step?.sharedKey);\n              } catch (gleapError) {}\n            });\n          }\n        });\n      }\n\n      // --- Animation and State Management ---\n      setActiveStep(index) {\n        const previousActiveStep = this.activeStep;\n        this.activeStep = index;\n        const tasksToToggle = [];\n        if (\n          previousActiveStep !== -1 &&\n          previousActiveStep !== this.activeStep\n        ) {\n          tasksToToggle.push({ index: previousActiveStep, open: false });\n        }\n        if (this.activeStep !== -1 && this.activeStep !== previousActiveStep) {\n          tasksToToggle.push({ index: this.activeStep, open: true });\n        }\n        tasksToToggle.forEach(({ index, open }) => {\n          this.toggleTask(index, open);\n        });\n      }\n\n      toggleTask(index, forceOpen = null) {\n        const taskElement = this.shadowRoot.querySelector(\n          `.checklist-task[data-task-index=\"${index}\"]`\n        );\n        if (!taskElement) return;\n        const header = taskElement.querySelector(\".checklist-task-header\");\n        if (!header) return;\n        const isOpen = taskElement.classList.contains(\"checklist-task--active\");\n        const shouldOpen = forceOpen !== null ? forceOpen : !isOpen;\n        if (shouldOpen && !isOpen) {\n          taskElement.classList.add(\"checklist-task--active\");\n          header.setAttribute(\"aria-expanded\", \"true\");\n          const taskBodyInner = taskElement.querySelector(\n            \".checklist-task-body-inner\"\n          );\n          if (taskBodyInner) {\n            const height = taskBodyInner.offsetHeight;\n            const taskBody = taskElement.querySelector(\".checklist-task-body\");\n            if (taskBody) {\n              taskBody.style.setProperty(\n                \"--task-body-active-height\",\n                `${height}px`\n              );\n            }\n          }\n        } else if (!shouldOpen && isOpen) {\n          taskElement.classList.remove(\"checklist-task--active\");\n          header.setAttribute(\"aria-expanded\", \"false\");\n        }\n      }\n    }\n\n    if (\n      typeof customElements !== \"undefined\" &&\n      !customElements.get(\"gleap-checklist\")\n    ) {\n      customElements.define(\"gleap-checklist\", GleapChecklist);\n    }\n  }\n};\n","import Gleap from \"./Gleap\";\n\nexport default Gleap;\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","GleapFeedbackButtonManager","_classCallCheck","_defineProperty","value","instance","feedbackButton","remove","buttonHidden","lastButtonIcon","injectedFeedbackButton","show","getInstance","updateFeedbackButtonState","GleapNotificationManager","updateContainerStyle","frameManager","GleapFrameManager","isOpened","hideWidget","setAppMode","showWidget","_this","elem","document","createElement","addEventListener","feedbackButtonPressed","body","appendChild","count","notificationBadge","querySelector","notificationHiddenClass","classList","innerText","add","updateFeedbackButtonText","injectFeedbackButton","flowConfig","GleapConfigManager","getFlowConfig","feedbackButtonPosition","FEEDBACK_BUTTON_CLASSIC","FEEDBACK_BUTTON_CLASSIC_BOTTOM","FEEDBACK_BUTTON_CLASSIC_LEFT","widgetButtonText","GleapAiChatbarManager","updateUIVisibility","buttonIcon","buttonLogo","concat","loadIcon","className","setAttribute","GleapTranslationManager","isRTLLayout","innerHTML","hideButton","FEEDBACK_BUTTON_NONE","FEEDBACK_BUTTON_BOTTOM_LEFT","appMode","hideForGuests","GleapSession","isUser","calculateShadeColor","col","amt","replace","length","_col$match2","_slicedToArray","match","r","g","b","_ref","parseInt","Math","max","min","toString","rr","gg","bb","calculateContrast","hex","substr","name","color","GleapNetworkIntercepter","Date","now","loadAllResources","contentType","toLocaleLowerCase","supportedContentTypes","i","includes","requests","JSON","parse","stringify","values","externalRequests","filters","request","headers","j","payload","payloadObj","e","response","responseText","data","window","performance","resources","getEntriesByType","resource","indexOf","initiatorType","find","url","push","type","date","startTimestamp","startTime","duration","round","exp","blacklist","defaultBlacklist","filter","maxRequests","stopped","keys","keysToRemove","slice","bbRequestId","startDate","getTime","text","size","TextEncoder","encode","encodeURI","s","split","Blob","getTextContentSize","undefined","TextDecoder","_typeof","ArrayBuffer","isView","decode","payloadText","cleanupPayload","cleanupContentSize","initialized","self","interceptNetworkRequests","onFetch","params","fromEntries","entries","method","preparePayload","cleanRequests","onFetchLoad","req","status","statusText","calcRequestTime","isContentTypeSupported","then","err","onFetchFailed","onOpen","args","onSend","requestHeaders","onError","currentTarget","onLoad","target","responseType","callback","originalFetch","open","XMLHttpRequest","send","gleapSetRequestHeader","setRequestHeader","header","requestId","arguments","bind","apply","fetch","clone","blob","Promise","resolve","reject","fr","FileReader","onload","evt","result","onerror","readAsText","resizeImage","base64Str","maxWidth","maxHeight","isJPEG","img","Image","src","canvas","MAX_WIDTH","MAX_HEIGHT","width","height","getContext","drawImage","toDataURL","isMobile","test","navigator","userAgent","gleapDataParser","String","truncateString","str","num","removeSubDomain","v","parts","is2ndLevelDomain","secondLevel","join","loadFromGleapCache","cachedData","localStorage","getItem","saveToGleapCache","k","setItem","removeItem","runFunctionWhenDomIsReady","readyState","RequestStatus","ChecklistNetworkManager","Map","validationCache","clear","fetchCache","validationRequests","fetchRequests","gleapSessionInstance","session","lang","getActiveLanguage","gleapId","gleapHash","apiUrl","xhr","injectSession","onreadystatechange","responseData","error","outboundId","sharedKey","cacheKey","_createCacheKey","cachedResult","internalId","has","_getApiUrl","Error","set","_getQueryParams","requestPromise","_makeRequest","id","_this2","floor","createCoords","x","y","oppositeSideMap","left","right","bottom","top","oppositeAlignmentMap","start","end","clamp","param","placement","axis","getAxisLength","getAlignmentAxis","alignment","getOppositePlacement","side","padding","expandPaddingObject","rect","computeCoordsFromPlacement","rtl","reference","floating","sideAxis","alignmentAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","async","detectOverflow","state","options","_await$platform$isEle","platform","rects","elements","strategy","boundary","rootBoundary","elementContext","altBoundary","paddingObject","element","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","offsetParent","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","offset","fn","_middlewareData$offse","_middlewareData$arrow","middlewareData","diffCoords","isRTL","mainAxisMulti","crossAxisMulti","rawValue","mainAxis","crossAxis","convertValueToCoords","arrow","alignmentOffset","getNodeName","node","isNode","nodeName","toLowerCase","getWindow","_node$ownerDocument","ownerDocument","defaultView","documentElement","Node","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","isOverflowElement","overflow","overflowX","overflowY","display","isTableElement","isContainingBlock","webkit","isWebKit","css","transform","perspective","containerType","backdropFilter","some","willChange","contain","CSS","supports","isLastTraversableNode","getComputedStyle","getNodeScroll","scrollLeft","scrollTop","pageXOffset","pageYOffset","getParentNode","assignedSlot","parentNode","host","getNearestOverflowAncestor","getOverflowAncestors","list","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","visualViewport","frameElement","getCssDimensions","parseFloat","hasOffset","offsetWidth","offsetHeight","shouldFallback","$","unwrapElement","domElement","getBoundingClientRect","Number","isFinite","noOffsets","getVisualOffsets","offsetLeft","offsetTop","includeScale","isFixedStrategy","clientRect","scale","visualOffsets","isFixed","floatingOffsetParent","shouldAddVisualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","topLayerSelectors","isTopLayer","selector","matches","getWindowScrollBarX","getClientRectFromClippingAncestor","clippingAncestor","html","clientWidth","clientHeight","visualViewportBased","getViewportRect","scroll","scrollWidth","scrollHeight","direction","getDocumentRect","getInnerBoundingClientRect","hasFixedPositionAncestor","stopNode","position","getRectRelativeToOffsetParent","isOffsetParentAnElement","offsets","offsetRect","getTrueOffsetParent","polyfill","currentNode","getContainingBlock","topLayer","elementClippingAncestors","cache","el","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","ancestor","getClippingElementAncestors","_c","clippingAncestors","firstClippingAncestor","clippingRect","reduce","accRect","getElementRects","getOffsetParentFn","getDimensionsFn","getDimensions","getClientRects","Array","from","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","IntersectionObserver","animationFrame","referenceEl","ancestors","forEach","passive","cleanupIo","onMove","timeoutId","io","cleanup","_io","clearTimeout","disconnect","refresh","skip","threshold","rootMargin","isFirstUpdate","handleObserve","ratio","intersectionRatio","setTimeout","observe","observeMove","frameId","reobserveFrame","resizeObserver","firstEntry","unobserve","cancelAnimationFrame","requestAnimationFrame","_resizeObserver","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","removeEventListener","checkMainAxis","checkCrossAxis","limiter","detectOverflowOptions","mainAxisCoord","crossAxisCoord","maxSide","limitedCoords","_middlewareData$flip","initialPlacement","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment","isBasePlacement","oppositePlacement","getExpandedPlacements","isStart","lr","rl","tb","bt","getSideList","map","getOppositeAxisPlacements","placements","overflows","overflowsData","flip","sides","mainAlignmentSide","every","_middlewareData$flip2","_overflowsData$filter","nextIndex","index","nextPlacement","reset","resetPlacement","d","sort","a","_overflowsData$map$so","acc","arrowDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","shouldAddOffset","centerOffset","mergedOptions","platformWithCache","config","middleware","validMiddleware","Boolean","statefulPlacement","resetCount","nextX","nextY","computePosition","checkPageFilter","currentUrl","pageFilter","pageFilterType","removeTrailingSlash","isMatchingUrl","regex","startsWith","substring","regexPattern","RegExp","generateRegex","matched","endsWith","GleapTooltipManager","WeakMap","tooltip","hasAttribute","nextId","tooltipElem","mode","hotspotContainer","canEmbed","firstChild","insertBefore","nextSibling","hotspot","icon","animated","repositionHotspot","elementToTooltipMap","floatingUIInstance","createTooltip","elementToFloatingUIMap","filteredTooltips","getFilteredTooltips","checkForTooltips","tooltips","location","href","page","pageType","querySelectorAll","linkTooltip","sessionInstance","http","sdkKey","console","updateFilteredTooltips","nodeType","ELEMENT_NODE","checkNodeTooltip","childNodes","childNode","processNodeInsertion","_this3","_this4","time","timeout","handleResizeThrottled","updateHotspotPositions","context","_toConsumableArray","observer","MutationObserver","mutations","lastUrl","mutation","addedNodes","removedNodes","floatingUI","childList","subtree","attributes","attributeFilter","_this5","tooltipText","tooltipData","hideTimeout","arrowEl","posX","shift","assign","style","arrowPos","visibility","opacity","pointerEvents","hide","voidElements","Set","tagName","resizeListener","anchor","removeAttribute","tooltipId","getAttribute","posY","offsetX","offsetY","elementRect","range","createRange","selectNodeContents","fixedWidth","anchorRect","tooltipSize","email","userId","phone","onSessionReady","ready","onSessionReadyListener","attemp","retry","GleapEventManager","notifyEvent","useCookies","cookie","eraseGleapCookie","sendMessage","clearAllNotifications","setNotificationCount","GleapBannerManager","removeBannerUI","GleapModalManager","hideModal","isNaN","newTimeout","pow","startSession","_this$session","sessionChanged","days","expires","setTime","toUTCString","setGleapCookie","encodeURIComponent","clearCache","GleapStreamedEvent","restart","tooltipManager","destroy","load","dispatchEvent","CustomEvent","notifySessionReady","sessionCookie","nameEQ","ca","c","charAt","getGleapCookie","sessionData","decodeURIComponent","validateSession","cachedSession","clearSession","userData","checkIfSessionDataNeedsUpdate","userDataKeys","userDataKey","customData","setOnSessionReady","_objectSpread","sdkVersion","SDK_VERSION","ws","userHash","checkIfSessionNeedsUpdate","dataToSend","tourId","tourData","_window","passedPageFilter","sendSessionUpdate","streamEvents","mainLoopTimeout","runEventStreamLoop","streamingEvents","errorCount","streamedEventArray","socket","OPEN","sessionDuration","GleapMetaDataManager","getSessionDuration","events","opened","handleOpenBound","handleOpen","handleErrorBound","handleError","handleMessageBound","handleMessage","handleCloseBound","handleClose","connectionTimeout","pingWS","clearInterval","close","cleanupWebSocket","connectedWebSocketGleapId","WebSocket","wsApiUrl","event","setInterval","processMessage","initWebSocket","message","GleapAdminManager","_ai$e","_message$data","u","ai","listOfActionsWhereIgnoreOpened","filteredActions","action","_action$actionType","actionType","Gleap","performActions","setConfig","enabled","placeholder","p","quickActions","detail","eventArray","cleanupMainLoop","trackInitialEvents","startPageListener","resetErrorCountLoop","logEvent","logCurrentPage","disablePageTracking","log","eventMaxLength","parseIntWithDefault","val","def","parsed","onConfigLoaded","onConfigLoadedListener","aiTools","sendConfigUpdate","cachedConfig","applyConfig","loadConfigFromServer","_unused","clearGleapCache","setStyles","headerColor","buttonColor","backgroundColor","borderRadius","buttonX","buttonY","applyStylesFromConfig","enableWebReplays","GleapReplayRecorder","stop","enableNetworkLogs","setLoadAllResources","sendNetworkResources","networkLogPropsToIgnore","setFilters","networkLogBlacklist","setBlacklist","updateRTLSupport","enableShortcuts","aiBar","notifyConfigLoaded","_regeneratorRuntime","t","n","Symbol","iterator","asyncIterator","toStringTag","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","h","l","f","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","done","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","reverse","pop","prev","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","_next","_throw","info","_asyncToGenerator","documentToHTML","doctype","publicId","systemId","outerHTML","loadCSSUrlResources","basePath","remote","asyncFn","matchedData","matchedUrl","replaceAll","resourcePath","URL","fetchCSSResource","resourceData","promises","_len","_key","promise","all","reader","onloadend","readAsDataURL","fetchItemResource","isBlacklisted","warn","progressResource","replaceStyleNodes","styleSheet","cssTextContent","styleId","cloneTargetNode","ownerNode","replacementNode","head","styleNode","cssText","createTextNode","linkNode","rel","media","getTextContentFromStyleSheet","cssRules","rules","cssRuleItem","downloadAllCSSUrlResources","basePathURL","_loop","styleSheets","mediaText","baseTags","getElementsByTagName","origin","lastIndexOf","replacedStyle","styletext","stylesheet","results","prepareRemoteData","dom","imgItems","imgItemsPromises","item","downloadAllImages","handleAdoptedStyleSheets","doc","shadowNodeId","adoptedStyleSheets","shadowStyleNode","firstElementChild","extractFinalCSSState","getAnimations","animations","finalCSSState","animation","_animation$effect","keyframes","effect","getKeyframes","finalKeyframe","property","deepClone","_callee3","cloneNode","fragment","clonedHead","_context3","_ref2","_callee2","parent","shadowRoot","walkTree","webAnimations","boundingRect","resizedImage","_boundingRect","rootShadowNodeId","_context2","_ref3","_callee","nextn","nextp","innerShadowRoot","_context","nextElementSibling","_x5","_x6","_x7","HTMLCanvasElement","t0","toUpperCase","contains","checked","_x2","_x3","_x4","createDocumentFragment","_x","prepareScreenshotData","_ref4","_callee4","styleTags","linkImportElems","referenceNode","scriptElems","existingBasePath","baseElems","baseUrl","newBaseUrl","baseNode","dialogElems","bbElems","_context4","innerWidth","innerHeight","_x8","_x9","_createForOfIteratorHelper","allowArrayLike","it","isArray","minLen","_arrayLikeToArray","_unsupportedIterableToArray","F","_e","normalCompletion","didErr","step","_e2","arr","len","arr2","_defineProperties","props","descriptor","_toPropertyKey","toPrimitive","_toPrimitive","GleapScreenRecorder","rerender","permissionErrorText","Constructor","MAX_RECORD_TIME","mediaDevices","getDisplayMedia","available","RERENDER_DELAY","protoProps","staticProps","_uploadScreenRecording","_startAudioRecording","_startScreenRecording","_step","_iterator","MIME_TYPES","MediaRecorder","isTypeSupported","stream","getTracks","track","_","tracks","validTracks","MediaStream","videoTracks","getVideoTracks","audioTracks","getAudioTracks","displayStream","composed","isRecording","video","ideal","screen","frameRate","IDEAL_FRAME_RATE","MAX_FRAME_RATE","displaySurface","audio","selfBrowserSurface","_displayStream","_displayVideoTrack","getFirstVideoTrack","audioMuted","startAudioRecording","audioAvailable","createMediaStream","handleRecord","alert","mediaRecorder","recordingTimer","stopStreamTracks","_micStream","voiceStream","micTrack","_composed","getUserMedia","echoCancellation","noiseSuppression","autoGainControl","getFirstAudioTrack","videoEl","SELECTORS","PREVIEW_VIDEO","file","recordedChunks","mimeType","getSupportedMimeType","recordTime","timerLabel","TIMER_LABEL","remainingTime","maxRecordTime","formatTime","stopScreenRecording","TIMER_UPDATE_INTERVAL","ondataavailable","videoTrack","onended","prepareRecording","onstop","CHUNK_INTERVAL","completeBlob","extension","File","previewVideoElement","createObjectURL","screenRecordingData","formData","FormData","append","fileUrl","GleapFeedback","priority","isSilent","excludeData","spamToken","gleapInstance","GleapCustomDataManager","getCustomData","metaData","getMetaData","consoleLog","GleapConsoleLogManager","getLogs","networkLogs","getRequests","customEventLog","getEventArray","ticketAttributes","getTicketAttributes","dataPromises","webReplay","getGlobalDataItem","isLiveSite","recordingUrlPromise","uploadScreenRecording","recordingUrl","screenRecordingUrl","screenshot","screenshotDataPromise","isLiveMode","screenshotData","snapshotPosition","feedbackData","outbound","tags","GleapTagManager","getTags","keysToExclude","keyToExclude","takeSnapshot","getData","feedback","newTab","newWindow","focus","cmp_block_ignoredomains","injectedFrame","autoWhiteListCookieManager","frameUrl","gleapFrameContainer","gleapFrame","updateFrameStyle","showFrameContainer","closeElement","surveyStyle","extendedStyle","surveyFullStyle","classicStyle","classicStyleLeft","modernStyleLeft","noButtonStyleLeft","allStyles","styleToApply","startCommunication","appHeight","setProperty","handler","urlHandler","innerContainer","escListener","widgetOpened","markerManager","showLoader","loadingClass","disableBGFade","disableBGGradient","updateUI","workThroughQueue","setGlobalDataItem","scrollX","scrollY","updateWidgetStatus","registerEscListener","isSurvey","updateNotificationBadge","runWidgetShouldOpenCallback","injectFrame","isWidgetOpen","resetRoutes","hideMarkerManager","reloadNotificationsFromCache","unregisterEscListener","queue","comReady","contentWindow","postMessage","getSession","getAiTools","overrideLanguage","getOverrideLanguage","GleapMarkerManager","success","workQueue","_this6","addMessageListener","GleapAudioManager","ping","showImage","ticketData","frameHeight","_data$data","startProductTour","GleapCustomActionManager","triggerCustomAction","shareToken","sendingFeedback","feedbackType","sendFeedback","reportedBy","trackEvent","showDrawingScreen","bannerUrl","listeners","appVersionCode","appBuildNumber","sessionStart","nameOffset","verOffset","ix","nAgt","browserName","appName","fullVersion","appVersion","majorVersion","OSName","browser","systemName","buildVersionNumber","releaseVersionNumber","devicePixelRatio","screenWidth","screenHeight","language","userLanguage","mobile","sdkType","environment","logArray","disabled","originalConsoleLog","logLevel","logMaxLength","addLog","origConsole","addLogWithArgs","GleapClickListener","protocol","preventDefault","handleGleapLink","elementId","elementClass","elemId","elemClass","elementTag","htmlPre","htmlPost","getDOMElementDescription","takeCurrentReplay","eventListeners","eventListener","eventName","customAction","customActionCallbacks","_a","__defProp","__publicField","__defNormalProp","__defProp$1","__publicField$1","__defNormalProp$1","NodeType$3","NodeType2","testableAccessors$1","testableMethods$1","untaintedBasePrototype$1","isAngularZonePresent$1","globalThis","Zone","getUntaintedPrototype$1","defaultObj","defaultPrototype","accessorNames","isUntaintedAccessors","accessor","_a2","_b","getOwnPropertyDescriptor","methodNames","isUntaintedMethods","iframeEl","untaintedObject","removeChild","untaintedAccessorCache$1","getUntaintedAccessor$1","untaintedPrototype","untaintedAccessor","untaintedMethodCache$1","getUntaintedMethod$1","untaintedMethod","index$1","n2","parentElement","textContent","other","getRootNode","selectors","mutationObserver","hostEl","isNativeShadowDom","shadowRoot2","stringifyStylesheet","s2","rules2","sheetHref","stringifiedRules","rule2","stringifyRule","isCSSImportRule","importStringified","statement","layerName","supportsText","escapeImportStatement","absolutifyURLs","ruleStringified","isCSSStyleRule","selectorText","cssStringified","fixSafariColons","Mirror","getId","getMeta","getNode","idNodeMap","getIds","nodeMetaMap","removeNodeFromMap","delete","hasNode","node2","meta","oldNode","maskInputValue","maskInputOptions","maskInputFn","actualType","repeat","ORIGINAL_ATTRIBUTE_NAME","getInputType","extractFileExtension","path","baseURL","pathname","URL_IN_CSS_REF","URL_PROTOCOL_MATCH","URL_WWW_MATCH","DATA_URI","quote1","path1","quote2","path2","path3","filePath","maybeQuote","extractOrigin","stack","part","normalizeCssString","markCssSplits","childNodes2","splits","cssTextNorm","i2","textContentNorm","bit","splitNorm","splitCssText","_id","tagNameRegex","IGNORED_NODE","genId","canvasService","canvasCtx","SRCSET_NOT_SPACES","SRCSET_COMMAS_OR_SPACES","cachedDocument","absoluteToDoc","attributeValue","trim","getHref","isSVGElement","ownerSVGElement","customHref","a2","transformAttribute","pos","collectCharacters","regEx","chars2","exec","output","descriptorsStr","inParens","c2","getAbsoluteSrcsetString","ignoreAttribute","_value","classMatchesRegex","checkAncestors","eIndex","needMaskingText","maskTextClass","maskTextSelector","closest","e2","serializeNode","mirror","mirror2","blockClass","blockSelector","needsMask","inlineStylesheet","maskTextFn","dataURLOptions","inlineImages","recordCanvas","keepIframeSrcFn","newlyAddedElement","cssCaptured","rootId","docId","getRootId","DOCUMENT_NODE","compatMode","Document","DOCUMENT_TYPE_NODE","DocumentType","needBlock","_isBlockedElement","HTMLFormElement","processedTagName","getValidTagName$1","attr","_cssText","sheet","selected","rr_open_mode","__context","ctx","x2","getImageData","originalGetImageData","Uint32Array","buffer","pixel","is2DCanvasBlank","rr_dataURL","quality","canvasDataURL","blankCanvas","image","imageSrc","currentSrc","priorCrossOrigin","crossOrigin","recordInlineImage","naturalWidth","naturalHeight","mediaAttributes","rr_mediaState","paused","rr_mediaCurrentTime","currentTime","rr_mediaPlaybackRate","playbackRate","rr_mediaMuted","muted","rr_mediaLoop","loop","rr_mediaVolume","volume","rr_scrollLeft","rr_scrollTop","class","rr_width","rr_height","contentDocument","rr_src","isCustomElement","customElements","isSVG","isCustom","serializeElementNode","TEXT_NODE","parentTagName","textContent2","isStyle","isScript","Text","serializeTextNode","CDATA_SECTION_NODE","CDATA","COMMENT_NODE","Comment","lowerIfExists","maybeAttr","serializeNodeWithId","skipChild","slimDOMOptions","onSerialize","onIframeLoad","iframeLoadTimeout","onStylesheetLoad","stylesheetLoadTimeout","preserveWhiteSpace","_serializedNode","sn","comment","script","as","headFavicon","headMetaDescKeywords","headMetaSocial","headMetaRobots","headMetaHttpEquiv","headMetaAuthorship","headMetaVerification","slimDOMExcluded","serializedNode","recordChild","shadowRootEl","isShadowHost","headWhitespace","bypassOptions","childN","serializedChildNode","isShadow","listener","fired","timer","blankUrl","onceIframeLoaded","iframeDoc","serializedIframeNode","link","styleSheetLoadTimeout","styleSheetLoaded","onceStylesheetLoaded","serializedLinkNode","getDefaultExportFromCjs$1","__esModule","getAugmentedNamespace$1","f2","default","a22","Reflect","construct","picocolors_browser$1","x$1","create$1","isColorSupported","bold","dim","italic","underline","inverse","hidden","strikethrough","black","red","green","yellow","blue","magenta","cyan","white","gray","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","createColors","picocolors_browserExports$1","require$$2$1","freeze","pico$1","terminalHighlight$1$1","CssSyntaxError$3$1","CssSyntaxError","line","column","source","plugin22","super","reason","plugin","endLine","endColumn","setMessage","captureStackTrace","showSourceCode","aside","lines","index2","number","gutter","spacing","code","cssSyntaxError$1","symbols$1","isClean","my","DEFAULT_RAW$1","after","beforeClose","beforeComment","beforeDecl","beforeOpen","beforeRule","colon","commentLeft","commentRight","emptyBody","indent","semicolon","Stringifier$2$1","builder","atrule","raws","afterName","nodes","block","between","beforeAfter","detect","raw","buf","depth","last","child","before","decl","string","important","own","first","root2","rawCache","walk","rawBeforeClose","rawBeforeComment","walkComments","rawBeforeDecl","walkDecls","rawBeforeOpen","rawBeforeRule","rawColon","rawEmptyBody","rawIndent","rawSemicolon","rule","ownSemicolon","stringifier$1","Stringifier$1$1","stringify$4$1","stringify_1$1","isClean$2$1","my$2$1","CssSyntaxError$2$1","Stringifier2$1","stringify$3$1","cloneNode$1","cloned","Node$4$1","defaults","addToError","postcssNode","input","insertAfter","overrides","cleanRaws","keepBetween","cloneAfter","cloneBefore","opts","rangeBy","getProxyProcessor","toProxy","markDirty","positionBy","stringRepresentation","positionInside","word","endIndex","defaultType","replaceWith","bookmark","foundSelf","result2","toJSON","inputs","fixed","emitInputs","inputsNextIndex","inputId","input2","proxyCache","Proxy","stringifier2","proxyOf","node$1","Node$3$1","Declaration$4$1","variable","declaration$1","nonSecure$1","nanoid","random","customAlphabet","alphabet","defaultSize","SourceMapConsumer","SourceMapConsumer$2$1","SourceMapGenerator","SourceMapGenerator$2$1","existsSync","existsSync$1","readFileSync","readFileSync$1","dirname","dirname$1$1","join$1","PreviousMap$2$1","loadAnnotation","inline","startWith","annotation","loadMap","mapFile","consumer","consumerCache","decodeInline","lastMatch","Buffer","atob","encoding","getAnnotationURL","sourceMapString","isMap","mappings","_mappings","sections","comments","loadFile","fromSourceMap","prevPath","withContent","sourcesContent","previousMap$1","SourceMapConsumer$1$1","SourceMapGenerator$1$1","fileURLToPath","fileURLToPath$1","pathToFileURL","pathToFileURL$1$1","isAbsolute","isAbsolute$1","resolve$1$1","nanoid$2","terminalHighlight$2","CssSyntaxError$1$1","PreviousMap$1$1","fromOffsetCache$1","sourceMapAvailable$1$1","pathAvailable$1$1","Input$4$1","hasBOM","mapResolve","fromOffset","lastLine","lineToIndex","prevIndex","l2","mid","sourceRoot","to","fromUrl","originalPositionFor","sourceContentFor","json","input$1","registerInput","SourceMapConsumer$3","SourceMapGenerator$3","dirname$2","relative","relative$1","resolve$2","sep","sep$1","pathToFileURL$2","Input$3$1","sourceMapAvailable$2","pathAvailable$2","mapGenerator$1","stringify2","cssString","mapOpts","originalCSS","usesFileUrls","absolute","memoizedFileURLs","memoizedPaths","memoizedURLs","addAnnotation","content","isInline","toBase64","outputFile","eol","applyPrevMaps","previous","toUrl","applySourceMap","clearAnnotation","generate","generateMap","generateString","ignoreInvalidMapping","addMapping","generated","original","isSourcesContent","setSourcesContent","isAnnotation","noSource","mapping","sourcePath","charCodeAt","cached","previousMaps","already","toFileUrl","setSourceContent","btoa","unescape","fileURL","Node$2$1","Comment$4$1","comment$1","parse$4$1","Rule$4$1","AtRule$4$1","Root$6$1","isClean$1$1","my$1$1","Declaration$3$1","Comment$3$1","Node$1$1","cleanSource$1","markDirtyUp$1","Container$7$1","Container","children","normalize","each","getIterator","indexes","condition","lastEach","cb","exist","existIndex","splice","sample","rebuild","prepend","unshift","removeAll","replaceValues","pattern","fast","walkAtRules","walkRules","registerParse","dependant","registerRule","registerAtRule","registerRoot","container$1","LazyResult$4$1","Processor$3$1","Container$6$1","Document$3$1","toResult","registerLazyResult","registerProcessor","document$1$1","Warning$2$1","opt","warning$1","Warning$1$1","Result$3$1","processor2","processor","messages","lastPlugin","postcssPlugin","warning2","warnings","result$1","SINGLE_QUOTE$1","DOUBLE_QUOTE$1","BACKSLASH$1","SLASH$1","NEWLINE$1","SPACE$1","FEED$1","TAB$1","CR$1","OPEN_SQUARE$1","CLOSE_SQUARE$1","OPEN_PARENTHESES$1","CLOSE_PARENTHESES$1","OPEN_CURLY$1","CLOSE_CURLY$1","SEMICOLON$1","ASTERISK$1","COLON$1","AT$1","RE_AT_END$1","RE_WORD_END$1","RE_BAD_BRACKET$1","RE_HEX_ESCAPE$1","Container$5$1","AtRule$3$1","atRule$1","LazyResult$3$1","Processor$2$1","Container$4$1","Root$5$1","ignore","root$1","list$2$1","comma","space","separators","array","current","func","inQuote","prevQuote","escape","letter","list_1$1","Container$3$1","list$1$1","Rule$3$1","sep2","rule$1","Declaration$2$1","tokenizer2$1","quote","escaped","escapePos","currentToken","valueOf","ignoreErrors","returned","unclosed","what","back","token","endOfFile","nextToken","ignoreUnclosed","controlChar","fromCharCode","lastIndex","Comment$2$1","AtRule$2$1","Root$4$1","Rule$2$1","SAFE_COMMENT_NEIGHBOR$1","empty","parser$1","spaces","createTokenizer","unnamedAtrule","init","brackets","tokenizer","getPosition","spacesAndCommentsFromEnd","spacesAndCommentsFromStart","checkMissedSemicolon","tokens","founded","doubleColon","customProperty","findLastWithPosition$1","unknownWord","firstSpaces","precheckMissedSemicolon","stringFrom","spacesFromEnd","emptyRule","unexpectedClose","endFile","unclosedBlock","freeSemicolon","bracket","unclosedBracket","clean","lastTokenType","Container$2$1","Parser2$1","Input$2$1","parse$3$1","parser2","parse_1$1","isClean$3","my$3","MapGenerator$1$1","stringify$2$1","Container$1$1","Document$2$1","Result$2$1","parse$2$1","Root$3$1","TYPE_TO_CLASS_NAME$1","PLUGIN_PROPS$1","AtRule","AtRuleExit","CommentExit","Declaration","DeclarationExit","DocumentExit","Once","OnceExit","prepare","Root","RootExit","Rule","RuleExit","NOT_VISITORS$1","CHILDREN$1","isPromise$1","getEvents$1","toStack$1","eventIndex","visitorIndex","visitors","cleanMarks$1","postcss$2$1","LazyResult$2$1","LazyResult","stringified","processed","syntax","parser","helpers","postcss","plugins","processing","runAsync","onRejected","catch","onFinally","getAsyncError","postcssVersion","prepareVisitors","version","hasListener","runOnRoot","visitTick","visitor","roots","subRoot","sync","stringifier","walkSync","visitSync","onFulfilled","visit2","registerPostcss","lazyResult$1","MapGenerator2$1","stringify$1$1","parse$1$1","Result$1$1","NoWorkResult$1$1","_processor","_css","_opts","_map","generatedCSS","generatedMap","_root","noWorkResult$1","NoWorkResult2$1","LazyResult$1$1","Document$1$1","Root$2$1","Processor$1$1","normalized","process","use","processor$1","Declaration$1$1","PreviousMap2$1","Comment$1$1","AtRule$1$1","Input$1$1","Root$1$1","Rule$1$1","fromJSON$1$1","ownInputs","inputHydrated","fromJSON_1$1","CssSyntaxError2$1","Declaration2$1","LazyResult2$1","Container2$1","Processor2$1","stringify$5","fromJSON$2","Document22","Warning2$1","Comment2$1","AtRule2$1","Result2$1","Input2$1","parse$5","list$3","Rule2$1","Root2$1","Node2$1","postcss$3","initializer","warningPrinted","creator","env","LANG","transformer","processOpts","pluginOpts","fromJSON","atRule","Processor","Warning","Result","Input","postcss_1$1","postcss$1$1","__defProp2","__publicField2","__defNormalProp2","getDefaultExportFromCjs","getAugmentedNamespace","picocolors_browser","picocolors_browserExports","require$$2","pico","terminalHighlight$1","CssSyntaxError$3","CssSyntaxError2","cssSyntaxError","symbols","DEFAULT_RAW","Stringifier$2","Stringifier$1","stringify$4","stringify_1","isClean$2","my$2","CssSyntaxError$2","Stringifier22","stringify$3","Node$4","Node$3","Declaration$4","declaration","nonSecure","SourceMapConsumer$2","SourceMapGenerator$2","dirname$1","PreviousMap$2","previousMap","SourceMapConsumer$1","SourceMapGenerator$1","pathToFileURL$1","resolve$1","terminalHighlight","CssSyntaxError$1","PreviousMap$1","fromOffsetCache","sourceMapAvailable$1","pathAvailable$1","Input$4","Input$3","sourceMapAvailable","pathAvailable","mapGenerator","Node$2","Comment$4","parse$4","Rule$4","AtRule$4","Root$6","isClean$1","my$1","Declaration$3","Comment$3","Node$1","cleanSource","markDirtyUp","Container$7","Container2","container","LazyResult$4","Processor$3","Container$6","Document$3","document$1","Warning$2","warning","Warning$1","Result$3","SINGLE_QUOTE","DOUBLE_QUOTE","BACKSLASH","SLASH","NEWLINE","SPACE","FEED","TAB","CR","OPEN_SQUARE","CLOSE_SQUARE","OPEN_PARENTHESES","CLOSE_PARENTHESES","OPEN_CURLY","CLOSE_CURLY","SEMICOLON","ASTERISK","COLON","AT","RE_AT_END","RE_WORD_END","RE_BAD_BRACKET","RE_HEX_ESCAPE","Container$5","AtRule$3","LazyResult$3","Processor$2","Container$4","Root$5","list$2","list_1","Container$3","list$1","Rule$3","Declaration$2","tokenizer22","Comment$2","AtRule$2","Root$4","Rule$2","SAFE_COMMENT_NEIGHBOR","findLastWithPosition","Container$2","Parser22","Input$2","parse$3","parse_1","MapGenerator$1","stringify$2","Container$1","Document$2","Result$2","parse$2","Root$3","TYPE_TO_CLASS_NAME","PLUGIN_PROPS","NOT_VISITORS","CHILDREN","isPromise","getEvents","toStack","cleanMarks","postcss$2","LazyResult$2","LazyResult2","lazyResult","MapGenerator22","stringify$1","parse$1","Result$1","NoWorkResult$1","noWorkResult","NoWorkResult22","LazyResult$1","Document$1","Root$2","Processor$1","Declaration$1","PreviousMap22","Comment$1","AtRule$1","Input$1","Root$1","Rule$1","fromJSON$1","fromJSON_1","CssSyntaxError22","Declaration22","LazyResult22","Container22","Processor22","Document222","Warning22","Comment22","AtRule22","Result22","Input22","Rule22","Root22","Node22","postcss_1","postcss$1","BaseRRNode","_args","childIterator","_newChild","_refChild","_node","testableAccessors","testableMethods","untaintedBasePrototype","isAngularZonePresent","getUntaintedPrototype","untaintedAccessorCache","getUntaintedAccessor","untaintedMethodCache","getUntaintedMethod","mutationObserverCtor","on","capture","DEPARTED_MIRROR_ACCESS_WARNING","_mirror","throttle","wait","leading","remaining","trailing","hookSetter","isRevoked","patch","replacement","wrapped","defineProperties","__rrweb_original__","receiver","nowTimestamp","getWindowScroll","_d","scrollingElement","getWindowHeight","getWindowWidth","closestElementOfNode","isBlocked","isIgnored","headTitleMutations","isAncestorRemoved","legacy_isTouchEvent","changedTouches","isSerializedIframe","isSerializedStylesheet","hasShadowRoot","StyleSheetMirror","styleIDMap","newId","idStyleMap","getStyle","generateId","getShadowHost","shadowHost","DOCUMENT_FRAGMENT_NODE","shadowHostInDom","rootShadowHost","getRootShadowHost","inDom","EventType","EventType2","IncrementalSource","IncrementalSource2","MouseInteractions","MouseInteractions2","PointerTypes","PointerTypes2","CanvasContext","CanvasContext2","MediaInteractions","MediaInteractions2","NodeType","isNodeInLinkedList","DoubleLinkedList","addNode","__ln","previousSibling","tail","removeNode","moveKey","parentId","MutationBuffer","processMutation","emit","frozen","locked","adds","addedIds","addList","getNextId","ns","pushAdd","parentTag","addedSet","currentN","iframeManager","addIframe","stylesheetManager","trackLinkElement","shadowDomManager","addShadowRoot","iframe","childSn","attachIframe","observeAttachShadow","attachLinkElement","mapRemoves","movedSet","isParentRemoved","removesSubTreeCache","isAncestorInSet","droppedSet","candidate","tailNode","unhandledNode","texts","genTextAreaValueMutation","attribute","diffAsStr","styleDiff","unchangedAsStr","_unchangedStyles","removes","attributeMap","movedMap","mutationCb","textarea","cn","m","oldValue","attributeName","unattachedDoc","implementation","createHTMLDocument","old","pname","newValue","getPropertyValue","newPriority","getPropertyPriority","genAdds","nodeId","isSerialized","deepDelete","n22","processRemoves","processedNodeManager","inOtherBuffer","targetId","canvasManager","unfreeze","isFrozen","lock","unlock","addsSet","_mirror2","_isParentRemoved","_isAncestorInSet","errorHandler","callbackWrapper","rest","mutationBuffers","getEventTarget","composedPath","initMutationObserver","rootEl","mutationBuffer","processMutations","attributeOldValue","characterData","characterDataOldValue","initMouseInteractionObserver","mouseInteractionCb","sampling","mouseInteraction","disableMap","handlers","currentPointerType","eventKey","pointerType","thisEventKey","Mouse","Touch","Pen","MouseDown","MouseUp","Click","clientX","clientY","getHandler","PointerEvent","TouchStart","TouchEnd","initScrollObserver","scrollCb","scrollLeftTop","INPUT_TAGS","lastInputValueMap","getNestedCSSRulePositions","childRule","hasNestedCSSRule","parentRule","CSSGroupingRule","CSSMediaRule","CSSSupportsRule","CSSConditionRule","parentStyleSheet","recurse","getIdAndStyleId","styleMirror","initAdoptedStyleSheetObserver","host2","hostId","patchTarget","originalPropertyDescriptor","_a3","sheets","adoptStyleSheets","initObservers","o2","hooks","currentWindow","mousemoveCb","viewportResizeCb","inputCb","mediaInteractionCb","styleSheetRuleCb","styleDeclarationCb","canvasMutationCb","fontCb","selectionCb","customElementCb","mousemove","viewportResize","mediaInteaction","styleSheetRule","styleDeclaration","canvasMutation","font","selection","customElement","mergeHooks","recordDOM","mousemoveHandler","callbackThreshold","mousemoveCallback","timeBaseline","positions","wrappedCb","totalOffset","timeOffset","updatePosition","DragEvent","Drag","MouseEvent","MouseMove","TouchMove","initMoveObserver","mouseInteractionHandler","scrollHandler","viewportResizeHandler","lastH","lastW","initViewportResizeObserver","inputHandler","ignoreClass","ignoreSelector","userTriggeredOnInput","eventHandler","userTriggered","isTrusted","isChecked","cbWithDedup","text2","v2","lastInputValue","propertyDescriptor","HTMLInputElement","hookProperties","HTMLSelectElement","HTMLTextAreaElement","HTMLOptionElement","initInputObserver","mediaInteractionHandler","Play","Pause","Seeked","VolumeChange","RateChange","initMediaInteractionObserver","styleSheetObserver","adoptedStyleSheetObserver","styleDeclarationObserver","fontObserver","CSSStyleSheet","insertRule","thisArg","argumentsList","addRule","styleBlock","deleteRule","replaceSync","removeRule","supportedNestedCSSRuleTypes","canMonkeyPatchNestedCSSRule","unmodifiedFunctions","typeKey","initStyleSheetObserver","ignoreCSSAttributes","CSSStyleDeclaration","removeProperty","initStyleDeclarationObserver","collectFonts","fontMap","originalFontFace","FontFace","family","descriptors","fontFace","fontSource","Uint8Array","restoreHandler","fonts","initFontObserver","selectionObserver","collapsed","updateSelection","getSelection","isCollapsed","ranges","rangeCount","getRangeAt","startContainer","startOffset","endContainer","endOffset","initSelectionObserver","customElementObserver","initCustomElementObserver","pluginHandlers","plugin3","CrossOriginIframeMirror","generateIdFn","remoteId","idToRemoteMap","remoteToIdMap","idToRemoteIdMap","getIdToRemoteIdMap","remoteIdToIdMap","getRemoteIdToIdMap","getRemoteId","getRemoteIds","ids","iframeIdToRemoteIdMap","iframeRemoteIdToIdMap","IframeManager","wrappedEmit","recordCrossOriginIframes","crossOriginIframeStyleMirror","iframes","crossOriginIframeMap","addLoadListener","loadListener","isAttachIframe","crossOriginMessageEvent","transformedEvent","transformCrossOriginEvent","isCheckout","FullSnapshot","crossOriginIframeMirror","replaceIdOnNode","crossOriginIframeRootIdMap","patchRootIdOnNode","timestamp","IncrementalSnapshot","Mutation","Meta","Load","DomContentLoaded","Plugin","Custom","replaceIds","ViewportResize","MediaInteraction","MouseInteraction","Scroll","CanvasMutation","StyleSheetRule","StyleDeclaration","replaceStyleIds","Font","Selection","AdoptedStyleSheet","styles","iframeMirror","ShadowDomManager","WeakSet","patchAttachShadow","shadowDoms","restoreHandlers","iframeElement","manager","option","sRoot","chars","lookup","i$1","canvasVarMap","saveWebGLVar","isInstanceOfWebGLObject","list2","ctor","contextMap","variableListFor$1","serializeArg","Float32Array","Float64Array","Int32Array","Uint16Array","Int16Array","Int8Array","Uint8ClampedArray","rr_type","base64","arraybuffer","bytes","DataView","byteOffset","byteLength","HTMLImageElement","ImageData","serializeArgs","supportedWebGLConstructorNames","initCanvasContextObserver","setPreserveDrawingBufferToTrue","contextType","ctxName","getNormalizedContextName","contextAttributes","preserveDrawingBuffer","patchGLPrototype","getOwnPropertyNames","recordArgs","hookHandler","setter","encodedJs","WorkerWrapper","objURL","webkitURL","worker","Worker","revokeObjectURL","CanvasManager","latestId","invokeId","rafStamps","pendingCanvasMutations","initCanvasMutationObserver","initCanvasFPSObserver","resetObservers","fps","canvasContextReset","snapshotInProgressMap","onmessage","commands","timeBetweenSnapshots","rafId","lastSnapshotTime","takeCanvasSnapshots","matchedCanvas","getCanvas","getContextAttributes","COLOR_BUFFER_BIT","bitmap","createImageBitmap","startRAFTimestamping","startPendingCanvasMutationFlusher","canvas2DReset","props2D","CanvasRenderingContext2D","initCanvas2DMutationObserver","canvasWebGL1and2Reset","WebGLRenderingContext","WebGL","WebGL2RenderingContext","WebGL2","initCanvasWebGLMutationObserver","flushPendingCanvasMutations","setLatestRAFTimestamp","_values","flushPendingCanvasMutationFor","valuesWithType","type2","StylesheetManager","adoptedStyleSheetCb","linkEl","trackedLinkElements","trackStylesheetInLinkElement","adoptedStyleSheetData","styleIds","CSSRule","r2","_linkEl","ProcessedNodeManager","thisBuffer","buffers","nodeMap","active","takeFullSnapshot$1","recording","cleanFrame","debug","record","checkoutEveryNms","checkoutEveryNth","maskAllInputs","_maskInputOptions","_slimDOMOptions","packFn","mousemoveWait","recordAfter","errorHandler2","inEmittingFrame","passEmitsToParent","month","search","tel","week","select","password","lastFullSnapshotEvent","NodeList","DOMTokenList","polyfill$1","incrementalSnapshotCount","eventProcessor","exceedCount","exceedTime","wrappedMutationEmit","wrappedScrollEmit","wrappedCanvasMutationEmit","getMirror","nodeMirror","slimDOM","snapshot","initialOffset","CustomElement","t2","addCustomEvent","tag","freezePage","takeFullSnapshot","NotStarted","Running","Stopped","customOptions","stopFunction","ContextMenu","DblClick","Focus","Blur","rrwebEvent","stringifiedData","dataURIRegex","matchAll","ensureMaxMessageSize","bufferSize","ScreenDrawer","svgElement","minHeight","mouseDown","colorpicker","fadeOutToolbar","tool","mouseDownPen","mouseDownRect","mouseMove","mouseMovePen","mouseMoveRect","mouseUp","fadeInToolbar","mouseUpPen","mouseUpRect","appendToBuffer","getMousePosition","updateSvgPath","w","abs","startPoint","setAttributeNS","createElementNS","strokeWidthRect","appendPathToSvg","strokeWidth","pt","strPath","touches","totalX","totalY","getAveragePoint","tmpPath","pathBuffer","fadeTarget","GleapScrollStopper","supportsPassive","wheelOpt","scrollDisabled","wheelEvent","preventDefaultForScrollKeys","keyCode","showWidgetUI","formKey","dirty","dialogUI","enableScroll","screenRecorder","unregisterListeners","cleanupMousePointer","screenDrawer","dialog","captureSVG","videoPreviewContainer","dismissUI","colorPicker","borderLayer","captureEditor","dragCursor","setMouseMove","mouseMoveEventHandler","touchMoveEventHandler","dragHandle","dragStart","drag","dragEnd","bugReportingEditor","translateText","pageLeaveListener","isEscape","isEnter","dismiss","showNextStep","returnValue","registerListeners","hideWidgetUI","createEditorUI","setupMousePointer","disableScroll","setupScreenRecording","captureScreenDrawerRerender","setupColorPicker","setupToolbar","selectedColor","colorItems","colorItem","hexColor","onclick","setColor","setPenColor","currentX","currentY","initialX","initialY","toolbar","isDragging","xOffset","yOffset","_getTransformValues","matrix","DOMMatrix","m41","m42","getTransformValues","nextButton","chooseTool","toolbarItem","toolbarTools","setTool","svgClone","toolbarItems","_loop2","toggleAudio","startScreenRecording","removeLastAddedPathFromSvg","itemInactiveClass","screenRecordingTooltip","audioRecordingTooltip","recordingClass","notRecordingClass","clearPreview","captureRenderer","penTips","fill","staticTranslation","staticTranslations","vars","template","localizationOptions","htmlLang","GleapShortcutListener","shortCutListener","char","keyIdentifier","ctrlKey","startFeedbackFlowWithOptions","autostartDrawing","GleapPreFillManager","unreadCount","notificationContainer","notificationsFromCache","unreadNotificationsKey","nots","notification","createdAt","notifications","renderNotifications","updateTabBarNotificationCount","sound","clearElem","currentNewsIndex","newsNotifications","news","otherNotifications","currentIndex","currentNews","newsElem","newsContainerElem","coverImageUrl","newsImageElem","stopPropagation","openNews","newsContentElem","newsTitleElem","getName","descHTML","renderDescription","descElem","paginationElem","pageIndicator","nextBtn","conversation","openConversation","checklist","openChecklist","progress","currentStep","totalSteps","nextStepTitle","sender","profileImageUrl","openNewsArticle","_notification$data","previewText","uiOnly","classLeft","classNoButton","setPlaceholder","setQuickActions","_this$config","inputElement","onMessageSend","arr1","_this$config2","manuallyHidden","aiUIContainer","isHidden","animationTimeouts","arraysEqual","updateQuickActions","quickActionsContainer","actionElement","attachShadow","addStylesToShadow","createUIInShadow","_this$config3","_this$config4","_this$config5","_this$config6","extraClasses","sendButton","setupInputListener","inputText","updateSendButtonState","question","_this$bannerUrl","_this$bannerData","_data$data2","_data$data3","_data$data4","_data$data5","_data$data6","_data$data7","_data$data8","_data$data9","_data$data10","bannerData","format","startBot","botId","startFeedbackFlow","formId","showSurvey","surveyFormat","articleId","openHelpCenterArticle","startChecklist","checklistId","bannerContainer","gleapBFrame","injectBannerUI","_listenForMessages","modalUrl","_this$modalUrl","_data$data11","modalData","primaryColor","_postMessage","modalContainer","wrapper","modalBackdropClickListener","_this2$modalData$show","_this2$modalData","showCloseButton","frame","_injectModalUI","play","settings","Audio","playPromise","getID","getClassSelectors","getClasses","cl","kCombinations","items","getNthChild","sibling","counter","getTag","isUnique","elems","getAllSelectors","attributesToIgnore","funcs","sum","getAttributes","res","testUniqueness","getFirstUnique","getUniqueCombination","combinations","getCombinations","firstUnique","combination","getUniqueSelector","selectorTypes","excludeRegex","foundSelector","elementSelectors","ID","Class","selectorType","Tag","Classes","Attributes","NthChild","unique","_step2","_options$selectorType","_options$attributesTo","_options$excludeRegex","allSelectors","parents","currentElement","getParents","_iterator2","_i","_allSelectors","ElementOverlay","overlay","background","borderColor","borderStyle","borderWidth","boxSizing","cursor","zIndex","margin","shadowContainer","_createClass","useShadowDOM","usingShadowDOM","setBounds","bounds","ElementPicker","overlayOptions","handleMouseMove","handleClick","tick","addToDOM","removeFromDOM","mouseX","mouseY","tickReq","stopImmediatePropagation","onClick","updateTarget","ignoreCursor","newTarget","elementFromPoint","captureCursor","elementFilter","onHover","GleapAdminHelper","picker","stopPicker","onElementPicked","startPicker","COLLAPSE_UI_ACTIVE_CLASS","FRAME_CONTAINER_ACTIVE_CLASS","isActive","activeClass","gleapCollapseUI","toggle","injectedCollapseUI","toggleCollapseUI","_this$configData","configData","sendMessageToTourBuilder","GleapProductTours","disable","showFeedbackButton","adminHelper","injectCollapseUI","setFrameHeight","gleapAdminDisabled","initAdminHelper","currentPage","click","opener","GleapTours","currentConfig","configure","animate","allowClose","overlayOpacity","smoothScroll","disableActiveInteraction","showProgress","stagePadding","stageRadius","popoverOffset","showButtons","disableButtons","overlayColor","getConfig","easeInOutQuad","elapsed","initialValue","amountOfChange","getFocusableElements","parentEls","focusableQuery","flatMap","parentEl","isParentFocusable","focusableEls","isElementVisible","bringInView","isElementInView","shouldSmoothScroll","scrollIntoView","behavior","hasScrollableParent","currentState","setState","getState","resetState","registeredListeners","listen","hook","trackActiveElement","activeStagePosition","renderOverlay","mountOverlay","stagePosition","overlaySvg","stage","windowX","windowY","svg","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","stagePath","generateStageSvgPathString","createOverlaySvg","onDriverClick","pathElement","stageWidth","stageHeight","limitedRadius","normalizedRadius","highlightBoxX","highlightBoxY","highlightBoxWidth","highlightBoxHeight","highlight","attemptTime","elemObj","refactoredElement","hidePopover","existingDummy","getElementById","mountDummyElement","toElement","toStep","_toStep$disableActive","fromStep","fromElement","isFirstHighlight","isToDummyElement","isFromDummyElement","isAnimatedTour","highlightStartedHook","onHighlightStarted","highlightedHook","onHighlighted","deselectedHook","onDeselected","hasDelayedPopover","isPopoverRendered","isHalfwayThrough","popover","renderPopover","fromDefinition","toDefinition","transitionStage","transferHighlight","refreshActiveHighlight","activeHighlight","activeStep","refreshOverlay","repositionPopover","requireRefresh","resizeTimeout","trapFocus","activeElement","popoverEl","firstFocusableEl","lastFocusableEl","shiftKey","previousFocusableEl","nextFocusableEl","onKeyup","shouldPreventDefault","listenerWrapper","listener2","useCapture","title","description","closeButton","footer","footerButtons","previousButton","createPopover","_ref2$nextBtnText","nextBtnText","_ref2$prevBtnText","prevBtnText","_ref2$progressText","progressText","showButtonsConfig","showProgressConfig","showFooter","disabledButtonsConfig","popoverWrapper","customPopoverClass","popoverClass","_b2","onNextClick","onPrevClick","onCloseClick","onPopoverRender","focusableElement","getPopoverDimensions","boundingClientRect","realWidth","realHeight","calculateTopForLeftRight","elementDimensions","popoverDimensions","popoverPadding","popoverArrowDimensions","calculateLeftForTopBottom","_ref3$align","align","_ref3$side","requiredAlignment","requiredSide","topValue","isTopOptimal","bottomValue","isBottomOptimal","leftValue","isLeftOptimal","rightValue","isRightOptimal","noneOptimal","popoverRenderedSide","leftToSet","topToSet","leftValue2","rightToSet","bottomToSet","popoverArrow","popoverWidth","windowWidth","elementWidth","elementLeft","popoverHeight","windowHeight","elementTop","elementHeight","arrowSide","arrowAlignment","renderPopoverArrow","moveNext","activeIndex","steps","nextStepIndex","drive","movePrevious","previousStepIndex","handleArrowLeft","handleArrowRight","_f","_g","_h","stepIndex","hasNextStep","hasPreviousStep","doneBtnText","allowsClosing","progressTextReplaced","configuredButtons","calculatedButtons","withOnDestroyStartedHook","activeOnDestroyed","onDestroyStarted","onDestroyed","destroyPopover","destroyHighlight","isActiveDummyElement","setSteps","getActiveIndex","isFirstStep","isLastStep","getActiveStep","getActiveElement","getPreviousElement","getPreviousStep","moveTo","localStorageKey","pointerContainerId","copilotJoinedContainerId","_canPlayAudio","GleapCopilotTours","_scrollListeners","_currentAnchor","_currentStep","_scrollDebounceTimer","productTourId","currentActiveIndex","productTourData","updatePointerPosition","onCompleteCallback","scrollableAncestors","getScrollableAncestors","_pointerContainer","yPosition","targetScrollPosition","scrollTo","smoothScrollToY","removeScrollListeners","pollCount","updateFinalPosition","isElementFullyVisible","targetX","targetY","containerWidthSpace","attachScrollListeners","currentAudio","pause","copilotInfoContainer","_GleapConfigManager$g","_GleapConfigManager$g2","_this$productTourData3","_this$productTourData4","_this$productTourData5","_this$productTourData6","_this$productTourData","_this$productTourData2","contrastColor","playVoice","gradient","svgMouse","infoBubble","kaiAvatar","kaiSlug","completeTour","canPlayAudio","supported","setupCopilotTour","showUnmuteModal","showAudioUnmuteModal","renderNextStep","_this$productTourData7","_this$productTourData8","_this$productTourData9","modalOverlay","modal","unmuteModalTitle","unmuteButton","unmuteModalButton","startAnywayButton","unmuteModalContinue","_this7","handleStep","gotToNextStep","_currentStep$inputTyp","proceedClickmode","storeUncompletedTour","inputType","handleInputEvent","_e$target","once","_currentStep$inputVal","inputValue","typeCharacter","wave","performClickAnimation","tempDiv","htmlToPlainText","readTime","wordCount","ceil","estimateReadTime","continueWithNoAudio","voice","elementPromise","maxAttempts","attempts","interval","waitForElement","_self$productTourData","tourType","gleapTourObj","delay","manually","validateProductTour","onComplete","comData","clearUncompletedTour","startWithConfig","unmuted","driverSteps","isClickMode","isInputMode","isInteractionMode","hasSender","videoUrl","senderHTML","firstName","driverStep","buttons","backButton","allowKeyboardControl","nextText","doneText","prevText","_config$state","onDocumentClick","popoverElement","mediaElements","performRequentialRefresh","mediaElement","playingClass","playPauseContainer","videoElement","videoContainer","clickVideo","evnt","gleapTourPopover","_evnt$target","__originalGetContext","GleapChecklist","_HTMLElement","_assertThisInitialized","_callSuper","handleChecklistUpdate","handleSessionUpdate","_networkManager","_boundFloatingLauncherClick","handleFloatingLauncherClick","_boundFloatingCloseClick","handleFloatingCloseClick","_floatingHideTimeout","_inherits","_boundHandleChecklistUpdate","_boundHandleSessionUpdate","_boundResizeHandler","handleResize","_checkSessionAndLoad","removeFloatingClickListeners","checklistData","_hasLoaded","_isSessionReady","_initialActiveSet","renderResponse","updateActiveTaskMaxHeight","loadChecklist","renderChecklist","_getGleapSessionInstance","hasChecklistId","defaultValue","translateTextWithVars","validateChecklist","_isMock","isConnected","fetchChecklist","_isInitialLoad","_this3$checklistData$","_data$outbound","completedSteps","firstIncompleteIndex","findIndex","_session$gleapId","_session$gleapHash","checkedStep","makeRequest","updateData","_this$checklistData$o3","previousCompletedSteps","dataChanged","activeStepCompleted","currentlyActiveStepIndex","_this$checklistData$o","activeStepId","_this$checklistData$o2","nextActiveStep","setActiveStep","tasks","launcher","_outbound$config","_this$checklistData","renderDoneState","progressbarEnabled","doneSteps","_outbound$config2","_outbound$config3","nextIncompleteStep","titleText","_translateWithVars","subject","subtitleText","successTitle","successMessage","circumference","PI","computedOffset","isHeader","toFixed","_outbound$sender","infoEnabled","_translate","senderHtml","progressLabel","durationLabel","isTaskDone","badge","getCheckIcon","stepTitle","stepDescription","actionButtonText","actionTitle","actionHtml","markDoneLabel","markDoneHtml","allowMarkDone","taskClasses","_outbound$config4","_outbound$config5","_outbound$config6","floatingEnabled","renderFloatingLauncher","renderInfoSection","renderProgressSection","renderTasks","addTaskEventListeners","addFloatingClickListeners","toggleTask","taskBodyInner","task","newActiveStep","markDoneBtn","_this5$checklistData","previouslyActiveStep","_this5$checklistData$","stepId","allSteps","isModalOpen","tasksModal","_this5$checklistData$2","updateChecklist","actionBtn","_this5$checklistData2","actionBody","openURL","actionOpenInNewTab","gleapError","previousActiveStep","tasksToToggle","forceOpen","taskElement","isOpen","shouldOpen","taskBody","_wrapNativeSuper","registerGleapChecklist","setOnMessageSend","askAI","offlineMode","hostname","injectNotificationUI","injectAIUI","actions","_action$data","popupType","disableInAppNotifications","showNotification","showBanner","showModal","startProductTourWithConfig","globalData","replayData","getReplayData","setTags","setUrlHandler","tools","setAiTools","updateContainerHeight","initialHeight","fixGleapHeight","checkForUncompletedTour","checkForUrlParams","urlParams","URLSearchParams","widget","conversationFlow","startConversation","feedbackFlow","surveyFlow","surveyFlowFormat","tourDelay","identifySession","updateSession","setMaxRequests","setOptions","cleanedData","formPreFill","toggleFeedbackButton","setAppVersionCode","setAppBuildNumber","setBannerUrl","setModalUrl","setTicketAttribute","unsetTicketAttribute","clearTicketAttributes","attachCustomData","setCustomData","removeCustomData","clearCustomData","playSound","showNotificationBadge","notificationInstance","setOverrideLanguage","softReInitialize","updateContact","registerCustomAction","buttonStyle","contrastButtonColor","contrastBackgroundColor","contrastHeaderColor","isDarkMode","headerDarkColor","subTextColor","backgroundColorHover","hoverHoverColor","buttonBorderRadius","containerRadius","chatRadius","formItemBorderRadius","formItemSmallBorderRadius","bottomInfoOffset","colorStyleSheet","zIndexBase","injectStyledCSS","replays","attachments","sendSilentCrashReportWithFormData","silentCrashReportSent","excludeDataCleaned","newFormData","hideBackButton","showBackButton","flow","collectionId","term","networkManager","checkStartUrl","startProductTourConfig","startURL","loadUncompletedTour","GleapActions","GLAction","urlParts","identifier","openHelpCenterCollection"],"sourceRoot":""}